function M8(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sk={exports:{}},fy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O8=Symbol.for("react.transitional.element"),V8=Symbol.for("react.fragment");function rk(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:O8,type:t,key:s,ref:e!==void 0?e:null,props:n}}fy.Fragment=V8;fy.jsx=rk;fy.jsxs=rk;sk.exports=fy;var o=sk.exports,ik={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_=Symbol.for("react.transitional.element"),L8=Symbol.for("react.portal"),U8=Symbol.for("react.fragment"),F8=Symbol.for("react.strict_mode"),z8=Symbol.for("react.profiler"),B8=Symbol.for("react.consumer"),$8=Symbol.for("react.context"),q8=Symbol.for("react.forward_ref"),H8=Symbol.for("react.suspense"),G8=Symbol.for("react.memo"),ak=Symbol.for("react.lazy"),K8=Symbol.for("react.activity"),pA=Symbol.iterator;function W8(t){return t===null||typeof t!="object"?null:(t=pA&&t[pA]||t["@@iterator"],typeof t=="function"?t:null)}var ok={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lk=Object.assign,ck={};function Ku(t,e,n){this.props=t,this.context=e,this.refs=ck,this.updater=n||ok}Ku.prototype.isReactComponent={};Ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function uk(){}uk.prototype=Ku.prototype;function I_(t,e,n){this.props=t,this.context=e,this.refs=ck,this.updater=n||ok}var C_=I_.prototype=new uk;C_.constructor=I_;lk(C_,Ku.prototype);C_.isPureReactComponent=!0;var gA=Array.isArray;function Yb(){}var Tt={H:null,A:null,T:null,S:null},dk=Object.prototype.hasOwnProperty;function j_(t,e,n){var s=n.ref;return{$$typeof:A_,type:t,key:e,ref:s!==void 0?s:null,props:n}}function Y8(t,e){return j_(t.type,e,t.props)}function R_(t){return typeof t=="object"&&t!==null&&t.$$typeof===A_}function Q8(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yA=/\/+/g;function mx(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Q8(""+t.key):e.toString(36)}function X8(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Yb,Yb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ac(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case A_:case L8:a=!0;break;case ak:return a=t._init,ac(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+mx(t,0):s,gA(r)?(n="",a!=null&&(n=a.replace(yA,"$&/")+"/"),ac(r,e,n,"",function(u){return u})):r!=null&&(R_(r)&&(r=Y8(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(yA,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=s===""?".":s+":";if(gA(t))for(var c=0;c<t.length;c++)s=t[c],i=l+mx(s,c),a+=ac(s,e,n,i,r);else if(c=W8(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=l+mx(s,c++),a+=ac(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return ac(X8(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function ep(t,e,n){if(t==null)return t;var s=[],r=0;return ac(t,s,"","",function(i){return e.call(n,i,r++)}),s}function J8(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vA=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Z8={map:ep,forEach:function(t,e,n){ep(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ep(t,function(){e++}),e},toArray:function(t){return ep(t,function(e){return e})||[]},only:function(t){if(!R_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Activity=K8;Ae.Children=Z8;Ae.Component=Ku;Ae.Fragment=U8;Ae.Profiler=z8;Ae.PureComponent=I_;Ae.StrictMode=F8;Ae.Suspense=H8;Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt;Ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Tt.H.useMemoCache(t)}};Ae.cache=function(t){return function(){return t.apply(null,arguments)}};Ae.cacheSignal=function(){return null};Ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=lk({},t.props),r=t.key;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)!dk.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(s[i]=e[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}return j_(t.type,r,s)};Ae.createContext=function(t){return t={$$typeof:$8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:B8,_context:t},t};Ae.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)dk.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return j_(t,i,r)};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:q8,render:t}};Ae.isValidElement=R_;Ae.lazy=function(t){return{$$typeof:ak,_payload:{_status:-1,_result:t},_init:J8}};Ae.memo=function(t,e){return{$$typeof:G8,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Tt.T,n={};Tt.T=n;try{var s=t(),r=Tt.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Yb,vA)}catch(i){vA(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),Tt.T=e}};Ae.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()};Ae.use=function(t){return Tt.H.use(t)};Ae.useActionState=function(t,e,n){return Tt.H.useActionState(t,e,n)};Ae.useCallback=function(t,e){return Tt.H.useCallback(t,e)};Ae.useContext=function(t){return Tt.H.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t,e){return Tt.H.useDeferredValue(t,e)};Ae.useEffect=function(t,e){return Tt.H.useEffect(t,e)};Ae.useEffectEvent=function(t){return Tt.H.useEffectEvent(t)};Ae.useId=function(){return Tt.H.useId()};Ae.useImperativeHandle=function(t,e,n){return Tt.H.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return Tt.H.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Tt.H.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Tt.H.useMemo(t,e)};Ae.useOptimistic=function(t,e){return Tt.H.useOptimistic(t,e)};Ae.useReducer=function(t,e,n){return Tt.H.useReducer(t,e,n)};Ae.useRef=function(t){return Tt.H.useRef(t)};Ae.useState=function(t){return Tt.H.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return Tt.H.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return Tt.H.useTransition()};Ae.version="19.2.0";ik.exports=Ae;var p=ik.exports;const Jt=Al(p),my=M8({__proto__:null,default:Jt},[p]);var hk={exports:{}},py={},fk={exports:{}},mk={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,q){var F=V.length;V.push(q);e:for(;0<F;){var W=F-1>>>1,ae=V[W];if(0<r(ae,q))V[W]=q,V[F]=ae,F=W;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var q=V[0],F=V.pop();if(F!==q){V[0]=F;e:for(var W=0,ae=V.length,ge=ae>>>1;W<ge;){var ze=2*(W+1)-1,Ze=V[ze],O=ze+1,Q=V[O];if(0>r(Ze,F))O<ae&&0>r(Q,Ze)?(V[W]=Q,V[O]=F,W=O):(V[W]=Ze,V[ze]=F,W=ze);else if(O<ae&&0>r(Q,F))V[W]=Q,V[O]=F,W=O;else break e}}return q}function r(V,q){var F=V.sortIndex-q.sortIndex;return F!==0?F:V.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,g=!1,y=!1,b=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function A(V){for(var q=n(u);q!==null;){if(q.callback===null)s(u);else if(q.startTime<=V)s(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function I(V){if(b=!1,A(V),!y)if(n(c)!==null)y=!0,R||(R=!0,M());else{var q=n(u);q!==null&&z(I,q.startTime-V)}}var R=!1,S=-1,T=5,C=-1;function j(){return _?!0:!(t.unstable_now()-C<T)}function P(){if(_=!1,R){var V=t.unstable_now();C=V;var q=!0;try{e:{y=!1,b&&(b=!1,x(S),S=-1),g=!0;var F=m;try{t:{for(A(V),h=n(c);h!==null&&!(h.expirationTime>V&&j());){var W=h.callback;if(typeof W=="function"){h.callback=null,m=h.priorityLevel;var ae=W(h.expirationTime<=V);if(V=t.unstable_now(),typeof ae=="function"){h.callback=ae,A(V),q=!0;break t}h===n(c)&&s(c),A(V)}else s(c);h=n(c)}if(h!==null)q=!0;else{var ge=n(u);ge!==null&&z(I,ge.startTime-V),q=!1}}break e}finally{h=null,m=F,g=!1}q=void 0}}finally{q?M():R=!1}}}var M;if(typeof E=="function")M=function(){E(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,$=k.port2;k.port1.onmessage=P,M=function(){$.postMessage(null)}}else M=function(){v(P,0)};function z(V,q){S=v(function(){V(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var F=m;m=q;try{return V()}finally{m=F}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var F=m;m=V;try{return q()}finally{m=F}},t.unstable_scheduleCallback=function(V,q,F){var W=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,V){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=F+ae,V={id:d++,callback:q,priorityLevel:V,startTime:F,expirationTime:ae,sortIndex:-1},F>W?(V.sortIndex=F,e(u,V),n(c)===null&&V===n(u)&&(b?(x(S),S=-1):b=!0,z(I,F-W))):(V.sortIndex=ae,e(c,V),y||g||(y=!0,R||(R=!0,M()))),V},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(V){var q=m;return function(){var F=m;m=q;try{return V.apply(this,arguments)}finally{m=F}}}})(mk);fk.exports=mk;var ez=fk.exports,pk={exports:{}},Xn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tz=p;function gk(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qi(){}var qn={d:{f:Qi,r:function(){throw Error(gk(522))},D:Qi,C:Qi,L:Qi,m:Qi,X:Qi,S:Qi,M:Qi},p:0,findDOMNode:null},nz=Symbol.for("react.portal");function sz(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nz,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var gh=tz.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qn;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(gk(299));return sz(t,e,null,n)};Xn.flushSync=function(t){var e=gh.T,n=qn.p;try{if(gh.T=null,qn.p=2,t)return t()}finally{gh.T=e,qn.p=n,qn.d.f()}};Xn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qn.d.C(t,e))};Xn.prefetchDNS=function(t){typeof t=="string"&&qn.d.D(t)};Xn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=gy(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&qn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Xn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=gy(e.as,e.crossOrigin);qn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qn.d.M(t)};Xn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=gy(n,e.crossOrigin);qn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Xn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=gy(e.as,e.crossOrigin);qn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qn.d.m(t)};Xn.requestFormReset=function(t){qn.d.r(t)};Xn.unstable_batchedUpdates=function(t,e){return t(e)};Xn.useFormState=function(t,e,n){return gh.H.useFormState(t,e,n)};Xn.useFormStatus=function(){return gh.H.useHostTransitionStatus()};Xn.version="19.2.0";function yk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yk)}catch(t){console.error(t)}}yk(),pk.exports=Xn;var Wf=pk.exports;const rz=Al(Wf);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cn=ez,vk=p,iz=Wf;function Y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wk(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xA(t){if(Yf(t)!==t)throw Error(Y(188))}function az(t){var e=t.alternate;if(!e){if(e=Yf(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return xA(r),t;if(i===s)return xA(r),e;i=i.sibling}throw Error(Y(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==s)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function _k(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=_k(t),e!==null)return e;t=t.sibling}return null}var St=Object.assign,oz=Symbol.for("react.element"),tp=Symbol.for("react.transitional.element"),Jd=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),Tk=Symbol.for("react.strict_mode"),Qb=Symbol.for("react.profiler"),Ek=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),P_=Symbol.for("react.forward_ref"),Xb=Symbol.for("react.suspense"),Jb=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),Zb=Symbol.for("react.activity"),lz=Symbol.for("react.memo_cache_sentinel"),bA=Symbol.iterator;function Dd(t){return t===null||typeof t!="object"?null:(t=bA&&t[bA]||t["@@iterator"],typeof t=="function"?t:null)}var cz=Symbol.for("react.client.reference");function ew(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===cz?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yc:return"Fragment";case Qb:return"Profiler";case Tk:return"StrictMode";case Xb:return"Suspense";case Jb:return"SuspenseList";case Zb:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Jd:return"Portal";case oi:return t.displayName||"Context";case Ek:return(t._context.displayName||"Context")+".Consumer";case P_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k_:return e=t.displayName||null,e!==null?e:ew(t.type)||"Memo";case aa:e=t._payload,t=t._init;try{return ew(t(e))}catch{}}return null}var Zd=Array.isArray,we=vk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Je=iz.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qo={pending:!1,data:null,method:null,action:null},tw=[],vc=-1;function Hr(t){return{current:t}}function vn(t){0>vc||(t.current=tw[vc],tw[vc]=null,vc--)}function mt(t,e){vc++,tw[vc]=t.current,t.current=e}var Pr=Hr(null),Zh=Hr(null),Na=Hr(null),jg=Hr(null);function Rg(t,e){switch(mt(Na,e),mt(Zh,t),mt(Pr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?NI(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=NI(e),t=qM(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}vn(Pr),mt(Pr,t)}function au(){vn(Pr),vn(Zh),vn(Na)}function nw(t){t.memoizedState!==null&&mt(jg,t);var e=Pr.current,n=qM(e,t.type);e!==n&&(mt(Zh,t),mt(Pr,n))}function Pg(t){Zh.current===t&&(vn(Pr),vn(Zh)),jg.current===t&&(vn(jg),df._currentValue=qo)}var px,wA;function No(t){if(px===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);px=e&&e[1]||"",wA=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+px+t+wA}var gx=!1;function yx(t,e){if(!t||gx)return"";gx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(g){var m=g}Reflect.construct(t,[],h)}else{try{h.call()}catch(g){m=g}t.call(h.prototype)}}else{try{throw Error()}catch(g){m=g}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(g){if(g&&m&&typeof g.stack=="string")return[g.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var c=a.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{gx=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?No(n):""}function uz(t,e){switch(t.tag){case 26:case 27:case 5:return No(t.type);case 16:return No("Lazy");case 13:return t.child!==e&&e!==null?No("Suspense Fallback"):No("Suspense");case 19:return No("SuspenseList");case 0:case 15:return yx(t.type,!1);case 11:return yx(t.type.render,!1);case 1:return yx(t.type,!0);case 31:return No("Activity");default:return""}}function _A(t){try{var e="",n=null;do e+=uz(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var sw=Object.prototype.hasOwnProperty,D_=cn.unstable_scheduleCallback,vx=cn.unstable_cancelCallback,dz=cn.unstable_shouldYield,hz=cn.unstable_requestPaint,Es=cn.unstable_now,fz=cn.unstable_getCurrentPriorityLevel,Sk=cn.unstable_ImmediatePriority,Nk=cn.unstable_UserBlockingPriority,kg=cn.unstable_NormalPriority,mz=cn.unstable_LowPriority,Ak=cn.unstable_IdlePriority,pz=cn.log,gz=cn.unstable_setDisableYieldValue,Qf=null,Ss=null;function xa(t){if(typeof pz=="function"&&gz(t),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(Qf,t)}catch{}}var Ns=Math.clz32?Math.clz32:xz,yz=Math.log,vz=Math.LN2;function xz(t){return t>>>=0,t===0?32:31-(yz(t)/vz|0)|0}var np=256,sp=262144,rp=4194304;function Ao(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yy(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=Ao(s):(a&=l,a!==0?r=Ao(a):n||(n=l&~t,n!==0&&(r=Ao(n))))):(l=s&~i,l!==0?r=Ao(l):a!==0?r=Ao(a):n||(n=s&~t,n!==0&&(r=Ao(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Xf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function bz(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ik(){var t=rp;return rp<<=1,!(rp&62914560)&&(rp=4194304),t}function xx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function wz(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Ns(n),h=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var g=m[d];g!==null&&(g.lane&=-536870913)}n&=~h}s!==0&&Ck(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function Ck(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ns(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function jk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ns(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Rk(t,e){var n=e&-e;return n=n&42?1:M_(n),n&(t.suspendedLanes|e)?0:n}function M_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function O_(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Pk(){var t=Je.p;return t!==0?t:(t=window.event,t===void 0?32:t4(t.type))}function TA(t,e){var n=Je.p;try{return Je.p=t,e()}finally{Je.p=n}}var lo=Math.random().toString(36).slice(2),En="__reactFiber$"+lo,ds="__reactProps$"+lo,Wu="__reactContainer$"+lo,rw="__reactEvents$"+lo,_z="__reactListeners$"+lo,Tz="__reactHandles$"+lo,EA="__reactResources$"+lo,Zf="__reactMarker$"+lo;function V_(t){delete t[En],delete t[ds],delete t[rw],delete t[_z],delete t[Tz]}function xc(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wu]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=RI(t);t!==null;){if(n=t[En])return n;t=RI(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){if(t=t[En]||t[Wu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function eh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Y(33))}function Oc(t){var e=t[EA];return e||(e=t[EA]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gn(t){t[Zf]=!0}var kk=new Set,Dk={};function Il(t,e){ou(t,e),ou(t+"Capture",e)}function ou(t,e){for(Dk[t]=e,t=0;t<e.length;t++)kk.add(e[t])}var Ez=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),SA={},NA={};function Sz(t){return sw.call(NA,t)?!0:sw.call(SA,t)?!1:Ez.test(t)?NA[t]=!0:(SA[t]=!0,!1)}function Fp(t,e,n){if(Sz(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ip(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function zs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nz(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function iw(t){if(!t._valueTracker){var e=Mk(t)?"checked":"value";t._valueTracker=Nz(t,e,""+t[e])}}function Ok(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=Mk(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Az=/[\n"\\]/g;function qs(t){return t.replace(Az,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function aw(t,e,n,s,r,i,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+zs(e)):t.value!==""+zs(e)&&(t.value=""+zs(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?ow(t,a,zs(e)):n!=null?ow(t,a,zs(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+zs(l):t.removeAttribute("name")}function Vk(t,e,n,s,r,i,a,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){iw(t);return}n=n!=null?""+zs(n):"",e=e!=null?""+zs(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),iw(t)}function ow(t,e,n){e==="number"&&Dg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Vc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+zs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Lk(t,e,n){if(e!=null&&(e=""+zs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+zs(n):""}function Uk(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(Y(92));if(Zd(s)){if(1<s.length)throw Error(Y(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=zs(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),iw(t)}function lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Iz=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function AA(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||Iz.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Fk(t,e,n){if(e!=null&&typeof e!="object")throw Error(Y(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&AA(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&AA(t,i,e[i])}function L_(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cz=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jz=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zp(t){return jz.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var lw=null;function U_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,Lc=null;function IA(t){var e=Yu(t);if(e&&(t=e.stateNode)){var n=t[ds]||null;e:switch(t=e.stateNode,e.type){case"input":if(aw(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qs(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[ds]||null;if(!r)throw Error(Y(90));aw(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&Ok(s)}break e;case"textarea":Lk(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Vc(t,!!n.multiple,e,!1)}}}var bx=!1;function zk(t,e,n){if(bx)return t(e,n);bx=!0;try{var s=t(e);return s}finally{if(bx=!1,(bc!==null||Lc!==null)&&(Cy(),bc&&(e=bc,t=Lc,Lc=bc=null,IA(e),t)))for(e=0;e<t.length;e++)IA(t[e])}}function ef(t,e){var n=t.stateNode;if(n===null)return null;var s=n[ds]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cw=!1;if(bi)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){cw=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{cw=!1}var ba=null,F_=null,Bp=null;function Bk(){if(Bp)return Bp;var t,e=F_,n=e.length,s,r="value"in ba?ba.value:ba.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return Bp=r.slice(t,1<s?1-s:void 0)}function $p(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ap(){return!0}function CA(){return!1}function hs(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ap:CA,this.isPropagationStopped=CA,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=hs(Cl),em=St({},Cl,{view:0,detail:0}),Rz=hs(em),wx,_x,Od,xy=St({},em,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:z_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Od&&(Od&&t.type==="mousemove"?(wx=t.screenX-Od.screenX,_x=t.screenY-Od.screenY):_x=wx=0,Od=t),wx)},movementY:function(t){return"movementY"in t?t.movementY:_x}}),jA=hs(xy),Pz=St({},xy,{dataTransfer:0}),kz=hs(Pz),Dz=St({},em,{relatedTarget:0}),Tx=hs(Dz),Mz=St({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),Oz=hs(Mz),Vz=St({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Lz=hs(Vz),Uz=St({},Cl,{data:0}),RA=hs(Uz),Fz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $z(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Bz[t])?!!e[t]:!1}function z_(){return $z}var qz=St({},em,{key:function(t){if(t.key){var e=Fz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$p(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:z_,charCode:function(t){return t.type==="keypress"?$p(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$p(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hz=hs(qz),Gz=St({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PA=hs(Gz),Kz=St({},em,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:z_}),Wz=hs(Kz),Yz=St({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qz=hs(Yz),Xz=St({},xy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Jz=hs(Xz),Zz=St({},Cl,{newState:0,oldState:0}),eB=hs(Zz),tB=[9,13,27,32],B_=bi&&"CompositionEvent"in window,yh=null;bi&&"documentMode"in document&&(yh=document.documentMode);var nB=bi&&"TextEvent"in window&&!yh,$k=bi&&(!B_||yh&&8<yh&&11>=yh),kA=String.fromCharCode(32),DA=!1;function qk(t,e){switch(t){case"keyup":return tB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function sB(t,e){switch(t){case"compositionend":return Hk(e);case"keypress":return e.which!==32?null:(DA=!0,kA);case"textInput":return t=e.data,t===kA&&DA?null:t;default:return null}}function rB(t,e){if(wc)return t==="compositionend"||!B_&&qk(t,e)?(t=Bk(),Bp=F_=ba=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $k&&e.locale!=="ko"?null:e.data;default:return null}}var iB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!iB[t.type]:e==="textarea"}function Gk(t,e,n,s){bc?Lc?Lc.push(s):Lc=[s]:bc=s,e=Jg(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var vh=null,tf=null;function aB(t){zM(t,0)}function by(t){var e=eh(t);if(Ok(e))return t}function OA(t,e){if(t==="change")return e}var Kk=!1;if(bi){var Ex;if(bi){var Sx="oninput"in document;if(!Sx){var VA=document.createElement("div");VA.setAttribute("oninput","return;"),Sx=typeof VA.oninput=="function"}Ex=Sx}else Ex=!1;Kk=Ex&&(!document.documentMode||9<document.documentMode)}function LA(){vh&&(vh.detachEvent("onpropertychange",Wk),tf=vh=null)}function Wk(t){if(t.propertyName==="value"&&by(tf)){var e=[];Gk(e,tf,t,U_(t)),zk(aB,e)}}function oB(t,e,n){t==="focusin"?(LA(),vh=e,tf=n,vh.attachEvent("onpropertychange",Wk)):t==="focusout"&&LA()}function lB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return by(tf)}function cB(t,e){if(t==="click")return by(e)}function uB(t,e){if(t==="input"||t==="change")return by(e)}function dB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rs=typeof Object.is=="function"?Object.is:dB;function nf(t,e){if(Rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!sw.call(e,r)||!Rs(t[r],e[r]))return!1}return!0}function UA(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FA(t,e){var n=UA(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=UA(n)}}function Yk(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yk(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Qk(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Dg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dg(t.document)}return e}function $_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var hB=bi&&"documentMode"in document&&11>=document.documentMode,_c=null,uw=null,xh=null,dw=!1;function zA(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;dw||_c==null||_c!==Dg(s)||(s=_c,"selectionStart"in s&&$_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xh&&nf(xh,s)||(xh=s,s=Jg(uw,"onSelect"),0<s.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=_c)))}function To(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tc={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},Nx={},Xk={};bi&&(Xk=document.createElement("div").style,"AnimationEvent"in window||(delete Tc.animationend.animation,delete Tc.animationiteration.animation,delete Tc.animationstart.animation),"TransitionEvent"in window||delete Tc.transitionend.transition);function jl(t){if(Nx[t])return Nx[t];if(!Tc[t])return t;var e=Tc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xk)return Nx[t]=e[n];return t}var Jk=jl("animationend"),Zk=jl("animationiteration"),eD=jl("animationstart"),fB=jl("transitionrun"),mB=jl("transitionstart"),pB=jl("transitioncancel"),tD=jl("transitionend"),nD=new Map,hw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hw.push("scrollEnd");function yr(t,e){nD.set(t,e),Il(e,[t])}var Mg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fs=[],Ec=0,q_=0;function wy(){for(var t=Ec,e=q_=Ec=0;e<t;){var n=Fs[e];Fs[e++]=null;var s=Fs[e];Fs[e++]=null;var r=Fs[e];Fs[e++]=null;var i=Fs[e];if(Fs[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&sD(n,r,i)}}function _y(t,e,n,s){Fs[Ec++]=t,Fs[Ec++]=e,Fs[Ec++]=n,Fs[Ec++]=s,q_|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function H_(t,e,n,s){return _y(t,e,n,s),Og(t)}function Rl(t,e){return _y(t,null,null,e),Og(t)}function sD(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Ns(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Og(t){if(50<Ih)throw Ih=0,kw=null,Error(Y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Sc={};function gB(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,e,n,s){return new gB(t,e,n,s)}function G_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,e){var n=t.alternate;return n===null?(n=xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function rD(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function qp(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")G_(t)&&(a=1);else if(typeof t=="string")a=w7(t,n,Pr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Zb:return t=xs(31,n,e,r),t.elementType=Zb,t.lanes=i,t;case yc:return Ho(n.children,r,i,e);case Tk:a=8,r|=24;break;case Qb:return t=xs(12,n,e,r|2),t.elementType=Qb,t.lanes=i,t;case Xb:return t=xs(13,n,e,r),t.elementType=Xb,t.lanes=i,t;case Jb:return t=xs(19,n,e,r),t.elementType=Jb,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oi:a=10;break e;case Ek:a=9;break e;case P_:a=11;break e;case k_:a=14;break e;case aa:a=16,s=null;break e}a=29,n=Error(Y(130,t===null?"null":typeof t,"")),s=null}return e=xs(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Ho(t,e,n,s){return t=xs(7,t,s,e),t.lanes=n,t}function Ax(t,e,n){return t=xs(6,t,null,e),t.lanes=n,t}function iD(t){var e=xs(18,null,null,0);return e.stateNode=t,e}function Ix(t,e,n){return e=xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var BA=new WeakMap;function Hs(t,e){if(typeof t=="object"&&t!==null){var n=BA.get(t);return n!==void 0?n:(e={value:t,source:e,stack:_A(e)},BA.set(t,e),e)}return{value:t,source:e,stack:_A(e)}}var Nc=[],Ac=0,Vg=null,sf=0,Bs=[],$s=0,$a=null,Nr=1,Ar="";function ri(t,e){Nc[Ac++]=sf,Nc[Ac++]=Vg,Vg=t,sf=e}function aD(t,e,n){Bs[$s++]=Nr,Bs[$s++]=Ar,Bs[$s++]=$a,$a=t;var s=Nr;t=Ar;var r=32-Ns(s)-1;s&=~(1<<r),n+=1;var i=32-Ns(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Nr=1<<32-Ns(e)+r|n<<r|s,Ar=i+t}else Nr=1<<i|n<<r|s,Ar=t}function K_(t){t.return!==null&&(ri(t,1),aD(t,1,0))}function W_(t){for(;t===Vg;)Vg=Nc[--Ac],Nc[Ac]=null,sf=Nc[--Ac],Nc[Ac]=null;for(;t===$a;)$a=Bs[--$s],Bs[$s]=null,Ar=Bs[--$s],Bs[$s]=null,Nr=Bs[--$s],Bs[$s]=null}function oD(t,e){Bs[$s++]=Nr,Bs[$s++]=Ar,Bs[$s++]=$a,Nr=e.id,Ar=e.overflow,$a=t}var Sn=null,bt=null,$e=!1,Aa=null,Gs=!1,fw=Error(Y(519));function qa(t){var e=Error(Y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(Hs(e,t)),fw}function $A(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[En]=t,e[ds]=s,n){case"dialog":Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":case"embed":Ve("load",e);break;case"video":case"audio":for(n=0;n<cf.length;n++)Ve(cf[n],e);break;case"source":Ve("error",e);break;case"img":case"image":case"link":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"input":Ve("invalid",e),Vk(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ve("invalid",e);break;case"textarea":Ve("invalid",e),Uk(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||$M(e.textContent,n)?(s.popover!=null&&(Ve("beforetoggle",e),Ve("toggle",e)),s.onScroll!=null&&Ve("scroll",e),s.onScrollEnd!=null&&Ve("scrollend",e),s.onClick!=null&&(e.onclick=li),e=!0):e=!1,e||qa(t,!0)}function qA(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:Sn=Sn.return}}function Wl(t){if(t!==Sn)return!1;if(!$e)return qA(t),$e=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Lw(t.type,t.memoizedProps)),n=!n),n&&bt&&qa(t),qA(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));bt=jI(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));bt=jI(t)}else e===27?(e=bt,co(t.type)?(t=Bw,Bw=null,bt=t):bt=e):bt=Sn?Xs(t.stateNode.nextSibling):null;return!0}function rl(){bt=Sn=null,$e=!1}function Cx(){var t=Aa;return t!==null&&(ss===null?ss=t:ss.push.apply(ss,t),Aa=null),t}function rf(t){Aa===null?Aa=[t]:Aa.push(t)}var mw=Hr(null),Pl=null,ci=null;function ca(t,e,n){mt(mw,e._currentValue),e._currentValue=n}function mi(t){t._currentValue=mw.current,vn(mw)}function pw(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function gw(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),pw(i.return,n,t),s||(a=null);break e}i=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(Y(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),pw(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Qu(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(Y(387));if(a=a.memoizedProps,a!==null){var l=r.type;Rs(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===jg.current){if(a=r.alternate,a===null)throw Error(Y(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(df):t=[df])}r=r.return}t!==null&&gw(e,t,n,s),e.flags|=262144}function Lg(t){for(t=t.firstContext;t!==null;){if(!Rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function il(t){Pl=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return lD(Pl,t)}function op(t,e){return Pl===null&&il(t),lD(t,e)}function lD(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(Y(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var yB=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},vB=cn.unstable_scheduleCallback,xB=cn.unstable_NormalPriority,Zt={$$typeof:oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Y_(){return{controller:new yB,data:new Map,refCount:0}}function tm(t){t.refCount--,t.refCount===0&&vB(xB,function(){t.controller.abort()})}var bh=null,yw=0,cu=0,Uc=null;function bB(t,e){if(bh===null){var n=bh=[];yw=0,cu=bT(),Uc={status:"pending",value:void 0,then:function(s){n.push(s)}}}return yw++,e.then(HA,HA),e}function HA(){if(--yw===0&&bh!==null){Uc!==null&&(Uc.status="fulfilled");var t=bh;bh=null,cu=0,Uc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function wB(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var GA=we.S;we.S=function(t,e){_M=Es(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&bB(t,e),GA!==null&&GA(t,e)};var Go=Hr(null);function Q_(){var t=Go.current;return t!==null?t:ht.pooledCache}function Hp(t,e){e===null?mt(Go,Go.current):mt(Go,e.pool)}function cD(){var t=Q_();return t===null?null:{parent:Zt._currentValue,pool:t}}var Xu=Error(Y(460)),X_=Error(Y(474)),Ty=Error(Y(542)),Ug={then:function(){}};function KA(t){return t=t.status,t==="fulfilled"||t==="rejected"}function uD(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(li,li),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,YA(t),t;default:if(typeof e.status=="string")e.then(li,li);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(Y(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,YA(t),t}throw Ko=e,Xu}}function Io(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ko=n,Xu):n}}var Ko=null;function WA(){if(Ko===null)throw Error(Y(459));var t=Ko;return Ko=null,t}function YA(t){if(t===Xu||t===Ty)throw Error(Y(483))}var Fc=null,af=0;function lp(t){var e=af;return af+=1,Fc===null&&(Fc=[]),uD(Fc,t,e)}function Vd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function cp(t,e){throw e.$$typeof===oz?Error(Y(525)):(t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function dD(t){function e(v,x){if(t){var E=v.deletions;E===null?(v.deletions=[x],v.flags|=16):E.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function s(v){for(var x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function r(v,x){return v=fi(v,x),v.index=0,v.sibling=null,v}function i(v,x,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<x?(v.flags|=67108866,x):E):(v.flags|=67108866,x)):(v.flags|=1048576,x)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function l(v,x,E,A){return x===null||x.tag!==6?(x=Ax(E,v.mode,A),x.return=v,x):(x=r(x,E),x.return=v,x)}function c(v,x,E,A){var I=E.type;return I===yc?d(v,x,E.props.children,A,E.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===aa&&Io(I)===x.type)?(x=r(x,E.props),Vd(x,E),x.return=v,x):(x=qp(E.type,E.key,E.props,null,v.mode,A),Vd(x,E),x.return=v,x)}function u(v,x,E,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=Ix(E,v.mode,A),x.return=v,x):(x=r(x,E.children||[]),x.return=v,x)}function d(v,x,E,A,I){return x===null||x.tag!==7?(x=Ho(E,v.mode,A,I),x.return=v,x):(x=r(x,E),x.return=v,x)}function h(v,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ax(""+x,v.mode,E),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case tp:return E=qp(x.type,x.key,x.props,null,v.mode,E),Vd(E,x),E.return=v,E;case Jd:return x=Ix(x,v.mode,E),x.return=v,x;case aa:return x=Io(x),h(v,x,E)}if(Zd(x)||Dd(x))return x=Ho(x,v.mode,E,null),x.return=v,x;if(typeof x.then=="function")return h(v,lp(x),E);if(x.$$typeof===oi)return h(v,op(v,x),E);cp(v,x)}return null}function m(v,x,E,A){var I=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return I!==null?null:l(v,x,""+E,A);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:return E.key===I?c(v,x,E,A):null;case Jd:return E.key===I?u(v,x,E,A):null;case aa:return E=Io(E),m(v,x,E,A)}if(Zd(E)||Dd(E))return I!==null?null:d(v,x,E,A,null);if(typeof E.then=="function")return m(v,x,lp(E),A);if(E.$$typeof===oi)return m(v,x,op(v,E),A);cp(v,E)}return null}function g(v,x,E,A,I){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return v=v.get(E)||null,l(x,v,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tp:return v=v.get(A.key===null?E:A.key)||null,c(x,v,A,I);case Jd:return v=v.get(A.key===null?E:A.key)||null,u(x,v,A,I);case aa:return A=Io(A),g(v,x,E,A,I)}if(Zd(A)||Dd(A))return v=v.get(E)||null,d(x,v,A,I,null);if(typeof A.then=="function")return g(v,x,E,lp(A),I);if(A.$$typeof===oi)return g(v,x,E,op(x,A),I);cp(x,A)}return null}function y(v,x,E,A){for(var I=null,R=null,S=x,T=x=0,C=null;S!==null&&T<E.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var j=m(v,S,E[T],A);if(j===null){S===null&&(S=C);break}t&&S&&j.alternate===null&&e(v,S),x=i(j,x,T),R===null?I=j:R.sibling=j,R=j,S=C}if(T===E.length)return n(v,S),$e&&ri(v,T),I;if(S===null){for(;T<E.length;T++)S=h(v,E[T],A),S!==null&&(x=i(S,x,T),R===null?I=S:R.sibling=S,R=S);return $e&&ri(v,T),I}for(S=s(S);T<E.length;T++)C=g(S,v,T,E[T],A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),x=i(C,x,T),R===null?I=C:R.sibling=C,R=C);return t&&S.forEach(function(P){return e(v,P)}),$e&&ri(v,T),I}function b(v,x,E,A){if(E==null)throw Error(Y(151));for(var I=null,R=null,S=x,T=x=0,C=null,j=E.next();S!==null&&!j.done;T++,j=E.next()){S.index>T?(C=S,S=null):C=S.sibling;var P=m(v,S,j.value,A);if(P===null){S===null&&(S=C);break}t&&S&&P.alternate===null&&e(v,S),x=i(P,x,T),R===null?I=P:R.sibling=P,R=P,S=C}if(j.done)return n(v,S),$e&&ri(v,T),I;if(S===null){for(;!j.done;T++,j=E.next())j=h(v,j.value,A),j!==null&&(x=i(j,x,T),R===null?I=j:R.sibling=j,R=j);return $e&&ri(v,T),I}for(S=s(S);!j.done;T++,j=E.next())j=g(S,v,T,j.value,A),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?T:j.key),x=i(j,x,T),R===null?I=j:R.sibling=j,R=j);return t&&S.forEach(function(M){return e(v,M)}),$e&&ri(v,T),I}function _(v,x,E,A){if(typeof E=="object"&&E!==null&&E.type===yc&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:e:{for(var I=E.key;x!==null;){if(x.key===I){if(I=E.type,I===yc){if(x.tag===7){n(v,x.sibling),A=r(x,E.props.children),A.return=v,v=A;break e}}else if(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===aa&&Io(I)===x.type){n(v,x.sibling),A=r(x,E.props),Vd(A,E),A.return=v,v=A;break e}n(v,x);break}else e(v,x);x=x.sibling}E.type===yc?(A=Ho(E.props.children,v.mode,A,E.key),A.return=v,v=A):(A=qp(E.type,E.key,E.props,null,v.mode,A),Vd(A,E),A.return=v,v=A)}return a(v);case Jd:e:{for(I=E.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){n(v,x.sibling),A=r(x,E.children||[]),A.return=v,v=A;break e}else{n(v,x);break}else e(v,x);x=x.sibling}A=Ix(E,v.mode,A),A.return=v,v=A}return a(v);case aa:return E=Io(E),_(v,x,E,A)}if(Zd(E))return y(v,x,E,A);if(Dd(E)){if(I=Dd(E),typeof I!="function")throw Error(Y(150));return E=I.call(E),b(v,x,E,A)}if(typeof E.then=="function")return _(v,x,lp(E),A);if(E.$$typeof===oi)return _(v,x,op(v,E),A);cp(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,x!==null&&x.tag===6?(n(v,x.sibling),A=r(x,E),A.return=v,v=A):(n(v,x),A=Ax(E,v.mode,A),A.return=v,v=A),a(v)):n(v,x)}return function(v,x,E,A){try{af=0;var I=_(v,x,E,A);return Fc=null,I}catch(S){if(S===Xu||S===Ty)throw S;var R=xs(29,S,null,v.mode);return R.lanes=A,R.return=v,R}finally{}}}var al=dD(!0),hD=dD(!1),oa=!1;function J_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Xe&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Og(t),sD(t,null,n),e}return _y(t,s,e,n),Og(t)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,jk(t,n)}}function jx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var xw=!1;function _h(){if(xw){var t=Uc;if(t!==null)throw t}}function Th(t,e,n,s){xw=!1;var r=t.updateQueue;oa=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,g=m!==l.lane;if(g?(Fe&m)===m:(s&m)===m){m!==0&&m===cu&&(xw=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=t,b=l;m=e;var _=n;switch(b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(_,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(_,h,m):y,m==null)break e;h=St({},h,m);break e;case 2:oa=!0}}m=l.callback,m!==null&&(t.flags|=64,g&&(t.flags|=8192),g=r.callbacks,g===null?r.callbacks=[m]:g.push(m))}else g={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=g,c=h):d=d.next=g,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;g=l,l=g.next,g.next=null,r.lastBaseUpdate=g,r.shared.pending=null}}while(1);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Ga|=a,t.lanes=a,t.memoizedState=h}}function fD(t,e){if(typeof t!="function")throw Error(Y(191,t));t.call(e)}function mD(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)fD(n[t],e)}var uu=Hr(null),Fg=Hr(0);function QA(t,e){t=Ei,mt(Fg,t),mt(uu,e),Ei=t|e.baseLanes}function bw(){mt(Fg,Ei),mt(uu,uu.current)}function Z_(){Ei=Fg.current,vn(uu),vn(Fg)}var Ps=Hr(null),Qs=null;function ua(t){var e=t.alternate;mt($t,$t.current&1),mt(Ps,t),Qs===null&&(e===null||uu.current!==null||e.memoizedState!==null)&&(Qs=t)}function ww(t){mt($t,$t.current),mt(Ps,t),Qs===null&&(Qs=t)}function pD(t){t.tag===22?(mt($t,$t.current),mt(Ps,t),Qs===null&&(Qs=t)):da()}function da(){mt($t,$t.current),mt(Ps,Ps.current)}function ys(t){vn(Ps),Qs===t&&(Qs=null),vn($t)}var $t=Hr(0);function zg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Fw(n)||zw(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Ie=null,it=null,Wt=null,Bg=!1,zc=!1,ol=!1,$g=0,of=0,Bc=null,_B=0;function Dt(){throw Error(Y(321))}function eT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rs(t[n],e[n]))return!1;return!0}function tT(t,e,n,s,r,i){return wi=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,we.H=t===null||t.memoizedState===null?GD:hT,ol=!1,i=n(s,r),ol=!1,zc&&(i=yD(e,n,s,r)),gD(t),i}function gD(t){we.H=lf;var e=it!==null&&it.next!==null;if(wi=0,Wt=it=Ie=null,Bg=!1,of=0,Bc=null,e)throw Error(Y(300));t===null||en||(t=t.dependencies,t!==null&&Lg(t)&&(en=!0))}function yD(t,e,n,s){Ie=t;var r=0;do{if(zc&&(Bc=null),of=0,zc=!1,25<=r)throw Error(Y(301));if(r+=1,Wt=it=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}we.H=KD,i=e(n,s)}while(zc);return i}function TB(){var t=we.H,e=t.useState()[0];return e=typeof e.then=="function"?nm(e):e,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),e}function nT(){var t=$g!==0;return $g=0,t}function sT(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function rT(t){if(Bg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Bg=!1}wi=0,Wt=it=Ie=null,zc=!1,of=$g=0,Bc=null}function Fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?Ie.memoizedState=Wt=t:Wt=Wt.next=t,Wt}function qt(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var e=Wt===null?Ie.memoizedState:Wt.next;if(e!==null)Wt=e,it=t;else{if(t===null)throw Ie.alternate===null?Error(Y(467)):Error(Y(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Wt===null?Ie.memoizedState=Wt=t:Wt=Wt.next=t}return Wt}function Ey(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nm(t){var e=of;return of+=1,Bc===null&&(Bc=[]),t=uD(Bc,t,e),e=Ie,(Wt===null?e.memoizedState:Wt.next)===null&&(e=e.alternate,we.H=e===null||e.memoizedState===null?GD:hT),t}function Sy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nm(t);if(t.$$typeof===oi)return Nn(t)}throw Error(Y(438,String(t)))}function iT(t){var e=null,n=Ie.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ie.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ey(),Ie.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=lz;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=qt();return aT(e,it,t)}function aT(t,e,n){var s=t.queue;if(s===null)throw Error(Y(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Fe&h)===h:(wi&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===cu&&(d=!0);else if((wi&m)===m){u=u.next,m===cu&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,a=i):c=c.next=h,Ie.lanes|=m,Ga|=m;h=u.action,ol&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,a=i):c=c.next=m,Ie.lanes|=h,Ga|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=l,!Rs(i,t.memoizedState)&&(en=!0,d&&(n=Uc,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Rx(t){var e=qt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Rs(i,e.memoizedState)||(en=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function vD(t,e,n){var s=Ie,r=qt(),i=$e;if(i){if(n===void 0)throw Error(Y(407));n=n()}else n=e();var a=!Rs((it||r).memoizedState,n);if(a&&(r.memoizedState=n,en=!0),r=r.queue,oT(wD.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Wt!==null&&Wt.memoizedState.tag&1){if(s.flags|=2048,du(9,{destroy:void 0},bD.bind(null,s,r,n,e),null),ht===null)throw Error(Y(349));i||wi&127||xD(s,e,n)}return n}function xD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e=Ey(),Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function bD(t,e,n,s){e.value=n,e.getSnapshot=s,_D(e)&&TD(t)}function wD(t,e,n){return n(function(){_D(e)&&TD(t)})}function _D(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rs(t,n)}catch{return!0}}function TD(t){var e=Rl(t,2);e!==null&&cs(e,t,2)}function _w(t){var e=Fn();if(typeof t=="function"){var n=t;if(t=n(),ol){xa(!0);try{n()}finally{xa(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function ED(t,e,n,s){return t.baseState=n,aT(t,it,typeof s=="function"?s:_i)}function EB(t,e,n,s,r){if(Ay(t))throw Error(Y(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};we.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,SD(e,i)):(i.next=n.next,e.pending=n.next=i)}}function SD(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=we.T,a={};we.T=a;try{var l=n(r,s),c=we.S;c!==null&&c(a,l),XA(t,e,l)}catch(u){Tw(t,e,u)}finally{i!==null&&a.types!==null&&(i.types=a.types),we.T=i}}else try{i=n(r,s),XA(t,e,i)}catch(u){Tw(t,e,u)}}function XA(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){JA(t,e,s)},function(s){return Tw(t,e,s)}):JA(t,e,n)}function JA(t,e,n){e.status="fulfilled",e.value=n,ND(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,SD(t,n)))}function Tw(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,ND(e),e=e.next;while(e!==s)}t.action=null}function ND(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function AD(t,e){return e}function ZA(t,e){if($e){var n=ht.formState;if(n!==null){e:{var s=Ie;if($e){if(bt){t:{for(var r=bt,i=Gs;r.nodeType!==8;){if(!i){r=null;break t}if(r=Xs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){bt=Xs(r.nextSibling),s=r.data==="F!";break e}}qa(s)}s=!1}s&&(e=n[0])}}return n=Fn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:AD,lastRenderedState:e},n.queue=s,n=$D.bind(null,Ie,s),s.dispatch=n,s=_w(!1),i=dT.bind(null,Ie,!1,s.queue),s=Fn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=EB.bind(null,Ie,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function eI(t){var e=qt();return ID(e,it,t)}function ID(t,e,n){if(e=aT(t,e,AD)[0],t=Gp(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=nm(e)}catch(a){throw a===Xu?Ty:a}else s=e;e=qt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Ie.flags|=2048,du(9,{destroy:void 0},SB.bind(null,r,n),null)),[s,i,t]}function SB(t,e){t.action=e}function tI(t){var e=qt(),n=it;if(n!==null)return ID(e,n,t);qt(),e=e.memoizedState,n=qt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function du(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ie.updateQueue,e===null&&(e=Ey(),Ie.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function CD(){return qt().memoizedState}function Kp(t,e,n,s){var r=Fn();Ie.flags|=t,r.memoizedState=du(1|e,{destroy:void 0},n,s===void 0?null:s)}function Ny(t,e,n,s){var r=qt();s=s===void 0?null:s;var i=r.memoizedState.inst;it!==null&&s!==null&&eT(s,it.memoizedState.deps)?r.memoizedState=du(e,i,n,s):(Ie.flags|=t,r.memoizedState=du(1|e,i,n,s))}function nI(t,e){Kp(8390656,8,t,e)}function oT(t,e){Ny(2048,8,t,e)}function NB(t){Ie.flags|=4;var e=Ie.updateQueue;if(e===null)e=Ey(),Ie.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function jD(t){var e=qt().memoizedState;return NB({ref:e,nextImpl:t}),function(){if(Xe&2)throw Error(Y(440));return e.impl.apply(void 0,arguments)}}function RD(t,e){return Ny(4,2,t,e)}function PD(t,e){return Ny(4,4,t,e)}function kD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DD(t,e,n){n=n!=null?n.concat([t]):null,Ny(4,4,kD.bind(null,e,t),n)}function lT(){}function MD(t,e){var n=qt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&eT(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function OD(t,e){var n=qt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&eT(e,s[1]))return s[0];if(s=t(),ol){xa(!0);try{t()}finally{xa(!1)}}return n.memoizedState=[s,e],s}function cT(t,e,n){return n===void 0||wi&1073741824&&!(Fe&261930)?t.memoizedState=e:(t.memoizedState=n,t=EM(),Ie.lanes|=t,Ga|=t,n)}function VD(t,e,n,s){return Rs(n,e)?n:uu.current!==null?(t=cT(t,n,s),Rs(t,e)||(en=!0),t):!(wi&42)||wi&1073741824&&!(Fe&261930)?(en=!0,t.memoizedState=n):(t=EM(),Ie.lanes|=t,Ga|=t,e)}function LD(t,e,n,s,r){var i=Je.p;Je.p=i!==0&&8>i?i:8;var a=we.T,l={};we.T=l,dT(t,!1,e,n);try{var c=r(),u=we.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=wB(c,s);Eh(t,e,d,As(t))}else Eh(t,e,s,As(t))}catch(h){Eh(t,e,{then:function(){},status:"rejected",reason:h},As())}finally{Je.p=i,a!==null&&l.types!==null&&(a.types=l.types),we.T=a}}function AB(){}function Ew(t,e,n,s){if(t.tag!==5)throw Error(Y(476));var r=UD(t).queue;LD(t,r,e,qo,n===null?AB:function(){return FD(t),n(s)})}function UD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:qo,baseState:qo,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:qo},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function FD(t){var e=UD(t);e.next===null&&(e=t.alternate.memoizedState),Eh(t,e.next.queue,{},As())}function uT(){return Nn(df)}function zD(){return qt().memoizedState}function BD(){return qt().memoizedState}function IB(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=As();t=Ia(n);var s=Ca(e,t,n);s!==null&&(cs(s,e,n),wh(s,e,n)),e={cache:Y_()},t.payload=e;return}e=e.return}}function CB(t,e,n){var s=As();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ay(t)?qD(e,n):(n=H_(t,e,n,s),n!==null&&(cs(n,t,s),HD(n,e,s)))}function $D(t,e,n){var s=As();Eh(t,e,n,s)}function Eh(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ay(t))qD(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,Rs(l,a))return _y(t,e,r,0),ht===null&&wy(),!1}catch{}finally{}if(n=H_(t,e,r,s),n!==null)return cs(n,t,s),HD(n,e,s),!0}return!1}function dT(t,e,n,s){if(s={lane:2,revertLane:bT(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ay(t)){if(e)throw Error(Y(479))}else e=H_(t,n,s,2),e!==null&&cs(e,t,2)}function Ay(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function qD(t,e){zc=Bg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HD(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,jk(t,n)}}var lf={readContext:Nn,use:Sy,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useLayoutEffect:Dt,useInsertionEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useSyncExternalStore:Dt,useId:Dt,useHostTransitionStatus:Dt,useFormState:Dt,useActionState:Dt,useOptimistic:Dt,useMemoCache:Dt,useCacheRefresh:Dt};lf.useEffectEvent=Dt;var GD={readContext:Nn,use:Sy,useCallback:function(t,e){return Fn().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:nI,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Kp(4194308,4,kD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kp(4194308,4,t,e)},useInsertionEffect:function(t,e){Kp(4,2,t,e)},useMemo:function(t,e){var n=Fn();e=e===void 0?null:e;var s=t();if(ol){xa(!0);try{t()}finally{xa(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Fn();if(n!==void 0){var r=n(e);if(ol){xa(!0);try{n(e)}finally{xa(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=CB.bind(null,Ie,t),[s.memoizedState,t]},useRef:function(t){var e=Fn();return t={current:t},e.memoizedState=t},useState:function(t){t=_w(t);var e=t.queue,n=$D.bind(null,Ie,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:lT,useDeferredValue:function(t,e){var n=Fn();return cT(n,t,e)},useTransition:function(){var t=_w(!1);return t=LD.bind(null,Ie,t.queue,!0,!1),Fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ie,r=Fn();if($e){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),ht===null)throw Error(Y(349));Fe&127||xD(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,nI(wD.bind(null,s,i,t),[t]),s.flags|=2048,du(9,{destroy:void 0},bD.bind(null,s,i,n,e),null),n},useId:function(){var t=Fn(),e=ht.identifierPrefix;if($e){var n=Ar,s=Nr;n=(s&~(1<<32-Ns(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=$g++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=_B++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:uT,useFormState:ZA,useActionState:ZA,useOptimistic:function(t){var e=Fn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=dT.bind(null,Ie,!0,n),n.dispatch=e,[t,e]},useMemoCache:iT,useCacheRefresh:function(){return Fn().memoizedState=IB.bind(null,Ie)},useEffectEvent:function(t){var e=Fn(),n={impl:t};return e.memoizedState=n,function(){if(Xe&2)throw Error(Y(440));return n.impl.apply(void 0,arguments)}}},hT={readContext:Nn,use:Sy,useCallback:MD,useContext:Nn,useEffect:oT,useImperativeHandle:DD,useInsertionEffect:RD,useLayoutEffect:PD,useMemo:OD,useReducer:Gp,useRef:CD,useState:function(){return Gp(_i)},useDebugValue:lT,useDeferredValue:function(t,e){var n=qt();return VD(n,it.memoizedState,t,e)},useTransition:function(){var t=Gp(_i)[0],e=qt().memoizedState;return[typeof t=="boolean"?t:nm(t),e]},useSyncExternalStore:vD,useId:zD,useHostTransitionStatus:uT,useFormState:eI,useActionState:eI,useOptimistic:function(t,e){var n=qt();return ED(n,it,t,e)},useMemoCache:iT,useCacheRefresh:BD};hT.useEffectEvent=jD;var KD={readContext:Nn,use:Sy,useCallback:MD,useContext:Nn,useEffect:oT,useImperativeHandle:DD,useInsertionEffect:RD,useLayoutEffect:PD,useMemo:OD,useReducer:Rx,useRef:CD,useState:function(){return Rx(_i)},useDebugValue:lT,useDeferredValue:function(t,e){var n=qt();return it===null?cT(n,t,e):VD(n,it.memoizedState,t,e)},useTransition:function(){var t=Rx(_i)[0],e=qt().memoizedState;return[typeof t=="boolean"?t:nm(t),e]},useSyncExternalStore:vD,useId:zD,useHostTransitionStatus:uT,useFormState:tI,useActionState:tI,useOptimistic:function(t,e){var n=qt();return it!==null?ED(n,it,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:iT,useCacheRefresh:BD};KD.useEffectEvent=jD;function Px(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sw={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=As(),r=Ia(s);r.payload=e,n!=null&&(r.callback=n),e=Ca(t,r,s),e!==null&&(cs(e,t,s),wh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=As(),r=Ia(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ca(t,r,s),e!==null&&(cs(e,t,s),wh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=As(),s=Ia(n);s.tag=2,e!=null&&(s.callback=e),e=Ca(t,s,n),e!==null&&(cs(e,t,n),wh(e,t,n))}};function sI(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!nf(n,s)||!nf(r,i):!0}function rI(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Sw.enqueueReplaceState(e,e.state,null)}function ll(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=St({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function WD(t){Mg(t)}function YD(t){console.error(t)}function QD(t){Mg(t)}function qg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function iI(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Nw(t,e,n){return n=Ia(n),n.tag=3,n.payload={element:null},n.callback=function(){qg(t,e)},n}function XD(t){return t=Ia(t),t.tag=3,t}function JD(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){iI(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){iI(e,n,s),typeof r!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function jB(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Qu(e,n,r,!0),n=Ps.current,n!==null){switch(n.tag){case 31:case 13:return Qs===null?Yg():n.alternate===null&&Vt===0&&(Vt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Ug?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),$x(t,s,r)),!1;case 22:return n.flags|=65536,s===Ug?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),$x(t,s,r)),!1}throw Error(Y(435,n.tag))}return $x(t,s,r),Yg(),!1}if($e)return e=Ps.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==fw&&(t=Error(Y(422),{cause:s}),rf(Hs(t,n)))):(s!==fw&&(e=Error(Y(423),{cause:s}),rf(Hs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Hs(s,n),r=Nw(t.stateNode,s,r),jx(t,r),Vt!==4&&(Vt=2)),!1;var i=Error(Y(520),{cause:s});if(i=Hs(i,n),Ah===null?Ah=[i]:Ah.push(i),Vt!==4&&(Vt=2),e===null)return!0;s=Hs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Nw(n.stateNode,s,t),jx(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ja===null||!ja.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=XD(r),JD(r,t,n,s),jx(n,r),!1}n=n.return}while(n!==null);return!1}var fT=Error(Y(461)),en=!1;function wn(t,e,n,s){e.child=t===null?hD(e,null,n,s):al(e,t.child,n,s)}function aI(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return il(e),s=tT(t,e,n,a,i,r),l=nT(),t!==null&&!en?(sT(t,e,r),Ti(t,e,r)):($e&&l&&K_(e),e.flags|=1,wn(t,e,s,r),e.child)}function oI(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!G_(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,ZD(t,e,i,s,r)):(t=qp(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!mT(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:nf,n(a,s)&&t.ref===e.ref)return Ti(t,e,r)}return e.flags|=1,t=fi(i,s),t.ref=e.ref,t.return=e,e.child=t}function ZD(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(nf(i,s)&&t.ref===e.ref)if(en=!1,e.pendingProps=s=i,mT(t,r))t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Ti(t,e,r)}return Aw(t,e,n,s,r)}function eM(t,e,n,s){var r=s.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,e.child=null;return lI(t,e,i,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hp(e,i!==null?i.cachePool:null),i!==null?QA(e,i):bw(),pD(e);else return s=e.lanes=536870912,lI(t,e,i!==null?i.baseLanes|n:n,n,s)}else i!==null?(Hp(e,i.cachePool),QA(e,i),da(),e.memoizedState=null):(t!==null&&Hp(e,null),bw(),da());return wn(t,e,r,n),e.child}function th(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function lI(t,e,n,s,r){var i=Q_();return i=i===null?null:{parent:Zt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Hp(e,null),bw(),pD(e),t!==null&&Qu(t,e,s,!0),e.childLanes=r,null}function Wp(t,e){return e=Hg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function cI(t,e,n){return al(e,t.child,null,n),t=Wp(e,e.pendingProps),t.flags|=2,ys(e),e.memoizedState=null,t}function RB(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if($e){if(s.mode==="hidden")return t=Wp(e,s),e.lanes=536870912,th(null,t);if(ww(e),(t=bt)?(t=GM(t,Gs),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Nr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},n=iD(t),n.return=e,e.child=n,Sn=e,bt=null)):t=null,t===null)throw qa(e);return e.lanes=536870912,null}return Wp(e,s)}var i=t.memoizedState;if(i!==null){var a=i.dehydrated;if(ww(e),r)if(e.flags&256)e.flags&=-257,e=cI(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Y(558));else if(en||Qu(t,e,n,!1),r=(n&t.childLanes)!==0,en||r){if(s=ht,s!==null&&(a=Rk(s,n),a!==0&&a!==i.retryLane))throw i.retryLane=a,Rl(t,a),cs(s,t,a),fT;Yg(),e=cI(t,e,n)}else t=i.treeContext,bt=Xs(a.nextSibling),Sn=e,$e=!0,Aa=null,Gs=!1,t!==null&&oD(e,t),e=Wp(e,s),e.flags|=4096;return e}return t=fi(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yp(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Aw(t,e,n,s,r){return il(e),n=tT(t,e,n,s,void 0,r),s=nT(),t!==null&&!en?(sT(t,e,r),Ti(t,e,r)):($e&&s&&K_(e),e.flags|=1,wn(t,e,n,r),e.child)}function uI(t,e,n,s,r,i){return il(e),e.updateQueue=null,n=yD(e,s,n,r),gD(t),s=nT(),t!==null&&!en?(sT(t,e,i),Ti(t,e,i)):($e&&s&&K_(e),e.flags|=1,wn(t,e,n,i),e.child)}function dI(t,e,n,s,r){if(il(e),e.stateNode===null){var i=Sc,a=n.contextType;typeof a=="object"&&a!==null&&(i=Nn(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Sw,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},J_(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?Nn(a):Sc,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Px(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&Sw.enqueueReplaceState(i,i.state,null),Th(e,s,i,r),_h(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,c=ll(n,l);i.props=c;var u=i.context,d=n.contextType;a=Sc,typeof d=="object"&&d!==null&&(a=Nn(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==a)&&rI(e,i,s,a),oa=!1;var m=e.memoizedState;i.state=m,Th(e,s,i,r),_h(),u=e.memoizedState,l||m!==u||oa?(typeof h=="function"&&(Px(e,n,h,s),u=e.memoizedState),(c=oa||sI(e,n,c,s,m,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,vw(t,e),a=e.memoizedProps,d=ll(n,a),i.props=d,h=e.pendingProps,m=i.context,u=n.contextType,c=Sc,typeof u=="object"&&u!==null&&(c=Nn(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==c)&&rI(e,i,s,c),oa=!1,m=e.memoizedState,i.state=m,Th(e,s,i,r),_h();var g=e.memoizedState;a!==h||m!==g||oa||t!==null&&t.dependencies!==null&&Lg(t.dependencies)?(typeof l=="function"&&(Px(e,n,l,s),g=e.memoizedState),(d=oa||sI(e,n,d,s,m,g,c)||t!==null&&t.dependencies!==null&&Lg(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,g,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,g,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),i.props=s,i.state=g,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,Yp(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=al(e,t.child,null,r),e.child=al(e,null,n,r)):wn(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Ti(t,e,r),t}function hI(t,e,n,s){return rl(),e.flags|=256,wn(t,e,n,s),e.child}var kx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Dx(t){return{baseLanes:t,cachePool:cD()}}function Mx(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=_s),t}function tM(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:($t.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if($e){if(r?ua(e):da(),(t=bt)?(t=GM(t,Gs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Nr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},n=iD(t),n.return=e,e.child=n,Sn=e,bt=null)):t=null,t===null)throw qa(e);return zw(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,r?(da(),r=e.mode,l=Hg({mode:"hidden",children:l},r),s=Ho(s,r,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=Dx(n),s.childLanes=Mx(t,a,n),e.memoizedState=kx,th(null,s)):(ua(e),Iw(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)e.flags&256?(ua(e),e.flags&=-257,e=Ox(t,e,n)):e.memoizedState!==null?(da(),e.child=t.child,e.flags|=128,e=null):(da(),l=s.fallback,r=e.mode,s=Hg({mode:"visible",children:s.children},r),l=Ho(l,r,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,al(e,t.child,null,n),s=e.child,s.memoizedState=Dx(n),s.childLanes=Mx(t,a,n),e.memoizedState=kx,e=th(null,s));else if(ua(e),zw(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error(Y(419)),s.stack="",s.digest=a,rf({value:s,source:null,stack:null}),e=Ox(t,e,n)}else if(en||Qu(t,e,n,!1),a=(n&t.childLanes)!==0,en||a){if(a=ht,a!==null&&(s=Rk(a,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Rl(t,s),cs(a,t,s),fT;Fw(l)||Yg(),e=Ox(t,e,n)}else Fw(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,bt=Xs(l.nextSibling),Sn=e,$e=!0,Aa=null,Gs=!1,t!==null&&oD(e,t),e=Iw(e,s.children),e.flags|=4096);return e}return r?(da(),l=s.fallback,r=e.mode,c=t.child,u=c.sibling,s=fi(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=fi(u,l):(l=Ho(l,r,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,th(null,s),s=e.child,l=t.child.memoizedState,l===null?l=Dx(n):(r=l.cachePool,r!==null?(c=Zt._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=cD(),l={baseLanes:l.baseLanes|n,cachePool:r}),s.memoizedState=l,s.childLanes=Mx(t,a,n),e.memoizedState=kx,th(t.child,s)):(ua(e),n=t.child,t=n.sibling,n=fi(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Iw(t,e){return e=Hg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hg(t,e){return t=xs(22,t,null,e),t.lanes=0,t}function Ox(t,e,n){return al(e,t.child,null,n),t=Iw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fI(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),pw(t.return,e,n)}function Vx(t,e,n,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r,a.treeForkCount=i)}function nM(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var a=$t.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,mt($t,a),wn(t,e,s,n),s=$e?sf:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&fI(t,n,e);else if(t.tag===19)fI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&zg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Vx(e,!1,r,n,i,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&zg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Vx(e,!0,n,null,i,s);break;case"together":Vx(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ga|=e.lanes,!(n&e.childLanes))if(t!==null){if(Qu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mT(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Lg(t)))}function PB(t,e,n){switch(e.tag){case 3:Rg(e,e.stateNode.containerInfo),ca(e,Zt,t.memoizedState.cache),rl();break;case 27:case 5:nw(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:ca(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,ww(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ua(e),e.flags|=128,null):n&e.child.childLanes?tM(t,e,n):(ua(e),t=Ti(t,e,n),t!==null?t.sibling:null);ua(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Qu(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return nM(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),mt($t,$t.current),s)break;return null;case 22:return e.lanes=0,eM(t,e,n,e.pendingProps);case 24:ca(e,Zt,t.memoizedState.cache)}return Ti(t,e,n)}function sM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)en=!0;else{if(!mT(t,n)&&!(e.flags&128))return en=!1,PB(t,e,n);en=!!(t.flags&131072)}else en=!1,$e&&e.flags&1048576&&aD(e,sf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Io(e.elementType),e.type=t,typeof t=="function")G_(t)?(s=ll(t,s),e.tag=1,e=dI(null,e,t,s,n)):(e.tag=0,e=Aw(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===P_){e.tag=11,e=aI(null,e,t,s,n);break e}else if(r===k_){e.tag=14,e=oI(null,e,t,s,n);break e}}throw e=ew(t)||t,Error(Y(306,e,""))}}return e;case 0:return Aw(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=ll(s,e.pendingProps),dI(t,e,s,r,n);case 3:e:{if(Rg(e,e.stateNode.containerInfo),t===null)throw Error(Y(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,vw(t,e),Th(e,s,null,n);var a=e.memoizedState;if(s=a.cache,ca(e,Zt,s),s!==i.cache&&gw(e,[Zt],n,!0),_h(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=hI(t,e,s,n);break e}else if(s!==r){r=Hs(Error(Y(424)),e),rf(r),e=hI(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=Xs(t.firstChild),Sn=e,$e=!0,Aa=null,Gs=!0,n=hD(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(rl(),s===r){e=Ti(t,e,n);break e}wn(t,e,s,n)}e=e.child}return e;case 26:return Yp(t,e),t===null?(n=kI(e.type,null,e.pendingProps,null))?e.memoizedState=n:$e||(n=e.type,t=e.pendingProps,s=Zg(Na.current).createElement(n),s[En]=e,s[ds]=t,An(s,n,t),gn(s),e.stateNode=s):e.memoizedState=kI(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return nw(e),t===null&&$e&&(s=e.stateNode=KM(e.type,e.pendingProps,Na.current),Sn=e,Gs=!0,r=bt,co(e.type)?(Bw=r,bt=Xs(s.firstChild)):bt=r),wn(t,e,e.pendingProps.children,n),Yp(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&$e&&((r=s=bt)&&(s=l7(s,e.type,e.pendingProps,Gs),s!==null?(e.stateNode=s,Sn=e,bt=Xs(s.firstChild),Gs=!1,r=!0):r=!1),r||qa(e)),nw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Lw(r,i)?s=null:a!==null&&Lw(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=tT(t,e,TB,null,null,n),df._currentValue=r),Yp(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&$e&&((t=n=bt)&&(n=c7(n,e.pendingProps,Gs),n!==null?(e.stateNode=n,Sn=e,bt=null,t=!0):t=!1),t||qa(e)),null;case 13:return tM(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=al(e,null,s,n):wn(t,e,s,n),e.child;case 11:return aI(t,e,e.type,e.pendingProps,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,ca(e,e.type,s.value),wn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,il(e),r=Nn(r),s=s(r),e.flags|=1,wn(t,e,s,n),e.child;case 14:return oI(t,e,e.type,e.pendingProps,n);case 15:return ZD(t,e,e.type,e.pendingProps,n);case 19:return nM(t,e,n);case 31:return RB(t,e,n);case 22:return eM(t,e,n,e.pendingProps);case 24:return il(e),s=Nn(Zt),t===null?(r=Q_(),r===null&&(r=ht,i=Y_(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},J_(e),ca(e,Zt,r)):(t.lanes&n&&(vw(t,e),Th(e,null,null,n),_h()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ca(e,Zt,s)):(s=i.cache,ca(e,Zt,s),s!==r.cache&&gw(e,[Zt],n,!0))),wn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Y(156,e.tag))}function Xr(t){t.flags|=4}function Lx(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(AM())t.flags|=8192;else throw Ko=Ug,X_}else t.flags&=-16777217}function mI(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!QM(e))if(AM())t.flags|=8192;else throw Ko=Ug,X_}function up(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ik():536870912,t.lanes|=e,hu|=e)}function Ld(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function kB(t,e,n){var s=e.pendingProps;switch(W_(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return vt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),mi(Zt),au(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?Xr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cx())),vt(e),null;case 26:var r=e.type,i=e.memoizedState;return t===null?(Xr(e),i!==null?(vt(e),mI(e,i)):(vt(e),Lx(e,r,null,s,n))):i?i!==t.memoizedState?(Xr(e),vt(e),mI(e,i)):(vt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Xr(e),vt(e),Lx(e,r,t,s,n)),null;case 27:if(Pg(e),n=Na.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(Y(166));return vt(e),null}t=Pr.current,Wl(e)?$A(e):(t=KM(r,s,n),e.stateNode=t,Xr(e))}return vt(e),null;case 5:if(Pg(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(Y(166));return vt(e),null}if(i=Pr.current,Wl(e))$A(e);else{var a=Zg(Na.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?a.createElement(r,{is:s.is}):a.createElement(r)}}i[En]=e,i[ds]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=i;e:switch(An(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Xr(e)}}return vt(e),Lx(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(Y(166));if(t=Na.current,Wl(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Sn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[En]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||$M(t.nodeValue,n)),t||qa(e,!0)}else t=Zg(t).createTextNode(s),t[En]=e,e.stateNode=t}return vt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=Wl(e),n!==null){if(t===null){if(!s)throw Error(Y(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(557));t[En]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),t=!1}else n=Cx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ys(e),e):(ys(e),null);if(e.flags&128)throw Error(Y(558))}return vt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Wl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(Y(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Y(317));r[En]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),r=!1}else r=Cx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(ys(e),e):(ys(e),null)}return ys(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),up(e,e.updateQueue),vt(e),null);case 4:return au(),t===null&&wT(e.stateNode.containerInfo),vt(e),null;case 10:return mi(e.type),vt(e),null;case 19:if(vn($t),s=e.memoizedState,s===null)return vt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Ld(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=zg(t),i!==null){for(e.flags|=128,Ld(s,!1),t=i.updateQueue,e.updateQueue=t,up(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)rD(n,t),n=n.sibling;return mt($t,$t.current&1|2),$e&&ri(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Es()>Kg&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304)}else{if(!r)if(t=zg(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,up(e,t),Ld(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!$e)return vt(e),null}else 2*Es()-s.renderingStartTime>Kg&&n!==536870912&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Es(),t.sibling=null,n=$t.current,mt($t,r?n&1|2:n&1),$e&&ri(e,s.treeForkCount),t):(vt(e),null);case 22:case 23:return ys(e),Z_(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),n=e.updateQueue,n!==null&&up(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&vn(Go),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mi(Zt),vt(e),null;case 25:return null;case 30:return null}throw Error(Y(156,e.tag))}function DB(t,e){switch(W_(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(Zt),au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Pg(e),null;case 31:if(e.memoizedState!==null){if(ys(e),e.alternate===null)throw Error(Y(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ys(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn($t),null;case 4:return au(),null;case 10:return mi(e.type),null;case 22:case 23:return ys(e),Z_(),t!==null&&vn(Go),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(Zt),null;case 25:return null;default:return null}}function rM(t,e){switch(W_(e),e.tag){case 3:mi(Zt),au();break;case 26:case 27:case 5:Pg(e);break;case 4:au();break;case 31:e.memoizedState!==null&&ys(e);break;case 13:ys(e);break;case 19:vn($t);break;case 10:mi(e.type);break;case 22:case 23:ys(e),Z_(),t!==null&&vn(Go);break;case 24:mi(Zt)}}function sm(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(l){nt(e,e.return,l)}}function Ha(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,u=l;try{u()}catch(d){nt(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){nt(e,e.return,d)}}function iM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{mD(e,n)}catch(s){nt(t,t.return,s)}}}function aM(t,e,n){n.props=ll(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){nt(t,e,s)}}function Sh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){nt(t,e,r)}}function Ir(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){nt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function oM(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){nt(t,t.return,r)}}function Ux(t,e,n){try{var s=t.stateNode;n7(s,t.type,n,e),s[ds]=e}catch(r){nt(t,t.return,r)}}function lM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&co(t.type)||t.tag===4}function Fx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&co(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cw(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=li));else if(s!==4&&(s===27&&co(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Cw(t,e,n),t=t.sibling;t!==null;)Cw(t,e,n),t=t.sibling}function Gg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&co(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Gg(t,e,n),t=t.sibling;t!==null;)Gg(t,e,n),t=t.sibling}function cM(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);An(e,s,n),e[En]=t,e[ds]=n}catch(i){nt(t,t.return,i)}}var ii=!1,Yt=!1,zx=!1,pI=typeof WeakSet=="function"?WeakSet:Set,pn=null;function MB(t,e){if(t=t.containerInfo,Ow=s0,t=Qk(t),$_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var g;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===t)break t;if(m===n&&++u===r&&(l=a),m===i&&++d===s&&(c=a),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vw={focusedElem:t,selectionRange:n},s0=!1,pn=e;pn!==null;)if(e=pn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pn=t;else for(;pn!==null;){switch(e=pn,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var y=ll(n.type,r);t=s.getSnapshotBeforeUpdate(y,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(b){nt(n,n.return,b)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Uw(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Uw(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Y(163))}if(t=e.sibling,t!==null){t.return=e.return,pn=t;break}pn=e.return}}function uM(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Zr(t,n),s&4&&sm(5,n);break;case 1:if(Zr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){nt(n,n.return,a)}else{var r=ll(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){nt(n,n.return,a)}}s&64&&iM(n),s&512&&Sh(n,n.return);break;case 3:if(Zr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{mD(t,e)}catch(a){nt(n,n.return,a)}}break;case 27:e===null&&s&4&&cM(n);case 26:case 5:Zr(t,n),e===null&&s&4&&oM(n),s&512&&Sh(n,n.return);break;case 12:Zr(t,n);break;case 31:Zr(t,n),s&4&&fM(t,n);break;case 13:Zr(t,n),s&4&&mM(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=qB.bind(null,n),u7(t,n))));break;case 22:if(s=n.memoizedState!==null||ii,!s){e=e!==null&&e.memoizedState!==null||Yt,r=ii;var i=Yt;ii=s,(Yt=e)&&!i?ni(t,n,(n.subtreeFlags&8772)!==0):Zr(t,n),ii=r,Yt=i}break;case 30:break;default:Zr(t,n)}}function dM(t){var e=t.alternate;e!==null&&(t.alternate=null,dM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&V_(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,ns=!1;function Jr(t,e,n){for(n=n.child;n!==null;)hM(t,e,n),n=n.sibling}function hM(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Qf,n)}catch{}switch(n.tag){case 26:Yt||Ir(n,e),Jr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Yt||Ir(n,e);var s=At,r=ns;co(n.type)&&(At=n.stateNode,ns=!1),Jr(t,e,n),Ch(n.stateNode),At=s,ns=r;break;case 5:Yt||Ir(n,e);case 6:if(s=At,r=ns,At=null,Jr(t,e,n),At=s,ns=r,At!==null)if(ns)try{(At.nodeType===9?At.body:At.nodeName==="HTML"?At.ownerDocument.body:At).removeChild(n.stateNode)}catch(i){nt(n,e,i)}else try{At.removeChild(n.stateNode)}catch(i){nt(n,e,i)}break;case 18:At!==null&&(ns?(t=At,II(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),gu(t)):II(At,n.stateNode));break;case 4:s=At,r=ns,At=n.stateNode.containerInfo,ns=!0,Jr(t,e,n),At=s,ns=r;break;case 0:case 11:case 14:case 15:Ha(2,n,e),Yt||Ha(4,n,e),Jr(t,e,n);break;case 1:Yt||(Ir(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&aM(n,e,s)),Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:Yt=(s=Yt)||n.memoizedState!==null,Jr(t,e,n),Yt=s;break;default:Jr(t,e,n)}}function fM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gu(t)}catch(n){nt(e,e.return,n)}}}function mM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gu(t)}catch(n){nt(e,e.return,n)}}function OB(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new pI),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new pI),e;default:throw Error(Y(435,t.tag))}}function dp(t,e){var n=OB(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=HB.bind(null,t,s);s.then(r,r)}})}function Zn(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(co(l.type)){At=l.stateNode,ns=!1;break e}break;case 5:At=l.stateNode,ns=!1;break e;case 3:case 4:At=l.stateNode.containerInfo,ns=!0;break e}l=l.return}if(At===null)throw Error(Y(160));hM(i,a,r),At=null,ns=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)pM(e,t),e=e.sibling}var or=null;function pM(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zn(e,t),es(t),s&4&&(Ha(3,t,t.return),sm(3,t),Ha(5,t,t.return));break;case 1:Zn(e,t),es(t),s&512&&(Yt||n===null||Ir(n,n.return)),s&64&&ii&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=or;if(Zn(e,t),es(t),s&512&&(Yt||n===null||Ir(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[Zf]||i[En]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),An(i,s,n),i[En]=t,gn(i),s=i;break e;case"link":var a=MI("link","href",r).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(i=a[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}i=r.createElement(s),An(i,s,n),r.head.appendChild(i);break;case"meta":if(a=MI("meta","content",r).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(i=a[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}i=r.createElement(s),An(i,s,n),r.head.appendChild(i);break;default:throw Error(Y(468,s))}i[En]=t,gn(i),s=i}t.stateNode=s}else OI(r,t.type,t.stateNode);else t.stateNode=DI(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?OI(r,t.type,t.stateNode):DI(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ux(t,t.memoizedProps,n.memoizedProps)}break;case 27:Zn(e,t),es(t),s&512&&(Yt||n===null||Ir(n,n.return)),n!==null&&s&4&&Ux(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Zn(e,t),es(t),s&512&&(Yt||n===null||Ir(n,n.return)),t.flags&32){r=t.stateNode;try{lu(r,"")}catch(y){nt(t,t.return,y)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,Ux(t,r,n!==null?n.memoizedProps:r)),s&1024&&(zx=!0);break;case 6:if(Zn(e,t),es(t),s&4){if(t.stateNode===null)throw Error(Y(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(y){nt(t,t.return,y)}}break;case 3:if(Jp=null,r=or,or=e0(e.containerInfo),Zn(e,t),or=r,es(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(e.containerInfo)}catch(y){nt(t,t.return,y)}zx&&(zx=!1,gM(t));break;case 4:s=or,or=e0(t.stateNode.containerInfo),Zn(e,t),es(t),or=s;break;case 12:Zn(e,t),es(t);break;case 31:Zn(e,t),es(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 13:Zn(e,t),es(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Iy=Es()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ii,d=Yt;if(ii=u||r,Yt=d||c,Zn(e,t),Yt=d,ii=u,es(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||ii||Yt||Co(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){nt(c,c.return,y)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(y){nt(c,c.return,y)}}}else if(e.tag===18){if(n===null){c=e;try{var g=c.stateNode;r?CI(g,!0):CI(c.stateNode,!1)}catch(y){nt(c,c.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,dp(t,n))));break;case 19:Zn(e,t),es(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 30:break;case 21:break;default:Zn(e,t),es(t)}}function es(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(lM(s)){n=s;break}s=s.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var r=n.stateNode,i=Fx(t);Gg(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(lu(a,""),n.flags&=-33);var l=Fx(t);Gg(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Fx(t);Cw(t,u,c);break;default:throw Error(Y(161))}}catch(d){nt(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gM(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;gM(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)uM(t,e.alternate,e),e=e.sibling}function Co(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ha(4,e,e.return),Co(e);break;case 1:Ir(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&aM(e,e.return,n),Co(e);break;case 27:Ch(e.stateNode);case 26:case 5:Ir(e,e.return),Co(e);break;case 22:e.memoizedState===null&&Co(e);break;case 30:Co(e);break;default:Co(e)}t=t.sibling}}function ni(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:ni(r,i,n),sm(4,i);break;case 1:if(ni(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){nt(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)fD(c[r],l)}catch(u){nt(s,s.return,u)}}n&&a&64&&iM(i),Sh(i,i.return);break;case 27:cM(i);case 26:case 5:ni(r,i,n),n&&s===null&&a&4&&oM(i),Sh(i,i.return);break;case 12:ni(r,i,n);break;case 31:ni(r,i,n),n&&a&4&&fM(r,i);break;case 13:ni(r,i,n),n&&a&4&&mM(r,i);break;case 22:i.memoizedState===null&&ni(r,i,n),Sh(i,i.return);break;case 30:break;default:ni(r,i,n)}e=e.sibling}}function pT(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&tm(n))}function gT(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tm(t))}function ir(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)yM(t,e,n,s),e=e.sibling}function yM(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ir(t,e,n,s),r&2048&&sm(9,e);break;case 1:ir(t,e,n,s);break;case 3:ir(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&tm(t)));break;case 12:if(r&2048){ir(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,l=i.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){nt(e,e.return,c)}}else ir(t,e,n,s);break;case 31:ir(t,e,n,s);break;case 13:ir(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?ir(t,e,n,s):Nh(t,e):i._visibility&2?ir(t,e,n,s):(i._visibility|=2,oc(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&pT(a,e);break;case 24:ir(t,e,n,s),r&2048&&gT(e.alternate,e);break;default:ir(t,e,n,s)}}function oc(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,a=e,l=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:oc(i,a,l,c,r),sm(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?oc(i,a,l,c,r):Nh(i,a):(d._visibility|=2,oc(i,a,l,c,r)),r&&u&2048&&pT(a.alternate,a);break;case 24:oc(i,a,l,c,r),r&&u&2048&&gT(a.alternate,a);break;default:oc(i,a,l,c,r)}e=e.sibling}}function Nh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Nh(n,s),r&2048&&pT(s.alternate,s);break;case 24:Nh(n,s),r&2048&&gT(s.alternate,s);break;default:Nh(n,s)}e=e.sibling}}var nh=8192;function Yl(t,e,n){if(t.subtreeFlags&nh)for(t=t.child;t!==null;)vM(t,e,n),t=t.sibling}function vM(t,e,n){switch(t.tag){case 26:Yl(t,e,n),t.flags&nh&&t.memoizedState!==null&&_7(n,or,t.memoizedState,t.memoizedProps);break;case 5:Yl(t,e,n);break;case 3:case 4:var s=or;or=e0(t.stateNode.containerInfo),Yl(t,e,n),or=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=nh,nh=16777216,Yl(t,e,n),nh=s):Yl(t,e,n));break;default:Yl(t,e,n)}}function xM(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ud(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];pn=s,wM(s,t)}xM(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bM(t),t=t.sibling}function bM(t){switch(t.tag){case 0:case 11:case 15:Ud(t),t.flags&2048&&Ha(9,t,t.return);break;case 3:Ud(t);break;case 12:Ud(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Qp(t)):Ud(t);break;default:Ud(t)}}function Qp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];pn=s,wM(s,t)}xM(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ha(8,e,e.return),Qp(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Qp(e));break;default:Qp(e)}t=t.sibling}}function wM(t,e){for(;pn!==null;){var n=pn;switch(n.tag){case 0:case 11:case 15:Ha(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:tm(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,pn=s;else e:for(n=t;pn!==null;){s=pn;var r=s.sibling,i=s.return;if(dM(s),s===n){pn=null;break e}if(r!==null){r.return=i,pn=r;break e}pn=i}}}var VB={getCacheForType:function(t){var e=Nn(Zt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Nn(Zt).controller.signal}},LB=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ht=null,Le=null,Fe=0,et=0,ps=null,wa=!1,Ju=!1,yT=!1,Ei=0,Vt=0,Ga=0,Wo=0,vT=0,_s=0,hu=0,Ah=null,ss=null,jw=!1,Iy=0,_M=0,Kg=1/0,Wg=null,ja=null,on=0,Ra=null,fu=null,pi=0,Rw=0,Pw=null,TM=null,Ih=0,kw=null;function As(){return Xe&2&&Fe!==0?Fe&-Fe:we.T!==null?bT():Pk()}function EM(){if(_s===0)if(!(Fe&536870912)||$e){var t=sp;sp<<=1,!(sp&3932160)&&(sp=262144),_s=t}else _s=536870912;return t=Ps.current,t!==null&&(t.flags|=32),_s}function cs(t,e,n){(t===ht&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(mu(t,0),_a(t,Fe,_s,!1)),Jf(t,n),(!(Xe&2)||t!==ht)&&(t===ht&&(!(Xe&2)&&(Wo|=n),Vt===4&&_a(t,Fe,_s,!1)),Gr(t))}function SM(t,e,n){if(Xe&6)throw Error(Y(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Xf(t,e),r=s?zB(t,e):Bx(t,e,!0),i=s;do{if(r===0){Ju&&!s&&_a(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!UB(n)){r=Bx(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Ah;var c=l.current.memoizedState.isDehydrated;if(c&&(mu(l,a).flags|=256),a=Bx(l,a,!1),a!==2){if(yT&&!c){l.errorRecoveryDisabledLanes|=i,Wo|=i,r=4;break e}i=ss,ss=r,i!==null&&(ss===null?ss=i:ss.push.apply(ss,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){mu(t,0),_a(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(Y(345));case 4:if((e&4194048)!==e)break;case 6:_a(s,e,_s,!wa);break e;case 2:ss=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((e&62914560)===e&&(r=Iy+300-Es(),10<r)){if(_a(s,e,_s,!wa),yy(s,0,!0)!==0)break e;pi=e,s.timeoutHandle=HM(gI.bind(null,s,n,ss,Wg,jw,e,_s,Wo,hu,wa,i,"Throttled",-0,0),r);break e}gI(s,n,ss,Wg,jw,e,_s,Wo,hu,wa,i,null,-0,0)}}break}while(1);Gr(t)}function gI(t,e,n,s,r,i,a,l,c,u,d,h,m,g){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},vM(e,i,h);var y=(i&62914560)===i?Iy-Es():(i&4194048)===i?_M-Es():0;if(y=T7(h,y),y!==null){pi=i,t.cancelPendingCommit=y(vI.bind(null,t,e,i,n,s,r,a,l,c,d,h,null,m,g)),_a(t,i,a,!u);return}}vI(t,e,i,n,s,r,a,l,c)}function UB(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Rs(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e,n,s){e&=~vT,e&=~Wo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Ns(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&Ck(t,n,e)}function Cy(){return Xe&6?!0:(rm(0,!1),!1)}function xT(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,ci=Pl=null,rT(t),Fc=null,af=0,t=Le;for(;t!==null;)rM(t.alternate,t),t=t.return;Le=null}}function mu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,i7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pi=0,xT(),ht=t,Le=n=fi(t.current,null),Fe=e,et=0,ps=null,wa=!1,Ju=Xf(t,e),yT=!1,hu=_s=vT=Wo=Ga=Vt=0,ss=Ah=null,jw=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Ns(s),i=1<<r;e|=t[r],s&=~i}return Ei=e,wy(),n}function NM(t,e){Ie=null,we.H=lf,e===Xu||e===Ty?(e=WA(),et=3):e===X_?(e=WA(),et=4):et=e===fT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ps=e,Le===null&&(Vt=1,qg(t,Hs(e,t.current)))}function AM(){var t=Ps.current;return t===null?!0:(Fe&4194048)===Fe?Qs===null:(Fe&62914560)===Fe||Fe&536870912?t===Qs:!1}function IM(){var t=we.H;return we.H=lf,t===null?lf:t}function CM(){var t=we.A;return we.A=VB,t}function Yg(){Vt=4,wa||(Fe&4194048)!==Fe&&Ps.current!==null||(Ju=!0),!(Ga&134217727)&&!(Wo&134217727)||ht===null||_a(ht,Fe,_s,!1)}function Bx(t,e,n){var s=Xe;Xe|=2;var r=IM(),i=CM();(ht!==t||Fe!==e)&&(Wg=null,mu(t,e)),e=!1;var a=Vt;e:do try{if(et!==0&&Le!==null){var l=Le,c=ps;switch(et){case 8:xT(),a=6;break e;case 3:case 2:case 9:case 6:Ps.current===null&&(e=!0);var u=et;if(et=0,ps=null,Ic(t,l,c,u),n&&Ju){a=0;break e}break;default:u=et,et=0,ps=null,Ic(t,l,c,u)}}FB(),a=Vt;break}catch(d){NM(t,d)}while(1);return e&&t.shellSuspendCounter++,ci=Pl=null,Xe=s,we.H=r,we.A=i,Le===null&&(ht=null,Fe=0,wy()),a}function FB(){for(;Le!==null;)jM(Le)}function zB(t,e){var n=Xe;Xe|=2;var s=IM(),r=CM();ht!==t||Fe!==e?(Wg=null,Kg=Es()+500,mu(t,e)):Ju=Xf(t,e);e:do try{if(et!==0&&Le!==null){e=Le;var i=ps;t:switch(et){case 1:et=0,ps=null,Ic(t,e,i,1);break;case 2:case 9:if(KA(i)){et=0,ps=null,yI(e);break}e=function(){et!==2&&et!==9||ht!==t||(et=7),Gr(t)},i.then(e,e);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:KA(i)?(et=0,ps=null,yI(e)):(et=0,ps=null,Ic(t,e,i,7));break;case 5:var a=null;switch(Le.tag){case 26:a=Le.memoizedState;case 5:case 27:var l=Le;if(a?QM(a):l.stateNode.complete){et=0,ps=null;var c=l.sibling;if(c!==null)Le=c;else{var u=l.return;u!==null?(Le=u,jy(u)):Le=null}break t}}et=0,ps=null,Ic(t,e,i,5);break;case 6:et=0,ps=null,Ic(t,e,i,6);break;case 8:xT(),Vt=6;break e;default:throw Error(Y(462))}}BB();break}catch(d){NM(t,d)}while(1);return ci=Pl=null,we.H=s,we.A=r,Xe=n,Le!==null?0:(ht=null,Fe=0,wy(),Vt)}function BB(){for(;Le!==null&&!dz();)jM(Le)}function jM(t){var e=sM(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?jy(t):Le=e}function yI(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=uI(n,e,e.pendingProps,e.type,void 0,Fe);break;case 11:e=uI(n,e,e.pendingProps,e.type.render,e.ref,Fe);break;case 5:rT(e);default:rM(n,e),e=Le=rD(e,Ei),e=sM(n,e,Ei)}t.memoizedProps=t.pendingProps,e===null?jy(t):Le=e}function Ic(t,e,n,s){ci=Pl=null,rT(e),Fc=null,af=0;var r=e.return;try{if(jB(t,r,e,n,Fe)){Vt=1,qg(t,Hs(n,t.current)),Le=null;return}}catch(i){if(r!==null)throw Le=r,i;Vt=1,qg(t,Hs(n,t.current)),Le=null;return}e.flags&32768?($e||s===1?t=!0:Ju||Fe&536870912?t=!1:(wa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ps.current,s!==null&&s.tag===13&&(s.flags|=16384))),RM(e,t)):jy(e)}function jy(t){var e=t;do{if(e.flags&32768){RM(e,wa);return}t=e.return;var n=kB(e.alternate,e,Ei);if(n!==null){Le=n;return}if(e=e.sibling,e!==null){Le=e;return}Le=e=t}while(e!==null);Vt===0&&(Vt=5)}function RM(t,e){do{var n=DB(t.alternate,t);if(n!==null){n.flags&=32767,Le=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Le=t;return}Le=t=n}while(t!==null);Vt=6,Le=null}function vI(t,e,n,s,r,i,a,l,c){t.cancelPendingCommit=null;do Ry();while(on!==0);if(Xe&6)throw Error(Y(327));if(e!==null){if(e===t.current)throw Error(Y(177));if(i=e.lanes|e.childLanes,i|=q_,wz(t,n,i,a,l,c),t===ht&&(Le=ht=null,Fe=0),fu=e,Ra=t,pi=n,Rw=i,Pw=r,TM=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,GB(kg,function(){return OM(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=we.T,we.T=null,r=Je.p,Je.p=2,a=Xe,Xe|=4;try{MB(t,e,n)}finally{Xe=a,Je.p=r,we.T=s}}on=1,PM(),kM(),DM()}}function PM(){if(on===1){on=0;var t=Ra,e=fu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=we.T,we.T=null;var s=Je.p;Je.p=2;var r=Xe;Xe|=4;try{pM(e,t);var i=Vw,a=Qk(t.containerInfo),l=i.focusedElem,c=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&Yk(l.ownerDocument.documentElement,l)){if(c!==null&&$_(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var g=m.getSelection(),y=l.textContent.length,b=Math.min(c.start,y),_=c.end===void 0?b:Math.min(c.end,y);!g.extend&&b>_&&(a=_,_=b,b=a);var v=FA(l,b),x=FA(l,_);if(v&&x&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==x.node||g.focusOffset!==x.offset)){var E=h.createRange();E.setStart(v.node,v.offset),g.removeAllRanges(),b>_?(g.addRange(E),g.extend(x.node,x.offset)):(E.setEnd(x.node,x.offset),g.addRange(E))}}}}for(h=[],g=l;g=g.parentNode;)g.nodeType===1&&h.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var A=h[l];A.element.scrollLeft=A.left,A.element.scrollTop=A.top}}s0=!!Ow,Vw=Ow=null}finally{Xe=r,Je.p=s,we.T=n}}t.current=e,on=2}}function kM(){if(on===2){on=0;var t=Ra,e=fu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=we.T,we.T=null;var s=Je.p;Je.p=2;var r=Xe;Xe|=4;try{uM(t,e.alternate,e)}finally{Xe=r,Je.p=s,we.T=n}}on=3}}function DM(){if(on===4||on===3){on=0,hz();var t=Ra,e=fu,n=pi,s=TM;e.subtreeFlags&10256||e.flags&10256?on=5:(on=0,fu=Ra=null,MM(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ja=null),O_(n),e=e.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Qf,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=we.T,r=Je.p,Je.p=2,we.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];i(l.value,{componentStack:l.stack})}}finally{we.T=e,Je.p=r}}pi&3&&Ry(),Gr(t),r=t.pendingLanes,n&261930&&r&42?t===kw?Ih++:(Ih=0,kw=t):Ih=0,rm(0,!1)}}function MM(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,tm(e)))}function Ry(){return PM(),kM(),DM(),OM()}function OM(){if(on!==5)return!1;var t=Ra,e=Rw;Rw=0;var n=O_(pi),s=we.T,r=Je.p;try{Je.p=32>n?32:n,we.T=null,n=Pw,Pw=null;var i=Ra,a=pi;if(on=0,fu=Ra=null,pi=0,Xe&6)throw Error(Y(331));var l=Xe;if(Xe|=4,bM(i.current),yM(i,i.current,a,n),Xe=l,rm(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Qf,i)}catch{}return!0}finally{Je.p=r,we.T=s,MM(t,e)}}function xI(t,e,n){e=Hs(n,e),e=Nw(t.stateNode,e,2),t=Ca(t,e,2),t!==null&&(Jf(t,2),Gr(t))}function nt(t,e,n){if(t.tag===3)xI(t,t,n);else for(;e!==null;){if(e.tag===3){xI(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ja===null||!ja.has(s))){t=Hs(n,t),n=XD(2),s=Ca(e,n,2),s!==null&&(JD(n,s,e,t),Jf(s,2),Gr(s));break}}e=e.return}}function $x(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new LB;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(yT=!0,r.add(n),t=$B.bind(null,t,e,n),e.then(t,t))}function $B(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ht===t&&(Fe&n)===n&&(Vt===4||Vt===3&&(Fe&62914560)===Fe&&300>Es()-Iy?!(Xe&2)&&mu(t,0):vT|=n,hu===Fe&&(hu=0)),Gr(t)}function VM(t,e){e===0&&(e=Ik()),t=Rl(t,e),t!==null&&(Jf(t,e),Gr(t))}function qB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),VM(t,n)}function HB(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(Y(314))}s!==null&&s.delete(e),VM(t,n)}function GB(t,e){return D_(t,e)}var Qg=null,lc=null,Dw=!1,Xg=!1,qx=!1,Ta=0;function Gr(t){t!==lc&&t.next===null&&(lc===null?Qg=lc=t:lc=lc.next=t),Xg=!0,Dw||(Dw=!0,WB())}function rm(t,e){if(!qx&&Xg){qx=!0;do for(var n=!1,s=Qg;s!==null;){if(!e)if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-Ns(42|t)+1)-1,i&=r&~(a&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,bI(s,i))}else i=Fe,i=yy(s,s===ht?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Xf(s,i)||(n=!0,bI(s,i));s=s.next}while(n);qx=!1}}function KB(){LM()}function LM(){Xg=Dw=!1;var t=0;Ta!==0&&r7()&&(t=Ta);for(var e=Es(),n=null,s=Qg;s!==null;){var r=s.next,i=UM(s,e);i===0?(s.next=null,n===null?Qg=r:n.next=r,r===null&&(lc=n)):(n=s,(t!==0||i&3)&&(Xg=!0)),s=r}on!==0&&on!==5||rm(t,!1),Ta!==0&&(Ta=0)}function UM(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-Ns(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=bz(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}if(e=ht,n=Fe,n=yy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(et===2||et===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&vx(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Xf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&vx(s),O_(n)){case 2:case 8:n=Nk;break;case 32:n=kg;break;case 268435456:n=Ak;break;default:n=kg}return s=FM.bind(null,t),n=D_(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&vx(s),t.callbackPriority=2,t.callbackNode=null,2}function FM(t,e){if(on!==0&&on!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ry()&&t.callbackNode!==n)return null;var s=Fe;return s=yy(t,t===ht?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(SM(t,s,e),UM(t,Es()),t.callbackNode!=null&&t.callbackNode===n?FM.bind(null,t):null)}function bI(t,e){if(Ry())return null;SM(t,e,!0)}function WB(){a7(function(){Xe&6?D_(Sk,KB):LM()})}function bT(){if(Ta===0){var t=cu;t===0&&(t=np,np<<=1,!(np&261888)&&(np=256)),Ta=t}return Ta}function wI(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zp(""+t)}function _I(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function YB(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=wI((r[ds]||null).action),a=s.submitter;a&&(e=(e=a[ds]||null)?wI(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var l=new vy("action","action",null,s,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ta!==0){var c=a?_I(r,a):new FormData(r);Ew(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=a?_I(r,a):new FormData(r),Ew(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var Hx=0;Hx<hw.length;Hx++){var Gx=hw[Hx],QB=Gx.toLowerCase(),XB=Gx[0].toUpperCase()+Gx.slice(1);yr(QB,"on"+XB)}yr(Jk,"onAnimationEnd");yr(Zk,"onAnimationIteration");yr(eD,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(fB,"onTransitionRun");yr(mB,"onTransitionStart");yr(pB,"onTransitionCancel");yr(tD,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JB=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function zM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mg(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mg(d)}r.currentTarget=null,i=c}}}}function Ve(t,e){var n=e[rw];n===void 0&&(n=e[rw]=new Set);var s=t+"__bubble";n.has(s)||(BM(e,t,2,!1),n.add(s))}function Kx(t,e,n){var s=0;e&&(s|=4),BM(n,t,s,e)}var hp="_reactListening"+Math.random().toString(36).slice(2);function wT(t){if(!t[hp]){t[hp]=!0,kk.forEach(function(n){n!=="selectionchange"&&(JB.has(n)||Kx(n,!1,t),Kx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hp]||(e[hp]=!0,Kx("selectionchange",!1,e))}}function BM(t,e,n,s){switch(t4(e)){case 2:var r=N7;break;case 8:r=A7;break;default:r=ST}n=r.bind(null,e,n,t),r=void 0,!cw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Wx(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=xc(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}l=l.parentNode}}s=s.return}zk(function(){var u=i,d=U_(n),h=[];e:{var m=nD.get(t);if(m!==void 0){var g=vy,y=t;switch(t){case"keypress":if($p(n)===0)break e;case"keydown":case"keyup":g=Hz;break;case"focusin":y="focus",g=Tx;break;case"focusout":y="blur",g=Tx;break;case"beforeblur":case"afterblur":g=Tx;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=jA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=kz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Wz;break;case Jk:case Zk:case eD:g=Oz;break;case tD:g=Qz;break;case"scroll":case"scrollend":g=Rz;break;case"wheel":g=Jz;break;case"copy":case"cut":case"paste":g=Lz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=PA;break;case"toggle":case"beforetoggle":g=eB}var b=(e&4)!==0,_=!b&&(t==="scroll"||t==="scrollend"),v=b?m!==null?m+"Capture":null:m;b=[];for(var x=u,E;x!==null;){var A=x;if(E=A.stateNode,A=A.tag,A!==5&&A!==26&&A!==27||E===null||v===null||(A=ef(x,v),A!=null&&b.push(uf(x,A,E))),_)break;x=x.return}0<b.length&&(m=new g(m,y,null,n,d),h.push({event:m,listeners:b}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==lw&&(y=n.relatedTarget||n.fromElement)&&(xc(y)||y[Wu]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?xc(y):null,y!==null&&(_=Yf(y),b=y.tag,y!==_||b!==5&&b!==27&&b!==6)&&(y=null)):(g=null,y=u),g!==y)){if(b=jA,A="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(b=PA,A="onPointerLeave",v="onPointerEnter",x="pointer"),_=g==null?m:eh(g),E=y==null?m:eh(y),m=new b(A,x+"leave",g,n,d),m.target=_,m.relatedTarget=E,A=null,xc(d)===u&&(b=new b(v,x+"enter",y,n,d),b.target=E,b.relatedTarget=_,A=b),_=A,g&&y)t:{for(b=ZB,v=g,x=y,E=0,A=v;A;A=b(A))E++;A=0;for(var I=x;I;I=b(I))A++;for(;0<E-A;)v=b(v),E--;for(;0<A-E;)x=b(x),A--;for(;E--;){if(v===x||x!==null&&v===x.alternate){b=v;break t}v=b(v),x=b(x)}b=null}else b=null;g!==null&&TI(h,m,g,b,!1),y!==null&&_!==null&&TI(h,_,y,b,!0)}}e:{if(m=u?eh(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var R=OA;else if(MA(m))if(Kk)R=uB;else{R=lB;var S=oB}else g=m.nodeName,!g||g.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&L_(u.elementType)&&(R=OA):R=cB;if(R&&(R=R(t,u))){Gk(h,R,n,d);break e}S&&S(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&ow(m,"number",m.value)}switch(S=u?eh(u):window,t){case"focusin":(MA(S)||S.contentEditable==="true")&&(_c=S,uw=u,xh=null);break;case"focusout":xh=uw=_c=null;break;case"mousedown":dw=!0;break;case"contextmenu":case"mouseup":case"dragend":dw=!1,zA(h,n,d);break;case"selectionchange":if(hB)break;case"keydown":case"keyup":zA(h,n,d)}var T;if(B_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wc?qk(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&($k&&n.locale!=="ko"&&(wc||C!=="onCompositionStart"?C==="onCompositionEnd"&&wc&&(T=Bk()):(ba=d,F_="value"in ba?ba.value:ba.textContent,wc=!0)),S=Jg(u,C),0<S.length&&(C=new RA(C,t,null,n,d),h.push({event:C,listeners:S}),T?C.data=T:(T=Hk(n),T!==null&&(C.data=T)))),(T=nB?sB(t,n):rB(t,n))&&(C=Jg(u,"onBeforeInput"),0<C.length&&(S=new RA("onBeforeInput","beforeinput",null,n,d),h.push({event:S,listeners:C}),S.data=T)),YB(h,t,u,n,d)}zM(h,e)})}function uf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jg(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ef(t,n),r!=null&&s.unshift(uf(t,r,i)),r=ef(t,e),r!=null&&s.push(uf(t,r,i))),t.tag===3)return s;t=t.return}return[]}function ZB(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function TI(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=ef(n,i),u!=null&&a.unshift(uf(n,u,c))):r||(u=ef(n,i),u!=null&&a.push(uf(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var e7=/\r\n?/g,t7=/\u0000|\uFFFD/g;function EI(t){return(typeof t=="string"?t:""+t).replace(e7,`
`).replace(t7,"")}function $M(t,e){return e=EI(e),EI(t)===e}function st(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||lu(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&lu(t,""+s);break;case"className":ip(t,"class",s);break;case"tabIndex":ip(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ip(t,n,s);break;case"style":Fk(t,s,i);break;case"data":if(e!=="object"){ip(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=zp(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&st(t,e,"name",r.name,r,null),st(t,e,"formEncType",r.formEncType,r,null),st(t,e,"formMethod",r.formMethod,r,null),st(t,e,"formTarget",r.formTarget,r,null)):(st(t,e,"encType",r.encType,r,null),st(t,e,"method",r.method,r,null),st(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=zp(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=li);break;case"onScroll":s!=null&&Ve("scroll",t);break;case"onScrollEnd":s!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=zp(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Fp(t,"popover",s);break;case"xlinkActuate":Qr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fp(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Cz.get(n)||n,Fp(t,n,s))}}function Mw(t,e,n,s,r,i){switch(n){case"style":Fk(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(Y(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"children":typeof s=="string"?lu(t,s):(typeof s=="number"||typeof s=="bigint")&&lu(t,""+s);break;case"onScroll":s!=null&&Ve("scroll",t);break;case"onScrollEnd":s!=null&&Ve("scrollend",t);break;case"onClick":s!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dk.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[ds]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Fp(t,n,s)}}}function An(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:st(t,e,i,a,n,null)}}r&&st(t,e,"srcSet",n.srcSet,n,null),s&&st(t,e,"src",n.src,n,null);return;case"input":Ve("invalid",t);var l=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,e));break;default:st(t,e,s,d,n,null)}}Vk(t,i,l,c,u,a,r,!1);return;case"select":Ve("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:st(t,e,r,l,n,null)}e=i,n=a,t.multiple=!!s,e!=null?Vc(t,!!s,e,!1):n!=null&&Vc(t,!!s,n,!0);return;case"textarea":Ve("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(Y(91));break;default:st(t,e,a,l,n,null)}Uk(t,s,r,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:st(t,e,c,s,n,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(s=0;s<cf.length;s++)Ve(cf[s],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:st(t,e,u,s,n,null)}return;default:if(L_(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Mw(t,e,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&st(t,e,l,s,n,null))}function n7(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,l=null,c=null,u=null,d=null;for(g in n){var h=n[g];if(n.hasOwnProperty(g)&&h!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(g)||st(t,e,g,null,s,h)}}for(var m in s){var g=s[m];if(h=n[m],s.hasOwnProperty(m)&&(g!=null||h!=null))switch(m){case"type":i=g;break;case"name":r=g;break;case"checked":u=g;break;case"defaultChecked":d=g;break;case"value":a=g;break;case"defaultValue":l=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Y(137,e));break;default:g!==h&&st(t,e,m,g,s,h)}}aw(t,a,l,c,u,d,i,r);return;case"select":g=a=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":g=c;default:s.hasOwnProperty(i)||st(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&st(t,e,r,i,s,c)}e=l,n=a,s=g,m!=null?Vc(t,!!n,m,!1):!!s!=!!n&&(e!=null?Vc(t,!!n,e,!0):Vc(t,!!n,n?[]:"",!1));return;case"textarea":g=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:st(t,e,l,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":m=r;break;case"defaultValue":g=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(Y(91));break;default:r!==i&&st(t,e,a,r,s,i)}Lk(t,m,g);return;case"option":for(var y in n)if(m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:st(t,e,y,null,s,m)}for(c in s)if(m=s[c],g=n[c],s.hasOwnProperty(c)&&m!==g&&(m!=null||g!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:st(t,e,c,m,s,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in n)m=n[b],n.hasOwnProperty(b)&&m!=null&&!s.hasOwnProperty(b)&&st(t,e,b,null,s,m);for(u in s)if(m=s[u],g=n[u],s.hasOwnProperty(u)&&m!==g&&(m!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(Y(137,e));break;default:st(t,e,u,m,s,g)}return;default:if(L_(e)){for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!==void 0&&!s.hasOwnProperty(_)&&Mw(t,e,_,void 0,s,m);for(d in s)m=s[d],g=n[d],!s.hasOwnProperty(d)||m===g||m===void 0&&g===void 0||Mw(t,e,d,m,s,g);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&st(t,e,v,null,s,m);for(h in s)m=s[h],g=n[h],!s.hasOwnProperty(h)||m===g||m==null&&g==null||st(t,e,h,m,s,g)}function SI(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function s7(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],i=r.transferSize,a=r.initiatorType,l=r.duration;if(i&&l&&SI(a)){for(a=0,l=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&SI(h)&&(c=c.responseEnd,a+=d*(c<l?1:(l-u)/(c-u)))}if(--s,e+=8*(i+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ow=null,Vw=null;function Zg(t){return t.nodeType===9?t:t.ownerDocument}function NI(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qM(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Lw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yx=null;function r7(){var t=window.event;return t&&t.type==="popstate"?t===Yx?!1:(Yx=t,!0):(Yx=null,!1)}var HM=typeof setTimeout=="function"?setTimeout:void 0,i7=typeof clearTimeout=="function"?clearTimeout:void 0,AI=typeof Promise=="function"?Promise:void 0,a7=typeof queueMicrotask=="function"?queueMicrotask:typeof AI<"u"?function(t){return AI.resolve(null).then(t).catch(o7)}:HM;function o7(t){setTimeout(function(){throw t})}function co(t){return t==="head"}function II(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),gu(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Ch(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ch(n);for(var i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[Zf]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=a}}else n==="body"&&Ch(t.ownerDocument.body);n=r}while(n);gu(e)}function CI(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Uw(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Uw(n),V_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function l7(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Zf])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function c7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xs(t.nextSibling),t===null))return null;return t}function GM(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Xs(t.nextSibling),t===null))return null;return t}function Fw(t){return t.data==="$?"||t.data==="$~"}function zw(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function u7(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Bw=null;function jI(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Xs(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function RI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function KM(t,e,n){switch(e=Zg(n),t){case"html":if(t=e.documentElement,!t)throw Error(Y(452));return t;case"head":if(t=e.head,!t)throw Error(Y(453));return t;case"body":if(t=e.body,!t)throw Error(Y(454));return t;default:throw Error(Y(451))}}function Ch(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);V_(t)}var tr=new Map,PI=new Set;function e0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=Je.d;Je.d={f:d7,r:h7,D:f7,C:m7,L:p7,m:g7,X:v7,S:y7,M:x7};function d7(){var t=Oi.f(),e=Cy();return t||e}function h7(t){var e=Yu(t);e!==null&&e.tag===5&&e.type==="form"?FD(e):Oi.r(t)}var Zu=typeof document>"u"?null:document;function WM(t,e,n){var s=Zu;if(s&&typeof e=="string"&&e){var r=qs(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),PI.has(r)||(PI.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),An(e,"link",t),gn(e),s.head.appendChild(e)))}}function f7(t){Oi.D(t),WM("dns-prefetch",t,null)}function m7(t,e){Oi.C(t,e),WM("preconnect",t,e)}function p7(t,e,n){Oi.L(t,e,n);var s=Zu;if(s&&t&&e){var r='link[rel="preload"][as="'+qs(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qs(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qs(n.imageSizes)+'"]')):r+='[href="'+qs(t)+'"]';var i=r;switch(e){case"style":i=pu(t);break;case"script":i=ed(t)}tr.has(i)||(t=St({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tr.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(im(i))||e==="script"&&s.querySelector(am(i))||(e=s.createElement("link"),An(e,"link",t),gn(e),s.head.appendChild(e)))}}function g7(t,e){Oi.m(t,e);var n=Zu;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+qs(s)+'"][href="'+qs(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ed(t)}if(!tr.has(i)&&(t=St({rel:"modulepreload",href:t},e),tr.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(am(i)))return}s=n.createElement("link"),An(s,"link",t),gn(s),n.head.appendChild(s)}}}function y7(t,e,n){Oi.S(t,e,n);var s=Zu;if(s&&t){var r=Oc(s).hoistableStyles,i=pu(t);e=e||"default";var a=r.get(i);if(!a){var l={loading:0,preload:null};if(a=s.querySelector(im(i)))l.loading=5;else{t=St({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tr.get(i))&&_T(t,n);var c=a=s.createElement("link");gn(c),An(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Xp(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(i,a)}}}function v7(t,e){Oi.X(t,e);var n=Zu;if(n&&t){var s=Oc(n).hoistableScripts,r=ed(t),i=s.get(r);i||(i=n.querySelector(am(r)),i||(t=St({src:t,async:!0},e),(e=tr.get(r))&&TT(t,e),i=n.createElement("script"),gn(i),An(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function x7(t,e){Oi.M(t,e);var n=Zu;if(n&&t){var s=Oc(n).hoistableScripts,r=ed(t),i=s.get(r);i||(i=n.querySelector(am(r)),i||(t=St({src:t,async:!0,type:"module"},e),(e=tr.get(r))&&TT(t,e),i=n.createElement("script"),gn(i),An(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function kI(t,e,n,s){var r=(r=Na.current)?e0(r):null;if(!r)throw Error(Y(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=pu(n.href),n=Oc(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=pu(n.href);var i=Oc(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(im(t)))&&!i._p&&(a.instance=i,a.state.loading=5),tr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tr.set(t,n),i||b7(r,t,n,a.state))),e&&s===null)throw Error(Y(528,""));return a}if(e&&s!==null)throw Error(Y(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ed(n),n=Oc(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,t))}}function pu(t){return'href="'+qs(t)+'"'}function im(t){return'link[rel="stylesheet"]['+t+"]"}function YM(t){return St({},t,{"data-precedence":t.precedence,precedence:null})}function b7(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),An(e,"link",n),gn(e),t.head.appendChild(e))}function ed(t){return'[src="'+qs(t)+'"]'}function am(t){return"script[async]"+t}function DI(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+qs(n.href)+'"]');if(s)return e.instance=s,gn(s),s;var r=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),gn(s),An(s,"style",r),Xp(s,n.precedence,t),e.instance=s;case"stylesheet":r=pu(n.href);var i=t.querySelector(im(r));if(i)return e.state.loading|=4,e.instance=i,gn(i),i;s=YM(n),(r=tr.get(r))&&_T(s,r),i=(t.ownerDocument||t).createElement("link"),gn(i);var a=i;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),An(i,"link",s),e.state.loading|=4,Xp(i,n.precedence,t),e.instance=i;case"script":return i=ed(n.src),(r=t.querySelector(am(i)))?(e.instance=r,gn(r),r):(s=n,(r=tr.get(i))&&(s=St({},n),TT(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),gn(r),An(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(Y(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Xp(s,n.precedence,t));return e.instance}function Xp(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function _T(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function TT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jp=null;function MI(t,e,n){if(Jp===null){var s=new Map,r=Jp=new Map;r.set(n,s)}else r=Jp,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[Zf]||i[En]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(i):s.set(a,[i])}}return s}function OI(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function w7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function QM(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function _7(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=pu(s.href),i=e.querySelector(im(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=t0.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,gn(i);return}i=e.ownerDocument||e,s=YM(s),(r=tr.get(r))&&_T(s,r),i=i.createElement("link"),gn(i);var a=i;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),An(i,"link",s),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=t0.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Qx=0;function T7(t,e){return t.stylesheets&&t.count===0&&Zp(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Zp(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Qx===0&&(Qx=62500*s7());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zp(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Qx?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function t0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var n0=null;function Zp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,n0=new Map,e.forEach(E7,t),n0=null,t0.call(t))}function E7(t,e){if(!(e.state.loading&4)){var n=n0.get(t);if(n)var s=n.get(null);else{n=new Map,n0.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=t0.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var df={$$typeof:oi,Provider:null,Consumer:null,_currentValue:qo,_currentValue2:qo,_threadCount:0};function S7(t,e,n,s,r,i,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xx(0),this.hiddenUpdates=xx(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function XM(t,e,n,s,r,i,a,l,c,u,d,h){return t=new S7(t,e,n,a,c,u,d,h,l),e=1,i===!0&&(e|=24),i=xs(3,null,null,e),t.current=i,i.stateNode=t,e=Y_(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},J_(i),t}function JM(t){return t?(t=Sc,t):Sc}function ZM(t,e,n,s,r,i){r=JM(r),s.context===null?s.context=r:s.pendingContext=r,s=Ia(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Ca(t,s,e),n!==null&&(cs(n,t,e),wh(n,t,e))}function VI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ET(t,e){VI(t,e),(t=t.alternate)&&VI(t,e)}function e4(t){if(t.tag===13||t.tag===31){var e=Rl(t,67108864);e!==null&&cs(e,t,67108864),ET(t,67108864)}}function LI(t){if(t.tag===13||t.tag===31){var e=As();e=M_(e);var n=Rl(t,e);n!==null&&cs(n,t,e),ET(t,e)}}var s0=!0;function N7(t,e,n,s){var r=we.T;we.T=null;var i=Je.p;try{Je.p=2,ST(t,e,n,s)}finally{Je.p=i,we.T=r}}function A7(t,e,n,s){var r=we.T;we.T=null;var i=Je.p;try{Je.p=8,ST(t,e,n,s)}finally{Je.p=i,we.T=r}}function ST(t,e,n,s){if(s0){var r=$w(s);if(r===null)Wx(t,e,s,r0,n),UI(t,s);else if(C7(r,t,e,n,s))s.stopPropagation();else if(UI(t,s),e&4&&-1<I7.indexOf(t)){for(;r!==null;){var i=Yu(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=Ao(i.pendingLanes);if(a!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Ns(a);l.entanglements[1]|=c,a&=~c}Gr(i),!(Xe&6)&&(Kg=Es()+500,rm(0,!1))}}break;case 31:case 13:l=Rl(i,2),l!==null&&cs(l,i,2),Cy(),ET(i,2)}if(i=$w(s),i===null&&Wx(t,e,s,r0,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Wx(t,e,s,null,n)}}function $w(t){return t=U_(t),NT(t)}var r0=null;function NT(t){if(r0=null,t=xc(t),t!==null){var e=Yf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=bk(e),t!==null)return t;t=null}else if(n===31){if(t=wk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return r0=t,null}function t4(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fz()){case Sk:return 2;case Nk:return 8;case kg:case mz:return 32;case Ak:return 268435456;default:return 32}default:return 32}}var qw=!1,Pa=null,ka=null,Da=null,hf=new Map,ff=new Map,ha=[],I7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UI(t,e){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":hf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(e.pointerId)}}function Fd(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Yu(e),e!==null&&e4(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function C7(t,e,n,s,r){switch(e){case"focusin":return Pa=Fd(Pa,t,e,n,s,r),!0;case"dragenter":return ka=Fd(ka,t,e,n,s,r),!0;case"mouseover":return Da=Fd(Da,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return hf.set(i,Fd(hf.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ff.set(i,Fd(ff.get(i)||null,t,e,n,s,r)),!0}return!1}function n4(t){var e=xc(t.target);if(e!==null){var n=Yf(e);if(n!==null){if(e=n.tag,e===13){if(e=bk(n),e!==null){t.blockedOn=e,TA(t.priority,function(){LI(n)});return}}else if(e===31){if(e=wk(n),e!==null){t.blockedOn=e,TA(t.priority,function(){LI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$w(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);lw=s,n.target.dispatchEvent(s),lw=null}else return e=Yu(n),e!==null&&e4(e),t.blockedOn=n,!1;e.shift()}return!0}function FI(t,e,n){eg(t)&&n.delete(e)}function j7(){qw=!1,Pa!==null&&eg(Pa)&&(Pa=null),ka!==null&&eg(ka)&&(ka=null),Da!==null&&eg(Da)&&(Da=null),hf.forEach(FI),ff.forEach(FI)}function fp(t,e){t.blockedOn===e&&(t.blockedOn=null,qw||(qw=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,j7)))}var mp=null;function zI(t){mp!==t&&(mp=t,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,function(){mp===t&&(mp=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(NT(s||n)===null)continue;break}var i=Yu(n);i!==null&&(t.splice(e,3),e-=3,Ew(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function gu(t){function e(c){return fp(c,t)}Pa!==null&&fp(Pa,t),ka!==null&&fp(ka,t),Da!==null&&fp(Da,t),hf.forEach(e),ff.forEach(e);for(var n=0;n<ha.length;n++){var s=ha[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)n4(n),n.blockedOn===null&&ha.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[ds]||null;if(typeof i=="function")a||zI(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[ds]||null)l=a.formAction;else if(NT(r)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),zI(n)}}}function s4(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function AT(t){this._internalRoot=t}Py.prototype.render=AT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));var n=e.current,s=As();ZM(n,s,t,e,null,null)};Py.prototype.unmount=AT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ZM(t.current,2,null,t,null,null),Cy(),e[Wu]=null}};function Py(t){this._internalRoot=t}Py.prototype.unstable_scheduleHydration=function(t){if(t){var e=Pk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ha.length&&e!==0&&e<ha[n].priority;n++);ha.splice(n,0,t),n===0&&n4(t)}};var BI=vk.version;if(BI!=="19.2.0")throw Error(Y(527,BI,"19.2.0"));Je.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=az(e),t=t!==null?_k(t):null,t=t===null?null:t.stateNode,t};var R7={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:we,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{Qf=pp.inject(R7),Ss=pp}catch{}}py.createRoot=function(t,e){if(!xk(t))throw Error(Y(299));var n=!1,s="",r=WD,i=YD,a=QD;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=XM(t,1,!1,null,null,n,s,null,r,i,a,s4),t[Wu]=e.current,wT(t),new AT(e)};py.hydrateRoot=function(t,e,n){if(!xk(t))throw Error(Y(299));var s=!1,r="",i=WD,a=YD,l=QD,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=XM(t,1,!0,e,n??null,s,r,c,i,a,l,s4),e.context=JM(null),n=e.current,s=As(),s=M_(s),r=Ia(s),r.callback=null,Ca(n,r,s),n=s,e.current.lanes=n,Jf(e,n),Gr(e),t[Wu]=e.current,wT(t),new Py(e)};py.version="19.2.0";function r4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r4)}catch(t){console.error(t)}}r4(),hk.exports=py;var P7=hk.exports;const k7=Al(P7);var i4={exports:{}},D7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",M7=D7,O7=M7;function a4(){}function o4(){}o4.resetWarningCache=a4;var V7=function(){function t(s,r,i,a,l,c){if(c!==O7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o4,resetWarningCache:a4};return n.PropTypes=n,n};i4.exports=V7();var L7=i4.exports;const Nt=Al(L7);function U7(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var l4=p,F7=U7(l4);function $I(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var B7=!!(typeof window<"u"&&window.document&&window.document.createElement);function $7(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(r){return r.displayName||r.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){z7(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,a=[],y};var m=h.prototype;return m.UNSAFE_componentWillMount=function(){a.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var y=a.indexOf(this);a.splice(y,1),c()},m.render=function(){return F7.createElement(i,this.props)},h}(l4.PureComponent);return $I(u,"displayName","SideEffect("+s(i)+")"),$I(u,"canUseDOM",B7),u}}var q7=$7;const H7=Al(q7);var G7=typeof Element<"u",K7=typeof Map=="function",W7=typeof Set=="function",Y7=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function tg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,s,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(!tg(t[s],e[s]))return!1;return!0}var i;if(K7&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=t.entries();!(s=i.next()).done;)if(!tg(s.value[1],e.get(s.value[0])))return!1;return!0}if(W7&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(Y7&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[s]))return!1;if(G7&&t instanceof Element)return!1;for(s=n;s--!==0;)if(!((r[s]==="_owner"||r[s]==="__v"||r[s]==="__o")&&t.$$typeof)&&!tg(t[r[s]],e[r[s]]))return!1;return!0}return t!==t&&e!==e}var Q7=function(e,n){try{return tg(e,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const X7=Al(Q7);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var qI=Object.getOwnPropertySymbols,J7=Object.prototype.hasOwnProperty,Z7=Object.prototype.propertyIsEnumerable;function e$(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function t$(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(s.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var n$=t$()?Object.assign:function(t,e){for(var n,s=e$(t),r,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)J7.call(n,a)&&(s[a]=n[a]);if(qI){r=qI(n);for(var l=0;l<r.length;l++)Z7.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s};const s$=Al(n$);var Yo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ne={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ne).map(function(t){return Ne[t]});var It={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},i0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},r$=Object.keys(i0).reduce(function(t,e){return t[i0[e]]=e,t},{}),i$=[Ne.NOSCRIPT,Ne.SCRIPT,Ne.STYLE],dr="data-react-helmet",a$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o$=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l$=function(){function t(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),ts=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},c$=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},HI=function(t,e){var n={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},u$=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Hw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},d$=function(e){var n=$c(e,Ne.TITLE),s=$c(e,mf.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=$c(e,mf.DEFAULT_TITLE);return n||r||void 0},h$=function(e){return $c(e,mf.ON_CHANGE_CLIENT_STATE)||function(){}},Xx=function(e,n){return n.filter(function(s){return typeof s[e]<"u"}).map(function(s){return s[e]}).reduce(function(s,r){return ts({},s,r)},{})},f$=function(e,n){return n.filter(function(s){return typeof s[Ne.BASE]<"u"}).map(function(s){return s[Ne.BASE]}).reverse().reduce(function(s,r){if(!s.length)for(var i=Object.keys(r),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&r[c])return s.concat(r)}return s},[])},zd=function(e,n,s){var r={};return s.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&y$("Helmet: "+e+' should be of type "Array". Instead found type "'+a$(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(m){for(var g=void 0,y=Object.keys(m),b=0;b<y.length;b++){var _=y[b],v=_.toLowerCase();n.indexOf(v)!==-1&&!(g===It.REL&&m[g].toLowerCase()==="canonical")&&!(v===It.REL&&m[v].toLowerCase()==="stylesheet")&&(g=v),n.indexOf(_)!==-1&&(_===It.INNER_HTML||_===It.CSS_TEXT||_===It.ITEM_PROP)&&(g=_)}if(!g||!m[g])return!1;var x=m[g].toLowerCase();return r[g]||(r[g]={}),l[g]||(l[g]={}),r[g][x]?!1:(l[g][x]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=s$({},r[d],l[d]);r[d]=h}return i},[]).reverse()},$c=function(e,n){for(var s=e.length-1;s>=0;s--){var r=e[s];if(r.hasOwnProperty(n))return r[n]}return null},m$=function(e){return{baseTag:f$([It.HREF,It.TARGET],e),bodyAttributes:Xx(Yo.BODY,e),defer:$c(e,mf.DEFER),encode:$c(e,mf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Xx(Yo.HTML,e),linkTags:zd(Ne.LINK,[It.REL,It.HREF],e),metaTags:zd(Ne.META,[It.NAME,It.CHARSET,It.HTTPEQUIV,It.PROPERTY,It.ITEM_PROP],e),noscriptTags:zd(Ne.NOSCRIPT,[It.INNER_HTML],e),onChangeClientState:h$(e),scriptTags:zd(Ne.SCRIPT,[It.SRC,It.INNER_HTML],e),styleTags:zd(Ne.STYLE,[It.CSS_TEXT],e),title:d$(e),titleAttributes:Xx(Yo.TITLE,e)}},Gw=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Gw(e)},0)}}(),GI=function(e){return clearTimeout(e)},p$=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Gw:global.requestAnimationFrame||Gw,g$=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||GI:global.cancelAnimationFrame||GI,y$=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Bd=null,v$=function(e){Bd&&g$(Bd),e.defer?Bd=p$(function(){KI(e,function(){Bd=null})}):(KI(e),Bd=null)},KI=function(e,n){var s=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,m=e.title,g=e.titleAttributes;Kw(Ne.BODY,r),Kw(Ne.HTML,i),x$(m,g);var y={baseTag:Ql(Ne.BASE,s),linkTags:Ql(Ne.LINK,a),metaTags:Ql(Ne.META,l),noscriptTags:Ql(Ne.NOSCRIPT,c),scriptTags:Ql(Ne.SCRIPT,d),styleTags:Ql(Ne.STYLE,h)},b={},_={};Object.keys(y).forEach(function(v){var x=y[v],E=x.newTags,A=x.oldTags;E.length&&(b[v]=E),A.length&&(_[v]=y[v].oldTags)}),n&&n(),u(e,b,_)},c4=function(e){return Array.isArray(e)?e.join(""):e},x$=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=c4(e)),Kw(Ne.TITLE,n)},Kw=function(e,n){var s=document.getElementsByTagName(e)[0];if(s){for(var r=s.getAttribute(dr),i=r?r.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";s.getAttribute(u)!==d&&s.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var m=a.length-1;m>=0;m--)s.removeAttribute(a[m]);i.length===a.length?s.removeAttribute(dr):s.getAttribute(dr)!==l.join(",")&&s.setAttribute(dr,l.join(","))}},Ql=function(e,n){var s=document.head||document.querySelector(Ne.HEAD),r=s.querySelectorAll(e+"["+dr+"]"),i=Array.prototype.slice.call(r),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===It.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===It.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(dr,"true"),i.some(function(m,g){return l=g,u.isEqualNode(m)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:a}},u4=function(e){return Object.keys(e).reduce(function(n,s){var r=typeof e[s]<"u"?s+'="'+e[s]+'"':""+s;return n?n+" "+r:r},"")},b$=function(e,n,s,r){var i=u4(s),a=c4(n);return i?"<"+e+" "+dr+'="true" '+i+">"+Hw(a,r)+"</"+e+">":"<"+e+" "+dr+'="true">'+Hw(a,r)+"</"+e+">"},w$=function(e,n,s){return n.reduce(function(r,i){var a=Object.keys(i).filter(function(u){return!(u===It.INNER_HTML||u===It.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+Hw(i[d],s)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=i$.indexOf(e)===-1;return r+"<"+e+" "+dr+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},d4=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[i0[r]||r]=e[r],s},n)},_$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[r$[r]||r]=e[r],s},n)},T$=function(e,n,s){var r,i=(r={key:n},r[dr]=!0,r),a=d4(s,i);return[Jt.createElement(Ne.TITLE,a,n)]},E$=function(e,n){return n.map(function(s,r){var i,a=(i={key:r},i[dr]=!0,i);return Object.keys(s).forEach(function(l){var c=i0[l]||l;if(c===It.INNER_HTML||c===It.CSS_TEXT){var u=s.innerHTML||s.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=s[l]}),Jt.createElement(e,a)})},ei=function(e,n,s){switch(e){case Ne.TITLE:return{toComponent:function(){return T$(e,n.title,n.titleAttributes)},toString:function(){return b$(e,n.title,n.titleAttributes,s)}};case Yo.BODY:case Yo.HTML:return{toComponent:function(){return d4(n)},toString:function(){return u4(n)}};default:return{toComponent:function(){return E$(e,n)},toString:function(){return w$(e,n,s)}}}},h4=function(e){var n=e.baseTag,s=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,m=h===void 0?"":h,g=e.titleAttributes;return{base:ei(Ne.BASE,n,r),bodyAttributes:ei(Yo.BODY,s,r),htmlAttributes:ei(Yo.HTML,i,r),link:ei(Ne.LINK,a,r),meta:ei(Ne.META,l,r),noscript:ei(Ne.NOSCRIPT,c,r),script:ei(Ne.SCRIPT,u,r),style:ei(Ne.STYLE,d,r),title:ei(Ne.TITLE,{title:m,titleAttributes:g},r)}},S$=function(e){var n,s;return s=n=function(r){c$(i,r);function i(){return o$(this,i),u$(this,r.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!X7(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ne.SCRIPT:case Ne.NOSCRIPT:return{innerHTML:c};case Ne.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,m=l.nestedChildren;return ts({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[ts({},h,this.mapNestedChildrenToProps(u,m))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,m=l.newChildProps,g=l.nestedChildren;switch(d.type){case Ne.TITLE:return ts({},h,(c={},c[d.type]=g,c.titleAttributes=ts({},m),c));case Ne.BODY:return ts({},h,{bodyAttributes:ts({},m)});case Ne.HTML:return ts({},h,{htmlAttributes:ts({},m)})}return ts({},h,(u={},u[d.type]=ts({},m),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=ts({},c);return Object.keys(l).forEach(function(d){var h;u=ts({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Jt.Children.forEach(l,function(h){if(!(!h||!h.props)){var m=h.props,g=m.children,y=HI(m,["children"]),b=_$(y);switch(u.warnOnInvalidChildren(h,g),h.type){case Ne.LINK:case Ne.META:case Ne.NOSCRIPT:case Ne.SCRIPT:case Ne.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:b,nestedChildren:g});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:b,nestedChildren:g});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=HI(l,["children"]),d=ts({},u);return c&&(d=this.mapChildrenToProps(c,d)),Jt.createElement(e,d)},l$(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Jt.Component),n.propTypes={base:Nt.object,bodyAttributes:Nt.object,children:Nt.oneOfType([Nt.arrayOf(Nt.node),Nt.node]),defaultTitle:Nt.string,defer:Nt.bool,encodeSpecialCharacters:Nt.bool,htmlAttributes:Nt.object,link:Nt.arrayOf(Nt.object),meta:Nt.arrayOf(Nt.object),noscript:Nt.arrayOf(Nt.object),onChangeClientState:Nt.func,script:Nt.arrayOf(Nt.object),style:Nt.arrayOf(Nt.object),title:Nt.string,titleAttributes:Nt.object,titleTemplate:Nt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=h4({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},s},N$=function(){return null},A$=H7(m$,v$,h4)(N$),a0=S$(A$);a0.renderStatic=a0.rewind;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pf.apply(this,arguments)}var Ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ea||(Ea={}));const WI="popstate";function I$(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:a,hash:l}=s.location;return Ww("",{pathname:i,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:o0(r)}return j$(e,n,null,t)}function Lt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C$(){return Math.random().toString(36).substr(2,8)}function YI(t,e){return{usr:t.state,key:t.key,idx:e}}function Ww(t,e,n,s){return n===void 0&&(n=null),pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?td(e):e,{state:n,key:e&&e.key||s||C$()})}function o0(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function td(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function j$(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l=Ea.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(pf({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ea.Pop;let _=d(),v=_==null?null:_-u;u=_,c&&c({action:l,location:b.location,delta:v})}function m(_,v){l=Ea.Push;let x=Ww(b.location,_,v);n&&n(x,_),u=d()+1;let E=YI(x,u),A=b.createHref(x);try{a.pushState(E,"",A)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;r.location.assign(A)}i&&c&&c({action:l,location:b.location,delta:1})}function g(_,v){l=Ea.Replace;let x=Ww(b.location,_,v);n&&n(x,_),u=d();let E=YI(x,u),A=b.createHref(x);a.replaceState(E,"",A),i&&c&&c({action:l,location:b.location,delta:0})}function y(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,x=typeof _=="string"?_:o0(_);return x=x.replace(/ $/,"%20"),Lt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let b={get action(){return l},get location(){return t(r,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(WI,h),c=_,()=>{r.removeEventListener(WI,h),c=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let v=y(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:g,go(_){return a.go(_)}};return b}var QI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(QI||(QI={}));function R$(t,e,n){return n===void 0&&(n="/"),P$(t,e,n,!1)}function P$(t,e,n,s){let r=typeof e=="string"?td(e):e,i=yu(r.pathname||"/",n);if(i==null)return null;let a=f4(t);k$(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=q$(i);l=B$(a[c],u,s)}return l}function f4(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Lt(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Ma([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(Lt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),f4(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:F$(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of m4(i.path))r(i,a,c)}),e}function m4(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=m4(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function k$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:z$(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const D$=/^:[\w-]+$/,M$=3,O$=2,V$=1,L$=10,U$=-2,XI=t=>t==="*";function F$(t,e){let n=t.split("/"),s=n.length;return n.some(XI)&&(s+=U$),e&&(s+=O$),n.filter(r=>!XI(r)).reduce((r,i)=>r+(D$.test(i)?M$:i===""?V$:L$),s)}function z$(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function B$(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Ma([i,h.pathname]),pathnameBase:Y$(Ma([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ma([i,h.pathnameBase]))}return a}function l0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=$$(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let b=l[h]||"";a=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[h];return g&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function $$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function q$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const H$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G$=t=>H$.test(t);function K$(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?td(t):t,i;if(n)if(G$(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),IT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=JI(n.substring(1),"/"):i=JI(n,e)}else i=e;return{pathname:i,search:Q$(s),hash:X$(r)}}function JI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Jx(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function p4(t,e){let n=W$(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function g4(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=td(t):(r=pf({},t),Lt(!r.pathname||!r.pathname.includes("?"),Jx("?","pathname","search",r)),Lt(!r.pathname||!r.pathname.includes("#"),Jx("#","pathname","hash",r)),Lt(!r.search||!r.search.includes("#"),Jx("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=K$(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),Y$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Q$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,X$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y4=["post","put","patch","delete"];new Set(y4);const Z$=["get",...y4];new Set(Z$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gf.apply(this,arguments)}const ky=p.createContext(null),v4=p.createContext(null),uo=p.createContext(null),Dy=p.createContext(null),Vi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),x4=p.createContext(null);function eq(t,e){let{relative:n}=e===void 0?{}:e;om()||Lt(!1);let{basename:s,navigator:r}=p.useContext(uo),{hash:i,pathname:a,search:l}=My(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:Ma([s,a])),r.createHref({pathname:c,search:l,hash:i})}function om(){return p.useContext(Dy)!=null}function fs(){return om()||Lt(!1),p.useContext(Dy).location}function b4(t){p.useContext(uo).static||p.useLayoutEffect(t)}function nn(){let{isDataRoute:t}=p.useContext(Vi);return t?pq():tq()}function tq(){om()||Lt(!1);let t=p.useContext(ky),{basename:e,future:n,navigator:s}=p.useContext(uo),{matches:r}=p.useContext(Vi),{pathname:i}=fs(),a=JSON.stringify(p4(r,n.v7_relativeSplatPath)),l=p.useRef(!1);return b4(()=>{l.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=g4(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ma([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,t])}const w4=p.createContext(null);function rr(){return p.useContext(w4)}function nq(t){let e=p.useContext(Vi).outlet;return e&&p.createElement(w4.Provider,{value:t},e)}function sq(){let{matches:t}=p.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function My(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=p.useContext(uo),{matches:r}=p.useContext(Vi),{pathname:i}=fs(),a=JSON.stringify(p4(r,s.v7_relativeSplatPath));return p.useMemo(()=>g4(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function rq(t,e){return iq(t,e)}function iq(t,e,n,s){om()||Lt(!1);let{navigator:r}=p.useContext(uo),{matches:i}=p.useContext(Vi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=fs(),d;if(e){var h;let _=typeof e=="string"?td(e):e;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||Lt(!1),d=_}else d=u;let m=d.pathname||"/",g=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=R$(t,{pathname:g}),b=uq(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ma([c,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ma([c,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,s);return e&&b?p.createElement(Dy.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ea.Pop}},b):b}function aq(){let t=mq(),e=J$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:r},n):null,i)}const oq=p.createElement(aq,null);class lq extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Vi.Provider,{value:this.props.routeContext},p.createElement(x4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cq(t){let{routeContext:e,match:n,children:s}=t,r=p.useContext(ky);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Vi.Provider,{value:e},s)}function uq(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Lt(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:g}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let g,y=!1,b=null,_=null;n&&(g=l&&h.route.id?l[h.route.id]:void 0,b=h.route.errorElement||oq,c&&(u<0&&m===0?(gq("route-fallback",!1),y=!0,_=null):u===m&&(y=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),x=()=>{let E;return g?E=b:y?E=_:h.route.Component?E=p.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,p.createElement(cq,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?p.createElement(lq,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var _4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_4||{}),c0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(c0||{});function dq(t){let e=p.useContext(ky);return e||Lt(!1),e}function hq(t){let e=p.useContext(v4);return e||Lt(!1),e}function fq(t){let e=p.useContext(Vi);return e||Lt(!1),e}function T4(t){let e=fq(),n=e.matches[e.matches.length-1];return n.route.id||Lt(!1),n.route.id}function mq(){var t;let e=p.useContext(x4),n=hq(c0.UseRouteError),s=T4(c0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function pq(){let{router:t}=dq(_4.UseNavigateStable),e=T4(c0.UseNavigateStable),n=p.useRef(!1);return b4(()=>{n.current=!0}),p.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,gf({fromRouteId:e},i)))},[t,e])}const ZI={};function gq(t,e,n){!e&&!ZI[t]&&(ZI[t]=!0)}function yq(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function CT(t){return nq(t.context)}function Be(t){Lt(!1)}function vq(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Ea.Pop,navigator:i,static:a=!1,future:l}=t;om()&&Lt(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:a,future:gf({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=td(s));let{pathname:d="/",search:h="",hash:m="",state:g=null,key:y="default"}=s,b=p.useMemo(()=>{let _=yu(d,c);return _==null?null:{location:{pathname:_,search:h,hash:m,state:g,key:y},navigationType:r}},[c,d,h,m,g,y,r]);return b==null?null:p.createElement(uo.Provider,{value:u},p.createElement(Dy.Provider,{children:n,value:b}))}function xq(t){let{children:e,location:n}=t;return rq(Yw(e),n)}new Promise(()=>{});function Yw(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(s,r)=>{if(!p.isValidElement(s))return;let i=[...e,r];if(s.type===p.Fragment){n.push.apply(n,Yw(s.props.children,i));return}s.type!==Be&&Lt(!1),!s.props.index||!s.props.children||Lt(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Yw(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},u0.apply(this,arguments)}function E4(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function bq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wq(t,e){return t.button===0&&(!e||e==="_self")&&!bq(t)}const _q=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Eq="6";try{window.__reactRouterVersion=Eq}catch{}const Sq=p.createContext({isTransitioning:!1}),Nq="startTransition",e2=my[Nq];function Aq(t){let{basename:e,children:n,future:s,window:r}=t,i=p.useRef();i.current==null&&(i.current=I$({window:r,v5Compat:!0}));let a=i.current,[l,c]=p.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=p.useCallback(h=>{u&&e2?e2(()=>c(h)):c(h)},[c,u]);return p.useLayoutEffect(()=>a.listen(d),[a,d]),p.useEffect(()=>yq(s),[s]),p.createElement(vq,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const Iq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=p.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=E4(e,_q),{basename:g}=p.useContext(uo),y,b=!1;if(typeof u=="string"&&Cq.test(u)&&(y=u,Iq))try{let E=new URL(window.location.href),A=u.startsWith("//")?new URL(E.protocol+u):new URL(u),I=yu(A.pathname,g);A.origin===E.origin&&I!=null?u=I+A.search+A.hash:b=!0}catch{}let _=eq(u,{relative:r}),v=Rq(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function x(E){s&&s(E),E.defaultPrevented||v(E)}return p.createElement("a",u0({},m,{href:y||_,onClick:b||i?s:x,ref:n,target:c}))}),S4=p.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,h=E4(e,Tq),m=My(c,{relative:h.relative}),g=fs(),y=p.useContext(v4),{navigator:b,basename:_}=p.useContext(uo),v=y!=null&&Pq(m)&&u===!0,x=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,E=g.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,x=x.toLowerCase()),A&&_&&(A=yu(A,_)||A);const I=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let R=E===x||!a&&E.startsWith(x)&&E.charAt(I)==="/",S=A!=null&&(A===x||!a&&A.startsWith(x)&&A.charAt(x.length)==="/"),T={isActive:R,isPending:S,isTransitioning:v},C=R?s:void 0,j;typeof i=="function"?j=i(T):j=[i,R?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(T):l;return p.createElement(rt,u0({},h,{"aria-current":C,className:j,ref:n,style:P,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Qw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Qw||(Qw={}));var t2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(t2||(t2={}));function jq(t){let e=p.useContext(ky);return e||Lt(!1),e}function Rq(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=nn(),u=fs(),d=My(t,{relative:a});return p.useCallback(h=>{if(wq(h,n)){h.preventDefault();let m=s!==void 0?s:o0(u)===o0(d);c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,s,r,n,t,i,a,l])}function Pq(t,e){e===void 0&&(e={});let n=p.useContext(Sq);n==null&&Lt(!1);let{basename:s}=jq(Qw.useViewTransitionState),r=My(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=yu(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=yu(n.nextLocation.pathname,s)||n.nextLocation.pathname;return l0(r.pathname,a)!=null||l0(r.pathname,i)!=null}function N4(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=N4(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function A4(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=N4(t))&&(s&&(s+=" "),s+=e);return s}const jT="-",kq=t=>{const e=Mq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(jT);return l[0]===""&&l.length!==1&&l.shift(),I4(l,e)||Dq(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},I4=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?I4(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(jT);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},n2=/^\[(.+)\]$/,Dq=t=>{if(n2.test(t)){const e=n2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Mq=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return Vq(Object.entries(t.classGroups),n).forEach(([i,a])=>{Xw(a,s,i,e)}),s},Xw=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:s2(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(Oq(r)){Xw(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Xw(a,s2(e,i),n,s)})})},s2=(t,e)=>{let n=t;return e.split(jT).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Oq=t=>t.isThemeGetter,Vq=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,r]}):t,Lq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},C4="!",Uq=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let v=l[_];if(u===0){if(v===r&&(s||l.slice(_,_+i)===e)){c.push(l.slice(d,_)),d=_+i;continue}if(v==="/"){h=_;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),g=m.startsWith(C4),y=g?m.substring(1):m,b=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:g,baseClassName:y,maybePostfixModifierPosition:b}};return n?l=>n({className:l,parseClassName:a}):a},Fq=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},zq=t=>({cache:Lq(t.cacheSize),parseClassName:Uq(t),...kq(t)}),Bq=/\s+/,$q=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(Bq);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}=n(u);let y=!!g,b=s(y?m.substring(0,g):m);if(!b){if(!y){l=u+(l.length>0?" "+l:l);continue}if(b=s(m),!b){l=u+(l.length>0?" "+l:l);continue}y=!1}const _=Fq(d).join(":"),v=h?_+C4:_,x=v+b;if(i.includes(x))continue;i.push(x);const E=r(b,y);for(let A=0;A<E.length;++A){const I=E[A];i.push(v+I)}l=u+(l.length>0?" "+l:l)}return l};function qq(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=j4(e))&&(s&&(s+=" "),s+=n);return s}const j4=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=j4(t[s]))&&(n&&(n+=" "),n+=e);return n};function Hq(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=zq(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=$q(c,n);return r(c,d),d}return function(){return i(qq.apply(null,arguments))}}const xt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},R4=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gq=/^\d+\/\d+$/,Kq=new Set(["px","full","screen"]),Wq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Yq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Xq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=t=>qc(t)||Kq.has(t)||Gq.test(t),Xi=t=>nd(t,"length",aH),qc=t=>!!t&&!Number.isNaN(Number(t)),Zx=t=>nd(t,"number",qc),$d=t=>!!t&&Number.isInteger(Number(t)),Zq=t=>t.endsWith("%")&&qc(t.slice(0,-1)),je=t=>R4.test(t),Ji=t=>Wq.test(t),eH=new Set(["length","size","percentage"]),tH=t=>nd(t,eH,P4),nH=t=>nd(t,"position",P4),sH=new Set(["image","url"]),rH=t=>nd(t,sH,lH),iH=t=>nd(t,"",oH),qd=()=>!0,nd=(t,e,n)=>{const s=R4.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},aH=t=>Yq.test(t)&&!Qq.test(t),P4=()=>!1,oH=t=>Xq.test(t),lH=t=>Jq.test(t),cH=()=>{const t=xt("colors"),e=xt("spacing"),n=xt("blur"),s=xt("brightness"),r=xt("borderColor"),i=xt("borderRadius"),a=xt("borderSpacing"),l=xt("borderWidth"),c=xt("contrast"),u=xt("grayscale"),d=xt("hueRotate"),h=xt("invert"),m=xt("gap"),g=xt("gradientColorStops"),y=xt("gradientColorStopPositions"),b=xt("inset"),_=xt("margin"),v=xt("opacity"),x=xt("padding"),E=xt("saturate"),A=xt("scale"),I=xt("sepia"),R=xt("skew"),S=xt("space"),T=xt("translate"),C=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",je,e],M=()=>[je,e],k=()=>["",ti,Xi],$=()=>["auto",qc,je],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",je],ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ge=()=>[qc,je];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[ti,Xi],blur:["none","",Ji,je],brightness:ge(),borderColor:[t],borderRadius:["none","","full",Ji,je],borderSpacing:M(),borderWidth:k(),contrast:ge(),grayscale:W(),hueRotate:ge(),invert:W(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[Zq,Xi],inset:P(),margin:P(),opacity:ge(),padding:M(),saturate:ge(),scale:ge(),sepia:W(),skew:ge(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",je]}],container:["container"],columns:[{columns:[Ji]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),je]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$d,je]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",je]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",$d,je]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",$d,je]},je]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[$d,je]},je]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",je]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",je]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",je,e]}],"min-w":[{"min-w":[je,e,"min","max","fit"]}],"max-w":[{"max-w":[je,e,"none","full","min","max","fit","prose",{screen:[Ji]},Ji]}],h:[{h:[je,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[je,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[je,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ji,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zx]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",je]}],"line-clamp":[{"line-clamp":["none",qc,Zx]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,je]}],"list-image":[{"list-image":["none",je]}],"list-style-type":[{list:["none","disc","decimal",je]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Xi]}],"underline-offset":[{"underline-offset":["auto",ti,je]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),nH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},rH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:V()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[ti,je]}],"outline-w":[{outline:[ti,Xi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ti,Xi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ji,iH]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ji,je]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[I]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[I]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",je]}],duration:[{duration:ge()}],ease:[{ease:["linear","in","out","in-out",je]}],delay:[{delay:ge()}],animate:[{animate:["none","spin","ping","pulse","bounce",je]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[$d,je]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",je]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",je]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",je]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ti,Xi,Zx]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uH=Hq(cH);function me(...t){return uH(A4(t))}function rs(t){const e=String(t??"").replace(/[^0-9.,-]/g,"").replace(/,/g,""),n=parseFloat(e);return Number.isFinite(n)?n:0}function ct(t,e="en-EG"){try{return new Intl.NumberFormat(e,{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(Number(t||0))}catch{return`EGP ${Number(t||0).toFixed(2)}`}}const yf=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=r=>{const i=new Image;i.src=r.target.result,i.onload=()=>{const a=document.createElement("canvas"),l=800,c=800;let u=i.width,d=i.height;u>d?u>l&&(d*=l/u,u=l):d>c&&(u*=c/d,d=c),a.width=u,a.height=d,a.getContext("2d").drawImage(i,0,0,u,d),e(a.toDataURL("image/jpeg",.7))},i.onerror=a=>n(a)},s.onerror=r=>n(r)});function de(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function r2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ho(...t){return e=>{let n=!1;const s=t.map(r=>{const i=r2(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():r2(t[r],null)}}}}function ft(...t){return p.useCallback(ho(...t),t)}function dH(t,e){const n=p.createContext(e),s=i=>{const{children:a,...l}=i,c=p.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(i){const a=p.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Kr(t,e=[]){let n=[];function s(i,a){const l=p.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:m,children:g,...y}=h,b=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,_=p.useMemo(()=>y,Object.values(y));return o.jsx(b.Provider,{value:_,children:g})};u.displayName=i+"Provider";function d(h,m){var b;const g=((b=m==null?void 0:m[t])==null?void 0:b[c])||l,y=p.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>p.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,hH(r,...e)]}function hH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function i2(t){const e=fH(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(pH);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function fH(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=yH(r),l=gH(i,r.props);return r.type!==p.Fragment&&(l.ref=s?ho(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mH=Symbol("radix.slottable");function pH(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mH}function gH(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function yH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Oy(t){const e=t+"CollectionProvider",[n,s]=Kr(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=b=>{const{scope:_,children:v}=b,x=Jt.useRef(null),E=Jt.useRef(new Map).current;return o.jsx(r,{scope:_,itemMap:E,collectionRef:x,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=i2(l),u=Jt.forwardRef((b,_)=>{const{scope:v,children:x}=b,E=i(l,v),A=ft(_,E.collectionRef);return o.jsx(c,{ref:A,children:x})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=i2(d),g=Jt.forwardRef((b,_)=>{const{scope:v,children:x,...E}=b,A=Jt.useRef(null),I=ft(_,A),R=i(d,v);return Jt.useEffect(()=>(R.itemMap.set(A,{ref:A,...E}),()=>void R.itemMap.delete(A))),o.jsx(m,{[h]:"",ref:I,children:x})});g.displayName=d;function y(b){const _=i(t+"CollectionConsumer",b);return Jt.useCallback(()=>{const x=_.collectionRef.current;if(!x)return[];const E=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((R,S)=>E.indexOf(R.ref.current)-E.indexOf(S.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:u,ItemSlot:g},y,s]}function vH(t){const e=xH(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(wH);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function xH(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=TH(r),l=_H(i,r.props);return r.type!==p.Fragment&&(l.ref=s?ho(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var bH=Symbol("radix.slottable");function wH(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===bH}function _H(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function TH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var EH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Me=EH.reduce((t,e)=>{const n=vH(`Primitive.${e}`),s=p.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function RT(t,e){t&&Wf.flushSync(()=>t.dispatchEvent(e))}function ks(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function SH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t);p.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var NH="DismissableLayer",Jw="dismissableLayer.update",AH="dismissableLayer.pointerDownOutside",IH="dismissableLayer.focusOutside",a2,k4=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vy=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=p.useContext(k4),[d,h]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),y=ft(e,S=>h(S)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(_),x=d?b.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,A=x>=v,I=jH(S=>{const T=S.target,C=[...u.branches].some(j=>j.contains(T));!A||C||(r==null||r(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),R=RH(S=>{const T=S.target;[...u.branches].some(j=>j.contains(T))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return SH(S=>{x===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),p.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),o2(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=a2)}},[d,m,n,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),o2())},[d,u]),p.useEffect(()=>{const S=()=>g({});return document.addEventListener(Jw,S),()=>document.removeEventListener(Jw,S)},[]),o.jsx(Me.div,{...c,ref:y,style:{pointerEvents:E?A?"auto":"none":void 0,...t.style},onFocusCapture:de(t.onFocusCapture,R.onFocusCapture),onBlurCapture:de(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:de(t.onPointerDownCapture,I.onPointerDownCapture)})});Vy.displayName=NH;var CH="DismissableLayerBranch",D4=p.forwardRef((t,e)=>{const n=p.useContext(k4),s=p.useRef(null),r=ft(e,s);return p.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Me.div,{...t,ref:r})});D4.displayName=CH;function jH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),s=p.useRef(!1),r=p.useRef(()=>{});return p.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){M4(AH,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function RH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),s=p.useRef(!1);return p.useEffect(()=>{const r=i=>{i.target&&!s.current&&M4(IH,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function o2(){const t=new CustomEvent(Jw);document.dispatchEvent(t)}function M4(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?RT(r,i):r.dispatchEvent(i)}var PH=Vy,kH=D4,Si=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},DH="Portal",Ly=p.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=p.useState(!1);Si(()=>i(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?rz.createPortal(o.jsx(Me.div,{...s,ref:e}),a):null});Ly.displayName=DH;function MH(t,e){return p.useReducer((n,s)=>e[n][s]??n,t)}var vr=t=>{const{present:e,children:n}=t,s=OH(e),r=typeof n=="function"?n({present:s.isPresent}):p.Children.only(n),i=ft(s.ref,VH(r));return typeof n=="function"||s.isPresent?p.cloneElement(r,{ref:i}):null};vr.displayName="Presence";function OH(t){const[e,n]=p.useState(),s=p.useRef(null),r=p.useRef(t),i=p.useRef("none"),a=t?"mounted":"unmounted",[l,c]=MH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=gp(s.current);i.current=l==="mounted"?u:"none"},[l]),Si(()=>{const u=s.current,d=r.current;if(d!==t){const m=i.current,g=gp(u);t?c("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Si(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=g=>{const b=gp(s.current).includes(CSS.escape(g.animationName));if(g.target===e&&b&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=g=>{g.target===e&&(i.current=gp(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:p.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function gp(t){return(t==null?void 0:t.animationName)||"none"}function VH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var LH=my[" useInsertionEffect ".trim().toString()]||Si;function kl({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=UH({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=p.useCallback(d=>{var h;if(l){const m=FH(d)?d(t):d;m!==t&&((h=a.current)==null||h.call(a,m))}else i(d)},[l,t,i,a]);return[c,u]}function UH({defaultProp:t,onChange:e}){const[n,s]=p.useState(t),r=p.useRef(n),i=p.useRef(e);return LH(()=>{i.current=e},[e]),p.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function FH(t){return typeof t=="function"}var zH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BH="VisuallyHidden",PT=p.forwardRef((t,e)=>o.jsx(Me.span,{...t,ref:e,style:{...zH,...t.style}}));PT.displayName=BH;var kT="ToastProvider",[DT,$H,qH]=Oy("Toast"),[O4,sme]=Kr("Toast",[qH]),[HH,Uy]=O4(kT),V4=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[l,c]=p.useState(null),[u,d]=p.useState(0),h=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${kT}\`. Expected non-empty \`string\`.`),o.jsx(DT.Provider,{scope:e,children:o.jsx(HH,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};V4.displayName=kT;var L4="ToastViewport",GH=["F8"],Zw="toast.viewportPause",e1="toast.viewportResume",U4=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=GH,label:r="Notifications ({hotkey})",...i}=t,a=Uy(L4,n),l=$H(n),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),h=p.useRef(null),m=ft(e,h,a.onViewportChange),g=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;p.useEffect(()=>{const _=v=>{var E;s.length!==0&&s.every(A=>v[A]||v.code===A)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),p.useEffect(()=>{const _=c.current,v=h.current;if(y&&_&&v){const x=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(Zw);v.dispatchEvent(R),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(e1);v.dispatchEvent(R),a.isClosePausedRef.current=!1}},A=R=>{!_.contains(R.relatedTarget)&&E()},I=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",x),_.addEventListener("focusout",A),_.addEventListener("pointermove",x),_.addEventListener("pointerleave",I),window.addEventListener("blur",x),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",x),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",x),_.removeEventListener("pointerleave",I),window.removeEventListener("blur",x),window.removeEventListener("focus",E)}}},[y,a.isClosePausedRef]);const b=p.useCallback(({tabbingDirection:_})=>{const x=l().map(E=>{const A=E.ref.current,I=[A,...iG(A)];return _==="forwards"?I:I.reverse()});return(_==="forwards"?x.reverse():x).flat()},[l]);return p.useEffect(()=>{const _=h.current;if(_){const v=x=>{var I,R,S;const E=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!E){const T=document.activeElement,C=x.shiftKey;if(x.target===_&&C){(I=u.current)==null||I.focus();return}const M=b({tabbingDirection:C?"backwards":"forwards"}),k=M.findIndex($=>$===T);eb(M.slice(k+1))?x.preventDefault():C?(R=u.current)==null||R.focus():(S=d.current)==null||S.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[l,b]),o.jsxs(kH,{ref:c,role:"region","aria-label":r.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(t1,{ref:u,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"forwards"});eb(_)}}),o.jsx(DT.Slot,{scope:n,children:o.jsx(Me.ol,{tabIndex:-1,...i,ref:m})}),y&&o.jsx(t1,{ref:d,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"backwards"});eb(_)}})]})});U4.displayName=L4;var F4="ToastFocusProxy",t1=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Uy(F4,n);return o.jsx(PT,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});t1.displayName=F4;var lm="Toast",KH="toast.swipeStart",WH="toast.swipeMove",YH="toast.swipeCancel",QH="toast.swipeEnd",z4=p.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[l,c]=kl({prop:s,defaultProp:r??!0,onChange:i,caller:lm});return o.jsx(vr,{present:n||l,children:o.jsx(ZH,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:ks(t.onPause),onResume:ks(t.onResume),onSwipeStart:de(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:de(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:de(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:de(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});z4.displayName=lm;var[XH,JH]=O4(lm,{onClose(){}}),ZH=p.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:g,...y}=t,b=Uy(lm,n),[_,v]=p.useState(null),x=ft(e,$=>v($)),E=p.useRef(null),A=p.useRef(null),I=r||b.duration,R=p.useRef(0),S=p.useRef(I),T=p.useRef(0),{onToastAdd:C,onToastRemove:j}=b,P=ks(()=>{var z;(_==null?void 0:_.contains(document.activeElement))&&((z=b.viewport)==null||z.focus()),a()}),M=p.useCallback($=>{!$||$===1/0||(window.clearTimeout(T.current),R.current=new Date().getTime(),T.current=window.setTimeout(P,$))},[P]);p.useEffect(()=>{const $=b.viewport;if($){const z=()=>{M(S.current),u==null||u()},V=()=>{const q=new Date().getTime()-R.current;S.current=S.current-q,window.clearTimeout(T.current),c==null||c()};return $.addEventListener(Zw,V),$.addEventListener(e1,z),()=>{$.removeEventListener(Zw,V),$.removeEventListener(e1,z)}}},[b.viewport,I,c,u,M]),p.useEffect(()=>{i&&!b.isClosePausedRef.current&&M(I)},[i,I,b.isClosePausedRef,M]),p.useEffect(()=>(C(),()=>j()),[C,j]);const k=p.useMemo(()=>_?W4(_):null,[_]);return b.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(eG,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:k}),o.jsx(XH,{scope:n,onClose:P,children:Wf.createPortal(o.jsx(DT.ItemSlot,{scope:n,children:o.jsx(PH,{asChild:!0,onEscapeKeyDown:de(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||P(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Me.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":b.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:de(t.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:de(t.onPointerDown,$=>{$.button===0&&(E.current={x:$.clientX,y:$.clientY})}),onPointerMove:de(t.onPointerMove,$=>{if(!E.current)return;const z=$.clientX-E.current.x,V=$.clientY-E.current.y,q=!!A.current,F=["left","right"].includes(b.swipeDirection),W=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ae=F?W(0,z):0,ge=F?0:W(0,V),ze=$.pointerType==="touch"?10:2,Ze={x:ae,y:ge},O={originalEvent:$,delta:Ze};q?(A.current=Ze,yp(WH,h,O,{discrete:!1})):l2(Ze,b.swipeDirection,ze)?(A.current=Ze,yp(KH,d,O,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(z)>ze||Math.abs(V)>ze)&&(E.current=null)}),onPointerUp:de(t.onPointerUp,$=>{const z=A.current,V=$.target;if(V.hasPointerCapture($.pointerId)&&V.releasePointerCapture($.pointerId),A.current=null,E.current=null,z){const q=$.currentTarget,F={originalEvent:$,delta:z};l2(z,b.swipeDirection,b.swipeThreshold)?yp(QH,g,F,{discrete:!0}):yp(YH,m,F,{discrete:!0}),q.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),eG=t=>{const{__scopeToast:e,children:n,...s}=t,r=Uy(lm,e),[i,a]=p.useState(!1),[l,c]=p.useState(!1);return sG(()=>a(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ly,{asChild:!0,children:o.jsx(PT,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},tG="ToastTitle",B4=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});B4.displayName=tG;var nG="ToastDescription",$4=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});$4.displayName=nG;var q4="ToastAction",H4=p.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?o.jsx(K4,{altText:n,asChild:!0,children:o.jsx(MT,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${q4}\`. Expected non-empty \`string\`.`),null)});H4.displayName=q4;var G4="ToastClose",MT=p.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=JH(G4,n);return o.jsx(K4,{asChild:!0,children:o.jsx(Me.button,{type:"button",...s,ref:e,onClick:de(t.onClick,r.onClose)})})});MT.displayName=G4;var K4=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return o.jsx(Me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function W4(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),rG(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...W4(s))}}),e}function yp(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?RT(r,i):r.dispatchEvent(i)}var l2=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function sG(t=()=>{}){const e=ks(t);Si(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function rG(t){return t.nodeType===t.ELEMENT_NODE}function iG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function eb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var aG=V4,Y4=U4,Q4=z4,X4=B4,J4=$4,Z4=H4,eO=MT;const c2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,u2=A4,cm=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return u2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=c2(d)||c2(h);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(y=>{let[b,_]=y;return Array.isArray(_)?_.includes({...i,...l}[b]):{...i,...l}[b]===_})?[...u,h,m]:u},[]);return u2(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>p.createElement("svg",{ref:c,...lG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:tO("lucide",r),...l},[...a.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=(t,e)=>{const n=p.forwardRef(({className:s,...r},i)=>p.createElement(cG,{ref:i,iconNode:e,className:tO(`lucide-${oG(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=se("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dG=se("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=se("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=se("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=se("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=se("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gG=se("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=se("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=se("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=se("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=se("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=se("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=se("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=se("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=se("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=se("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=se("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sO=se("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=se("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=se("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=se("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=se("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=se("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=se("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=se("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=se("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iO=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=se("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=se("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=se("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=se("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=se("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=se("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=se("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=se("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=se("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=se("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=se("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=se("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=se("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=se("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=se("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=se("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=se("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=se("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=se("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=se("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=se("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=se("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=se("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=se("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=se("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=se("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=se("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=se("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),MG=aG,oO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(Y4,{ref:n,className:me("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));oO.displayName=Y4.displayName;const OG=cm("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",success:"group border-teal-600 bg-teal-600 text-white"}},defaultVariants:{variant:"default"}}),lO=Jt.forwardRef(({className:t,variant:e,...n},s)=>o.jsx(Q4,{ref:s,className:me(OG({variant:e}),t),...n}));lO.displayName=Q4.displayName;const VG=Jt.forwardRef(({className:t,...e},n)=>o.jsx(Z4,{ref:n,className:me("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));VG.displayName=Z4.displayName;const cO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(eO,{ref:n,className:me("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Ni,{className:"h-4 w-4"})}));cO.displayName=eO.displayName;const uO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(X4,{ref:n,className:me("text-sm font-semibold",t),...e}));uO.displayName=X4.displayName;const dO=Jt.forwardRef(({className:t,...e},n)=>o.jsx(J4,{ref:n,className:me("text-sm opacity-90",t),...e}));dO.displayName=J4.displayName;const LG=1;let sb=0;function UG(){return sb=(sb+1)%Number.MAX_VALUE,sb.toString()}const zn={state:{toasts:[]},listeners:[],getState:()=>zn.state,setState:t=>{typeof t=="function"?zn.state=t(zn.state):zn.state={...zn.state,...t},zn.listeners.forEach(e=>e(zn.state))},subscribe:t=>(zn.listeners.push(t),()=>{zn.listeners=zn.listeners.filter(e=>e!==t)})},FG=({...t})=>{const e=UG(),n=r=>zn.setState(i=>({...i,toasts:i.toasts.map(a=>a.id===e?{...a,...r}:a)})),s=()=>zn.setState(r=>({...r,toasts:r.toasts.filter(i=>i.id!==e)}));return zn.setState(r=>({...r,toasts:[{...t,id:e,dismiss:s},...r.toasts].slice(0,LG)})),{id:e,dismiss:s,update:n}};function Ut(){const[t,e]=p.useState(zn.getState());return p.useEffect(()=>zn.subscribe(s=>{e(s)}),[]),p.useEffect(()=>{const n=[];return t.toasts.forEach(s=>{if(s.duration===1/0)return;const r=setTimeout(()=>{s.dismiss()},s.duration||5e3);n.push(r)}),()=>{n.forEach(s=>clearTimeout(s))}},[t.toasts]),{toast:FG,toasts:t.toasts}}function zG(){const{toasts:t}=Ut();return o.jsxs(MG,{children:[t.map(({id:e,title:n,description:s,action:r,dismiss:i,...a})=>o.jsxs(lO,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(uO,{children:n}),s&&o.jsx(dO,{children:s})]}),r,o.jsx(cO,{})]},e)),o.jsx(oO,{})]})}const BG=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},$G=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},fO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,g=u&63;c||(g=64,a||(m=64)),s.push(n[d],n[h],n[m],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$G(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||h==null)throw new qG;const m=i<<2|l>>4;if(s.push(m),u!==64){const g=l<<4&240|u>>2;if(s.push(g),h!==64){const y=u<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HG=function(t){const e=hO(t);return fO.encodeByteArray(e,!0)},f0=function(t){return HG(t).replace(/\./g,"")},mO=function(t){try{return fO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG=()=>pO().__FIREBASE_DEFAULTS__,KG=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mO(t[1]);return e&&JSON.parse(e)},By=()=>{try{return BG()||GG()||KG()||WG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gO=t=>{var e,n;return(n=(e=By())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yO=t=>{const e=gO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},vO=()=>{var t;return(t=By())==null?void 0:t.config},xO=t=>{var e;return(e=By())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $y(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[f0(JSON.stringify(n)),f0(JSON.stringify(a)),l].join(".")}const jh={};function QG(){const t={prod:[],emulator:[]};for(const e of Object.keys(jh))jh[e]?t.emulator.push(e):t.prod.push(e);return t}function XG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _2=!1;function HT(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||jh[t]===e||jh[t]||_2)return;jh[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=QG().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_2=!0,a()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=XG(s),g=n("text"),y=document.getElementById(g)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;l(E),d(_,b);const A=u();c(x,v),E.append(x,y,_,A),document.body.appendChild(E)}i?(y.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function wO(){var e;const t=(e=By())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function eK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tK(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _O(){return!wO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TO(){return!wO()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qy(){try{return typeof indexedDB=="object"}catch{return!1}}function KT(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function EO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nK,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?sK(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Vs(r,l,s)}}function sK(t,e){return t.replace(rK,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const rK=/\{\$([^}]+)}/g;function iK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ai(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(T2(i)&&T2(a)){if(!Ai(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function T2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function aK(t,e){const n=new oK(t,e);return n.subscribe.bind(n)}class oK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lK(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=rb),r.error===void 0&&(r.error=rb),r.complete===void 0&&(r.complete=rb);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rb(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=1e3,uK=2,dK=4*60*60*1e3,hK=.5;function E2(t,e=cK,n=uK){const s=e*Math.pow(n,t),r=Math.round(hK*s*(Math.random()-.5)*2);return Math.min(dK,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new YG;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pK(e))try{this.getOrInitializeService({instanceIdentifier:jo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=jo){return this.instances.has(e)}getOptions(e=jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mK(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=jo){return this.component?this.component.multipleInstances?e:jo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mK(t){return t===jo?void 0:t}function pK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new fK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const yK={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},vK=Pe.INFO,xK={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},bK=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=xK[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dm{constructor(e){this.name=e,this._logLevel=vK,this._logHandler=bK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const wK=(t,e)=>e.some(n=>t instanceof n);let S2,N2;function _K(){return S2||(S2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TK(){return N2||(N2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SO=new WeakMap,l1=new WeakMap,NO=new WeakMap,ib=new WeakMap,WT=new WeakMap;function EK(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Va(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&SO.set(n,t)}).catch(()=>{}),WT.set(e,t),e}function SK(t){if(l1.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});l1.set(t,e)}let c1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return l1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function NK(t){c1=t(c1)}function AK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ab(this),e,...n);return NO.set(s,e.sort?e.sort():[e]),Va(s)}:TK().includes(t)?function(...e){return t.apply(ab(this),e),Va(SO.get(this))}:function(...e){return Va(t.apply(ab(this),e))}}function IK(t){return typeof t=="function"?AK(t):(t instanceof IDBTransaction&&SK(t),wK(t,_K())?new Proxy(t,c1):t)}function Va(t){if(t instanceof IDBRequest)return EK(t);if(ib.has(t))return ib.get(t);const e=IK(t);return e!==t&&(ib.set(t,e),WT.set(e,t)),e}const ab=t=>WT.get(t);function AO(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=Va(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Va(a.result),c.oldVersion,c.newVersion,Va(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const CK=["get","getKey","getAll","getAllKeys","count"],jK=["put","add","delete","clear"],ob=new Map;function A2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ob.get(e))return ob.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=jK.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||CK.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return ob.set(e,i),i}NK(t=>({...t,get:(e,n,s)=>A2(e,n)||t.get(e,n,s),has:(e,n)=>!!A2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PK(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function PK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const u1="@firebase/app",I2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new dm("@firebase/app"),kK="@firebase/app-compat",DK="@firebase/analytics-compat",MK="@firebase/analytics",OK="@firebase/app-check-compat",VK="@firebase/app-check",LK="@firebase/auth",UK="@firebase/auth-compat",FK="@firebase/database",zK="@firebase/data-connect",BK="@firebase/database-compat",$K="@firebase/functions",qK="@firebase/functions-compat",HK="@firebase/installations",GK="@firebase/installations-compat",KK="@firebase/messaging",WK="@firebase/messaging-compat",YK="@firebase/performance",QK="@firebase/performance-compat",XK="@firebase/remote-config",JK="@firebase/remote-config-compat",ZK="@firebase/storage",eW="@firebase/storage-compat",tW="@firebase/firestore",nW="@firebase/ai",sW="@firebase/firestore-compat",rW="firebase",iW="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="[DEFAULT]",aW={[u1]:"fire-core",[kK]:"fire-core-compat",[MK]:"fire-analytics",[DK]:"fire-analytics-compat",[VK]:"fire-app-check",[OK]:"fire-app-check-compat",[LK]:"fire-auth",[UK]:"fire-auth-compat",[FK]:"fire-rtdb",[zK]:"fire-data-connect",[BK]:"fire-rtdb-compat",[$K]:"fire-fn",[qK]:"fire-fn-compat",[HK]:"fire-iid",[GK]:"fire-iid-compat",[KK]:"fire-fcm",[WK]:"fire-fcm-compat",[YK]:"fire-perf",[QK]:"fire-perf-compat",[XK]:"fire-rc",[JK]:"fire-rc-compat",[ZK]:"fire-gcs",[eW]:"fire-gcs-compat",[tW]:"fire-fst",[sW]:"fire-fst-compat",[nW]:"fire-vertex","fire-js":"fire-js",[rW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map,oW=new Map,h1=new Map;function C2(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(h1.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;h1.set(e,t);for(const n of m0.values())C2(n,t);for(const n of oW.values())C2(n,t);return!0}function Ui(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function as(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new Dl("app","Firebase",lW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cW{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=iW;function IO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:d1,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw La.create("bad-app-name",{appName:String(r)});if(n||(n=vO()),!n)throw La.create("no-options");const i=m0.get(r);if(i){if(Ai(n,i.options)&&Ai(s,i.config))return i;throw La.create("duplicate-app",{appName:r})}const a=new gK(r);for(const c of h1.values())a.addComponent(c);const l=new cW(n,s,a);return m0.set(r,l),l}function Hy(t=d1){const e=m0.get(t);if(!e&&t===d1&&vO())return IO();if(!e)throw La.create("no-app",{appName:t});return e}function Vn(t,e,n){let s=aW[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}nr(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="firebase-heartbeat-database",dW=1,wf="firebase-heartbeat-store";let lb=null;function CO(){return lb||(lb=AO(uW,dW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw La.create("idb-open",{originalErrorMessage:t.message})})),lb}async function hW(t){try{const n=(await CO()).transaction(wf),s=await n.objectStore(wf).get(jO(t));return await n.done,s}catch(e){if(e instanceof Vs)Ii.warn(e.message);else{const n=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function j2(t,e){try{const s=(await CO()).transaction(wf,"readwrite");await s.objectStore(wf).put(e,jO(t)),await s.done}catch(n){if(n instanceof Vs)Ii.warn(n.message);else{const s=La.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(s.message)}}}function jO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW=1024,mW=30;class pW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yW(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=R2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>mW){const a=vW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=R2(),{heartbeatsToSend:s,unsentEntries:r}=gW(this._heartbeatsCache.heartbeats),i=f0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ii.warn(n),""}}}function R2(){return new Date().toISOString().substring(0,10)}function gW(t,e=fW){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),P2(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),P2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class yW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qy()?KT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return j2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function P2(t){return f0(JSON.stringify({version:2,heartbeats:t})).length}function vW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(t){nr(new Ds("platform-logger",e=>new RK(e),"PRIVATE")),nr(new Ds("heartbeat",e=>new pW(e),"PRIVATE")),Vn(u1,I2,t),Vn(u1,I2,"esm2020"),Vn("fire-js","")}xW("");var bW="firebase",wW="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vn(bW,wW,"app");function RO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _W=RO,PO=new Dl("auth","Firebase",RO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new dm("@firebase/auth");function TW(t,...e){p0.logLevel<=Pe.WARN&&p0.warn(`Auth (${fo}): ${t}`,...e)}function ng(t,...e){p0.logLevel<=Pe.ERROR&&p0.error(`Auth (${fo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw YT(t,...e)}function kr(t,...e){return YT(t,...e)}function kO(t,e,n){const s={..._W(),[e]:n};return new Dl("auth","Firebase",s).create(e,{appName:t.name})}function gi(t){return kO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YT(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return PO.create(t,...e)}function be(t,e,...n){if(!t)throw YT(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ng(e),new Error(e)}function Ci(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function EW(){return k2()==="http:"||k2()==="https:"}function k2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EW()||GT()||"connection"in navigator)?navigator.onLine:!0}function NW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=JG()||eK()}get(){return SW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CW=new hm(3e4,6e4);function mo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,s,r={}){return MO(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=um({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return ZG()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(u.credentials="include"),DO.fetch()(await OO(t,t.config.apiHost,n,l),u)})}async function MO(t,e,n){t._canInitEmulator=!1;const s={...AW,...e};try{const r=new RW(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw vp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw vp(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kO(t,d,u);mr(t,d)}}catch(r){if(r instanceof Vs)throw r;mr(t,"network-request-failed",{message:String(r)})}}async function fm(t,e,n,s,r={}){const i=await Fi(t,e,n,s,r);return"mfaPendingCredential"in i&&mr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function OO(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?QT(t.config,r):`${t.config.apiScheme}://${r}`;return IW.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function jW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class RW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kr(this.auth,"network-request-failed")),CW.get())})}}function vp(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=kr(t,e,s);return r.customData._tokenResponse=n,r}function D2(t){return t!==void 0&&t.enterprise!==void 0}class PW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kW(t,e){return Fi(t,"GET","/v2/recaptchaConfig",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DW(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function g0(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MW(t,e=!1){const n=at(t),s=await n.getIdToken(e),r=XT(s);be(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Rh(cb(r.auth_time)),issuedAtTime:Rh(cb(r.iat)),expirationTime:Rh(cb(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function cb(t){return Number(t)*1e3}function XT(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const r=mO(n);return r?JSON.parse(r):(ng("Failed to decode base64 JWT payload"),null)}catch(r){return ng("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function M2(t){const e=XT(t);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&OW(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function OW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y0(t){var h;const e=t.auth,n=await t.getIdToken(),s=await wu(t,g0(e,{idToken:n}));be(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(h=r.providerUserInfo)!=null&&h.length?VO(r.providerUserInfo):[],a=UW(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new m1(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function LW(t){const e=at(t);await y0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UW(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function VO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FW(t,e){const n=await MO(t,{},async()=>{const s=um({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await OO(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(c.credentials="include"),DO.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zW(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):M2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=M2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await FW(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new Wc;return s&&(be(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(be(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(be(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){be(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new VW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new m1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MW(this,e)}reload(){return LW(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await y0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(as(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await wu(this,DW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:g,providerData:y,stsTokenManager:b}=n;be(h&&b,e,"internal-error");const _=Wc.fromJSON(this.name,b);be(typeof h=="string",e,"internal-error"),Zi(s,e.name),Zi(r,e.name),be(typeof m=="boolean",e,"internal-error"),be(typeof g=="boolean",e,"internal-error"),Zi(i,e.name),Zi(a,e.name),Zi(l,e.name),Zi(c,e.name),Zi(u,e.name),Zi(d,e.name);const v=new hr({uid:h,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:g,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(v.providerData=y.map(x=>({...x}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,s=!1){const r=new Wc;r.updateFromServerResponse(n);const i=new hr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await y0(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];be(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?VO(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Wc;l.updateFromIdToken(s);const c=new hr({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new m1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new Map;function di(t){Ci(t instanceof Function,"Expected a class definition");let e=O2.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,O2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}LO.type="NONE";const V2=LO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Yc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=sg(this.userKey,r.apiKey,i),this.fullPersistenceKey=sg("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await g0(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yc(di(V2),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||di(V2);const a=sg(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const m=await g0(e,{idToken:d}).catch(()=>{});if(!m)break;h=await hr._fromGetAccountInfoResponse(e,m,d)}else h=hr._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Yc(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Yc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qO(e))return"Blackberry";if(HO(e))return"Webos";if(FO(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if($O(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function UO(t=un()){return/firefox\//i.test(t)}function FO(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(t=un()){return/crios\//i.test(t)}function BO(t=un()){return/iemobile/i.test(t)}function $O(t=un()){return/android/i.test(t)}function qO(t=un()){return/blackberry/i.test(t)}function HO(t=un()){return/webos/i.test(t)}function JT(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BW(t=un()){var e;return JT(t)&&!!((e=window.navigator)!=null&&e.standalone)}function $W(){return tK()&&document.documentMode===10}function GO(t=un()){return JT(t)||$O(t)||HO(t)||qO(t)||/windows phone/i.test(t)||BO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t,e=[]){let n;switch(t){case"Browser":n=L2(un());break;case"Worker":n=`${L2(un())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GW=6;class KW{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GW,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new U2(this),this.idTokenSubscription=new U2(this),this.beforeStateQueue=new qW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Yc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await g0(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(as(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await y0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(as(this.app))return Promise.reject(gi(this));const n=e?at(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return as(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return as(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HW(this),n=new KW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zW(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Yc.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&TW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ml(t){return at(t)}class U2{constructor(e){this.auth=e,this.observer=null,this.addObserver=aK(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YW(t){Gy=t}function WO(t){return Gy.loadJS(t)}function QW(){return Gy.recaptchaEnterpriseScript}function XW(){return Gy.gapiScript}function JW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZW{constructor(){this.enterprise=new eY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class eY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const tY="recaptcha-enterprise",YO="NO_RECAPTCHA";class nY{constructor(e){this.type=tY,this.auth=Ml(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{kW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new PW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;D2(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(YO)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZW().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&D2(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=QW();c.length!==0&&(c+=l),WO(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Hd(t,e,n,s=!1,r=!1){const i=new nY(t);let a;if(r)a=YO;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function p1(t,e,n,s,r){var i,a;if(r==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hd(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hd(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)});else if(r==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Hd(t,e,n);return s(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Hd(t,e,n,!1,!0);return s(t,d)}return Promise.reject(c)})}else{const l=await Hd(t,e,n,!1,!0);return s(t,l)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sY(t,e){const n=Ui(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Ai(i,e??{}))return r;mr(r,"already-initialized")}return n.initialize({options:e})}function rY(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function iY(t,e,n){const s=Ml(t);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=QO(e),{host:a,port:l}=aY(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Ai(u,s.config.emulator)&&Ai(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Li(a)?($y(`${i}//${a}${c}`),HT("Auth",!0)):r||oY()}function QO(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aY(t){const e=QO(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:F2(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:F2(a)}}}function F2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oY(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function lY(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cY(t,e){return fm(t,"POST","/v1/accounts:signInWithPassword",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uY(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}async function dY(t,e){return fm(t,"POST","/v1/accounts:signInWithEmailLink",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends ZT{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new _f(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _f(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p1(e,n,"signInWithPassword",cY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return uY(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p1(e,s,"signUpPassword",lY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return dY(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e){return fm(t,"POST","/v1/accounts:signInWithIdp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hY="http://localhost";class ul extends ZT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new ul(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qc(e,n)}buildRequest(){const e={requestUri:hY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=um(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mY(t){const e=sh(rh(t)).link,n=e?sh(rh(e)).deep_link_id:null,s=sh(rh(t)).deep_link_id;return(s?sh(rh(s)).link:null)||s||n||e||t}class eE{constructor(e){const n=sh(rh(e)),s=n.apiKey??null,r=n.oobCode??null,i=fY(n.mode??null);be(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mY(e);try{return new eE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return _f._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=eE.parseLink(n);return be(s,"argument-error"),_f._fromEmailAndCode(e,s.code,s.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends XO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends mm{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends mm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return pa.credential(n,s)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends mm{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.GITHUB_SIGN_IN_METHOD="github.com";ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends mm{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.TWITTER_SIGN_IN_METHOD="twitter.com";ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pY(t,e){return fm(t,"POST","/v1/accounts:signUp",mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await hr._fromIdTokenResponse(e,s,r),a=z2(s);return new dl({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=z2(s);return new dl({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function z2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends Vs{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,v0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new v0(e,n,s,r)}}function JO(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?v0._fromErrorAndOperation(t,i,e,s):i})}async function gY(t,e,n=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yY(t,e,n=!1){const{auth:s}=t;if(as(s.app))return Promise.reject(gi(s));const r="reauthenticate";try{const i=await wu(t,JO(s,r,e,t),n);be(i.idToken,s,"internal-error");const a=XT(i.idToken);be(a,s,"internal-error");const{sub:l}=a;return be(t.uid===l,s,"user-mismatch"),dl._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(t,e,n=!1){if(as(t.app))return Promise.reject(gi(t));const s="signIn",r=await JO(t,s,e),i=await dl._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function vY(t,e){return ZO(Ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eV(t){const e=Ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xY(t,e,n){if(as(t.app))return Promise.reject(gi(t));const s=Ml(t),a=await p1(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pY,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&eV(t),c}),l=await dl._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function tV(t,e,n){return as(t.app)?Promise.reject(gi(t)):vY(at(t),id.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&eV(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bY(t,e){return Fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=at(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await wu(s,bY(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function _Y(t,e,n,s){return at(t).onIdTokenChanged(e,n,s)}function TY(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function zi(t,e,n,s){return at(t).onAuthStateChanged(e,n,s)}function tE(t){return at(t).signOut()}const x0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(x0,"1"),this.storage.removeItem(x0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EY=1e3,SY=10;class sV extends nV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);$W()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,SY):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},EY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sV.type="LOCAL";const NY=sV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV extends nV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rV.type="SESSION";const iV=rV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ky(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await AY(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ky.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=nE("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function CY(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function jY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function PY(){return aV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="firebaseLocalStorageDb",kY=1,b0="firebaseLocalStorage",lV="fbase_key";class pm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wy(t,e){return t.transaction([b0],e?"readwrite":"readonly").objectStore(b0)}function DY(){const t=indexedDB.deleteDatabase(oV);return new pm(t).toPromise()}function g1(){const t=indexedDB.open(oV,kY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(b0,{keyPath:lV})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(b0)?e(s):(s.close(),await DY(),e(await g1()))})})}async function B2(t,e,n){const s=Wy(t,!0).put({[lV]:e,value:n});return new pm(s).toPromise()}async function MY(t,e){const n=Wy(t,!1).get(e),s=await new pm(n).toPromise();return s===void 0?null:s.value}function $2(t,e){const n=Wy(t,!0).delete(e);return new pm(n).toPromise()}const OY=800,VY=3;class cV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VY)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ky._getInstance(PY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await jY(),!this.activeServiceWorker)return;this.sender=new IY(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||RY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await g1();return await B2(e,x0,"1"),await $2(e,x0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>B2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>MY(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Wy(r,!1).getAll();return new pm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cV.type="LOCAL";const LY=cV;new hm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UY(t,e){return e?di(e):(be(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE extends ZT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FY(t){return ZO(t.auth,new sE(t),t.bypassAuthState)}function zY(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),yY(n,new sE(t),t.bypassAuthState)}async function BY(t){const{auth:e,user:n}=t;return be(n,e,"internal-error"),gY(n,new sE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FY;case"linkViaPopup":case"linkViaRedirect":return BY;case"reauthViaPopup":case"reauthViaRedirect":return zY;default:mr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Y=new hm(2e3,1e4);class Cc extends uV{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Cc.currentPopupAction&&Cc.currentPopupAction.cancel(),Cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=nE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$Y.get())};e()}}Cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY="pendingRedirect",rg=new Map;class HY extends uV{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rg.get(this.auth._key());if(!e){try{const s=await GY(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rg.set(this.auth._key(),e)}return this.bypassAuthState||rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GY(t,e){const n=YY(e),s=WY(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function KY(t,e){rg.set(t._key(),e)}function WY(t){return di(t._redirectPersistence)}function YY(t){return sg(qY,t.config.apiKey,t.name)}async function QY(t,e,n=!1){if(as(t.app))return Promise.reject(gi(t));const s=Ml(t),r=UY(s,e),a=await new HY(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XY=10*60*1e3;class JY{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ZY(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!dV(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XY&&this.cachedEventUids.clear(),this.cachedEventUids.has(q2(e))}saveEventToCache(e){this.cachedEventUids.add(q2(e)),this.lastProcessedEventTime=Date.now()}}function q2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ZY(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eQ(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,nQ=/^https?/;async function sQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await eQ(t);for(const n of e)try{if(rQ(n))return}catch{}mr(t,"unauthorized-domain")}function rQ(t){const e=f1(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!nQ.test(n))return!1;if(tQ.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ=new hm(3e4,6e4);function H2(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aQ(t){return new Promise((e,n)=>{var r,i,a;function s(){H2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{H2(),n(kr(t,"network-request-failed"))},timeout:iQ.get()})}if((i=(r=Dr().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Dr().gapi)!=null&&a.load)s();else{const l=JW("iframefcb");return Dr()[l]=()=>{gapi.load?s():n(kr(t,"network-request-failed"))},WO(`${XW()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ig=null,e})}let ig=null;function oQ(t){return ig=ig||aQ(t),ig}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lQ=new hm(5e3,15e3),cQ="__/auth/iframe",uQ="emulator/auth/iframe",dQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fQ(t){const e=t.config;be(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?QT(e,uQ):`https://${t.config.authDomain}/${cQ}`,s={apiKey:e.apiKey,appName:t.name,v:fo},r=hQ.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${um(s).slice(1)}`}async function mQ(t){const e=await oQ(t),n=Dr().gapi;return be(n,t,"internal-error"),e.open({where:document.body,url:fQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dQ,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=kr(t,"network-request-failed"),l=Dr().setTimeout(()=>{i(a)},lQ.get());function c(){Dr().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gQ=500,yQ=600,vQ="_blank",xQ="http://localhost";class G2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bQ(t,e,n,s=gQ,r=yQ){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...pQ,width:s.toString(),height:r.toString(),top:i,left:a},u=un().toLowerCase();n&&(l=zO(u)?vQ:n),UO(u)&&(e=e||xQ,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[g,y])=>`${m}${g}=${y},`,"");if(BW(u)&&l!=="_self")return wQ(e||"",l),new G2(null);const h=window.open(e||"",l,d);be(h,t,"popup-blocked");try{h.focus()}catch{}return new G2(h)}function wQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Q="__/auth/handler",TQ="emulator/auth/handler",EQ=encodeURIComponent("fac");async function K2(t,e,n,s,r,i){be(t.config.authDomain,t,"auth-domain-config-required"),be(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:fo,eventId:r};if(e instanceof XO){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",iK(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof mm){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${EQ}=${encodeURIComponent(c)}`:"";return`${SQ(t)}?${um(l).slice(1)}${u}`}function SQ({config:t}){return t.emulator?QT(t,TQ):`https://${t.authDomain}/${_Q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="webStorageSupport";class NQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iV,this._completeRedirectFn=QY,this._overrideRedirectResult=KY}async _openPopup(e,n,s,r){var a;Ci((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await K2(e,n,s,f1(),r);return bQ(e,i,nE())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await K2(e,n,s,f1(),r);return CY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Ci(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await mQ(e),s=new JY(e);return n.register("authEvent",r=>(be(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ub,{type:ub},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[ub];i!==void 0&&n(!!i),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GO()||FO()||JT()}}const AQ=NQ;var W2="@firebase/auth",Y2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jQ(t){nr(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;be(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KO(t)},u=new WW(s,r,i,c);return rY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),nr(new Ds("auth-internal",e=>{const n=Ml(e.getProvider("auth").getImmediate());return(s=>new IQ(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vn(W2,Y2,CQ(t)),Vn(W2,Y2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RQ=5*60,PQ=xO("authIdTokenMaxAge")||RQ;let Q2=null;const kQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>PQ)return;const r=n==null?void 0:n.token;Q2!==r&&(Q2=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function DQ(t=Hy()){const e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sY(t,{popupRedirectResolver:AQ,persistence:[LY,NY,iV]}),s=xO("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=kQ(i.toString());TY(n,a,()=>a(n.currentUser)),_Y(n,l=>a(l))}}const r=gO("auth");return r&&iY(n,`http://${r}`),n}function MQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YW({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=kr("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",MQ().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jQ("Browser");var X2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,hV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function C(){}C.prototype=T.prototype,S.F=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(j,P,M){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return T.prototype[P].apply(j,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,T,C){C||(C=0);const j=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)j[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)j[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],P=S.g[2];let M=S.g[3],k;k=T+(M^C&(P^M))+j[0]+3614090360&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[1]+3905402710&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[2]+606105819&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[3]+3250441966&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[5]+1200080426&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[6]+2821735955&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[7]+4249261313&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[9]+2336552879&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[10]+4294925233&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[11]+2304563134&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[13]+4254626195&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[14]+2792965006&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[15]+1236535329&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(P^M&(C^P))+j[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[6]+3225465664&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[11]+643717713&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[0]+3921069994&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[10]+38016083&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[15]+3634488961&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[4]+3889429448&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[14]+3275163606&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[3]+4107603335&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[8]+1163531501&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[2]+4243563512&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[7]+1735328473&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[12]+2368359562&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(C^P^M)+j[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[8]+2272392833&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[11]+1839030562&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[14]+4259657740&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[4]+1272893353&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[7]+4139469664&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[10]+3200236656&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[0]+3936430074&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[3]+3572445317&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[6]+76029189&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[12]+3873151461&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[15]+530742520&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[2]+3299628645&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(P^(C|~M))+j[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[7]+1126891415&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[14]+2878612391&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[5]+4237533241&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[3]+2399980690&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[10]+4293915773&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[1]+2240044497&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[15]+4264355552&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[6]+2734768916&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[13]+1309151649&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[11]+3174756917&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[2]+718787259&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+M&4294967295}s.prototype.v=function(S,T){T===void 0&&(T=S.length);const C=T-this.blockSize,j=this.C;let P=this.h,M=0;for(;M<T;){if(P==0)for(;M<=C;)r(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<T;)if(j[P++]=S.charCodeAt(M++),P==this.blockSize){r(this,j),P=0;break}}else for(;M<T;)if(j[P++]=S[M++],P==this.blockSize){r(this,j),P=0;break}}this.h=P,this.o+=T},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)S[T++]=this.g[C]>>>j&255;return S};function i(S,T){var C=l;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function a(S,T){this.h=T;const C=[];let j=!0;for(let P=S.length-1;P>=0;P--){const M=S[P]|0;j&&M==T||(C[P]=M,j=!1)}this.g=C}var l={};function c(S){return-128<=S&&S<128?i(S,function(T){return new a([T|0],T<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return _(u(-S));const T=[];let C=1;for(let j=0;S>=C;j++)T[j]=S/C|0,C*=4294967296;return new a(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return _(d(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(T,8));let j=h;for(let M=0;M<S.length;M+=8){var P=Math.min(8,S.length-M);const k=parseInt(S.substring(M,M+P),T);P<8?(P=u(Math.pow(T,P)),j=j.j(P).add(u(k))):(j=j.j(C),j=j.add(u(k)))}return j}var h=c(0),m=c(1),g=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-_(this).m();let S=0,T=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);S+=(j>=0?j:4294967296+j)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(b(this))return"-"+_(this).toString(S);const T=u(Math.pow(S,6));var C=this;let j="";for(;;){const P=A(C,T).g;C=v(C,P.j(T));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=P,y(C))return M+j;for(;M.length<6;)M="0"+M;j=M+j}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=v(this,S),b(S)?-1:y(S)?0:1};function _(S){const T=S.g.length,C=[];for(let j=0;j<T;j++)C[j]=~S.g[j];return new a(C,~S.h).add(m)}t.abs=function(){return b(this)?_(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),C=[];let j=0;for(let P=0;P<=T;P++){let M=j+(this.i(P)&65535)+(S.i(P)&65535),k=(M>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);j=k>>>16,M&=65535,k&=65535,C[P]=k<<16|M}return new a(C,C[C.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(_(T))}t.j=function(S){if(y(this)||y(S))return h;if(b(this))return b(S)?_(this).j(_(S)):_(_(this).j(S));if(b(S))return _(this.j(_(S)));if(this.l(g)<0&&S.l(g)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,C=[];for(var j=0;j<2*T;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<S.g.length;P++){const M=this.i(j)>>>16,k=this.i(j)&65535,$=S.i(P)>>>16,z=S.i(P)&65535;C[2*j+2*P]+=k*z,x(C,2*j+2*P),C[2*j+2*P+1]+=M*z,x(C,2*j+2*P+1),C[2*j+2*P+1]+=k*$,x(C,2*j+2*P+1),C[2*j+2*P+2]+=M*$,x(C,2*j+2*P+2)}for(S=0;S<T;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=T;S<2*T;S++)C[S]=0;return new a(C,0)};function x(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function E(S,T){this.g=S,this.h=T}function A(S,T){if(y(T))throw Error("division by zero");if(y(S))return new E(h,h);if(b(S))return T=A(_(S),T),new E(_(T.g),_(T.h));if(b(T))return T=A(S,_(T)),new E(_(T.g),T.h);if(S.g.length>30){if(b(S)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,j=T;j.l(S)<=0;)C=I(C),j=I(j);var P=R(C,1),M=R(j,1);for(j=R(j,2),C=R(C,2);!y(j);){var k=M.add(j);k.l(S)<=0&&(P=P.add(C),M=k),j=R(j,1),C=R(C,1)}return T=v(S,P.j(T)),new E(P,T)}for(P=h;S.l(T)>=0;){for(C=Math.max(1,Math.floor(S.m()/T.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),M=u(C),k=M.j(T);b(k)||k.l(S)>0;)C-=j,M=u(C),k=M.j(T);y(M)&&(M=m),P=P.add(M),S=v(S,k)}return new E(P,S)}t.B=function(S){return A(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)&S.i(j);return new a(C,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)|S.i(j);return new a(C,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)^S.i(j);return new a(C,this.h^S.h)};function I(S){const T=S.g.length+1,C=[];for(let j=0;j<T;j++)C[j]=S.i(j)<<1|S.i(j-1)>>>31;return new a(C,S.h)}function R(S,T){const C=T>>5;T%=32;const j=S.g.length-C,P=[];for(let M=0;M<j;M++)P[M]=T>0?S.i(M+C)>>>T|S.i(M+C+1)<<32-T:S.i(M+C);return new a(P,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,hV=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,yi=a}).apply(typeof X2<"u"?X2:typeof self<"u"?self:typeof window<"u"?window:{});var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fV,ih,mV,ag,y1,pV,gV,yV;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xp=="object"&&xp];for(var w=0;w<f.length;++w){var N=f[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function r(f,w){if(w)e:{var N=s;f=f.split(".");for(var D=0;D<f.length-1;D++){var L=f[D];if(!(L in N))break e;N=N[L]}f=f[f.length-1],D=N[f],w=w(D),w!=D&&w!=null&&e(N,f,{configurable:!0,writable:!0,value:w})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(w){var N=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&N.push([D,w[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,N){return f.call.apply(f.bind,arguments)}function u(f,w,N){return u=c,u.apply(null,arguments)}function d(f,w){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function h(f,w){function N(){}N.prototype=w.prototype,f.Z=w.prototype,f.prototype=new N,f.prototype.constructor=f,f.Ob=function(D,L,B){for(var ne=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ne[Re-2]=arguments[Re];return w.prototype[L].apply(D,ne)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function g(f){const w=f.length;if(w>0){const N=Array(w);for(let D=0;D<w;D++)N[D]=f[D];return N}return[]}function y(f,w){for(let D=1;D<arguments.length;D++){const L=arguments[D];var N=typeof L;if(N=N!="object"?N:L?Array.isArray(L)?"array":N:"null",N=="array"||N=="object"&&typeof L.length=="number"){N=f.length||0;const B=L.length||0;f.length=N+B;for(let ne=0;ne<B;ne++)f[N+ne]=L[ne]}else f.push(L)}}class b{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){a.setTimeout(()=>{throw f},0)}function v(){var f=S;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class x{constructor(){this.h=this.g=null}add(w,N){const D=E.get();D.set(w,N),this.h?this.h.next=D:this.g=D,this.h=D}}var E=new b(()=>new A,f=>f.reset());class A{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let I,R=!1,S=new x,T=()=>{const f=Promise.resolve(void 0);I=()=>{f.then(C)}};function C(){for(var f;f=v();){try{f.h.call(f.g)}catch(N){_(N)}var w=E;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}R=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};a.addEventListener("test",N,w),a.removeEventListener("test",N,w)}catch{}return f}();function k(f){return/^[\s\xa0]*$/.test(f)}function $(f,w){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}h($,P),$.prototype.init=function(f,w){const N=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(N=="mouseover"?w=f.fromElement:N=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var z="closure_listenable_"+(Math.random()*1e6|0),V=0;function q(f,w,N,D,L){this.listener=f,this.proxy=null,this.src=w,this.type=N,this.capture=!!D,this.ha=L,this.key=++V,this.da=this.fa=!1}function F(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function W(f,w,N){for(const D in f)w.call(N,f[D],D,f)}function ae(f,w){for(const N in f)w.call(void 0,f[N],N,f)}function ge(f){const w={};for(const N in f)w[N]=f[N];return w}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ze(f,w){let N,D;for(let L=1;L<arguments.length;L++){D=arguments[L];for(N in D)f[N]=D[N];for(let B=0;B<ze.length;B++)N=ze[B],Object.prototype.hasOwnProperty.call(D,N)&&(f[N]=D[N])}}function O(f){this.src=f,this.g={},this.h=0}O.prototype.add=function(f,w,N,D,L){const B=f.toString();f=this.g[B],f||(f=this.g[B]=[],this.h++);const ne=_e(f,w,D,L);return ne>-1?(w=f[ne],N||(w.fa=!1)):(w=new q(w,this.src,B,!!D,L),w.fa=N,f.push(w)),w};function Q(f,w){const N=w.type;if(N in f.g){var D=f.g[N],L=Array.prototype.indexOf.call(D,w,void 0),B;(B=L>=0)&&Array.prototype.splice.call(D,L,1),B&&(F(w),f.g[N].length==0&&(delete f.g[N],f.h--))}}function _e(f,w,N,D){for(let L=0;L<f.length;++L){const B=f[L];if(!B.da&&B.listener==w&&B.capture==!!N&&B.ha==D)return L}return-1}var X="closure_lm_"+(Math.random()*1e6|0),G={};function Z(f,w,N,D,L){if(D&&D.once)return Oe(f,w,N,D,L);if(Array.isArray(w)){for(let B=0;B<w.length;B++)Z(f,w[B],N,D,L);return null}return N=Ft(N),f&&f[z]?f.J(w,N,l(D)?!!D.capture:!!D,L):fe(f,w,N,!1,D,L)}function fe(f,w,N,D,L,B){if(!w)throw Error("Invalid event type");const ne=l(L)?!!L.capture:!!L;let Re=ot(f);if(Re||(f[X]=Re=new O(f)),N=Re.add(w,N,D,ne,B),N.proxy)return N;if(D=ye(),N.proxy=D,D.src=f,D.listener=N,f.addEventListener)M||(L=ne),L===void 0&&(L=!1),f.addEventListener(w.toString(),D,L);else if(f.attachEvent)f.attachEvent(We(w.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ye(){function f(N){return w.call(f.src,f.listener,N)}const w=Gt;return f}function Oe(f,w,N,D,L){if(Array.isArray(w)){for(let B=0;B<w.length;B++)Oe(f,w[B],N,D,L);return null}return N=Ft(N),f&&f[z]?f.K(w,N,l(D)?!!D.capture:!!D,L):fe(f,w,N,!0,D,L)}function te(f,w,N,D,L){if(Array.isArray(w))for(var B=0;B<w.length;B++)te(f,w[B],N,D,L);else D=l(D)?!!D.capture:!!D,N=Ft(N),f&&f[z]?(f=f.i,B=String(w).toString(),B in f.g&&(w=f.g[B],N=_e(w,N,D,L),N>-1&&(F(w[N]),Array.prototype.splice.call(w,N,1),w.length==0&&(delete f.g[B],f.h--)))):f&&(f=ot(f))&&(w=f.g[w.toString()],f=-1,w&&(f=_e(w,N,D,L)),(N=f>-1?w[f]:null)&&Te(N))}function Te(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[z])Q(w.i,f);else{var N=f.type,D=f.proxy;w.removeEventListener?w.removeEventListener(N,D,f.capture):w.detachEvent?w.detachEvent(We(N),D):w.addListener&&w.removeListener&&w.removeListener(D),(N=ot(w))?(Q(N,f),N.h==0&&(N.src=null,w[X]=null)):F(f)}}}function We(f){return f in G?G[f]:G[f]="on"+f}function Gt(f,w){if(f.da)f=!0;else{w=new $(w,this);const N=f.listener,D=f.ha||f.src;f.fa&&Te(f),f=N.call(D,w)}return f}function ot(f){return f=f[X],f instanceof O?f:null}var hn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ft(f){return typeof f=="function"?f:(f[hn]||(f[hn]=function(w){return f.handleEvent(w)}),f[hn])}function gt(){j.call(this),this.i=new O(this),this.M=this,this.G=null}h(gt,j),gt.prototype[z]=!0,gt.prototype.removeEventListener=function(f,w,N,D){te(this,f,w,N,D)};function sn(f,w){var N,D=f.G;if(D)for(N=[];D;D=D.G)N.push(D);if(f=f.M,D=w.type||w,typeof w=="string")w=new P(w,f);else if(w instanceof P)w.target=w.target||f;else{var L=w;w=new P(D,f),Ze(w,L)}L=!0;let B,ne;if(N)for(ne=N.length-1;ne>=0;ne--)B=w.g=N[ne],L=wr(B,D,!0,w)&&L;if(B=w.g=f,L=wr(B,D,!0,w)&&L,L=wr(B,D,!1,w)&&L,N)for(ne=0;ne<N.length;ne++)B=w.g=N[ne],L=wr(B,D,!1,w)&&L}gt.prototype.N=function(){if(gt.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const N=f.g[w];for(let D=0;D<N.length;D++)F(N[D]);delete f.g[w],f.h--}}this.G=null},gt.prototype.J=function(f,w,N,D){return this.i.add(String(f),w,!1,N,D)},gt.prototype.K=function(f,w,N,D){return this.i.add(String(f),w,!0,N,D)};function wr(f,w,N,D){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let L=!0;for(let B=0;B<w.length;++B){const ne=w[B];if(ne&&!ne.da&&ne.capture==N){const Re=ne.listener,rn=ne.ha||ne.src;ne.fa&&Q(f.i,ne),L=Re.call(rn,D)!==!1&&L}}return L&&!D.defaultPrevented}function Bm(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(f,w||0)}function wN(f){f.g=Bm(()=>{f.g=null,f.i&&(f.i=!1,wN(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class u8 extends j{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:wN(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(f){j.call(this),this.h=f,this.g={}}h(vd,j);var _N=[];function TN(f){W(f.g,function(w,N){this.g.hasOwnProperty(N)&&Te(w)},f),f.g={}}vd.prototype.N=function(){vd.Z.N.call(this),TN(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xv=a.JSON.stringify,d8=a.JSON.parse,h8=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function EN(){}function SN(){}var xd={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Jv(){P.call(this,"d")}h(Jv,P);function Zv(){P.call(this,"c")}h(Zv,P);var vo={},NN=null;function $m(){return NN=NN||new gt}vo.Ia="serverreachability";function AN(f){P.call(this,vo.Ia,f)}h(AN,P);function bd(f){const w=$m();sn(w,new AN(w))}vo.STAT_EVENT="statevent";function IN(f,w){P.call(this,vo.STAT_EVENT,f),this.stat=w}h(IN,P);function Un(f){const w=$m();sn(w,new IN(w,f))}vo.Ja="timingevent";function CN(f,w){P.call(this,vo.Ja,f),this.size=w}h(CN,P);function wd(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function _d(){this.g=!0}_d.prototype.ua=function(){this.g=!1};function f8(f,w,N,D,L,B){f.info(function(){if(f.g)if(B){var ne="",Re=B.split("&");for(let lt=0;lt<Re.length;lt++){var rn=Re[lt].split("=");if(rn.length>1){const fn=rn[0];rn=rn[1];const Tr=fn.split("_");ne=Tr.length>=2&&Tr[1]=="type"?ne+(fn+"="+rn+"&"):ne+(fn+"=redacted&")}}}else ne=null;else ne=B;return"XMLHTTP REQ ("+D+") [attempt "+L+"]: "+w+`
`+N+`
`+ne})}function m8(f,w,N,D,L,B,ne){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+L+"]: "+w+`
`+N+`
`+B+" "+ne})}function Hl(f,w,N,D){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+g8(f,N)+(D?" "+D:"")})}function p8(f,w){f.info(function(){return"TIMEOUT: "+w})}_d.prototype.info=function(){};function g8(f,w){if(!f.g)return w;if(!w)return null;try{const B=JSON.parse(w);if(B){for(f=0;f<B.length;f++)if(Array.isArray(B[f])){var N=B[f];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(let ne=1;ne<D.length;ne++)D[ne]=""}}}}return Xv(B)}catch{return w}}var qm={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jN={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},RN;function ex(){}h(ex,EN),ex.prototype.g=function(){return new XMLHttpRequest},RN=new ex;function Td(f){return encodeURIComponent(String(f))}function y8(f){var w=1;f=f.split(":");const N=[];for(;w>0&&f.length;)N.push(f.shift()),w--;return f.length&&N.push(f.join(":")),N}function qi(f,w,N,D){this.j=f,this.i=w,this.l=N,this.S=D||1,this.V=new vd(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new PN}function PN(){this.i=null,this.g="",this.h=!1}var kN={},tx={};function nx(f,w,N){f.M=1,f.A=Gm(_r(w)),f.u=N,f.R=!0,DN(f,null)}function DN(f,w){f.F=Date.now(),Hm(f),f.B=_r(f.A);var N=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),KN(N.i,"t",D),f.C=0,N=f.j.L,f.h=new PN,f.g=dA(f.j,N?w:null,!f.u),f.P>0&&(f.O=new u8(u(f.Y,f,f.g),f.P)),w=f.V,N=f.g,D=f.ba;var L="readystatechange";Array.isArray(L)||(L&&(_N[0]=L.toString()),L=_N);for(let B=0;B<L.length;B++){const ne=Z(N,L[B],D||w.handleEvent,!1,w.h||w);if(!ne)break;w.g[ne.key]=ne}w=f.J?ge(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),bd(),f8(f.i,f.v,f.B,f.l,f.S,f.u)}qi.prototype.ba=function(f){f=f.target;const w=this.O;w&&Ki(f)==3?w.j():this.Y(f)},qi.prototype.Y=function(f){try{if(f==this.g)e:{const Re=Ki(this.g),rn=this.g.ya(),lt=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||eA(this.g)))){this.K||Re!=4||rn==7||(rn==8||lt<=0?bd(3):bd(2)),sx(this);var w=this.g.ca();this.X=w;var N=v8(this);if(this.o=w==200,m8(this.i,this.v,this.B,this.l,this.S,Re,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,L=this.g;if((D=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var B=D;break t}}B=null}if(f=B)Hl(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rx(this,f);else{this.o=!1,this.m=3,Un(12),xo(this),Ed(this);break e}}if(this.R){f=!0;let fn;for(;!this.K&&this.C<N.length;)if(fn=x8(this,N),fn==tx){Re==4&&(this.m=4,Un(14),f=!1),Hl(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==kN){this.m=4,Un(15),Hl(this.i,this.l,N,"[Invalid Chunk]"),f=!1;break}else Hl(this.i,this.l,fn,null),rx(this,fn);if(MN(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||N.length!=0||this.h.h||(this.m=1,Un(16),f=!1),this.o=this.o&&f,!f)Hl(this.i,this.l,N,"[Invalid Chunked Response]"),xo(this),Ed(this);else if(N.length>0&&!this.W){this.W=!0;var ne=this.j;ne.g==this&&ne.aa&&!ne.P&&(ne.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),hx(ne),ne.P=!0,Un(11))}}else Hl(this.i,this.l,N,null),rx(this,N);Re==4&&xo(this),this.o&&!this.K&&(Re==4?oA(this.j,this):(this.o=!1,Hm(this)))}else k8(this.g),w==400&&N.indexOf("Unknown SID")>0?(this.m=3,Un(12)):(this.m=0,Un(13)),xo(this),Ed(this)}}}catch{}finally{}};function v8(f){if(!MN(f))return f.g.la();const w=eA(f.g);if(w==="")return"";let N="";const D=w.length,L=Ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return xo(f),Ed(f),"";f.h.i=new a.TextDecoder}for(let B=0;B<D;B++)f.h.h=!0,N+=f.h.i.decode(w[B],{stream:!(L&&B==D-1)});return w.length=0,f.h.g+=N,f.C=0,f.h.g}function MN(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function x8(f,w){var N=f.C,D=w.indexOf(`
`,N);return D==-1?tx:(N=Number(w.substring(N,D)),isNaN(N)?kN:(D+=1,D+N>w.length?tx:(w=w.slice(D,D+N),f.C=D+N,w)))}qi.prototype.cancel=function(){this.K=!0,xo(this)};function Hm(f){f.T=Date.now()+f.H,ON(f,f.H)}function ON(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=wd(u(f.aa,f),w)}function sx(f){f.D&&(a.clearTimeout(f.D),f.D=null)}qi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(p8(this.i,this.B),this.M!=2&&(bd(),Un(17)),xo(this),this.m=2,Ed(this)):ON(this,this.T-f)};function Ed(f){f.j.I==0||f.K||oA(f.j,f)}function xo(f){sx(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,TN(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function rx(f,w){try{var N=f.j;if(N.I!=0&&(N.g==f||ix(N.h,f))){if(!f.L&&ix(N.h,f)&&N.I==3){try{var D=N.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var L=D;if(L[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<f.F)Xm(N),Ym(N);else break e;dx(N),Un(18)}}else N.xa=L[1],0<N.xa-N.K&&L[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=wd(u(N.Va,N),6e3));UN(N.h)<=1&&N.ta&&(N.ta=void 0)}else wo(N,11)}else if((f.L||N.g==f)&&Xm(N),!k(w))for(L=N.Ba.g.parse(w),w=0;w<L.length;w++){let lt=L[w];const fn=lt[0];if(!(fn<=N.K))if(N.K=fn,lt=lt[1],N.I==2)if(lt[0]=="c"){N.M=lt[1],N.ba=lt[2];const Tr=lt[3];Tr!=null&&(N.ka=Tr,N.j.info("VER="+N.ka));const _o=lt[4];_o!=null&&(N.za=_o,N.j.info("SVER="+N.za));const Wi=lt[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(D=1.5*Wi,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const Yi=f.g;if(Yi){const Zm=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zm){var B=D.h;B.g||Zm.indexOf("spdy")==-1&&Zm.indexOf("quic")==-1&&Zm.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(ax(B,B.h),B.h=null))}if(D.G){const fx=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;fx&&(D.wa=fx,yt(D.J,D.G,fx))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-f.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var ne=f;if(D.na=uA(D,D.L?D.ba:null,D.W),ne.L){FN(D.h,ne);var Re=ne,rn=D.O;rn&&(Re.H=rn),Re.D&&(sx(Re),Hm(Re)),D.g=ne}else iA(D);N.i.length>0&&Qm(N)}else lt[0]!="stop"&&lt[0]!="close"||wo(N,7);else N.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?wo(N,7):ux(N):lt[0]!="noop"&&N.l&&N.l.qa(lt),N.A=0)}}bd(4)}catch{}}var b8=class{constructor(f,w){this.g=f,this.map=w}};function VN(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function LN(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function UN(f){return f.h?1:f.g?f.g.size:0}function ix(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function ax(f,w){f.g?f.g.add(w):f.h=w}function FN(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}VN.prototype.cancel=function(){if(this.i=zN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function zN(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const N of f.g.values())w=w.concat(N.G);return w}return g(f.i)}var BN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w8(f,w){if(f){f=f.split("&");for(let N=0;N<f.length;N++){const D=f[N].indexOf("=");let L,B=null;D>=0?(L=f[N].substring(0,D),B=f[N].substring(D+1)):L=f[N],w(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Hi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof Hi?(this.l=f.l,Sd(this,f.j),this.o=f.o,this.g=f.g,Nd(this,f.u),this.h=f.h,ox(this,WN(f.i)),this.m=f.m):f&&(w=String(f).match(BN))?(this.l=!1,Sd(this,w[1]||"",!0),this.o=Ad(w[2]||""),this.g=Ad(w[3]||"",!0),Nd(this,w[4]),this.h=Ad(w[5]||"",!0),ox(this,w[6]||"",!0),this.m=Ad(w[7]||"")):(this.l=!1,this.i=new Cd(null,this.l))}Hi.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Id(w,$N,!0),":");var N=this.g;return(N||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Id(w,$N,!0),"@"),f.push(Td(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&f.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Id(N,N.charAt(0)=="/"?E8:T8,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Id(N,N8)),f.join("")},Hi.prototype.resolve=function(f){const w=_r(this);let N=!!f.j;N?Sd(w,f.j):N=!!f.o,N?w.o=f.o:N=!!f.g,N?w.g=f.g:N=f.u!=null;var D=f.h;if(N)Nd(w,f.u);else if(N=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var L=w.h.lastIndexOf("/");L!=-1&&(D=w.h.slice(0,L+1)+D)}if(L=D,L==".."||L==".")D="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){D=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let ne=0;ne<L.length;){const Re=L[ne++];Re=="."?D&&ne==L.length&&B.push(""):Re==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),D&&ne==L.length&&B.push("")):(B.push(Re),D=!0)}D=B.join("/")}else D=L}return N?w.h=D:N=f.i.toString()!=="",N?ox(w,WN(f.i)):N=!!f.m,N&&(w.m=f.m),w};function _r(f){return new Hi(f)}function Sd(f,w,N){f.j=N?Ad(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Nd(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function ox(f,w,N){w instanceof Cd?(f.i=w,A8(f.i,f.l)):(N||(w=Id(w,S8)),f.i=new Cd(w,f.l))}function yt(f,w,N){f.i.set(w,N)}function Gm(f){return yt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ad(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Id(f,w,N){return typeof f=="string"?(f=encodeURI(f).replace(w,_8),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function _8(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var $N=/[#\/\?@]/g,T8=/[#\?:]/g,E8=/[#\?]/g,S8=/[#\?@]/g,N8=/#/g;function Cd(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function bo(f){f.g||(f.g=new Map,f.h=0,f.i&&w8(f.i,function(w,N){f.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}t=Cd.prototype,t.add=function(f,w){bo(this),this.i=null,f=Gl(this,f);let N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(w),this.h+=1,this};function qN(f,w){bo(f),w=Gl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function HN(f,w){return bo(f),w=Gl(f,w),f.g.has(w)}t.forEach=function(f,w){bo(this),this.g.forEach(function(N,D){N.forEach(function(L){f.call(w,L,D,this)},this)},this)};function GN(f,w){bo(f);let N=[];if(typeof w=="string")HN(f,w)&&(N=N.concat(f.g.get(Gl(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)N=N.concat(f[w]);return N}t.set=function(f,w){return bo(this),this.i=null,f=Gl(this,f),HN(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=GN(this,f),f.length>0?String(f[0]):w):w};function KN(f,w,N){qN(f,w),N.length>0&&(f.i=null,f.g.set(Gl(f,w),g(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var N=w[D];const L=Td(N);N=GN(this,N);for(let B=0;B<N.length;B++){let ne=L;N[B]!==""&&(ne+="="+Td(N[B])),f.push(ne)}}return this.i=f.join("&")};function WN(f){const w=new Cd;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function Gl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function A8(f,w){w&&!f.j&&(bo(f),f.i=null,f.g.forEach(function(N,D){const L=D.toLowerCase();D!=L&&(qN(this,D),KN(this,L,N))},f)),f.j=w}function I8(f,w){const N=new _d;if(a.Image){const D=new Image;D.onload=d(Gi,N,"TestLoadImage: loaded",!0,w,D),D.onerror=d(Gi,N,"TestLoadImage: error",!1,w,D),D.onabort=d(Gi,N,"TestLoadImage: abort",!1,w,D),D.ontimeout=d(Gi,N,"TestLoadImage: timeout",!1,w,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else w(!1)}function C8(f,w){const N=new _d,D=new AbortController,L=setTimeout(()=>{D.abort(),Gi(N,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:D.signal}).then(B=>{clearTimeout(L),B.ok?Gi(N,"TestPingServer: ok",!0,w):Gi(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(L),Gi(N,"TestPingServer: error",!1,w)})}function Gi(f,w,N,D,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),D(N)}catch{}}function j8(){this.g=new h8}function lx(f){this.i=f.Sb||null,this.h=f.ab||!1}h(lx,EN),lx.prototype.g=function(){return new Km(this.i,this.h)};function Km(f,w){gt.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Km,gt),t=Km.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Rd(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jd(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rd(this)),this.g&&(this.readyState=3,Rd(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;YN(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function YN(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?jd(this):Rd(this),this.readyState==3&&YN(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,jd(this))},t.Na=function(f){this.g&&(this.response=f,jd(this))},t.ga=function(){this.g&&jd(this)};function jd(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Rd(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=w.next();return f.join(`\r
`)};function Rd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Km.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function QN(f){let w="";return W(f,function(N,D){w+=D,w+=":",w+=N,w+=`\r
`}),w}function cx(f,w,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=QN(N),typeof f=="string"?N!=null&&Td(N):yt(f,w,N))}function kt(f){gt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(kt,gt);var R8=/^https?$/i,P8=["POST","PUT"];t=kt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():RN.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(B){XN(this,B);return}if(f=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var L in D)N.set(L,D[L]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const B of D.keys())N.set(B,D.get(B));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(B=>B.toLowerCase()=="content-type"),L=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(P8,w,void 0)>=0)||D||L||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,ne]of N)this.g.setRequestHeader(B,ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(B){XN(this,B)}};function XN(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,JN(f),Wm(f)}function JN(f){f.A||(f.A=!0,sn(f,"complete"),sn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,sn(this,"complete"),sn(this,"abort"),Wm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wm(this,!0)),kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ZN(this):this.Xa())},t.Xa=function(){ZN(this)};function ZN(f){if(f.h&&typeof i<"u"){if(f.v&&Ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(sn(f,"readystatechange"),Ki(f)==4){f.h=!1;try{const B=f.ca();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var D;if(D=B===0){let ne=String(f.D).match(BN)[1]||null;!ne&&a.self&&a.self.location&&(ne=a.self.location.protocol.slice(0,-1)),D=!R8.test(ne?ne.toLowerCase():"")}N=D}if(N)sn(f,"complete"),sn(f,"success");else{f.o=6;try{var L=Ki(f)>2?f.g.statusText:""}catch{L=""}f.l=L+" ["+f.ca()+"]",JN(f)}}finally{Wm(f)}}}}function Wm(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const N=f.g;f.g=null,w||sn(f,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),d8(w)}};function eA(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function k8(f){const w={};f=(f.g&&Ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(k(f[D]))continue;var N=y8(f[D]);const L=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const B=w[L]||[];w[L]=B,B.push(N)}ae(w,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pd(f,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||w}function tA(f){this.za=0,this.i=[],this.j=new _d,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pd("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pd("baseRetryDelayMs",5e3,f),this.Za=Pd("retryDelaySeedMs",1e4,f),this.Ta=Pd("forwardChannelMaxRetries",2,f),this.va=Pd("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new VN(f&&f.concurrentRequestLimit),this.Ba=new j8,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=tA.prototype,t.ka=8,t.I=1,t.connect=function(f,w,N,D){Un(0),this.W=f,this.H=w||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=uA(this,null,this.W),Qm(this)};function ux(f){if(nA(f),f.I==3){var w=f.V++,N=_r(f.J);if(yt(N,"SID",f.M),yt(N,"RID",w),yt(N,"TYPE","terminate"),kd(f,N),w=new qi(f,f.j,w),w.M=2,w.A=Gm(_r(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!N&&a.Image&&(new Image().src=w.A,N=!0),N||(w.g=dA(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Hm(w)}cA(f)}function Ym(f){f.g&&(hx(f),f.g.cancel(),f.g=null)}function nA(f){Ym(f),f.v&&(a.clearTimeout(f.v),f.v=null),Xm(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function Qm(f){if(!LN(f.h)&&!f.m){f.m=!0;var w=f.Ea;I||T(),R||(I(),R=!0),S.add(w,f),f.D=0}}function D8(f,w){return UN(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=wd(u(f.Ea,f,w),lA(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const L=new qi(this,this.j,f);let B=this.o;if(this.U&&(B?(B=ge(B),Ze(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=rA(this,L,w),N=_r(this.J),yt(N,"RID",f),yt(N,"CVER",22),this.G&&yt(N,"X-HTTP-Session-Id",this.G),kd(this,N),B&&(this.R?w="headers="+Td(QN(B))+"&"+w:this.u&&cx(N,this.u,B)),ax(this.h,L),this.Ra&&yt(N,"TYPE","init"),this.S?(yt(N,"$req",w),yt(N,"SID","null"),L.U=!0,nx(L,N,null)):nx(L,N,w),this.I=2}}else this.I==3&&(f?sA(this,f):this.i.length==0||LN(this.h)||sA(this))};function sA(f,w){var N;w?N=w.l:N=f.V++;const D=_r(f.J);yt(D,"SID",f.M),yt(D,"RID",N),yt(D,"AID",f.K),kd(f,D),f.u&&f.o&&cx(D,f.u,f.o),N=new qi(f,f.j,N,f.D+1),f.u===null&&(N.J=f.o),w&&(f.i=w.G.concat(f.i)),w=rA(f,N,1e3),N.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ax(f.h,N),nx(N,D,w)}function kd(f,w){f.H&&W(f.H,function(N,D){yt(w,D,N)}),f.l&&W({},function(N,D){yt(w,D,N)})}function rA(f,w,N){N=Math.min(f.i.length,N);const D=f.l?u(f.l.Ka,f.l,f):null;e:{var L=f.i;let Re=-1;for(;;){const rn=["count="+N];Re==-1?N>0?(Re=L[0].g,rn.push("ofs="+Re)):Re=0:rn.push("ofs="+Re);let lt=!0;for(let fn=0;fn<N;fn++){var B=L[fn].g;const Tr=L[fn].map;if(B-=Re,B<0)Re=Math.max(0,L[fn].g-100),lt=!1;else try{B="req"+B+"_"||"";try{var ne=Tr instanceof Map?Tr:Object.entries(Tr);for(const[_o,Wi]of ne){let Yi=Wi;l(Wi)&&(Yi=Xv(Wi)),rn.push(B+_o+"="+encodeURIComponent(Yi))}}catch(_o){throw rn.push(B+"type="+encodeURIComponent("_badmap")),_o}}catch{D&&D(Tr)}}if(lt){ne=rn.join("&");break e}}ne=void 0}return f=f.i.splice(0,N),w.G=f,ne}function iA(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;I||T(),R||(I(),R=!0),S.add(w,f),f.A=0}}function dx(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=wd(u(f.Da,f),lA(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,aA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=wd(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Un(10),Ym(this),aA(this))};function hx(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function aA(f){f.g=new qi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=_r(f.na);yt(w,"RID","rpc"),yt(w,"SID",f.M),yt(w,"AID",f.K),yt(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&yt(w,"TO",f.ia),yt(w,"TYPE","xmlhttp"),kd(f,w),f.u&&f.o&&cx(w,f.u,f.o),f.O&&(f.g.H=f.O);var N=f.g;f=f.ba,N.M=1,N.A=Gm(_r(w)),N.u=null,N.R=!0,DN(N,f)}t.Va=function(){this.C!=null&&(this.C=null,Ym(this),dx(this),Un(19))};function Xm(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function oA(f,w){var N=null;if(f.g==w){Xm(f),hx(f),f.g=null;var D=2}else if(ix(f.h,w))N=w.G,FN(f.h,w),D=1;else return;if(f.I!=0){if(w.o)if(D==1){N=w.u?w.u.length:0,w=Date.now()-w.F;var L=f.D;D=$m(),sn(D,new CN(D,N)),Qm(f)}else iA(f);else if(L=w.m,L==3||L==0&&w.X>0||!(D==1&&D8(f,w)||D==2&&dx(f)))switch(N&&N.length>0&&(w=f.h,w.i=w.i.concat(N)),L){case 1:wo(f,5);break;case 4:wo(f,10);break;case 3:wo(f,6);break;default:wo(f,2)}}}function lA(f,w){let N=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(N*=2),N*w}function wo(f,w){if(f.j.info("Error code "+w),w==2){var N=u(f.bb,f),D=f.Ua;const L=!D;D=new Hi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sd(D,"https"),Gm(D),L?I8(D.toString(),N):C8(D.toString(),N)}else Un(2);f.I=0,f.l&&f.l.pa(w),cA(f),nA(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Un(2)):(this.j.info("Failed to ping google.com"),Un(1))};function cA(f){if(f.I=0,f.ja=[],f.l){const w=zN(f.h);(w.length!=0||f.i.length!=0)&&(y(f.ja,w),y(f.ja,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.oa()}}function uA(f,w,N){var D=N instanceof Hi?_r(N):new Hi(N);if(D.g!="")w&&(D.g=w+"."+D.g),Nd(D,D.u);else{var L=a.location;D=L.protocol,w=w?w+"."+L.hostname:L.hostname,L=+L.port;const B=new Hi(null);D&&Sd(B,D),w&&(B.g=w),L&&Nd(B,L),N&&(B.h=N),D=B}return N=f.G,w=f.wa,N&&w&&yt(D,N,w),yt(D,"VER",f.ka),kd(f,D),D}function dA(f,w,N){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new kt(new lx({ab:N})):new kt(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hA(){}t=hA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jm(){}Jm.prototype.g=function(f,w){return new ms(f,w)};function ms(f,w){gt.call(this),this.g=new tA(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!k(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Kl(this)}h(ms,gt),ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ms.prototype.close=function(){ux(this.g)},ms.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.v&&(N={},N.__data__=Xv(f),f=N);w.i.push(new b8(w.Ya++,f)),w.I==3&&Qm(w)},ms.prototype.N=function(){this.g.l=null,delete this.j,ux(this.g),delete this.g,ms.Z.N.call(this)};function fA(f){Jv.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const N in w){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}h(fA,Jv);function mA(){Zv.call(this),this.status=1}h(mA,Zv);function Kl(f){this.g=f}h(Kl,hA),Kl.prototype.ra=function(){sn(this.g,"a")},Kl.prototype.qa=function(f){sn(this.g,new fA(f))},Kl.prototype.pa=function(f){sn(this.g,new mA)},Kl.prototype.oa=function(){sn(this.g,"b")},Jm.prototype.createWebChannel=Jm.prototype.g,ms.prototype.send=ms.prototype.o,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,yV=function(){return new Jm},gV=function(){return $m()},pV=vo,y1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qm.NO_ERROR=0,qm.TIMEOUT=8,qm.HTTP_ERROR=6,ag=qm,jN.COMPLETE="complete",mV=jN,SN.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",gt.prototype.listen=gt.prototype.J,ih=SN,kt.prototype.listenOnce=kt.prototype.K,kt.prototype.getLastError=kt.prototype.Ha,kt.prototype.getLastErrorCode=kt.prototype.ya,kt.prototype.getStatus=kt.prototype.ca,kt.prototype.getResponseJson=kt.prototype.La,kt.prototype.getResponseText=kt.prototype.la,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Fa,fV=kt}).apply(typeof xp<"u"?xp:typeof self<"u"?self:typeof window<"u"?window:{});const J2="@firebase/firestore",Z2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new dm("@firebase/firestore");function cc(){return hl.logLevel}function J(t,...e){if(hl.logLevel<=Pe.DEBUG){const n=e.map(rE);hl.debug(`Firestore (${ad}): ${t}`,...n)}}function $n(t,...e){if(hl.logLevel<=Pe.ERROR){const n=e.map(rE);hl.error(`Firestore (${ad}): ${t}`,...n)}}function _u(t,...e){if(hl.logLevel<=Pe.WARN){const n=e.map(rE);hl.warn(`Firestore (${ad}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,vV(t,s,n)}function vV(t,e,n){let s=`FIRESTORE (${ad}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw $n(s),new Error(s)}function he(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||vV(e,r,s)}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let ee=class extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OQ=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},VQ=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bn.UNAUTHENTICATED))}shutdown(){}};class LQ{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(he(typeof s.accessToken=="string",31837,{l:s}),new OQ(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string",2055,{h:e}),new Bn(e)}}let UQ=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},FQ=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new UQ(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},eC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class zQ{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,as(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){he(this.o===void 0,3512);const s=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new eC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new eC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=BQ(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ee(t,e){return t<e?-1:t>e?1:0}function v1(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return db(r)===db(i)?Ee(r,i):db(r)?1:-1}return Ee(t.length,e.length)}const $Q=55296,qQ=57343;function db(t){const e=t.charCodeAt(0);return e>=$Q&&e<=qQ}function Tu(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}function xV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="__name__";let bV=class sa{constructor(e,n,s){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&le(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=sa.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ee(e.length,n.length)}static compareSegments(e,n){const s=sa.isNumericId(e),r=sa.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?sa.extractNumericId(e).compare(sa.extractNumericId(n)):v1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}},ut=class og extends bV{construct(e,n,s){return new og(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ee(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new og(n)}static emptyPath(){return new og([])}};const HQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let In=class uc extends bV{construct(e,n,s){return new uc(e,n,s)}static isValidIdentifier(e){return HQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tC}static keyField(){return new uc([tC])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ee(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ee(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ee(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uc(n)}static emptyPath(){return new uc([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ie=class ah{constructor(e){this.path=e}static fromPath(e){return new ah(ut.fromString(e))}static fromName(e){return new ah(ut.fromString(e).popFirst(5))}static empty(){return new ah(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ut.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ah(new ut(e.slice()))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e,n){if(!n)throw new ee(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GQ(t,e,n,s){if(e===!0&&s===!0)throw new ee(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nC(t){if(!ie.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function sC(t){if(ie.isDocumentKey(t))throw new ee(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _V(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function us(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new ee(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(t,e){const n={typeString:t};return e&&(n.value=e),n}function gm(t,e){if(!_V(t))throw new ee(K.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ee(K.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=-62135596800,iC=1e6;let Rt=class Ro{static now(){return Ro.fromMillis(Date.now())}static fromDate(e){return Ro.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iC);return new Ro(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rC)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iC}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ro._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gm(e,Ro._jsonSchema))return new Ro(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-rC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:tn("string",Rt._jsonSchemaVersion),seconds:tn("number"),nanoseconds:tn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xe=class lg{static fromTimestamp(e){return new lg(e)}static min(){return new lg(new Rt(0,0))}static max(){return new lg(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=-1;class w0{constructor(e,n,s,r){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=r}}function x1(t){return t.fields.find(e=>e.kind===2)}function Po(t){return t.fields.filter(e=>e.kind!==2)}w0.UNKNOWN_ID=-1;class cg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ef{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ef(0,Ms.min())}}function KQ(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=xe.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Ms(r,ie.empty(),e)}function TV(t){return new Ms(t.readTime,t.key,Tf)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(xe.min(),ie.empty(),Tf)}static max(){return new Ms(xe.max(),ie.empty(),Tf)}}function aE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==EV)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,s)=>{n(e)})}static reject(e){return new U((n,s)=>{s(e)})}static waitFor(e){return new U((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=U.resolve(!1);for(const s of e)n=n.next(r=>r?U.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new U((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(e,n){return new U((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="SimpleDb";class Qy{static open(e,n,s,r){try{return new Qy(n,e.transaction(r,s))}catch(i){throw new Ph(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Mr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ph(e,n.error)):this.S.resolve()},this.transaction.onerror=s=>{const r=oE(s.target.error);this.S.reject(new Ph(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(J(gs,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new YQ(n)}}class Ua{static delete(e){return J(gs,"Removing database:",e),Vo(pO().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qy())return!1;if(Ua.F())return!0;const e=un(),n=Ua.M(e),s=0<n&&n<10,r=NV(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,n,s){this.name=e,this.version=n,this.N=s,this.B=null,Ua.M(un())===12.2&&$n("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(J(gs,"Opening database:",this.name),this.db=await new Promise((n,s)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=i=>{const a=i.target.result;n(a)},r.onblocked=()=>{s(new Ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=i=>{const a=i.target.error;a.name==="VersionError"?s(new ee(K.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?s(new ee(K.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):s(new Ph(e,a))},r.onupgradeneeded=i=>{J(gs,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,r.transaction,i.oldVersion,this.version).next(()=>{J(gs,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,s,r){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Qy.open(this.db,e,i?"readonly":"readwrite",s),c=r(l).next(u=>(l.C(),u)).catch(u=>(l.abort(u),U.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(J(gs,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function NV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class WQ{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Vo(this.U.delete())}}class Ph extends ee{constructor(e,n){super(K.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function po(t){return t.name==="IndexedDbTransactionError"}class YQ{constructor(e){this.store=e}put(e,n){let s;return n!==void 0?(J(gs,"PUT",this.store.name,e,n),s=this.store.put(n,e)):(J(gs,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Vo(s)}add(e){return J(gs,"ADD",this.store.name,e,e),Vo(this.store.add(e))}get(e){return Vo(this.store.get(e)).next(n=>(n===void 0&&(n=null),J(gs,"GET",this.store.name,e,n),n))}delete(e){return J(gs,"DELETE",this.store.name,e),Vo(this.store.delete(e))}count(){return J(gs,"COUNT",this.store.name),Vo(this.store.count())}J(e,n){const s=this.options(e,n),r=s.index?this.store.index(s.index):this.store;if(typeof r.getAll=="function"){const i=r.getAll(s.range);return new U((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(s),a=[];return this.H(i,(l,c)=>{a.push(c)}).next(()=>a)}}Y(e,n){const s=this.store.getAll(e,n===null?void 0:n);return new U((r,i)=>{s.onerror=a=>{i(a.target.error)},s.onsuccess=a=>{r(a.target.result)}})}Z(e,n){J(gs,"DELETE ALL",this.store.name);const s=this.options(e,n);s.X=!1;const r=this.cursor(s);return this.H(r,(i,a,l)=>l.delete())}ee(e,n){let s;n?s=e:(s={},n=e);const r=this.cursor(s);return this.H(r,n)}te(e){const n=this.cursor({});return new U((s,r)=>{n.onerror=i=>{const a=oE(i.target.error);r(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():s()}):s()}})}H(e,n){const s=[];return new U((r,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const c=new WQ(l),u=n(l.primaryKey,l.value,c);if(u instanceof U){const d=u.catch(h=>(c.done(),U.reject(h)));s.push(d)}c.isDone?r():c.G===null?l.continue():l.continue(c.G)}}).next(()=>U.waitFor(s))}options(e,n){let s;return e!==void 0&&(typeof e=="string"?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vo(t){return new U((e,n)=>{t.onsuccess=s=>{const r=s.target.result;e(r)},t.onerror=s=>{const r=oE(s.target.error);n(r)}})}let aC=!1;function oE(t){const e=Ua.M(un());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const s=new ee("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aC||(aC=!0,setTimeout(()=>{throw s},0)),s}}return t}const kh="IndexBackfiller";class QQ{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){J(kh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();J(kh,`Documents written: ${n}`)}catch(n){po(n)?J(kh,"Ignoring IndexedDB error during index backfill: ",n):await Ol(n)}await this.re(6e4)})}}class XQ{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const s=new Set;let r=n,i=!0;return U.doWhile(()=>i===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!s.has(a))return J(kh,`Processing collection: ${a}`),this.oe(e,a,r).next(l=>{r-=l,s.add(a)});i=!1})).next(()=>n-r)}oe(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,s).next(i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this._e(r,i)).next(l=>(J(kh,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>a.size)}))}_e(e,n){let s=e;return n.changes.forEach((r,i)=>{const a=TV(i);aE(a,s)>0&&(s=a)}),new Ms(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ys.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=-1;function Xy(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function JQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="";function Ln(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=oC(e)),e=ZQ(t.get(n),e);return oC(e)}function ZQ(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case _0:n+="";break;default:n+=i}}return n}function oC(t){return t+_0+""}function Cr(t){const e=t.length;if(he(e>=2,64408,{path:t}),e===2)return he(t.charAt(0)===_0&&t.charAt(1)==="",56145,{path:t}),ut.emptyPath();const n=e-2,s=[];let r="";for(let i=0;i<e;){const a=t.indexOf(_0,i);switch((a<0||a>n)&&le(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(i,a);let c;r.length===0?c=l:(r+=l,c=r,r=""),s.push(c);break;case"":r+=t.substring(i,a),r+="\0";break;case"":r+=t.substring(i,a+1);break;default:le(61167,{path:t})}i=a+2}return new ut(s)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="remoteDocuments",ym="owner",Xl="owner",Nf="mutationQueues",eX="userId",lr="mutations",lC="batchId",zo="userMutationsIndex",cC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){return[t,Ln(e)]}function AV(t,e,n){return[t,Ln(e),n]}const tX={},Eu="documentMutations",T0="remoteDocumentsV14",nX=["prefixPath","collectionGroup","readTime","documentId"],dg="documentKeyIndex",sX=["prefixPath","collectionGroup","documentId"],IV="collectionGroupIndex",rX=["collectionGroup","readTime","prefixPath","documentId"],Af="remoteDocumentGlobal",b1="remoteDocumentGlobalKey",Su="targets",CV="queryTargetsIndex",iX=["canonicalId","targetId"],Nu="targetDocuments",aX=["targetId","path"],lE="documentTargetsIndex",oX=["path","targetId"],E0="targetGlobalKey",Jo="targetGlobal",If="collectionParents",lX=["collectionId","parent"],Au="clientMetadata",cX="clientId",Jy="bundles",uX="bundleId",Zy="namedQueries",dX="name",cE="indexConfiguration",hX="indexId",w1="collectionGroupIndex",fX="collectionGroup",Dh="indexState",mX=["indexId","uid"],jV="sequenceNumberIndex",pX=["uid","sequenceNumber"],Mh="indexEntries",gX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RV="documentKeyIndex",yX=["indexId","uid","orderedDocumentKey"],ev="documentOverlays",vX=["userId","collectionPath","documentId"],_1="collectionPathOverlayIndex",xX=["userId","collectionPath","largestBatchId"],PV="collectionGroupOverlayIndex",bX=["userId","collectionGroup","largestBatchId"],uE="globals",wX="name",kV=[Nf,lr,Eu,ko,Su,ym,Jo,Nu,Au,Af,If,Jy,Zy],_X=[...kV,ev],DV=[Nf,lr,Eu,T0,Su,ym,Jo,Nu,Au,Af,If,Jy,Zy,ev],MV=DV,dE=[...MV,cE,Dh,Mh],TX=dE,OV=[...dE,uE],EX=OV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends SV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function dn(t,e){const n=Se(t);return Ua.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class E1{constructor(e,n){this.comparator=e,this.root=n||Fa.EMPTY}insert(e,n){return new E1(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fa.BLACK,null,null))}remove(e){return new E1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bp(this.root,e,this.comparator,!0)}},bp=class{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fa=class si{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??si.RED,this.left=r??si.EMPTY,this.right=i??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new si(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return si.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}};Fa.EMPTY=null,Fa.RED=!0,Fa.BLACK=!1;Fa.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Fa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class S1{constructor(e){this.comparator=e,this.data=new Ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dC(this.data.getIterator())}getIteratorFrom(e){return new dC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof S1)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new S1(this.comparator);return n.data=e,n}},dC=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Jl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new ls([])}unionWith(e){let n=new pt(In.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ls(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LV=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class N1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LV("Invalid base64 string: "+i):i}}(e);return new N1(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new N1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jn.EMPTY_BYTE_STRING=new jn("");const SX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(he(!!t,39018),typeof t=="string"){let e=0;const n=SX.exec(t);if(he(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV="server_timestamp",FV="__type__",zV="__previous_value__",BV="__local_write_time__";function hE(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[FV])==null?void 0:s.stringValue)===UV}function tv(t){const e=t.mapValue.fields[zV];return hE(e)?tv(e):e}function Cf(t){const e=ji(t.mapValue.fields[BV].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NX=class{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}};const S0="(default)";let nv=class A1{constructor(e,n){this.projectId=e,this.database=n||S0}static empty(){return new A1("","")}get isDefaultDatabase(){return this.database===S0}isEqual(e){return e instanceof A1&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__type__",$V="__max__",Sa={mapValue:{fields:{__type__:{stringValue:$V}}}},mE="__vector__",Iu="value",hg={nullValue:"NULL_VALUE"};function Ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hE(t)?4:qV(t)?9007199254740991:sv(t)?10:11:le(28295,{value:t})}function zr(t,e){if(t===e)return!0;const n=Ya(t);if(n!==Ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ji(r.timestampValue),l=ji(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ri(r.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ct(r.geoPointValue.latitude)===Ct(i.geoPointValue.latitude)&&Ct(r.geoPointValue.longitude)===Ct(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ct(r.integerValue)===Ct(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ct(r.doubleValue),l=Ct(i.doubleValue);return a===l?Sf(a)===Sf(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(uC(a)!==uC(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!zr(a[c],l[c])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function jf(t,e){return(t.values||[]).find(n=>zr(n,e))!==void 0}function Qa(t,e){if(t===e)return 0;const n=Ya(t),s=Ya(e);if(n!==s)return Ee(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ct(i.integerValue||i.doubleValue),c=Ct(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return hC(t.timestampValue,e.timestampValue);case 4:return hC(Cf(t),Cf(e));case 5:return v1(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ri(i),c=Ri(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ee(l[u],c[u]);if(d!==0)return d}return Ee(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ee(Ct(i.latitude),Ct(a.latitude));return l!==0?l:Ee(Ct(i.longitude),Ct(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fC(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,y,b;const l=i.fields||{},c=a.fields||{},u=(m=l[Iu])==null?void 0:m.arrayValue,d=(g=c[Iu])==null?void 0:g.arrayValue,h=Ee(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:fC(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Sa.mapValue&&a===Sa.mapValue)return 0;if(i===Sa.mapValue)return 1;if(a===Sa.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=v1(c[h],d[h]);if(m!==0)return m;const g=Qa(l[c[h]],u[d[h]]);if(g!==0)return g}return Ee(c.length,d.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function hC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ji(t),s=ji(e),r=Ee(n.seconds,s.seconds);return r!==0?r:Ee(n.nanos,s.nanos)}function fC(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Qa(n[r],s[r]);if(i)return i}return Ee(n.length,s.length)}function Cu(t){return I1(t)}function I1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ji(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=I1(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${I1(n.fields[a])}`;return r+"}"}(t.mapValue):le(61005,{value:t})}function fg(t){switch(Ya(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tv(t);return e?16+fg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+fg(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return go(s.fields,(i,a)=>{r+=i.length+fg(a)}),r}(t.mapValue);default:throw le(13486,{value:t})}}function Rf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function C1(t){return!!t&&"integerValue"in t}function Pf(t){return!!t&&"arrayValue"in t}function mC(t){return!!t&&"nullValue"in t}function pC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mg(t){return!!t&&"mapValue"in t}function sv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fE])==null?void 0:s.stringValue)===mE}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Oh(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function qV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===$V}const HV={mapValue:{fields:{[fE]:{stringValue:mE},[Iu]:{arrayValue:{}}}}};function AX(t){return"nullValue"in t?hg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Rf(nv.empty(),ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?HV:{mapValue:{}}:le(35942,{value:t})}function IX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Rf(nv.empty(),ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?HV:"mapValue"in t?sv(t)?{mapValue:{}}:Sa:le(61959,{value:t})}function gC(t,e){const n=Qa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function yC(t,e){const n=Qa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs=class j1{constructor(e){this.value=e}static empty(){return new j1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=In.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Oh(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];mg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){go(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new j1(Oh(this.value))}};function GV(t){const e=[];return go(t.fields,(n,s)=>{const r=new In([n]);if(mg(s)){const i=GV(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new ls(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kn=class Do{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Do(e,0,xe.min(),xe.min(),xe.min(),bs.empty(),0)}static newFoundDocument(e,n,s,r){return new Do(e,1,n,xe.min(),s,r,0)}static newNoDocument(e,n){return new Do(e,2,n,xe.min(),xe.min(),bs.empty(),0)}static newUnknownDocument(e,n){return new Do(e,3,n,xe.min(),xe.min(),bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Do&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Do(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=class{constructor(e,n){this.position=e,this.inclusive=n}};function vC(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=ie.comparator(ie.fromName(a.referenceValue),n.key):s=Qa(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function xC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N0=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function CX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KV=class{},Ge=class WV extends KV{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new jX(e,n,s):n==="array-contains"?new kX(e,s):n==="in"?new t5(e,s):n==="not-in"?new DX(e,s):n==="array-contains-any"?new MX(e,s):new WV(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new RX(e,s):new PX(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Qa(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.matchesComparison(Qa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},dt=class YV extends KV{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new YV(e,n)}matches(e){return Ru(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Ru(t){return t.op==="and"}function R1(t){return t.op==="or"}function pE(t){return QV(t)&&Ru(t)}function QV(t){for(const e of t.filters)if(e instanceof dt)return!1;return!0}function P1(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+Cu(t.value);if(pE(t))return t.filters.map(e=>P1(e)).join(",");{const e=t.filters.map(n=>P1(n)).join(",");return`${t.op}(${e})`}}function XV(t,e){return t instanceof Ge?function(s,r){return r instanceof Ge&&s.op===r.op&&s.field.isEqual(r.field)&&zr(s.value,r.value)}(t,e):t instanceof dt?function(s,r){return r instanceof dt&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&XV(a,r.filters[l]),!0):!1}(t,e):void le(19439)}function JV(t,e){const n=t.filters.concat(e);return dt.create(n,t.op)}function ZV(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${Cu(n.value)}`}(t):t instanceof dt?function(n){return n.op.toString()+" {"+n.getFilters().map(ZV).join(" ,")+"}"}(t):"Filter"}let jX=class extends Ge{constructor(e,n,s){super(e,n,s),this.key=ie.fromName(s.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},RX=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=e5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},PX=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=e5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function e5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ie.fromName(s.referenceValue))}let kX=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pf(n)&&jf(n.arrayValue,this.value)}},t5=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jf(this.value.arrayValue,n)}},DX=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jf(this.value.arrayValue,n)}},MX=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jf(this.value.arrayValue,s))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OX=class{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}};function k1(t,e=null,n=[],s=[],r=null,i=null,a=null){return new OX(t,e,n,s,r,i,a)}function fl(t){const e=Se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>P1(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Xy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Cu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Cu(s)).join(",")),e.Te=n}return e.Te}function vm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!CX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!XV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xC(t.startAt,e.startAt)&&xC(t.endAt,e.endAt)}function A0(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function I0(t,e){return t.filters.filter(n=>n instanceof Ge&&n.field.isEqual(e))}function bC(t,e,n){let s=hg,r=!0;for(const i of I0(t,e)){let a=hg,l=!0;switch(i.op){case"<":case"<=":a=AX(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,l=!1;break;case"!=":case"not-in":a=hg}gC({value:s,inclusive:r},{value:a,inclusive:l})<0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];gC({value:s,inclusive:r},{value:a,inclusive:n.inclusive})<0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}function wC(t,e,n){let s=Sa,r=!0;for(const i of I0(t,e)){let a=Sa,l=!0;switch(i.op){case">=":case">":a=IX(i.value),l=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,l=!1;break;case"!=":case"not-in":a=Sa}yC({value:s,inclusive:r},{value:a,inclusive:l})>0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];yC({value:s,inclusive:r},{value:a,inclusive:n.inclusive})>0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm=class{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function VX(t,e,n,s,r,i,a,l){return new xm(t,e,n,s,r,i,a,l)}function bm(t){return new xm(t)}function _C(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function n5(t){return t.collectionGroup!==null}function Vh(t){const e=Se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pt(In.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new N0(i,s))}),n.has(In.keyField().canonicalString())||e.Ie.push(new N0(In.keyField(),s))}return e.Ie}function Js(t){const e=Se(t);return e.Ee||(e.Ee=LX(e,Vh(t))),e.Ee}function LX(t,e){if(t.limitType==="F")return k1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new N0(r.field,i)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return k1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function D1(t,e){const n=t.filters.concat([e]);return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function M1(t,e,n){return new xm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rv(t,e){return vm(Js(t),Js(e))&&t.limitType===e.limitType}function s5(t){return`${fl(Js(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>ZV(r)).join(", ")}]`),Xy(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Cu(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Cu(r)).join(",")),`Target(${s})`}(Js(t))}; limitType=${t.limitType})`}function wm(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ie.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Vh(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=vC(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,Vh(s),r)||s.endAt&&!function(a,l,c){const u=vC(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,Vh(s),r))}(t,e)}function UX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function r5(t){return(e,n)=>{let s=!1;for(const r of Vh(t)){const i=FX(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function FX(t,e,n){const s=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Qa(c,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return VV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zX=new Ht(ie.comparator);function Ts(){return zX}const i5=new Ht(ie.comparator);function oh(...t){let e=i5;for(const n of t)e=e.insert(n.key,n);return e}function a5(t){let e=i5;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function jr(){return Lh()}function o5(){return Lh()}function Lh(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const BX=new Ht(ie.comparator),$X=new pt(ie.comparator);function De(...t){let e=$X;for(const n of t)e=e.add(n);return e}const qX=new pt(Ee);function HX(){return qX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function l5(t){return{integerValue:""+t}}function c5(t,e){return JQ(e)?l5(e):gE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this._=void 0}}function GX(t,e,n){return t instanceof Pu?function(r,i){const a={fields:{[FV]:{stringValue:UV},[BV]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&hE(i)&&(i=tv(i)),i&&(a.fields[zV]=i),{mapValue:a}}(n,e):t instanceof ku?d5(t,e):t instanceof Du?h5(t,e):function(r,i){const a=u5(r,i),l=TC(a)+TC(r.Ae);return C1(a)&&C1(r.Ae)?l5(l):gE(r.serializer,l)}(t,e)}function KX(t,e,n){return t instanceof ku?d5(t,e):t instanceof Du?h5(t,e):n}function u5(t,e){return t instanceof Mu?function(s){return C1(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Pu extends iv{}class ku extends iv{constructor(e){super(),this.elements=e}}function d5(t,e){const n=f5(e);for(const s of t.elements)n.some(r=>zr(r,s))||n.push(s);return{arrayValue:{values:n}}}class Du extends iv{constructor(e){super(),this.elements=e}}function h5(t,e){let n=f5(e);for(const s of t.elements)n=n.filter(r=>!zr(r,s));return{arrayValue:{values:n}}}class Mu extends iv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function TC(t){return Ct(t.integerValue||t.doubleValue)}function f5(t){return Pf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n){this.field=e,this.transform=n}}function WX(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof ku&&r instanceof ku||s instanceof Du&&r instanceof Du?Tu(s.elements,r.elements,zr):s instanceof Mu&&r instanceof Mu?zr(s.Ae,r.Ae):s instanceof Pu&&r instanceof Pu}(t.transform,e.transform)}class YX{constructor(e,n){this.version=e,this.transformResults=n}}class Mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class av{}function m5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,Mn.none()):new od(t.key,t.data,Mn.none());{const n=t.data,s=bs.empty();let r=new pt(In.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new $i(t.key,s,new ls(r.toArray()),Mn.none())}}function QX(t,e,n){t instanceof od?function(r,i,a){const l=r.value.clone(),c=SC(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(r,i,a){if(!pg(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=SC(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(p5(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Uh(t,e,n,s){return t instanceof od?function(i,a,l,c){if(!pg(i.precondition,a))return l;const u=i.value.clone(),d=NC(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof $i?function(i,a,l,c){if(!pg(i.precondition,a))return l;const u=NC(i.fieldTransforms,c,a),d=a.data;return d.setAll(p5(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,a,l){return pg(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function XX(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=u5(s.transform,r||null);i!=null&&(n===null&&(n=bs.empty()),n.set(s.field,i))}return n||null}function EC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Tu(s,r,(i,a)=>WX(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends av{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $i extends av{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function p5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function SC(t,e,n){const s=new Map;he(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,KX(a,l,n[r]))}return s}function NC(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,GX(i,a,e))}return s}class ov extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class g5 extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&QX(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Uh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Uh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=o5();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=m5(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(n,s)=>EC(n,s))&&Tu(this.baseMutations,e.baseMutations,(n,s)=>EC(n,s))}}class xE{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){he(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return BX}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new xE(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JX{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,qe;function ZX(t){switch(t){case K.OK:return le(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function y5(t){if(t===void 0)return $n("GRPC error has no .code"),K.UNKNOWN;switch(t){case Kt.OK:return K.OK;case Kt.CANCELLED:return K.CANCELLED;case Kt.UNKNOWN:return K.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return K.INTERNAL;case Kt.UNAVAILABLE:return K.UNAVAILABLE;case Kt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case Kt.NOT_FOUND:return K.NOT_FOUND;case Kt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case Kt.ABORTED:return K.ABORTED;case Kt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case Kt.DATA_LOSS:return K.DATA_LOSS;default:return le(39323,{code:t})}}(qe=Kt||(Kt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ=new yi([4294967295,4294967295],0);function AC(t){const e=eJ().encode(t),n=new hV;return n.update(e),new Uint8Array(n.digest())}function IC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yi([n,s],0),new yi([r,i],0)]}class wE{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(s<0)throw new lh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yi.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(yi.fromNumber(s)));return r.compare(tJ)===1&&(r=new yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=AC(e),[s,r]=IC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new wE(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=AC(e),[s,r]=IC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,_m.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lv(xe.min(),r,new Ht(Ee),Ts(),De())}}class _m{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _m(s,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class v5{constructor(e,n){this.targetId=e,this.Ce=n}}class x5{constructor(e,n,s=jn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class CC{constructor(){this.ve=0,this.Fe=jC(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=De(),n=De(),s=De();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:le(38017,{changeType:i})}}),new _m(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=jC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,he(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class nJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=wp(),this.He=wp(),this.Ye=new Ht(Ee)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(A0(i))if(s===0){const a=new ie(i.path);this.et(n,a,Kn.newNoDocument(a,xe.min()))}else he(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Ri(s).toUint8Array()}catch(c){if(c instanceof LV)return _u("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new wE(a,r,i)}catch(c){return _u(c instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&A0(l.target)){const c=new ie(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Kn.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=De();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new lv(e,n,this.Ye,this.je,s);return this.je=Ts(),this.Je=wp(),this.He=wp(),this.Ye=new Ht(Ee),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new CC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(Ee),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(Ee),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new CC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wp(){return new Ht(ie.comparator)}function jC(){return new Ht(ie.comparator)}const sJ=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rJ=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),iJ=(()=>({and:"AND",or:"OR"}))();let aJ=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function O1(t,e){return t.useProto3Json||Xy(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function b5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oJ(t,e){return Ou(t,e.toTimestamp())}function Wn(t){return he(!!t,49232),xe.fromTimestamp(function(n){const s=ji(n);return new Rt(s.seconds,s.nanos)}(t))}function _E(t,e){return V1(t,e).canonicalString()}function V1(t,e){const n=function(r){return new ut(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w5(t){const e=ut.fromString(t);return he(j5(e),10190,{key:e.toString()}),e}function C0(t,e){return _E(t.databaseId,e.path)}function Zo(t,e){const n=w5(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(E5(n))}function _5(t,e){return _E(t.databaseId,e)}function T5(t){const e=w5(t);return e.length===4?ut.emptyPath():E5(e)}function L1(t){return new ut(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E5(t){return he(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RC(t,e,n){return{name:C0(t,e),fields:n.value.mapValue.fields}}function lJ(t,e,n){const s=Zo(t,e.name),r=Wn(e.updateTime),i=e.createTime?Wn(e.createTime):xe.min(),a=new bs({mapValue:{fields:e.fields}}),l=Kn.newFoundDocument(s,r,i,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function cJ(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(he(d===void 0||typeof d=="string",58123),jn.fromBase64String(d||"")):(he(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?K.UNKNOWN:y5(u.code);return new ee(d,u.message||"")}(a);n=new x5(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Zo(t,s.document.name),i=Wn(s.document.updateTime),a=s.document.createTime?Wn(s.document.createTime):xe.min(),l=new bs({mapValue:{fields:s.document.fields}}),c=Kn.newFoundDocument(r,i,a,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new gg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Zo(t,s.document),i=s.readTime?Wn(s.readTime):xe.min(),a=Kn.newNoDocument(r,i),l=s.removedTargetIds||[];n=new gg([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Zo(t,s.document),i=s.removedTargetIds||[];n=new gg([],i,r,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new JX(r,i),l=s.targetId;n=new v5(l,a)}}return n}function j0(t,e){let n;if(e instanceof od)n={update:RC(t,e.key,e.value)};else if(e instanceof ov)n={delete:C0(t,e.key)};else if(e instanceof $i)n={update:RC(t,e.key,e.data),updateMask:pJ(e.fieldMask)};else{if(!(e instanceof g5))return le(16599,{Vt:e.type});n={verify:C0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof Pu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Du)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mu)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw le(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:oJ(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:le(27497)}(t,e.precondition)),n}function U1(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?Mn.updateTime(Wn(i.updateTime)):i.exists!==void 0?Mn.exists(i.exists):Mn.none()}(e.currentDocument):Mn.none(),s=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let c=null;if("setToServerValue"in l)he(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Pu;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new ku(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Du(d)}else"increment"in l?c=new Mu(a,l.increment):le(16584,{proto:l});const u=In.fromServerFormat(l.fieldPath);return new yE(u,c)}(t,r)):[];if(e.update){e.update.name;const r=Zo(t,e.update.name),i=new bs({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const u=c.fieldPaths||[];return new ls(u.map(d=>In.fromServerFormat(d)))}(e.updateMask);return new $i(r,i,a,n,s)}return new od(r,i,n,s)}if(e.delete){const r=Zo(t,e.delete);return new ov(r,n)}if(e.verify){const r=Zo(t,e.verify);return new g5(r,n)}return le(1463,{proto:e})}function uJ(t,e){return t&&t.length>0?(he(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?Wn(r.updateTime):Wn(i);return a.isEqual(xe.min())&&(a=Wn(i)),new YX(a,r.transformResults||[])}(n,e))):[]}function S5(t,e){return{documents:[_5(t,e.path)]}}function N5(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=_5(t,r);const i=function(u){if(u.length!==0)return C5(dt.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:hc(m.field),direction:hJ(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=O1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function A5(t){let e=T5(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){he(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=I5(h);return m instanceof dt&&pE(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(m=>function(y){return new N0(fc(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Xy(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,g=h.values||[];return new ju(g,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,g=h.values||[];return new ju(g,m)}(n.endAt)),VX(e,r,a,i,l,"F",c,u)}function dJ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function I5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fc(n.unaryFilter.field);return Ge.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=fc(n.unaryFilter.field);return Ge.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fc(n.unaryFilter.field);return Ge.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fc(n.unaryFilter.field);return Ge.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(fc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dt.create(n.compositeFilter.filters.map(s=>I5(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function hJ(t){return sJ[t]}function fJ(t){return rJ[t]}function mJ(t){return iJ[t]}function hc(t){return{fieldPath:t.canonicalString()}}function fc(t){return In.fromServerFormat(t.fieldPath)}function C5(t){return t instanceof Ge?function(n){if(n.op==="=="){if(pC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(mC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(mC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:fJ(n.op),value:n.value}}}(t):t instanceof dt?function(n){const s=n.getFilters().map(r=>C5(r));return s.length===1?s[0]:{compositeFilter:{op:mJ(n.op),filters:s}}}(t):le(54877,{filter:t})}function pJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function j5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,s,r,i=xe.min(),a=xe.min(),l=jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.yt=e}}function gJ(t,e){let n;if(e.document)n=lJ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ie.fromSegments(e.noDocument.path),r=pl(e.noDocument.readTime);n=Kn.newNoDocument(s,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return le(56709);{const s=ie.fromSegments(e.unknownDocument.path),r=pl(e.unknownDocument.version);n=Kn.newUnknownDocument(s,r)}}return e.readTime&&n.setReadTime(function(r){const i=new Rt(r[0],r[1]);return xe.fromTimestamp(i)}(e.readTime)),n}function PC(t,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:R0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=function(i,a){return{name:C0(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Ou(i,a.version.toTimestamp()),createTime:Ou(i,a.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:ml(e.version)};else{if(!e.isUnknownDocument())return le(57904,{document:e});s.unknownDocument={path:n.path.toArray(),version:ml(e.version)}}return s}function R0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ml(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pl(t){const e=new Rt(t.seconds,t.nanoseconds);return xe.fromTimestamp(e)}function Lo(t,e){const n=(e.baseMutations||[]).map(i=>U1(t.yt,i));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const s=e.mutations.map(i=>U1(t.yt,i)),r=Rt.fromMillis(e.localWriteTimeMs);return new vE(e.batchId,r,n,s)}function ch(t){const e=pl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?pl(t.lastLimboFreeSnapshotVersion):xe.min();let s;return s=function(i){return i.documents!==void 0}(t.query)?function(i){const a=i.documents.length;return he(a===1,1966,{count:a}),Js(bm(T5(i.documents[0])))}(t.query):function(i){return Js(A5(i))}(t.query),new hi(s,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,jn.fromBase64String(t.resumeToken))}function P5(t,e){const n=ml(e.snapshotVersion),s=ml(e.lastLimboFreeSnapshotVersion);let r;r=A0(e.target)?S5(t.yt,e.target):N5(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:r}}function k5(t){const e=A5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?M1(e,e.limit,"L"):e}function hb(t,e){return new bE(e.largestBatchId,U1(t.yt,e.overlayMutation))}function kC(t,e){const n=e.path.lastSegment();return[t,Ln(e.path.popLast()),n]}function DC(t,e,n,s){return{indexId:t,uid:e,sequenceNumber:n,readTime:ml(s.readTime),documentKey:Ln(s.documentKey.path),largestBatchId:s.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{getBundleMetadata(e,n){return MC(e).get(n).next(s=>{if(s)return function(i){return{id:i.bundleId,createTime:pl(i.createTime),version:i.version}}(s)})}saveBundleMetadata(e,n){return MC(e).put(function(r){return{bundleId:r.id,createTime:ml(Wn(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return OC(e).get(n).next(s=>{if(s)return function(i){return{name:i.name,query:k5(i.bundledQuery),readTime:pl(i.readTime)}}(s)})}saveNamedQuery(e,n){return OC(e).put(function(r){return{name:r.name,readTime:ml(Wn(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function MC(t){return dn(t,Jy)}function OC(t){return dn(t,Zy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const s=n.uid||"";return new cv(e,s)}getOverlay(e,n){return Gd(e).get(kC(this.userId,n)).next(s=>s?hb(this.serializer,s):null)}getOverlays(e,n){const s=jr();return U.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){const r=[];return s.forEach((i,a)=>{const l=new bE(n,a);r.push(this.St(e,l))}),U.waitFor(r)}removeOverlaysForBatchId(e,n,s){const r=new Set;n.forEach(a=>r.add(Ln(a.getCollectionPath())));const i=[];return r.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,s],[this.userId,a,s+1],!1,!0);i.push(Gd(e).Z(_1,l))}),U.waitFor(i)}getOverlaysForCollection(e,n,s){const r=jr(),i=Ln(n),a=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gd(e).J(_1,a).next(l=>{for(const c of l){const u=hb(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,n,s,r){const i=jr();let a;const l=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gd(e).ee({index:PV,range:l},(c,u,d)=>{const h=hb(this.serializer,u);i.size()<r||h.largestBatchId===a?(i.set(h.getKey(),h),a=h.largestBatchId):d.done()}).next(()=>i)}St(e,n){return Gd(e).put(function(r,i,a){const[l,c,u]=kC(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:j0(r.yt,a.mutation)}}(this.serializer,this.userId,n))}}function Gd(t){return dn(t,ev)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vJ{bt(e){return dn(e,uE)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const s=n==null?void 0:n.value;return s?jn.fromUint8Array(s):jn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Ct(e.integerValue));else if("doubleValue"in e){const s=Ct(e.doubleValue);isNaN(s)?this.Ft(n,13):(this.Ft(n,15),Sf(s)?n.Mt(0):n.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(n,20),typeof s=="string"&&(s=ji(s)),n.xt(`${s.seconds||""}`),n.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ri(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(n,45),n.Mt(s.latitude||0),n.Mt(s.longitude||0)}else"mapValue"in e?qV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):sv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):le(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const s=e.fields||{};this.Ft(n,55);for(const r of Object.keys(s))this.Ot(r,n),this.Ct(s[r],n)}kt(e,n){var a,l;const s=e.fields||{};this.Ft(n,53);const r=Iu,i=((l=(a=s[r].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(Ct(i)),this.Ot(r,n),this.Ct(s[r],n)}Qt(e,n){const s=e.values||[];this.Ft(n,50);for(const r of s)this.Ct(r,n)}Lt(e,n){this.Ft(n,37),ie.fromName(e).path.forEach(s=>{this.Ft(n,60),this.Ut(s,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Uo.Kt=new Uo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=255;function xJ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function VC(t){const e=64-function(s){let r=0;for(let i=0;i<8;++i){const a=xJ(255&s[i]);if(r+=a,a!==8)break}return r}(t);return Math.ceil(e/8)}class bJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Gt(s.value),s=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Jt(s.value),s=n.next();this.Ht()}Yt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const r=n.codePointAt(0);this.Gt(240|r>>>18),this.Gt(128|63&r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r)}}this.zt()}Zt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Jt(s);else if(s<2048)this.Jt(960|s>>>6),this.Jt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s);else{const r=n.codePointAt(0);this.Jt(240|r>>>18),this.Jt(128|63&r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r)}}this.Ht()}Xt(e){const n=this.en(e),s=VC(n);this.tn(1+s),this.buffer[this.position++]=255&s;for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=255&n[r]}nn(e){const n=this.en(e),s=VC(n);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}rn(){this.sn(Zl),this.sn(255)}_n(){this.an(Zl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),s=!!(128&n[0]);n[0]^=s?255:128;for(let r=1;r<n.length;++r)n[r]^=s?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Zl?(this.sn(Zl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Zl?(this.an(Zl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const r=new Uint8Array(s);r.set(this.buffer),this.buffer=r}}class wJ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class _J{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Kd{constructor(){this.cn=new bJ,this.ln=new wJ(this.cn),this.hn=new _J(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,s,r){this.Tn=e,this.In=n,this.En=s,this.dn=r}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,s=new Uint8Array(n);return s.set(this.dn,0),n!==e?s.set([0],this.dn.length):++s[s.length-1],new Fo(this.Tn,this.In,this.En,s)}Rn(e,n,s){return{indexId:this.Tn,uid:e,arrayValue:yg(this.En),directionalValue:yg(this.dn),orderedDocumentKey:yg(n),documentKey:s.path.toArray()}}Vn(e,n,s){const r=this.Rn(e,n,s);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function ea(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=LC(t.En,e.En),n!==0?n:(n=LC(t.dn,e.dn),n!==0?n:ie.comparator(t.In,e.In)))}function LC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const s=t[n]-e[n];if(s!==0)return s}return t.length-e.length}function yg(t){return TO()?function(n){let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}(t):t}function UC(t){return typeof t!="string"?t:function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(t)}class FC{constructor(e){this.mn=new pt((n,s)=>In.comparator(n.field,s.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const s=n;s.isInequality()?this.mn=this.mn.add(s):this.gn.push(s)}}get pn(){return this.mn.size>1}yn(e){if(he(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=x1(e);if(n!==void 0&&!this.wn(n))return!1;const s=Po(e);let r=new Set,i=0,a=0;for(;i<s.length&&this.wn(s[i]);++i)r=r.add(s[i].fieldPath.canonicalString());if(i===s.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!r.has(l.field.canonicalString())){const c=s[i];if(!this.Sn(l,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<s.length;++i){const l=s[i];if(a>=this.fn.length||!this.bn(this.fn[a++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new pt(In.comparator);const n=[];for(const s of this.gn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")n.push(new cg(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new cg(s.field,0))}for(const s of this.fn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new cg(s.field,s.dir==="asc"?0:1)));return new w0(w0.UNKNOWN_ID,this.collectionId,n,Ef.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===s}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){var n,s;if(he(t instanceof Ge||t instanceof dt,20012),t instanceof Ge){if(t instanceof t5){const r=((s=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:s.map(i=>Ge.create(t.field,"==",i)))||[];return dt.create(r,"or")}return t}const e=t.filters.map(r=>D5(r));return dt.create(e,t.op)}function TJ(t){if(t.getFilters().length===0)return[];const e=B1(D5(t));return he(M5(e),7391),F1(e)||z1(e)?[e]:e.getFilters()}function F1(t){return t instanceof Ge}function z1(t){return t instanceof dt&&pE(t)}function M5(t){return F1(t)||z1(t)||function(n){if(n instanceof dt&&R1(n)){for(const s of n.getFilters())if(!F1(s)&&!z1(s))return!1;return!0}return!1}(t)}function B1(t){if(he(t instanceof Ge||t instanceof dt,34018),t instanceof Ge)return t;if(t.filters.length===1)return B1(t.filters[0]);const e=t.filters.map(s=>B1(s));let n=dt.create(e,t.op);return n=P0(n),M5(n)?n:(he(n instanceof dt,64498),he(Ru(n),40251),he(n.filters.length>1,57927),n.filters.reduce((s,r)=>TE(s,r)))}function TE(t,e){let n;return he(t instanceof Ge||t instanceof dt,38388),he(e instanceof Ge||e instanceof dt,25473),n=t instanceof Ge?e instanceof Ge?function(r,i){return dt.create([r,i],"and")}(t,e):zC(t,e):e instanceof Ge?zC(e,t):function(r,i){if(he(r.filters.length>0&&i.filters.length>0,48005),Ru(r)&&Ru(i))return JV(r,i.getFilters());const a=R1(r)?r:i,l=R1(r)?i:r,c=a.filters.map(u=>TE(u,l));return dt.create(c,"or")}(t,e),P0(n)}function zC(t,e){if(Ru(e))return JV(e,t.getFilters());{const n=e.filters.map(s=>TE(t,s));return dt.create(n,"or")}}function P0(t){if(he(t instanceof Ge||t instanceof dt,11850),t instanceof Ge)return t;const e=t.getFilters();if(e.length===1)return P0(e[0]);if(QV(t))return t;const n=e.map(r=>P0(r)),s=[];return n.forEach(r=>{r instanceof Ge?s.push(r):r instanceof dt&&(r.op===t.op?s.push(...r.filters):s.push(r))}),s.length===1?s[0]:dt.create(s,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EJ{constructor(){this.Cn=new EE}addToCollectionParentIndex(e,n){return this.Cn.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Ms.min())}updateCollectionGroup(e,n,s){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class EE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new pt(ut.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new pt(ut.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC="IndexedDbIndexManager",_p=new Uint8Array(0);class SJ{constructor(e,n){this.databaseId=n,this.vn=new EE,this.Fn=new Bi(s=>fl(s),(s,r)=>vm(s,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const s=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:s,parent:Ln(r)};return $C(e).put(i)}return U.resolve()}getCollectionParents(e,n){const s=[],r=IDBKeyRange.bound([n,""],[xV(n),""],!1,!0);return $C(e).J(r).next(i=>{for(const a of i){if(a.collectionId!==n)break;s.push(Cr(a.parent))}return s})}addFieldIndex(e,n){const s=Wd(e),r=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;const i=s.add(r);if(n.indexState){const a=tc(e);return i.next(l=>{a.put(DC(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const s=Wd(e),r=tc(e),i=ec(e);return s.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wd(e),s=ec(e),r=tc(e);return n.Z().next(()=>s.Z()).next(()=>r.Z())}createTargetIndexes(e,n){return U.forEach(this.Mn(n),s=>this.getIndexType(e,s).next(r=>{if(r===0||r===1){const i=new FC(s).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const s=ec(e);let r=!0;const i=new Map;return U.forEach(this.Mn(n),a=>this.xn(e,a).next(l=>{r&&(r=!!l),i.set(a,l)})).next(()=>{if(r){let a=De();const l=[];return U.forEach(i,(c,u)=>{J(BC,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`}(c)} to execute ${fl(n)}`);const d=function(E,A){const I=x1(A);if(I===void 0)return null;for(const R of I0(E,I.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(u,c),h=function(E,A){const I=new Map;for(const R of Po(A))for(const S of I0(E,R.fieldPath))switch(S.op){case"==":case"in":I.set(R.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return I.set(R.fieldPath.canonicalString(),S.value),Array.from(I.values())}return null}(u,c),m=function(E,A){const I=[];let R=!0;for(const S of Po(A)){const T=S.kind===0?bC(E,S.fieldPath,E.startAt):wC(E,S.fieldPath,E.startAt);I.push(T.value),R&&(R=T.inclusive)}return new ju(I,R)}(u,c),g=function(E,A){const I=[];let R=!0;for(const S of Po(A)){const T=S.kind===0?wC(E,S.fieldPath,E.endAt):bC(E,S.fieldPath,E.endAt);I.push(T.value),R&&(R=T.inclusive)}return new ju(I,R)}(u,c),y=this.On(c,u,m),b=this.On(c,u,g),_=this.Nn(c,u,h),v=this.Bn(c.indexId,d,y,m.inclusive,b,g.inclusive,_);return U.forEach(v,x=>s.Y(x,n.limit).next(E=>{E.forEach(A=>{const I=ie.fromSegments(A.documentKey);a.has(I)||(a=a.add(I),l.push(I))})}))}).next(()=>l)}return U.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=TJ(dt.create(e.filters,"and")).map(s=>k1(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,s,r,i,a,l){const c=(n!=null?n.length:1)*Math.max(s.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let h=0;h<c;++h){const m=n?this.Ln(n[h/u]):_p,g=this.kn(e,m,s[h%u],r),y=this.qn(e,m,i[h%u],a),b=l.map(_=>this.kn(e,m,_,!0));d.push(...this.createRange(g,y,b))}return d}kn(e,n,s,r){const i=new Fo(e,ie.empty(),n,s);return r?i:i.An()}qn(e,n,s,r){const i=new Fo(e,ie.empty(),n,s);return r?i.An():i}xn(e,n){const s=new FC(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(i=>{let a=null;for(const l of i)s.yn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,n){let s=2;const r=this.Mn(n);return U.forEach(r,i=>this.xn(e,i).next(a=>{a?s!==0&&a.fields.length<function(c){let u=new pt(In.comparator),d=!1;for(const h of c.filters)for(const m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(i)&&(s=1):s=0})).next(()=>function(a){return a.limit!==null}(n)&&r.length>1&&s===2?1:s)}Qn(e,n){const s=new Kd;for(const r of Po(e)){const i=n.data.field(r.fieldPath);if(i==null)return null;const a=s.Pn(r.kind);Uo.Kt.Dt(i,a)}return s.un()}Ln(e){const n=new Kd;return Uo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const s=new Kd;return Uo.Kt.Dt(Rf(this.databaseId,n),s.Pn(function(i){const a=Po(i);return a.length===0?0:a[a.length-1].kind}(e))),s.un()}Nn(e,n,s){if(s===null)return[];let r=[];r.push(new Kd);let i=0;for(const a of Po(e)){const l=s[i++];for(const c of r)if(this.Un(n,a.fieldPath)&&Pf(l))r=this.Kn(r,a,l);else{const u=c.Pn(a.kind);Uo.Kt.Dt(l,u)}}return this.Wn(r)}On(e,n,s){return this.Nn(e,n,s.position)}Wn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].un();return n}Kn(e,n,s){const r=[...e],i=[];for(const a of s.arrayValue.values||[])for(const l of r){const c=new Kd;c.seed(l.un()),Uo.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find(s=>s instanceof Ge&&s.field.isEqual(n)&&(s.op==="in"||s.op==="not-in"))}getFieldIndexes(e,n){const s=Wd(e),r=tc(e);return(n?s.J(w1,IDBKeyRange.bound(n,n)):s.J()).next(i=>{const a=[];return U.forEach(i,l=>r.get([l.indexId,this.uid]).next(c=>{a.push(function(d,h){const m=h?new Ef(h.sequenceNumber,new Ms(pl(h.readTime),new ie(Cr(h.documentKey)),h.largestBatchId)):Ef.empty(),g=d.fields.map(([y,b])=>new cg(In.fromServerFormat(y),b));return new w0(d.indexId,d.collectionGroup,g,m)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((s,r)=>{const i=s.indexState.sequenceNumber-r.indexState.sequenceNumber;return i!==0?i:Ee(s.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const r=Wd(e),i=tc(e);return this.Gn(e).next(a=>r.J(w1,IDBKeyRange.bound(n,n)).next(l=>U.forEach(l,c=>i.put(DC(c.indexId,this.uid,a,s)))))}updateIndexEntries(e,n){const s=new Map;return U.forEach(n,(r,i)=>{const a=s.get(r.collectionGroup);return(a?U.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(l=>(s.set(r.collectionGroup,l),U.forEach(l,c=>this.zn(e,r,c).next(u=>{const d=this.jn(i,c);return u.isEqual(d)?U.resolve():this.Jn(e,i,c,u,d)}))))})}Hn(e,n,s,r){return ec(e).put(r.Rn(this.uid,this.$n(s,n.key),n.key))}Yn(e,n,s,r){return ec(e).delete(r.Vn(this.uid,this.$n(s,n.key),n.key))}zn(e,n,s){const r=ec(e);let i=new pt(ea);return r.ee({index:RV,range:IDBKeyRange.only([s.indexId,this.uid,yg(this.$n(s,n))])},(a,l)=>{i=i.add(new Fo(s.indexId,n,UC(l.arrayValue),UC(l.directionalValue)))}).next(()=>i)}jn(e,n){let s=new pt(ea);const r=this.Qn(n,e);if(r==null)return s;const i=x1(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Pf(a))for(const l of a.arrayValue.values||[])s=s.add(new Fo(n.indexId,e.key,this.Ln(l),r))}else s=s.add(new Fo(n.indexId,e.key,_p,r));return s}Jn(e,n,s,r,i){J(BC,"Updating index entries for document '%s'",n.key);const a=[];return function(c,u,d,h,m){const g=c.getIterator(),y=u.getIterator();let b=Jl(g),_=Jl(y);for(;b||_;){let v=!1,x=!1;if(b&&_){const E=d(b,_);E<0?x=!0:E>0&&(v=!0)}else b!=null?x=!0:v=!0;v?(h(_),_=Jl(y)):x?(m(b),b=Jl(g)):(b=Jl(g),_=Jl(y))}}(r,i,ea,l=>{a.push(this.Hn(e,n,s,l))},l=>{a.push(this.Yn(e,n,s,l))}),U.waitFor(a)}Gn(e){let n=1;return tc(e).ee({index:jV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,r,i)=>{i.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((a,l)=>ea(a,l)).filter((a,l,c)=>!l||ea(a,c[l-1])!==0);const r=[];r.push(e);for(const a of s){const l=ea(a,e),c=ea(a,n);if(l===0)r[0]=e.An();else if(l>0&&c<0)r.push(a),r.push(a.An());else if(c>0)break}r.push(n);const i=[];for(let a=0;a<r.length;a+=2){if(this.Zn(r[a],r[a+1]))return[];const l=r[a].Vn(this.uid,_p,ie.empty()),c=r[a+1].Vn(this.uid,_p,ie.empty());i.push(IDBKeyRange.bound(l,c))}return i}Zn(e,n){return ea(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qC)}getMinOffset(e,n){return U.mapArray(this.Mn(n),s=>this.xn(e,s).next(r=>r||le(44426))).next(qC)}}function $C(t){return dn(t,If)}function ec(t){return dn(t,Mh)}function Wd(t){return dn(t,cE)}function tc(t){return dn(t,Dh)}function qC(t){he(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<t.length;s++){const r=t[s].indexState.offset;aE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ms(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},O5=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e,n){const s=t.store(lr),r=t.store(Eu),i=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=s.ee({range:a},(d,h,m)=>(l++,m.delete()));i.push(c.next(()=>{he(l===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=AV(e,d.key.path,n.batchId);i.push(r.delete(h)),u.push(d.key)}return U.waitFor(i).next(()=>u)}function k0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw le(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(O5,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class uv{constructor(e,n,s,r){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=r,this.Xn={}}static wt(e,n,s,r){he(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new uv(i,n,s,r)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).ee({index:zo,range:s},(r,i,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,s,r){const i=mc(e),a=ta(e);return a.add({}).next(l=>{he(typeof l=="number",49019);const c=new vE(l,n,s,r),u=function(g,y,b){const _=b.baseMutations.map(x=>j0(g.yt,x)),v=b.mutations.map(x=>j0(g.yt,x));return{userId:y,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,c),d=[];let h=new pt((m,g)=>Ee(m.canonicalString(),g.canonicalString()));for(const m of r){const g=AV(this.userId,m.key.path,l);h=h.add(m.key.path.popLast()),d.push(a.put(u)),d.push(i.put(g,tX))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Xn[l]=c.keys()}),U.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return ta(e).get(n).next(s=>s?(he(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:n}),Lo(this.serializer,s)):null)}er(e,n){return this.Xn[n]?U.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const r=s.keys();return this.Xn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=IDBKeyRange.lowerBound([this.userId,s]);let i=null;return ta(e).ee({index:zo,range:r},(a,l,c)=>{l.userId===this.userId&&(he(l.batchId>=s,47524,{tr:s}),i=Lo(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Xo;return ta(e).ee({index:zo,range:n,reverse:!0},(r,i,a)=>{s=i.batchId,a.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Xo],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).J(zo,n).next(s=>s.map(r=>Lo(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=ug(this.userId,n.path),r=IDBKeyRange.lowerBound(s),i=[];return mc(e).ee({range:r},(a,l,c)=>{const[u,d,h]=a,m=Cr(d);if(u===this.userId&&n.path.isEqual(m))return ta(e).get(h).next(g=>{if(!g)throw le(61480,{nr:a,batchId:h});he(g.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:g.userId,batchId:h}),i.push(Lo(this.serializer,g))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Ee);const r=[];return n.forEach(i=>{const a=ug(this.userId,i.path),l=IDBKeyRange.lowerBound(a),c=mc(e).ee({range:l},(u,d,h)=>{const[m,g,y]=u,b=Cr(g);m===this.userId&&i.path.isEqual(b)?s=s.add(y):h.done()});r.push(c)}),U.waitFor(r).next(()=>this.rr(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1,i=ug(this.userId,s),a=IDBKeyRange.lowerBound(i);let l=new pt(Ee);return mc(e).ee({range:a},(c,u,d)=>{const[h,m,g]=c,y=Cr(m);h===this.userId&&s.isPrefixOf(y)?y.length===r&&(l=l.add(g)):d.done()}).next(()=>this.rr(e,l))}rr(e,n){const s=[],r=[];return n.forEach(i=>{r.push(ta(e).get(i).next(a=>{if(a===null)throw le(35274,{batchId:i});he(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),s.push(Lo(this.serializer,a))}))}),U.waitFor(r).next(()=>s)}removeMutationBatch(e,n){return V5(e.le,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),U.forEach(s,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return U.resolve();const s=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),r=[];return mc(e).ee({range:s},(i,a,l)=>{if(i[0]===this.userId){const c=Cr(i[1]);r.push(c)}else l.done()}).next(()=>{he(r.length===0,56720,{sr:r.map(i=>i.canonicalString())})})})}containsKey(e,n){return L5(e,this.userId,n)}_r(e){return U5(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Xo,lastStreamToken:""})}}function L5(t,e,n){const s=ug(e,n.path),r=s[1],i=IDBKeyRange.lowerBound(s);let a=!1;return mc(t).ee({range:i,X:!0},(l,c,u)=>{const[d,h,m]=l;d===e&&h===r&&(a=!0),u.done()}).next(()=>a)}function ta(t){return dn(t,lr)}function mc(t){return dn(t,Eu)}function U5(t){return dn(t,Nf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const s=new gl(n.highestTargetId);return n.highestTargetId=s.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>xe.fromTimestamp(new Rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.lr(e).next(r=>(r.highestListenSequenceNumber=n,s&&(r.lastRemoteSnapshotVersion=s.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.hr(e,r)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(s=>(s.targetCount+=1,this.Tr(n,s),this.hr(e,s))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nc(e).delete(n.targetId)).next(()=>this.lr(e)).next(s=>(he(s.targetCount>0,8065),s.targetCount-=1,this.hr(e,s)))}removeTargets(e,n,s){let r=0;const i=[];return nc(e).ee((a,l)=>{const c=ch(l);c.sequenceNumber<=n&&s.get(c.targetId)===null&&(r++,i.push(this.removeTargetData(e,c)))}).next(()=>U.waitFor(i)).next(()=>r)}forEachTarget(e,n){return nc(e).ee((s,r)=>{const i=ch(r);n(i)})}lr(e){return GC(e).get(E0).next(n=>(he(n!==null,2888),n))}hr(e,n){return GC(e).put(E0,n)}Pr(e,n){return nc(e).put(P5(this.serializer,n))}Tr(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const s=fl(n),r=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let i=null;return nc(e).ee({range:r,index:CV},(a,l,c)=>{const u=ch(l);vm(n,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,n,s){const r=[],i=va(e);return n.forEach(a=>{const l=Ln(a.path);r.push(i.put({targetId:s,path:l})),r.push(this.referenceDelegate.addReference(e,s,a))}),U.waitFor(r)}removeMatchingKeys(e,n,s){const r=va(e);return U.forEach(n,i=>{const a=Ln(i.path);return U.waitFor([r.delete([s,a]),this.referenceDelegate.removeReference(e,s,i)])})}removeMatchingKeysForTargetId(e,n){const s=va(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(r)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),r=va(e);let i=De();return r.ee({range:s,X:!0},(a,l,c)=>{const u=Cr(a[1]),d=new ie(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const s=Ln(n.path),r=IDBKeyRange.bound([s],[xV(s)],!1,!0);let i=0;return va(e).ee({index:lE,X:!0,range:r},([a,l],c,u)=>{a!==0&&(i++,u.done())}).next(()=>i>0)}At(e,n){return nc(e).get(n).next(s=>s?ch(s):null)}}function nc(t){return dn(t,Su)}function GC(t){return dn(t,Jo)}function va(t){return dn(t,Nu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="LruGarbageCollector",F5=1048576;function WC([t,e],[n,s]){const r=Ee(t,n);return r===0?Ee(e,s):r}class AJ{constructor(e){this.Ir=e,this.buffer=new pt(WC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();WC(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class z5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(KC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){po(n)?J(KC,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)})}}class IJ{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return U.resolve(Ys.ce);const s=new AJ(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(HC)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),cc()<=Pe.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function B5(t,e){return new IJ(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e,n){this.db=e,this.garbageCollector=B5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(s,r)=>n(r))}addReference(e,n,s){return Tp(e,s)}removeReference(e,n,s){return Tp(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Tp(e,n)}br(e,n){return function(r,i){let a=!1;return U5(r).te(l=>L5(r,l,i).next(c=>(c&&(a=!0),U.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(a,l)=>{if(l<=n){const c=this.br(e,a).next(u=>{if(!u)return i++,s.getEntry(e,a).next(()=>(s.removeEntry(a,xe.min()),va(e).delete(function(h){return[0,Ln(h.path)]}(a))))});r.push(c)}}).next(()=>U.waitFor(r)).next(()=>s.apply(e)).next(()=>i)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Tp(e,n)}Sr(e,n){const s=va(e);let r,i=Ys.ce;return s.ee({index:lE},([a,l],{path:c,sequenceNumber:u})=>{a===0?(i!==Ys.ce&&n(new ie(Cr(r)),i),i=u,r=c):i=Ys.ce}).next(()=>{i!==Ys.ce&&n(new ie(Cr(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(t,e){return va(t).put(function(s,r){return{targetId:0,path:Ln(s.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?U.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return Eo(e).put(s)}removeEntry(e,n,s){return Eo(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],R0(a),l[l.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Dr(e,s)))}getEntry(e,n){let s=Kn.newInvalidDocument(n);return Eo(e).ee({index:dg,range:IDBKeyRange.only(Yd(n))},(r,i)=>{s=this.Cr(n,i)}).next(()=>s)}vr(e,n){let s={size:0,document:Kn.newInvalidDocument(n)};return Eo(e).ee({index:dg,range:IDBKeyRange.only(Yd(n))},(r,i)=>{s={document:this.Cr(n,i),size:k0(i)}}).next(()=>s)}getEntries(e,n){let s=Ts();return this.Fr(e,n,(r,i)=>{const a=this.Cr(r,i);s=s.insert(r,a)}).next(()=>s)}Mr(e,n){let s=Ts(),r=new Ht(ie.comparator);return this.Fr(e,n,(i,a)=>{const l=this.Cr(i,a);s=s.insert(i,l),r=r.insert(i,k0(a))}).next(()=>({documents:s,Or:r}))}Fr(e,n,s){if(n.isEmpty())return U.resolve();let r=new pt(XC);n.forEach(c=>r=r.add(c));const i=IDBKeyRange.bound(Yd(r.first()),Yd(r.last())),a=r.getIterator();let l=a.getNext();return Eo(e).ee({index:dg,range:i},(c,u,d)=>{const h=ie.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&XC(l,h)<0;)s(l,null),l=a.getNext();l&&l.isEqual(h)&&(s(l,u),l=a.hasNext()?a.getNext():null),l?d.j(Yd(l)):d.done()}).next(()=>{for(;l;)s(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,s,r,i){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),R0(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Eo(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=Ts();for(const h of u){const m=this.Cr(ie.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(wm(n,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,s,r){let i=Ts();const a=QC(n,s),l=QC(n,Ms.max());return Eo(e).ee({index:IV,range:IDBKeyRange.bound(a,l,!0)},(c,u,d)=>{const h=this.Cr(ie.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===r&&d.done()}).next(()=>i)}newChangeBuffer(e){return new RJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return YC(e).get(b1).next(n=>(he(!!n,20021),n))}Dr(e,n){return YC(e).put(b1,n)}Cr(e,n){if(n){const s=gJ(this.serializer,n);if(!(s.isNoDocument()&&s.version.isEqual(xe.min())))return s}return Kn.newInvalidDocument(e)}}function q5(t){return new jJ(t)}class RJ extends $5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Bi(s=>s.toString(),(s,r)=>s.isEqual(r))}applyChanges(e){const n=[];let s=0,r=new pt((i,a)=>Ee(i.canonicalString(),a.canonicalString()));return this.changes.forEach((i,a)=>{const l=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,l.readTime)),a.isValidDocument()){const c=PC(this.Nr.serializer,a);r=r.add(i.path.popLast());const u=k0(c);s+=u-l.size,n.push(this.Nr.addEntry(e,i,c))}else if(s-=l.size,this.trackRemovals){const c=PC(this.Nr.serializer,a.convertToNoDocument(xe.min()));n.push(this.Nr.addEntry(e,i,c))}}),r.forEach(i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Nr.updateMetadata(e,s)),U.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(s=>(this.Br.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:s,Or:r})=>(r.forEach((i,a)=>{this.Br.set(i,{size:a,readTime:s.get(i).readTime})}),s))}}function YC(t){return dn(t,Af)}function Eo(t){return dn(t,T0)}function Yd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function QC(t,e){const n=e.documentKey.path.toArray();return[t,R0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function XC(t,e){const n=t.path.toArray(),s=e.path.toArray();let r=0;for(let i=0;i<n.length-2&&i<s.length-2;++i)if(r=Ee(n[i],s[i]),r)return r;return r=Ee(n.length,s.length),r||(r=Ee(n[n.length-2],s[s.length-2]),r||Ee(n[n.length-1],s[s.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Uh(s.mutation,r,ls.empty(),Rt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,De()).next(()=>s))}getLocalViewOfDocuments(e,n,s=De()){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=oh();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,De()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=Ts();const a=Lh(),l=function(){return Lh()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof $i)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Uh(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):a.set(u.key,ls.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new PJ(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Lh();let r=new Ht((a,l)=>a-l),i=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||ls.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||De()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=o5();d.forEach(m=>{if(!i.has(m)){const g=m5(n.get(m),s.get(m));g!==null&&h.set(m,g),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return U.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):n5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):U.resolve(jr());let l=Tf,c=i;return a.next(u=>U.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?U.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,De())).next(d=>({batchId:l,changes:a5(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(s=>{let r=oh();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=oh();return this.indexManager.getCollectionParents(e,i).next(l=>U.forEach(l,c=>{const u=function(h,m){return new xm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,m)=>{a=a.insert(h,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Kn.newInvalidDocument(d)))});let l=oh();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Uh(d.mutation,u,ls.empty(),Rt.now()),wm(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return U.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Wn(r.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:k5(r.bundledQuery),readTime:Wn(r.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DJ{constructor(){this.overlays=new Ht(ie.comparator),this.qr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const s=jr();return U.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),U.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),U.resolve()}getOverlaysForCollection(e,n,s){const r=jr(),i=n.length+1,a=new ie(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return U.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Ht((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=i.get(u.largestBatchId);d===null&&(d=jr(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=jr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return U.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new bE(n,s));let i=this.qr.get(n);i===void 0&&(i=De(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MJ{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,U.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this.Qr=new pt(mn.$r),this.Ur=new pt(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ie(new ut([])),s=new mn(n,e),r=new mn(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new ut([])),s=new mn(n,e),r=new mn(n,e+1);let i=De();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new mn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||Ee(e.Yr,n.Yr)}static Kr(e,n){return Ee(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(mn.$r)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new vE(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new mn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return U.resolve(a)}lookupMutationBatch(e,n){return U.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return U.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Xo:this.tr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),r=new mn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),U.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Ee);return n.forEach(r=>{const i=new mn(r,0),a=new mn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),U.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ie.isDocumentKey(i)||(i=i.child(""));const a=new mn(new ie(i),0);let l=new pt(Ee);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Yr)),!0)},a),U.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){he(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return U.forEach(n.mutations,r=>{const i=new mn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new mn(n,0),r=this.Zr.firstAfterOrEqual(s);return U.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e){this.ri=e,this.docs=function(){return new Ht(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return U.resolve(s?s.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let s=Ts();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Kn.newInvalidDocument(r))}),U.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Ts();const a=n.path,l=new ie(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||aE(TV(d),s)<=0||(r.has(d.key)||wm(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return U.resolve(i)}getAllFromCollectionGroup(e,n,s,r){le(9500)}ii(e,n){return U.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new LJ(this)}getSize(e){return U.resolve(this.size)}}class LJ extends $5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),U.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e){this.persistence=e,this.si=new Bi(n=>fl(n),vm),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new SE,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),U.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.Pr(n),U.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),U.waitFor(i).next(()=>r)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return U.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),U.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),U.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return U.resolve(s)}containsKey(e,n){return U.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ys(0),this.li=!1,this.li=!0,this.hi=new MJ,this.referenceDelegate=e(this),this.Pi=new UJ(this),this.indexManager=new EJ,this.remoteDocumentCache=function(r){return new VJ(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new R5(n),this.Ii=new kJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new DJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new OJ(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){J("MemoryPersistence","Starting transaction:",e);const r=new FJ(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return U.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class FJ extends SV{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new SE,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),U.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),U.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.fi,s=>{const r=ie.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,xe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return U.or([()=>U.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class D0{constructor(e,n){this.persistence=e,this.pi=new Bi(s=>Ln(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=B5(this,n)}static mi(e,n){return new D0(e,n)}Ei(){}di(e){return U.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return U.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?U.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,xe.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),U.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),U.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fg(e.data.value)),n}br(e,n,s){return U.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return U.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e){this.serializer=e}k(e,n,s,r){const i=new Qy("createOrUpgrade",n);s<1&&r>=1&&(function(c){c.createObjectStore(ym)}(e),function(c){c.createObjectStore(Nf,{keyPath:eX}),c.createObjectStore(lr,{keyPath:lC,autoIncrement:!0}).createIndex(zo,cC,{unique:!0}),c.createObjectStore(Eu)}(e),JC(e),function(c){c.createObjectStore(ko)}(e));let a=U.resolve();return s<3&&r>=3&&(s!==0&&(function(c){c.deleteObjectStore(Nu),c.deleteObjectStore(Su),c.deleteObjectStore(Jo)}(e),JC(e)),a=a.next(()=>function(c){const u=c.store(Jo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:xe.min().toTimestamp(),targetCount:0};return u.put(E0,d)}(i))),s<4&&r>=4&&(s!==0&&(a=a.next(()=>function(c,u){return u.store(lr).J().next(h=>{c.deleteObjectStore(lr),c.createObjectStore(lr,{keyPath:lC,autoIncrement:!0}).createIndex(zo,cC,{unique:!0});const m=u.store(lr),g=h.map(y=>m.put(y));return U.waitFor(g)})}(e,i))),a=a.next(()=>{(function(c){c.createObjectStore(Au,{keyPath:cX})})(e)})),s<5&&r>=5&&(a=a.next(()=>this.yi(i))),s<6&&r>=6&&(a=a.next(()=>(function(c){c.createObjectStore(Af)}(e),this.wi(i)))),s<7&&r>=7&&(a=a.next(()=>this.Si(i))),s<8&&r>=8&&(a=a.next(()=>this.bi(e,i))),s<9&&r>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),s<10&&r>=10&&(a=a.next(()=>this.Di(i))),s<11&&r>=11&&(a=a.next(()=>{(function(c){c.createObjectStore(Jy,{keyPath:uX})})(e),function(c){c.createObjectStore(Zy,{keyPath:dX})}(e)})),s<12&&r>=12&&(a=a.next(()=>{(function(c){const u=c.createObjectStore(ev,{keyPath:vX});u.createIndex(_1,xX,{unique:!1}),u.createIndex(PV,bX,{unique:!1})})(e)})),s<13&&r>=13&&(a=a.next(()=>function(c){const u=c.createObjectStore(T0,{keyPath:nX});u.createIndex(dg,sX),u.createIndex(IV,rX)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(ko))),s<14&&r>=14&&(a=a.next(()=>this.Fi(e,i))),s<15&&r>=15&&(a=a.next(()=>function(c){c.createObjectStore(cE,{keyPath:hX,autoIncrement:!0}).createIndex(w1,fX,{unique:!1}),c.createObjectStore(Dh,{keyPath:mX}).createIndex(jV,pX,{unique:!1}),c.createObjectStore(Mh,{keyPath:gX}).createIndex(RV,yX,{unique:!1})}(e))),s<16&&r>=16&&(a=a.next(()=>{n.objectStore(Dh).clear()}).next(()=>{n.objectStore(Mh).clear()})),s<17&&r>=17&&(a=a.next(()=>{(function(c){c.createObjectStore(uE,{keyPath:wX})})(e)})),s<18&&r>=18&&TO()&&(a=a.next(()=>{n.objectStore(Dh).clear()}).next(()=>{n.objectStore(Mh).clear()})),a}wi(e){let n=0;return e.store(ko).ee((s,r)=>{n+=k0(r)}).next(()=>{const s={byteSize:n};return e.store(Af).put(b1,s)})}yi(e){const n=e.store(Nf),s=e.store(lr);return n.J().next(r=>U.forEach(r,i=>{const a=IDBKeyRange.bound([i.userId,Xo],[i.userId,i.lastAcknowledgedBatchId]);return s.J(zo,a).next(l=>U.forEach(l,c=>{he(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=Lo(this.serializer,c);return V5(e,i.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(Nu),s=e.store(ko);return e.store(Jo).get(E0).next(r=>{const i=[];return s.ee((a,l)=>{const c=new ut(a),u=function(h){return[0,Ln(h)]}(c);i.push(n.get(u).next(d=>d?U.resolve():(h=>n.put({targetId:0,path:Ln(h),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>U.waitFor(i))})}bi(e,n){e.createObjectStore(If,{keyPath:lX});const s=n.store(If),r=new EE,i=a=>{if(r.add(a)){const l=a.lastSegment(),c=a.popLast();return s.put({collectionId:l,parent:Ln(c)})}};return n.store(ko).ee({X:!0},(a,l)=>{const c=new ut(a);return i(c.popLast())}).next(()=>n.store(Eu).ee({X:!0},([a,l,c],u)=>{const d=Cr(l);return i(d.popLast())}))}Di(e){const n=e.store(Su);return n.ee((s,r)=>{const i=ch(r),a=P5(this.serializer,i);return n.put(a)})}Ci(e,n){const s=n.store(ko),r=[];return s.ee((i,a)=>{const l=n.store(T0),c=function(h){return h.document?new ie(ut.fromString(h.document.name).popFirst(5)):h.noDocument?ie.fromSegments(h.noDocument.path):h.unknownDocument?ie.fromSegments(h.unknownDocument.path):le(36783)}(a).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(l.put(u))}).next(()=>U.waitFor(r))}Fi(e,n){const s=n.store(lr),r=q5(this.serializer),i=new NE(dv.mi,this.serializer.yt);return s.J().next(a=>{const l=new Map;return a.forEach(c=>{let u=l.get(c.userId)??De();Lo(this.serializer,c).keys().forEach(d=>u=u.add(d)),l.set(c.userId,u)}),U.forEach(l,(c,u)=>{const d=new Bn(u),h=cv.wt(this.serializer,d),m=i.getIndexManager(d),g=uv.wt(d,this.serializer,m,i.referenceDelegate);return new H5(r,g,h,m).recalculateAndSaveOverlaysForDocumentKeys(new T1(n,Ys.ce),c).next()})})}}function JC(t){t.createObjectStore(Nu,{keyPath:aX}).createIndex(lE,oX,{unique:!0}),t.createObjectStore(Su,{keyPath:"targetId"}).createIndex(CV,iX,{unique:!0}),t.createObjectStore(Jo)}const na="IndexedDbPersistence",fb=18e5,mb=5e3,pb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",BJ="main";class AE{constructor(e,n,s,r,i,a,l,c,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.Mi=i,this.window=a,this.document=l,this.xi=u,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=m=>Promise.resolve(),!AE.v())throw new ee(K.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new CJ(this,r),this.$i=n+BJ,this.serializer=new R5(c),this.Ui=new Ua(this.$i,this.Ni,new zJ(this.serializer)),this.hi=new vJ,this.Pi=new NJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=q5(this.serializer),this.Ii=new yJ,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&$n(na,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,pb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ys(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(po(e))return J(na,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J(na,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Qd(e).get(Xl).next(n=>U.resolve(this.es(n)))}ts(e){return Ep(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,fb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const s=dn(n,Au);return s.J().next(r=>{const i=this.ss(r,fb),a=r.filter(l=>i.indexOf(l)===-1);return U.forEach(a,l=>s.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?U.resolve(!0):Qd(e).get(Xl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,mb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ee(K.FAILED_PRECONDITION,pb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ep(e).J().next(s=>this.ss(s,mb).find(r=>{if(this.clientId!==r.clientId){const i=!this.networkEnabled&&r.networkEnabled,a=!this.inForeground&&r.inForeground,l=this.networkEnabled===r.networkEnabled;if(i||a&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J(na,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[ym,Au],e=>{const n=new T1(e,Ys.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(s=>this.rs(s.updateTimeMs,n)&&!this.us(s.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Ep(e).J().next(n=>this.ss(n,fb).map(s=>s.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return uv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new SJ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return cv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,s){J(na,"Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",i=function(c){return c===18?EX:c===17?OV:c===16?TX:c===15?dE:c===14?MV:c===13?DV:c===12?_X:c===11?kV:void le(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,r,i,l=>(a=new T1(l,this.ci?this.ci.next():Ys.ce),n==="readwrite-primary"?this.Hi(a).next(c=>!!c||this.Yi(a)).next(c=>{if(!c)throw $n(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new ee(K.FAILED_PRECONDITION,EV);return s(a)}).next(c=>this.Xi(a).next(()=>c)):this.Is(a).next(()=>s(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Is(e){return Qd(e).get(Xl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,mb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ee(K.FAILED_PRECONDITION,pb)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qd(e).put(Xl,n)}static v(){return Ua.v()}Zi(e){const n=Qd(e);return n.get(Xl).next(s=>this.es(s)?(J(na,"Releasing primary lease."),n.delete(Xl)):U.resolve())}rs(e,n){const s=Date.now();return!(e<s-n)&&(!(e>s)||($n(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;_O()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const s=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return J(na,`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return $n(na,"Failed to get zombied client id.",s),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){$n("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qd(t){return dn(t,ym)}function Ep(t){return dn(t,Au)}function $J(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=De(),r=De();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new IE(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return _O()?8:NV(un())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new qJ;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(cc()<=Pe.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),U.resolve()):(cc()<=Pe.DEBUG&&J("QueryEngine","Query:",dc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(cc()<=Pe.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):U.resolve())}ys(e,n){if(_C(n))return U.resolve(null);let s=Js(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=M1(n,null,"F"),s=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=De(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,M1(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return _C(n)||r.isEqual(xe.min())?U.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?U.resolve(null):(cc()<=Pe.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dc(n)),this.vs(e,a,n,KQ(r,Tf)).next(l=>l))})}Ds(e,n){let s=new pt(r5(e));return n.forEach((r,i)=>{wm(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return cc()<=Pe.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",dc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ms.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="LocalStore",HJ=3e8;class GJ{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Ht(Ee),this.xs=new Bi(i=>fl(i),vm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H5(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function K5(t,e,n,s){return new GJ(t,e,n,s)}async function W5(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=De();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function KJ(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let g=U.resolve();return m.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(b=>{const _=u.docVersions.get(y);he(_!==null,48541),b.version.compareTo(_)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))})}),g.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=De();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function Y5(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function WJ(t,e){const n=Se(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const m=r.get(h);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?g=g.withResumeToken(jn.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,s)),r=r.insert(h,g),function(b,_,v){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=HJ?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,g,d)&&l.push(n.Pi.updateTargetData(i,g))});let c=Ts(),u=De();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(YJ(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!s.isEqual(xe.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return U.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=r,i))}function YJ(t,e,n){let s=De(),r=De();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=Ts();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(xe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):J(CE,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:r}})}function QJ(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Xo),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function XJ(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,U.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new hi(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function $1(t,e,n){const s=Se(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!po(a))throw a;J(CE,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function ZC(t,e,n){const s=Se(t);let r=xe.min(),i=De();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=Se(c),m=h.xs.get(d);return m!==void 0?U.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(s,a,Js(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:xe.min(),n?i:De())).next(l=>(JJ(s,UX(e),l),{documents:l,Qs:i})))}function JJ(t,e,n){let s=t.Os.get(e)||xe.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class ej{constructor(){this.activeTargetIds=HX()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q5{constructor(){this.Mo=new ej,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ej,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZJ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj="ConnectivityMonitor";class nj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(tj,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(tj,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function q1(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="RestConnection",eZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};let tZ=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===S0?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=q1(),l=this.zo(e,n.toUriEncodedString());J(gb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:u}=new URL(l),d=Li(u);return this.Jo(e,l,c,s,d).then(h=>(J(gb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw _u(gb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ad}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=eZ[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class sZ extends tZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=q1();return new Promise((l,c)=>{const u=new fV;u.setWithCredentials(!0),u.listenOnce(mV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ag.NO_ERROR:const h=u.getResponseJson();J(Rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case ag.TIMEOUT:J(Rn,`RPC '${e}' ${a} timed out`),c(new ee(K.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const m=u.getStatus();if(J(Rn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const b=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(x)>=0?x:K.UNKNOWN}(y.status);c(new ee(b,y.message))}else c(new ee(K.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new ee(K.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(Rn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);J(Rn,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",d,s,15)})}T_(e,n,s){const r=q1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=yV(),l=gV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");J(Rn,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let m=!1,g=!1;const y=new nZ({Yo:_=>{g?J(Rn,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(m||(J(Rn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),J(Rn,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},Zo:()=>h.close()}),b=(_,v,x)=>{_.listen(v,E=>{try{x(E)}catch(A){setTimeout(()=>{throw A},0)}})};return b(h,ih.EventType.OPEN,()=>{g||(J(Rn,`RPC '${e}' stream ${r} transport opened.`),y.o_())}),b(h,ih.EventType.CLOSE,()=>{g||(g=!0,J(Rn,`RPC '${e}' stream ${r} transport closed`),y.a_(),this.E_(h))}),b(h,ih.EventType.ERROR,_=>{g||(g=!0,_u(Rn,`RPC '${e}' stream ${r} transport errored. Name:`,_.name,"Message:",_.message),y.a_(new ee(K.UNAVAILABLE,"The operation could not be completed")))}),b(h,ih.EventType.MESSAGE,_=>{var v;if(!g){const x=_.data[0];he(!!x,16349);const E=x,A=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(A){J(Rn,`RPC '${e}' stream ${r} received error:`,A);const I=A.status;let R=function(C){const j=Kt[C];if(j!==void 0)return y5(j)}(I),S=A.message;R===void 0&&(R=K.INTERNAL,S="Unknown error status: "+I+" with message "+A.message),g=!0,y.a_(new ee(R,S)),h.close()}else J(Rn,`RPC '${e}' stream ${r} received:`,x),y.u_(x)}}),b(l,pV.STAT_EVENT,_=>{_.stat===y1.PROXY?J(Rn,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===y1.NOPROXY&&J(Rn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rZ(){return typeof window<"u"?window:null}function vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){return new aJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X5{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="PersistentStream";class J5{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new X5(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?($n(n.toString()),$n("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new ee(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(sj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(sj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iZ extends J5{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=cJ(this.serializer,e),s=function(i){if(!("targetChange"in i))return xe.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?xe.min():a.readTime?Wn(a.readTime):xe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=L1(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=A0(c)?{documents:S5(i,c)}:{query:N5(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=b5(i,a.resumeToken);const u=O1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(xe.min())>0){l.readTime=Ou(i,a.snapshotVersion.toTimestamp());const u=O1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=dJ(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=L1(this.serializer),n.removeTarget=e,this.q_(n)}}class aZ extends J5{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return he(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){he(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=uJ(e.writeResults,e.commitTime),s=Wn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=L1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>j0(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oZ=class{},lZ=class extends oZ{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,V1(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(K.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,V1(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ee(K.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};class cZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?($n(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class uZ{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Vl(this)&&(J(yl,"Restarting streams for network reachability change."),await async function(c){const u=Se(c);u.Ea.add(4),await Tm(u),u.Ra.set("Unknown"),u.Ea.delete(4),await fv(u)}(this))})}),this.Ra=new cZ(s,r)}}async function fv(t){if(Vl(t))for(const e of t.da)await e(!0)}async function Tm(t){for(const e of t.da)await e(!1)}function Z5(t,e){const n=Se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),kE(n)?PE(n):ld(n).O_()&&RE(n,e))}function jE(t,e){const n=Se(t),s=ld(n);n.Ia.delete(e),s.O_()&&e3(n,e),n.Ia.size===0&&(s.O_()?s.L_():Vl(n)&&n.Ra.set("Unknown"))}function RE(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ld(t).Y_(e)}function e3(t,e){t.Va.Ue(e),ld(t).Z_(e)}function PE(t){t.Va=new nJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ld(t).start(),t.Ra.ua()}function kE(t){return Vl(t)&&!ld(t).x_()&&t.Ia.size>0}function Vl(t){return Se(t).Ea.size===0}function t3(t){t.Va=void 0}async function dZ(t){t.Ra.set("Online")}async function hZ(t){t.Ia.forEach((e,n)=>{RE(t,e)})}async function fZ(t,e){t3(t),kE(t)?(t.Ra.ha(e),PE(t)):t.Ra.set("Unknown")}async function mZ(t,e,n){if(t.Ra.set("Online"),e instanceof x5&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){J(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await M0(t,s)}else if(e instanceof gg?t.Va.Ze(e):e instanceof v5?t.Va.st(e):t.Va.tt(e),!n.isEqual(xe.min()))try{const s=await Y5(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(jn.EMPTY_BYTE_STRING,d.snapshotVersion)),e3(i,c);const h=new hi(d.target,c,u,d.sequenceNumber);RE(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){J(yl,"Failed to raise snapshot:",s),await M0(t,s)}}async function M0(t,e,n){if(!po(e))throw e;t.Ea.add(1),await Tm(t),t.Ra.set("Offline"),n||(n=()=>Y5(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(yl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fv(t)})}function n3(t,e){return e().catch(n=>M0(t,n,e))}async function Em(t){const e=Se(t),n=Xa(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Xo;for(;pZ(e);)try{const r=await QJ(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,gZ(e,r)}catch(r){await M0(e,r)}s3(e)&&r3(e)}function pZ(t){return Vl(t)&&t.Ta.length<10}function gZ(t,e){t.Ta.push(e);const n=Xa(t);n.O_()&&n.X_&&n.ea(e.mutations)}function s3(t){return Vl(t)&&!Xa(t).x_()&&t.Ta.length>0}function r3(t){Xa(t).start()}async function yZ(t){Xa(t).ra()}async function vZ(t){const e=Xa(t);for(const n of t.Ta)e.ea(n.mutations)}async function xZ(t,e,n){const s=t.Ta.shift(),r=xE.from(s,e,n);await n3(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Em(t)}async function bZ(t,e){e&&Xa(t).X_&&await async function(s,r){if(function(a){return ZX(a)&&a!==K.ABORTED}(r.code)){const i=s.Ta.shift();Xa(s).B_(),await n3(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Em(s)}}(t,e),s3(t)&&r3(t)}async function rj(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),J(yl,"RemoteStore received new credentials");const s=Vl(n);n.Ea.add(3),await Tm(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fv(n)}async function wZ(t,e){const n=Se(t);e?(n.Ea.delete(2),await fv(n)):e||(n.Ea.add(2),await Tm(n),n.Ra.set("Unknown"))}function ld(t){return t.ma||(t.ma=function(n,s,r){const i=Se(n);return i.sa(),new iZ(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:dZ.bind(null,t),t_:hZ.bind(null,t),r_:fZ.bind(null,t),H_:mZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),kE(t)?PE(t):t.Ra.set("Unknown")):(await t.ma.stop(),t3(t))})),t.ma}function Xa(t){return t.fa||(t.fa=function(n,s,r){const i=Se(n);return i.sa(),new aZ(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:yZ.bind(null,t),r_:bZ.bind(null,t),ta:vZ.bind(null,t),na:xZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Em(t)):(await t.fa.stop(),t.Ta.length>0&&(J(yl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new DE(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ME(t,e){if($n("AsyncQueue",`${e}: ${t}`),po(t))return new ee(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ie.comparator(n.key,s.key):(n,s)=>ie.comparator(n.key,s.key),this.keyedMap=oh(),this.sortedSet=new Ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(){this.ga=new Ht(ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Vu{constructor(e,n,s,r,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Vu(e,n,Xc.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class TZ{constructor(){this.queries=aj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Se(n),i=r.queries;r.queries=aj(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new ee(K.ABORTED,"Firestore shutting down"))}}function aj(){return new Bi(t=>s5(t),rv)}async function OE(t,e){const n=Se(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new _Z,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=ME(a,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&LE(n)}async function VE(t,e){const n=Se(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function EZ(t,e){const n=Se(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&LE(n)}function SZ(t,e,n){const s=Se(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function LE(t){t.Ca.forEach(e=>{e.next()})}var H1,oj;(oj=H1||(H1={})).Ma="default",oj.Cache="cache";class UE{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Vu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==H1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.key=e}}class a3{constructor(e){this.key=e}}class NZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=De(),this.mutatedKeys=De(),this.eu=r5(e),this.tu=new Xc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new ij,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const m=r.get(d),g=wm(this.query,h)?h:null,y=!!m&&this.mutatedKeys.has(m.key),b=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let _=!1;m&&g?m.data.isEqual(g.data)?y!==b&&(s.track({type:3,doc:g}),_=!0):this.su(m,g)||(s.track({type:2,doc:g}),_=!0,(c&&this.eu(g,c)>0||u&&this.eu(g,u)<0)&&(l=!0)):!m&&g?(s.track({type:0,doc:g}),_=!0):m&&!g&&(s.track({type:1,doc:m}),_=!0,(c||u)&&(l=!0)),_&&(g?(a=a.add(g),i=b?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(g,y){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:_})}};return b(g)-b(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Vu(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ij,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=De(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new a3(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new i3(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=De();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const FE="SyncEngine";class AZ{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class IZ{constructor(e){this.key=e,this.hu=!1}}class CZ{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Bi(l=>s5(l),rv),this.Iu=new Map,this.Eu=new Set,this.du=new Ht(ie.comparator),this.Au=new Map,this.Ru=new SE,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jZ(t,e,n=!0){const s=h3(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await o3(s,e,n,!0),r}async function RZ(t,e){const n=h3(t);await o3(n,e,!0,!1)}async function o3(t,e,n,s){const r=await XJ(t.localStore,Js(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await PZ(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&Z5(t.remoteStore,r),l}async function PZ(t,e,n,s,r){t.pu=(h,m,g)=>async function(b,_,v,x){let E=_.view.ru(v);E.Cs&&(E=await ZC(b.localStore,_.query,!1).then(({documents:S})=>_.view.ru(S,E)));const A=x&&x.targetChanges.get(_.targetId),I=x&&x.targetMismatches.get(_.targetId)!=null,R=_.view.applyChanges(E,b.isPrimaryClient,A,I);return cj(b,_.targetId,R.au),R.snapshot}(t,h,m,g);const i=await ZC(t.localStore,e,!0),a=new NZ(e,i.Qs),l=a.ru(i.documents),c=_m.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);cj(t,n,u.au);const d=new AZ(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function kZ(t,e,n){const s=Se(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!rv(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await $1(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&jE(s.remoteStore,r.targetId),G1(s,r.targetId)}).catch(Ol)):(G1(s,r.targetId),await $1(s.localStore,r.targetId,!0))}async function DZ(t,e){const n=Se(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),jE(n.remoteStore,s.targetId))}async function MZ(t,e,n){const s=f3(t);try{const r=await function(a,l){const c=Se(a),u=Rt.now(),d=l.reduce((g,y)=>g.add(y.key),De());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=Ts(),b=De();return c.Ns.getEntries(g,d).next(_=>{y=_,y.forEach((v,x)=>{x.isValidDocument()||(b=b.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(_=>{h=_;const v=[];for(const x of l){const E=XX(x,h.get(x.key).overlayedDocument);E!=null&&v.push(new $i(x.key,E,GV(E.value.mapValue),Mn.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,v,l)}).next(_=>{m=_;const v=_.applyToLocalDocumentSet(h,b);return c.documentOverlayCache.saveOverlays(g,_.batchId,v)})}).then(()=>({batchId:m.batchId,changes:a5(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Ht(Ee)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(s,r.batchId,n),await Sm(s,r.changes),await Em(s.remoteStore)}catch(r){const i=ME(r,"Failed to persist write");n.reject(i)}}async function l3(t,e){const n=Se(t);try{const s=await WJ(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(he(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?he(a.hu,14607):r.removedDocuments.size>0&&(he(a.hu,42227),a.hu=!1))}),await Sm(n,s,e)}catch(s){await Ol(s)}}function lj(t,e,n){const s=Se(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=Se(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(l)&&(u=!0)}),u&&LE(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OZ(t,e,n){const s=Se(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new Ht(ie.comparator);a=a.insert(i,Kn.newNoDocument(i,xe.min()));const l=De().add(i),c=new lv(xe.min(),new Map,new Ht(Ee),a,l);await l3(s,c),s.du=s.du.remove(i),s.Au.delete(e),zE(s)}else await $1(s.localStore,e,!1).then(()=>G1(s,e,n)).catch(Ol)}async function VZ(t,e){const n=Se(t),s=e.batch.batchId;try{const r=await KJ(n.localStore,e);u3(n,s,null),c3(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sm(n,r)}catch(r){await Ol(r)}}async function LZ(t,e,n){const s=Se(t);try{const r=await function(a,l){const c=Se(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(he(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);u3(s,e,n),c3(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sm(s,r)}catch(r){await Ol(r)}}function c3(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function u3(t,e,n){const s=Se(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function G1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||d3(t,s)})}function d3(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(jE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),zE(t))}function cj(t,e,n){for(const s of n)s instanceof i3?(t.Ru.addReference(s.key,e),UZ(t,s)):s instanceof a3?(J(FE,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||d3(t,s.key)):le(19791,{wu:s})}function UZ(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(J(FE,"New document in limbo: "+n),t.Eu.add(s),zE(t))}function zE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(ut.fromString(e)),s=t.fu.next();t.Au.set(s,new IZ(n)),t.du=t.du.insert(n,s),Z5(t.remoteStore,new hi(Js(bm(n.path)),s,"TargetPurposeLimboResolution",Ys.ce))}}async function Sm(t,e,n){const s=Se(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=IE.As(c.targetId,u);i.push(h)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,u){const d=Se(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>U.forEach(u,m=>U.forEach(m.Es,g=>d.persistence.referenceDelegate.addReference(h,m.targetId,g)).next(()=>U.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(h,m.targetId,g)))))}catch(h){if(!po(h))throw h;J(CE,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const g=d.Ms.get(m),y=g.snapshotVersion,b=g.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(m,b)}}}(s.localStore,i))}async function FZ(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){J(FE,"User change. New user:",e.toKey());const s=await W5(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new ee(K.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sm(n,s.Ls)}}function zZ(t,e){const n=Se(t),s=n.Au.get(e);if(s&&s.hu)return De().add(s.key);{let r=De();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function h3(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=l3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OZ.bind(null,e),e.Pu.H_=EZ.bind(null,e.eventManager),e.Pu.yu=SZ.bind(null,e.eventManager),e}function f3(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LZ.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return K5(this.persistence,new G5,e.initialUser,this.serializer)}Cu(e){return new NE(dv.mi,this.serializer)}Du(e){return new Q5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class BZ extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){he(this.persistence.referenceDelegate instanceof D0,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new z5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new NE(s=>D0.mi(s,n),this.serializer)}}class $Z extends kf{constructor(e,n,s){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await f3(this.xu.syncEngine),await Em(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return K5(this.persistence,new G5,e.initialUser,this.serializer)}Fu(e,n){const s=this.persistence.referenceDelegate.garbageCollector;return new z5(s,e.asyncQueue,n)}Mu(e,n){const s=new XQ(n,this.persistence);return new QQ(e.asyncQueue,s)}Cu(e){const n=$J(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new AE(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,rZ(),vg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new Q5}}class O0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>lj(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=FZ.bind(null,this.syncEngine),await wZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TZ}()}createDatastore(e){const n=hv(e.databaseInfo.databaseId),s=function(i){return new sZ(i)}(e.databaseInfo);return function(i,a,l,c){return new lZ(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new uZ(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>lj(this.syncEngine,n,0),function(){return nj.v()?new nj:new ZJ}())}createSyncEngine(e,n){return function(r,i,a,l,c,u,d){const h=new CZ(r,i,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Se(r);J(yl,"RemoteStore shutting down."),i.Ea.add(5),await Tm(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}O0.provider={build:()=>new O0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):$n("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja="FirestoreClient";class qZ{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Bn.UNAUTHENTICATED,this.clientId=iE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{J(Ja,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(J(Ja,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ME(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yb(t,e){t.asyncQueue.verifyOperationInProgress(),J(Ja,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await W5(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await HZ(t);J(Ja,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>rj(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>rj(e.remoteStore,r)),t._onlineComponents=e}async function HZ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Ja,"Using user provided OfflineComponentProvider");try{await yb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===K.FAILED_PRECONDITION||r.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;_u("Error using user provided cache. Falling back to memory cache: "+n),await yb(t,new kf)}}else J(Ja,"Using default OfflineComponentProvider"),await yb(t,new BZ(void 0));return t._offlineComponents}async function m3(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Ja,"Using user provided OnlineComponentProvider"),await uj(t,t._uninitializedComponentsProvider._online)):(J(Ja,"Using default OnlineComponentProvider"),await uj(t,new O0))),t._onlineComponents}function GZ(t){return m3(t).then(e=>e.syncEngine)}async function V0(t){const e=await m3(t),n=e.eventManager;return n.onListen=jZ.bind(null,e.syncEngine),n.onUnlisten=kZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=RZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DZ.bind(null,e.syncEngine),n}function KZ(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new BE({next:m=>{d.Nu(),a.enqueueAndForget(()=>VE(i,h));const g=m.docs.has(l);!g&&m.fromCache?u.reject(new ee(K.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&c&&c.source==="server"?u.reject(new ee(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new UE(bm(l.path),d,{includeMetadataChanges:!0,qa:!0});return OE(i,h)}(await V0(t),t.asyncQueue,e,n,s)),s.promise}function WZ(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new BE({next:m=>{d.Nu(),a.enqueueAndForget(()=>VE(i,h)),m.fromCache&&c.source==="server"?u.reject(new ee(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new UE(l,d,{includeMetadataChanges:!0,qa:!0});return OE(i,h)}(await V0(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ="firestore.googleapis.com",hj=!0;let fj=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ee(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=YZ,this.ssl=hj}else this.host=e.host,this.ssl=e.ssl??hj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=O5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F5)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p3(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ee(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class $E{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new VQ;switch(s.type){case"firstParty":return new FQ(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ee(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=dj.get(n);s&&(J("ComponentProvider","Removing Datastore"),dj.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm=class g3{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new g3(this.firestore,e,this._query)}},Cn=class uh{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uh(this.firestore,e,this._key)}toJSON(){return{type:uh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gm(n,uh._jsonSchema))return new uh(e,s||null,new ie(ut.fromString(n.referencePath)))}};Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:tn("string",Cn._jsonSchemaVersion),referencePath:tn("string")};let Jc=class y3 extends Nm{constructor(e,n,s){super(e,n,bm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ie(e))}withConverter(e){return new y3(this.firestore,e,this._path)}};function tt(t,e,...n){if(t=at(t),wV("collection","path",e),t instanceof $E){const s=ut.fromString(e,...n);return sC(s),new Jc(t,null,s)}{if(!(t instanceof Cn||t instanceof Jc))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return sC(s),new Jc(t.firestore,null,s)}}function Ke(t,e,...n){if(t=at(t),arguments.length===1&&(e=iE.newId()),wV("doc","path",e),t instanceof $E){const s=ut.fromString(e,...n);return nC(s),new Cn(t,null,new ie(s))}{if(!(t instanceof Cn||t instanceof Jc))throw new ee(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ut.fromString(e,...n));return nC(s),new Cn(t.firestore,t instanceof Jc?t.converter:null,new ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="AsyncQueue";class pj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new X5(this,"async_queue_retry"),this._c=()=>{const s=vg();s&&J(mj,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!po(e))throw e;J(mj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,$n("INTERNAL UNHANDLED ERROR: ",gj(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=DE.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&le(47125,{Pc:gj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}let Br=class extends $E{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new pj,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pj(e),this._firestoreClient=void 0,await e}}};function QZ(t,e,n){n||(n=S0);const s=Ui(t,"firestore");if(s.isInitialized(n)){const r=s.getImmediate({identifier:n}),i=s.getOptions(n);if(Ai(i,e))return r;throw new ee(K.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ee(K.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F5)throw new ee(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Li(e.host)&&$y(e.host),s.initialize({options:e,instanceIdentifier:n})}function mv(t){if(t._terminated)throw new ee(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v3(t),t._firestoreClient}function v3(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new NX(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,p3(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new qZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function XZ(t,e){_u("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return JZ(t,O0.provider,{build:s=>new $Z(s,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function JZ(t,e,n){if((t=us(t,Br))._firestoreClient||t._terminated)throw new ee(K.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ee(K.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},v3(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(jn.fromBase64String(e))}catch(n){throw new ee(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gm(e,pc._jsonSchema))return pc.fromBase64String(e.bytes)}};Zc._jsonSchemaVersion="firestore/bytes/1.0",Zc._jsonSchema={type:tn("string",Zc._jsonSchemaVersion),bytes:tn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xg._jsonSchemaVersion}}static fromJSON(e){if(gm(e,xg._jsonSchema))return new xg(e.latitude,e.longitude)}};eu._jsonSchemaVersion="firestore/geoPoint/1.0",eu._jsonSchema={type:tn("string",eu._jsonSchemaVersion),latitude:tn("number"),longitude:tn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=class bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gm(e,bg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bg(e.vectorValues);throw new ee(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};tu._jsonSchemaVersion="firestore/vectorValue/1.0",tu._jsonSchema={type:tn("string",tu._jsonSchemaVersion),vectorValues:tn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=/^__.*__$/;class eee{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class x3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function b3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}let tee=class w3{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new w3({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return L0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b3(this.Ac)&&ZZ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},nee=class{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hv(e)}Cc(e,n,s,r=!1){return new tee({Ac:e,methodName:n,Dc:s,path:In.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function gv(t){const e=t._freezeSettings(),n=hv(t._databaseId);return new nee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _3(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);GE("Data must be an object, but it was:",a,s);const l=T3(s,a);let c,u;if(i.merge)c=new ls(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=K1(e,h,n);if(!a.contains(m))throw new ee(K.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);S3(d,m)||d.push(m)}c=new ls(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new eee(new bs(l),c,u)}class yv extends Am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yv}}class qE extends Am{_toFieldTransform(e){return new yE(e.path,new Pu)}isEqual(e){return e instanceof qE}}class HE extends Am{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Mu(e.serializer,c5(e.serializer,this.Fc));return new yE(e.path,n)}isEqual(e){return e instanceof HE&&this.Fc===e.Fc}}function see(t,e,n,s){const r=t.Cc(1,e,n);GE("Data must be an object, but it was:",r,s);const i=[],a=bs.empty();go(s,(c,u)=>{const d=KE(e,c,n);u=at(u);const h=r.yc(d);if(u instanceof yv)i.push(d);else{const m=Im(u,h);m!=null&&(i.push(d),a.set(d,m))}});const l=new ls(i);return new x3(a,l,r.fieldTransforms)}function ree(t,e,n,s,r,i){const a=t.Cc(1,e,n),l=[K1(e,s,n)],c=[r];if(i.length%2!=0)throw new ee(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(K1(e,i[m])),c.push(i[m+1]);const u=[],d=bs.empty();for(let m=l.length-1;m>=0;--m)if(!S3(u,l[m])){const g=l[m];let y=c[m];y=at(y);const b=a.yc(g);if(y instanceof yv)u.push(g);else{const _=Im(y,b);_!=null&&(u.push(g),d.set(g,_))}}const h=new ls(u);return new x3(d,h,a.fieldTransforms)}function iee(t,e,n,s=!1){return Im(n,t.Cc(s?4:3,e))}function Im(t,e){if(E3(t=at(t)))return GE("Unsupported field value:",e,t),T3(t,e);if(t instanceof Am)return function(s,r){if(!b3(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=Im(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return c5(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=Rt.fromDate(s);return{timestampValue:Ou(r.serializer,i)}}if(s instanceof Rt){const i=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ou(r.serializer,i)}}if(s instanceof eu)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zc)return{bytesValue:b5(r.serializer,s._byteString)};if(s instanceof Cn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_E(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof tu)return function(a,l){return{mapValue:{fields:{[fE]:{stringValue:mE},[Iu]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return gE(l.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Yy(s)}`)}(t,e)}function T3(t,e){const n={};return VV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(s,r)=>{const i=Im(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function E3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof eu||t instanceof Zc||t instanceof Cn||t instanceof Am||t instanceof tu)}function GE(t,e,n){if(!E3(n)||!_V(n)){const s=Yy(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function K1(t,e,n){if((e=at(e))instanceof pv)return e._internalPath;if(typeof e=="string")return KE(t,e);throw L0("Field path arguments must be of type string or ",t,!1,void 0,n)}const aee=new RegExp("[~\\*/\\[\\]]");function KE(t,e,n){if(e.search(aee)>=0)throw L0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pv(...e.split("."))._internalPath}catch{throw L0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function L0(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new ee(K.INVALID_ARGUMENT,l+t+c)}function S3(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new oee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oee extends N3{data(){return super.data()}}function WE(t,e){return typeof e=="string"?KE(t,e):e instanceof pv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let YE=class{},lee=class extends YE{};function os(t,e,...n){let s=[];e instanceof YE&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof cee).length,l=i.filter(c=>c instanceof I3).length;if(a>1||a>0&&l>0)throw new ee(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}let I3=class C3 extends lee{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new C3(e,n,s)}_apply(e){const n=this._parse(e);return R3(e._query,n),new Nm(e.firestore,e.converter,D1(e._query,n))}_parse(e){const n=gv(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){xj(h,d);const y=[];for(const b of h)y.push(vj(c,i,b));m={arrayValue:{values:y}}}else m=vj(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||xj(h,d),m=iee(l,a,h,d==="in"||d==="not-in");return Ge.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ws(t,e,n){const s=e,r=WE("where",t);return I3._create(r,s,n)}let cee=class j3 extends YE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new j3(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:dt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)R3(a,c),a=D1(a,c)}(e._query,n),new Nm(e.firestore,e.converter,D1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function vj(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ee(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n5(e)&&n.indexOf("/")!==-1)throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ut.fromString(n));if(!ie.isDocumentKey(s))throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rf(t,new ie(s))}if(n instanceof Cn)return Rf(t,n._key);throw new ee(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function xj(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R3(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}let uee=class{convertValue(e,n="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return go(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Iu].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Ct(a.doubleValue));return new tu(n)}convertGeoPoint(e){return new eu(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tv(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const n=ji(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ut.fromString(e);he(j5(s),9688,{name:e});const r=new nv(s.get(1),s.get(3)),i=new ie(s.popFirst(5));return r.isEqual(n)||$n(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fh=class k3 extends N3{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(WE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=k3._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fh._jsonSchema={type:tn("string",Fh._jsonSchemaVersion),bundleSource:tn("string","DocumentSnapshot"),bundleName:tn("string"),bundle:tn("string")};let wg=class extends Fh{data(e={}){return super.data(e)}},zh=class D3{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new dh(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new wg(this._firestore,this._userDataWriter,s.key,s,new dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new wg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new wg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:dee(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ee(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=D3._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=iE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function dee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=us(t,Cn);const e=us(t.firestore,Br);return KZ(mv(e),t._key).then(n=>M3(e,t,n))}zh._jsonSchemaVersion="firestore/querySnapshot/1.0",zh._jsonSchema={type:tn("string",zh._jsonSchemaVersion),bundleSource:tn("string","QuerySnapshot"),bundleName:tn("string"),bundle:tn("string")};class QE extends uee{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function Cm(t){t=us(t,Nm);const e=us(t.firestore,Br),n=mv(e),s=new QE(e);return A3(t._query),WZ(n,t._query).then(r=>new zh(e,s,t,r))}function Ll(t,e,n){t=us(t,Cn);const s=us(t.firestore,Br),r=P3(t.converter,e,n);return xv(s,[_3(gv(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,Mn.none())])}function Za(t,e,n,...s){t=us(t,Cn);const r=us(t.firestore,Br),i=gv(r);let a;return a=typeof(e=at(e))=="string"||e instanceof pv?ree(i,"updateDoc",t._key,e,n,s):see(i,"updateDoc",t._key,e),xv(r,[a.toMutation(t._key,Mn.exists(!0))])}function vv(t){return xv(us(t.firestore,Br),[new ov(t._key,Mn.none())])}function Lu(t,e){const n=us(t.firestore,Br),s=Ke(t),r=P3(t.converter,e);return xv(n,[_3(gv(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Mn.exists(!1))]).then(()=>s)}function Bt(t,...e){var c,u,d;t=at(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yj(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yj(e[s])){const h=e[s];e[s]=(c=h.next)==null?void 0:c.bind(h),e[s+1]=(u=h.error)==null?void 0:u.bind(h),e[s+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,a,l;if(t instanceof Cn)a=us(t.firestore,Br),l=bm(t._key.path),i={next:h=>{e[s]&&e[s](M3(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=us(t,Nm);a=us(h.firestore,Br),l=h._query;const m=new QE(a);i={next:g=>{e[s]&&e[s](new zh(a,m,h,g))},error:e[s+1],complete:e[s+2]},A3(t._query)}return function(m,g,y,b){const _=new BE(b),v=new UE(g,_,y);return m.asyncQueue.enqueueAndForget(async()=>OE(await V0(m),v)),()=>{_.Nu(),m.asyncQueue.enqueueAndForget(async()=>VE(await V0(m),v))}}(mv(a),l,r,i)}function xv(t,e){return function(s,r){const i=new Mr;return s.asyncQueue.enqueueAndForget(async()=>MZ(await GZ(s),r,i)),i.promise}(mv(t),e)}function M3(t,e,n){const s=n.docs.get(e._key),r=new QE(t);return new Fh(t,r,e._key,s,new dh(n.hasPendingWrites,n.fromCache),e.converter)}function Df(){return new qE("serverTimestamp")}function bj(t){return new HE("increment",t)}(function(e,n=!0){(function(r){ad=r})(fo),nr(new Ds("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new Br(new LQ(s.getProvider("auth-internal")),new zQ(a,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ee(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nv(u.options.projectId,d)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Vn(J2,Z2,e),Vn(J2,Z2,"esm2020")})();const wj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}is.UNAUTHENTICATED=new is(null),is.GOOGLE_CREDENTIALS=new is("google-credentials-uid"),is.FIRST_PARTY=new is("first-party-uid"),is.MOCK_USER=new is("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new dm("@firebase/firestore");function U0(t,...e){if(Uu.logLevel<=Pe.DEBUG){const n=e.map(JE);Uu.debug(`Firestore (${cd}): ${t}`,...n)}}function XE(t,...e){if(Uu.logLevel<=Pe.ERROR){const n=e.map(JE);Uu.error(`Firestore (${cd}): ${t}`,...n)}}function O3(t,...e){if(Uu.logLevel<=Pe.WARN){const n=e.map(JE);Uu.warn(`Firestore (${cd}): ${t}`,...n)}}function JE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,V3(t,s,n)}function V3(t,e,n){let s=`FIRESTORE (${cd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw XE(s),new Error(s)}function eo(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||V3(e,r,s)}function ZE(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="ok",hee="cancelled",Bh="unknown",Ce="invalid-argument",fee="deadline-exceeded",mee="not-found",pee="permission-denied",W1="unauthenticated",gee="resource-exhausted",Fu="failed-precondition",yee="aborted",vee="out-of-range",L3="unimplemented",xee="internal",bee="unavailable";class pe extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(is.UNAUTHENTICATED))}shutdown(){}}class _ee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Tee{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(eo(typeof e.accessToken=="string",42297,{t:e}),new U3(e.accessToken,new is(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Eee{constructor(e,n,s){this.i=e,this.o=n,this.u=s,this.type="FirstParty",this.user=is.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);const e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}}class See{constructor(e,n,s){this.i=e,this.o=n,this.u=s}getToken(){return Promise.resolve(new Eee(this.i,this.o,this.u))}start(e,n){e.enqueueRetryable(()=>n(is.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Nee{constructor(e,n){this.m=n,this.appCheck=null,this.T=null,as(e)&&e.settings.appCheckToken&&(this.T=e.settings.appCheckToken),n.onInit(s=>{this.appCheck=s})}getToken(){return this.T?Promise.resolve(new Tj(this.T)):this.appCheck?this.appCheck.getToken().then(e=>e?(eo(typeof e.token=="string",3470,{tokenResult:e}),new Tj(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aee{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Y1="(default)";class Mf{constructor(e,n){this.projectId=e,this.database=n||Y1}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===Y1}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}function Qt(t,e){return t<e?-1:t>e?1:0}function Q1(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return vb(r)===vb(i)?Qt(r,i):vb(r)?1:-1}return Qt(t.length,e.length)}const Iee=55296,Cee=57343;function vb(t){const e=t.charCodeAt(0);return e>=Iee&&e<=Cee}function jee(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej="__name__";class Er{constructor(e,n,s){n===void 0?n=0:n>e.length&&yn(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&yn(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Er.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Qt(e.length,n.length)}static compareSegments(e,n){const s=Er.isNumericId(e),r=Er.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Er.extractNumericId(e).compare(Er.extractNumericId(n)):Q1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Tn extends Er{construct(e,n,s){return new Tn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(Ce,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const Ree=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ks extends Er{construct(e,n,s){return new Ks(e,n,s)}static isValidIdentifier(e){return Ree.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ks.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ej}static keyField(){return new Ks([Ej])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new pe(Ce,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new pe(Ce,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new pe(Ce,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new pe(Ce,"Unterminated ` in path: "+e);return new Ks(n)}static emptyPath(){return new Ks([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.path=e}static fromPath(e){return new Hn(Tn.fromString(e))}static fromName(e){return new Hn(Tn.fromString(e).popFirst(5))}static empty(){return new Hn(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hn(new Tn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pee(t,e,n){if(!n)throw new pe(Ce,`Function ${t}() cannot be called with an empty ${e}.`)}function Sj(t){if(Hn.isDocumentKey(t))throw new pe(Ce,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F3(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yn(12329,{type:typeof t})}function z3(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new pe(Ce,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bv(t);throw new pe(Ce,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=null;function kee(){return Np===null?Np=function(){return 268435456+Math.round(2147483648*Math.random())}():Np++,"0x"+Np.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dee(t){return t==null}function F0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="RestConnection",Mee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Oee{get P(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.A=n+"://"+e.host,this.R=`projects/${s}/databases/${r}`,this.V=this.databaseId.database===Y1?`project_id=${s}`:`project_id=${s}&database_id=${r}`}I(e,n,s,r,i){const a=kee(),l=this.p(e,n.toUriEncodedString());U0(xb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.R,"x-goog-request-params":this.V};this.F(c,r,i);const{host:u}=new URL(l),d=Li(u);return this.v(e,l,c,s,d).then(h=>(U0(xb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw O3(xb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}D(e,n,s,r,i,a){return this.I(e,n,s,r,i)}F(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}p(e,n){const s=Mee[e];return`${this.A}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nj,He;function Aj(t){if(t===void 0)return XE("RPC_ERROR","HTTP error has no status"),Bh;switch(t){case 200:return _j;case 400:return Fu;case 401:return W1;case 403:return pee;case 404:return mee;case 409:return yee;case 416:return vee;case 429:return gee;case 499:return hee;case 500:return Bh;case 501:return L3;case 503:return bee;case 504:return fee;default:return t>=200&&t<300?_j:t>=400&&t<500?Fu:t>=500&&t<600?xee:Bh}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(He=Nj||(Nj={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";class Vee extends Oee{S(e,n){throw new Error("Not supported by FetchConnection")}async v(e,n,s,r,i){var c;const a=JSON.stringify(r);let l;try{const u={method:"POST",headers:s,body:a};i&&(u.credentials="include"),l=await fetch(n,u)}catch(u){const d=u;throw new pe(Aj(d.status),"Request failed with error: "+d.statusText)}if(!l.ok){let u=await l.json();Array.isArray(u)&&(u=u[0]);const d=(c=u==null?void 0:u.error)==null?void 0:c.message;throw new pe(Aj(l.status),`Request failed with error: ${d??l.statusText}`)}return l.json()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wv(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lee extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lee("Invalid base64 string: "+i):i}}(e);return new Pi(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const Uee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(t){if(eo(!!t,39018),typeof t=="string"){let e=0;const n=Uee.exec(t);if(eo(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Xt(t.seconds),nanos:Xt(t.nanos)}}function Xt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Of(t){return typeof t=="string"?Pi.fromBase64String(t):Pi.fromUint8Array(t)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){const n={typeString:t};return e&&(n.value=e),n}function jm(t,e){if(!F3(t))throw new pe(Ce,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new pe(Ce,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=-62135596800,jj=1e6;class an{static now(){return an.fromMillis(Date.now())}static fromDate(e){return an.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*jj);return new an(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(Ce,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(Ce,"Timestamp nanoseconds out of range: "+n);if(e<Cj)throw new pe(Ce,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(Ce,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jj}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:an._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(jm(e,an._jsonSchema))return new an(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Cj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}an._jsonSchemaVersion="firestore/timestamp/1.0",an._jsonSchema={type:Zs("string",an._jsonSchemaVersion),seconds:Zs("number"),nanoseconds:Zs("number")};function $3(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{}).__type__)==null?void 0:s.stringValue)==="server_timestamp"}function q3(t){const e=t.mapValue.fields.__previous_value__;return $3(e)?q3(e):e}function Vf(t){const e=vl(t.mapValue.fields.__local_write_time__.timestampValue);return new an(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3="__type__",G3="__max__",Ap={fields:{__type__:{stringValue:G3}}},K3="__vector__",z0="value";function xl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$3(t)?4:function(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===G3}(t)?9007199254740991:function(n){var r,i;return((i=(((r=n==null?void 0:n.mapValue)==null?void 0:r.fields)||{})[H3])==null?void 0:i.stringValue)===K3}(t)?10:11:yn(28295,{value:t})}function B0(t,e){if(t===e)return!0;const n=xl(t);if(n!==xl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vf(t).isEqual(Vf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=vl(r.timestampValue),l=vl(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Of(r.bytesValue).isEqual(Of(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Xt(r.geoPointValue.latitude)===Xt(i.geoPointValue.latitude)&&Xt(r.geoPointValue.longitude)===Xt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Xt(r.integerValue)===Xt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Xt(r.doubleValue),l=Xt(i.doubleValue);return a===l?F0(a)===F0(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return jee(t.arrayValue.values||[],e.arrayValue.values||[],B0);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Ij(a)!==Ij(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!B0(a[c],l[c])))return!1;return!0}(t,e);default:return yn(52216,{left:t})}}function Lf(t,e){return(t.values||[]).find(n=>B0(n,e))!==void 0}function $0(t,e){if(t===e)return 0;const n=xl(t),s=xl(e);if(n!==s)return Qt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Xt(i.integerValue||i.doubleValue),c=Xt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Rj(t.timestampValue,e.timestampValue);case 4:return Rj(Vf(t),Vf(e));case 5:return Q1(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Of(i),c=Of(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Qt(l[u],c[u]);if(d!==0)return d}return Qt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Qt(Xt(i.latitude),Xt(a.latitude));return l!==0?l:Qt(Xt(i.longitude),Xt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Pj(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,g,y,b;const l=i.fields||{},c=a.fields||{},u=(m=l[z0])==null?void 0:m.arrayValue,d=(g=c[z0])==null?void 0:g.arrayValue,h=Qt(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return h!==0?h:Pj(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ap&&a===Ap)return 0;if(i===Ap)return 1;if(a===Ap)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=Q1(c[h],d[h]);if(m!==0)return m;const g=$0(l[c[h]],u[d[h]]);if(g!==0)return g}return Qt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw yn(23264,{C:n})}}function Rj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=vl(t),s=vl(e),r=Qt(n.seconds,s.seconds);return r!==0?r:Qt(n.nanos,s.nanos)}function Pj(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=$0(n[r],s[r]);if(i)return i}return Qt(n.length,s.length)}function kj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function W3(t){return!!t&&"arrayValue"in t}function Dj(t){return!!t&&"nullValue"in t}function Mj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bb(t){return!!t&&"mapValue"in t}function $h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wv(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$h(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$h(t.arrayValue.values[n]);return e}return{...t}}class Oj{constructor(e,n){this.position=e,this.inclusive=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y3{}class xr extends Y3{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Fee(e,n,s):n==="array-contains"?new $ee(e,s):n==="in"?new qee(e,s):n==="not-in"?new Hee(e,s):n==="array-contains-any"?new Gee(e,s):new xr(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new zee(e,s):new Bee(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($0(n,this.value)):n!==null&&xl(this.value)===xl(n)&&this.matchesComparison($0(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rm extends Y3{constructor(e,n){super(),this.filters=e,this.op=n,this.N=null}static create(e,n){return new Rm(e,n)}matches(e){return function(s){return s.op==="and"}(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.N!==null||(this.N=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.N}getFilters(){return Object.assign([],this.filters)}}class Fee extends xr{constructor(e,n,s){super(e,n,s),this.key=Hn.fromName(s.referenceValue)}matches(e){const n=Hn.comparator(e.key,this.key);return this.matchesComparison(n)}}class zee extends xr{constructor(e,n){super(e,"in",n),this.keys=Q3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bee extends xr{constructor(e,n){super(e,"not-in",n),this.keys=Q3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Hn.fromName(s.referenceValue))}class $ee extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return W3(n)&&Lf(n.arrayValue,this.value)}}class qee extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lf(this.value.arrayValue,n)}}class Hee extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lf(this.value.arrayValue,n)}}class Gee extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!W3(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Lf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n="asc"){this.field=e,this.dir=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new an(0,0))}static max(){return new Pn(new an(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new q0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new q0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ip(this.root,e,this.comparator,!0)}}class Ip{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??_n.RED,this.left=r??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new _n(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return _n.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yn(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw yn(57766)}get value(){throw yn(16141)}get color(){throw yn(16727)}get left(){throw yn(29726)}get right(){throw yn(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e){this.comparator=e,this.data=new q0(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vj(this.data.getIterator())}getIteratorFrom(e){return new Vj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof H0)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new H0(this.comparator);return n.data=e,n}}class Vj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!bb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(n)}setAll(e){let n=Ks.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=$h(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());bb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return B0(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];bb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){wv(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new ai($h(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new la(e,0,Pn.min(),Pn.min(),Pn.min(),ai.empty(),0)}static newFoundDocument(e,n,s,r){return new la(e,1,n,Pn.min(),s,r,0)}static newNoDocument(e,n){return new la(e,2,n,Pn.min(),Pn.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new la(e,3,n,Pn.min(),Pn.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof la&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new la(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kee{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.O=null}}function Lj(t,e=null,n=[],s=[],r=null,i=null,a=null){return new Kee(t,e,n,s,r,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.q=null,this.B=null,this.$=null,this.startAt,this.endAt}}function Wee(t){return t.collectionGroup!==null}function Yee(t){const e=ZE(t);if(e.q===null){e.q=[];const n=new Set;for(const i of e.explicitOrderBy)e.q.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new H0(Ks.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.q.push(new X1(i,s))}),n.has(Ks.keyField().canonicalString())||e.q.push(new X1(Ks.keyField(),s))}return e.q}function Qee(t){const e=ZE(t);return e.B||(e.B=Xee(e,Yee(t))),e.B}function Xee(t,e){if(t.limitType==="F")return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new X1(r.field,i)});const n=t.endAt?new Oj(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Oj(t.startAt.position,t.startAt.inclusive):null;return Lj(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function J1(t,e){const n=t.filters.concat([e]);return new X3(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:F0(e)?"-0":e}}function Jee(t,e){return function(s){return typeof s=="number"&&Number.isInteger(s)&&!F0(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?function(s){return{integerValue:""+s}}(e):J3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ete=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tte=(()=>({and:"AND",or:"OR"}))();class nte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uj(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ste(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fj(t){return eo(!!t,49232),Pn.fromTimestamp(function(n){const s=vl(n);return new an(s.seconds,s.nanos)}(t))}function Z3(t,e){return Z1(t,e).canonicalString()}function Z1(t,e){const n=function(r){return new Tn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function rte(t,e){const n=function(r){const i=Tn.fromString(r);return eo(t6(i),10190,{key:i.toString()}),i}(e);if(n.get(1)!==t.databaseId.projectId)throw new pe(Ce,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new pe(Ce,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Hn(function(r){return eo(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}(n))}function ite(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=function(u,d){return Z3(u.databaseId,d)}(t,r);const i=function(u){if(u.length!==0)return e6(Rm.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:gc(m.field),direction:ate(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(u,d){return u.useProto3Json||Dee(d)?d:{value:d}}(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{M:n,parent:r}}function ate(t){return Zee[t]}function ote(t){return ete[t]}function lte(t){return tte[t]}function gc(t){return{fieldPath:t.canonicalString()}}function e6(t){return t instanceof xr?function(n){if(n.op==="=="){if(Mj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(Dj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Mj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(Dj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:ote(n.op),value:n.value}}}(t):t instanceof Rm?function(n){const s=n.getFilters().map(r=>e6(r));return s.length===1?s[0]:{compositeFilter:{op:lte(n.op),filters:s}}}(t):yn(54877,{filter:t})}function t6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(t){return new nte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cte{}class ute extends cte{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.et=!1}rt(){if(this.et)throw new pe(Fu,"The client has already been terminated.")}I(e,n,s,r){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.I(e,Z1(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new pe(Bh,i.toString())})}D(e,n,s,r,i){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.D(e,Z1(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===W1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(Bh,a.toString())})}terminate(){this.et=!0,this.connection.terminate()}}async function dte(t,e){const n=ZE(t),{M:s,parent:r}=ite(n.serializer,Qee(e));return(await n.D("RunQuery",n.serializer.databaseId,r,{structuredQuery:s.structuredQuery})).filter(i=>!!i.document).map(i=>function(l,c,u){const d=rte(l,c.name),h=Fj(c.updateTime),m=c.createTime?Fj(c.createTime):Pn.min(),g=new ai({mapValue:{fields:c.fields}}),y=la.newFoundDocument(d,h,m,g);return u&&y.setHasCommittedMutations(),u?y.setHasCommittedMutations():y}(n.serializer,i.document,void 0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="ComponentProvider",qh=new Map;function hte(t){if(t._terminated)throw new pe(Fu,"The client has already been terminated.");if(!qh.has(t)){U0(n6,"Initializing Datastore");const e=function(i){return new Vee(i)}(function(i,a,l,c){return new Aee(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,B3(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t.app.options.appId||"",t._persistenceKey,t._freezeSettings())),n=eS(t._databaseId),s=function(i,a,l,c){return new ute(i,a,l,c)}(t._authCredentials,t._appCheckCredentials,e,n);qh.set(t,s)}return qh.get(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte=1048576,s6="firestore.googleapis.com",zj=!0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(Ce,"Can't provide ssl option if host option is not set");this.host=s6,this.ssl=zj}else this.host=e.host,this.ssl=e.ssl??zj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fte)throw new pe(Ce,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,r,i,a){if(r===!0&&a===!0)throw new pe(Ce,`${s} and ${i} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=B3(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(Ce,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(Ce,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(Ce,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tS{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(Fu,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(Fu,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wee;switch(s.type){case"firstParty":return new See(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(Ce,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qh.get(n);s&&(U0(n6,"Removing Datastore"),qh.delete(n),s.terminate())}(this),Promise.resolve()}}function mte(t,e){const n=typeof t=="object"?t:Hy(),s=typeof t=="string"?t:e||"(default)",r=Ui(n,"firestore/lite").getImmediate({identifier:s});if(!r._initialized){const i=yO("firestore");i&&pte(r,...i)}return r}function pte(t,e,n,s={}){var u;t=z3(t,tS);const r=Li(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&($y(`https://${l}`),HT("Firestore",!0)),i.host!==s6&&i.host!==l&&O3("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Ai(c,a)&&(t._setSettings(c),s.mockUserToken)){let d,h;if(typeof s.mockUserToken=="string")d=s.mockUserToken,h=is.MOCK_USER;else{d=bO(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new pe(Ce,"mockUserToken must contain 'sub' or 'user_id' field!");h=new is(m)}t._authCredentials=new _ee(new U3(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class Gn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}toJSON(){return{type:Gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(jm(n,Gn._jsonSchema))return new Gn(e,s||null,new Hn(Tn.fromString(n.referencePath)))}}Gn._jsonSchemaVersion="firestore/documentReference/1.0",Gn._jsonSchema={type:Zs("string",Gn._jsonSchemaVersion),referencePath:Zs("string")};class nu extends ud{constructor(e,n,s){super(e,n,function(i){return new X3(i)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new Hn(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function r6(t,e,...n){if(t=at(t),Pee("collection","path",e),t instanceof tS){const s=Tn.fromString(e,...n);return Sj(s),new nu(t,null,s)}{if(!(t instanceof Gn||t instanceof nu))throw new pe(Ce,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tn.fromString(e,...n));return Sj(s),new nu(t.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pi.fromBase64String(e))}catch(n){throw new pe(Ce,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(jm(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Zs("string",Ws._jsonSchemaVersion),bytes:Zs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(Ce,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ks(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(Ce,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(Ce,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(jm(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Zs("string",Or._jsonSchemaVersion),latitude:Zs("number"),longitude:Zs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(jm(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new pe(Ce,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Zs("string",Vr._jsonSchemaVersion),vectorValues:Zs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gte=/^__.*__$/;function o6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn(40011,{it:t})}}class nS{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.st(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get it(){return this.settings.it}ot(e){return new nS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ut(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.ct(e),s}lt(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.st(),s}ht(e){return this.ot({path:void 0,_t:!0})}ft(e){return e_(e,this.settings.methodName,this.settings.dt||!1,this.path,this.settings.Et)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}st(){if(this.path)for(let e=0;e<this.path.length;e++)this.ct(this.path.get(e))}ct(e){if(e.length===0)throw this.ft("Document fields must not be empty");if(o6(this.it)&&gte.test(e))throw this.ft('Document fields cannot begin and end with "__"')}}class yte{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||eS(e)}Tt(e,n,s,r=!1){return new nS({it:e,methodName:n,Et:s,path:Ks.emptyPath(),_t:!1,dt:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vte(t){const e=t._freezeSettings(),n=eS(t._databaseId);return new yte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function xte(t,e,n,s=!1){return sS(n,t.Tt(s?4:3,e))}function sS(t,e){if(l6(t=at(t)))return wte("Unsupported field value:",e,t),bte(t,e);if(t instanceof a6)return function(s,r){if(!o6(r.it))throw r.ft(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ft(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings._t&&e.it!==4)throw e.ft("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=sS(l,r.ht(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=at(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Jee(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=an.fromDate(s);return{timestampValue:Uj(r.serializer,i)}}if(s instanceof an){const i=new an(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uj(r.serializer,i)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:ste(r.serializer,s._byteString)};if(s instanceof Gn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.ft(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Z3(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Vr)return function(a,l){return{mapValue:{fields:{[H3]:{stringValue:K3},[z0]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.ft("VectorValues must only contain numeric values.");return J3(l.serializer,u)})}}}}}}(s,r);throw r.ft(`Unsupported field value: ${bv(s)}`)}(t,e)}function bte(t,e){const n={};return function(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wv(t,(s,r)=>{const i=sS(r,e.ut(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function l6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof an||t instanceof Or||t instanceof Ws||t instanceof Gn||t instanceof a6||t instanceof Vr)}function wte(t,e,n){if(!l6(n)||!F3(n)){const s=bv(n);throw s==="an object"?e.ft(t+" a custom object"):e.ft(t+" "+s)}}const _te=new RegExp("[~\\*/\\[\\]]");function Tte(t,e,n){if(e.search(_te)>=0)throw e_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new i6(...e.split("."))._internalPath}catch{throw e_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function e_(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new pe(Ce,l+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new c6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(u6("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class c6 extends Ete{data(){return super.data()}}class Ste{constructor(e,n){this._docs=n,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(e,n){this._docs.forEach(e,n)}}function u6(t,e){return typeof e=="string"?Tte(t,e):e instanceof i6?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class Nte extends rS{}function d6(t,e,...n){let s=[];e instanceof rS&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof iS).length,l=i.filter(c=>c instanceof _v).length;if(a>1||a>0&&l>0)throw new pe(Ce,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class _v extends Nte{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _v(e,n,s)}_apply(e){const n=this._parse(e);return f6(e._query,n),new ud(e.firestore,e.converter,J1(e._query,n))}_parse(e){const n=vte(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new pe(Ce,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qj(h,d);const y=[];for(const b of h)y.push($j(c,i,b));m={arrayValue:{values:y}}}else m=$j(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qj(h,d),m=xte(l,a,h,d==="in"||d==="not-in");return xr.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function h6(t,e,n){const s=e,r=u6("where",t);return _v._create(r,s,n)}class iS extends rS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iS(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Rm.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)f6(a,c),a=J1(a,c)}(e._query,n),new ud(e.firestore,e.converter,J1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $j(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new pe(Ce,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wee(e)&&n.indexOf("/")!==-1)throw new pe(Ce,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tn.fromString(n));if(!Hn.isDocumentKey(s))throw new pe(Ce,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return kj(t,new Hn(s))}if(n instanceof Gn)return kj(t,n._key);throw new pe(Ce,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bv(n)}.`)}function qj(t,e){if(!Array.isArray(t)||t.length===0)throw new pe(Ce,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function f6(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(Ce,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(Ce,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ate{convertValue(e,n="none"){switch(xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return wv(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[z0].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Xt(a.doubleValue));return new Vr(n)}convertGeoPoint(e){return new Or(Xt(e.latitude),Xt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=q3(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){const n=vl(e);return new an(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tn.fromString(e);eo(t6(s),9688,{name:e});const r=new Mf(s.get(1),s.get(3)),i=new Hn(s.popFirst(5));return r.isEqual(n)||XE(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class Ite extends Ate{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function m6(t){(function(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new pe(L3,"limitToLast() queries require specifying at least one orderBy() clause")})((t=z3(t,ud))._query);const e=hte(t.firestore),n=new Ite(t.firestore);return dte(e,t._query).then(s=>{const r=s.map(i=>new c6(t.firestore,n,i.key,i,t.converter));return t._query.limitType==="L"&&r.reverse(),new Ste(t,r)})}(function(){(function(n){cd=n})(`${fo}_lite`),nr(new Ds("firestore/lite",(e,{instanceIdentifier:n,options:s})=>{const r=e.getProvider("app").getImmediate(),i=new tS(new Tee(e.getProvider("auth-internal")),new Nee(r,e.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new pe(Ce,'"projectId" not provided in firebase.initializeApp.');return new Mf(l.options.projectId,c)}(r,n),r);return s&&i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Vn("firestore-lite",wj,""),Vn("firestore-lite",wj,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6="firebasestorage.googleapis.com",Cte="storageBucket",jte=2*60*1e3,Rte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Vs{constructor(e,n,s=0){super(wb(e),`Firebase Storage: ${n} (${wb(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function wb(t){return"storage/"+t}function Pte(){const t="An unknown error occurred, please check the error payload for server response.";return new Wr($r.UNKNOWN,t)}function kte(){return new Wr($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Dte(){return new Wr($r.CANCELED,"User canceled the upload/download.")}function Mte(t){return new Wr($r.INVALID_URL,"Invalid URL '"+t+"'.")}function Ote(t){return new Wr($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Hj(t){return new Wr($r.INVALID_ARGUMENT,t)}function g6(){return new Wr($r.APP_DELETED,"The Firebase app was deleted.")}function Vte(t){return new Wr($r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(s.path==="")return s;throw Ote(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function u(A){A.path_=decodeURIComponent(A.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),y={bucket:1,path:3},b=n===p6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${b}/${r}/${_}`,"i"),E=[{regex:l,indices:c,postModify:i},{regex:g,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let A=0;A<E.length;A++){const I=E[A],R=I.regex.exec(e);if(R){const S=R[I.indices.bucket];let T=R[I.indices.path];T||(T=""),s=new fr(S,T),I.postModify(s);break}}if(s==null)throw Mte(e);return s}}class Lte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ute(t,e,n){let s=1,r=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){r=setTimeout(()=>{r=null,t(g,c())},_)}function m(){i&&clearTimeout(i)}function g(_,...v){if(u){m();return}if(_){m(),d.call(null,_,...v);return}if(c()||a){m(),d.call(null,_,...v);return}s<64&&(s*=2);let E;l===1?(l=2,E=0):E=(s+Math.random())*1e3,h(E)}let y=!1;function b(_){y||(y=!0,m(),!u&&(r!==null?(_||(l=2),clearTimeout(r),h(0)):_||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,b(!0)},n),b}function Fte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(t){return t!==void 0}function Gj(t,e,n,s){if(s<e)throw Hj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Hj(`Invalid value for '${t}'. Expected ${n} or less.`)}function Bte(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var G0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(G0||(G0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $te(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(e,n,s,r,i,a,l,c,u,d,h,m=!0,g=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Cp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===G0.NO_ERROR,c=i.getStatus();if(!l||$te(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===G0.ABORT;s(!1,new Cp(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Cp(u,i))})},n=(s,r)=>{const i=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());zte(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Pte();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?g6():Dte();a(c)}else{const c=kte();a(c)}};this.canceled_?n(!1,new Cp(!1,null,!0)):this.backoffId_=Ute(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Fte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cp{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Hte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Gte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Kte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Wte(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Yte(t,e,n,s,r,i,a=!0,l=!1){const c=Bte(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return Kte(d,e),Hte(d,n),Gte(d,i),Wte(d,s),new qte(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Xte(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new K0(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xte(this._location.path)}get storage(){return this._service}get parent(){const e=Qte(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new K0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Vte(e)}}function Kj(t,e){const n=e==null?void 0:e[Cte];return n==null?null:fr.makeFromBucketSpec(n,t)}function Jte(t,e,n,s={}){t.host=`${e}:${n}`;const r=Li(e);r&&($y(`https://${t.host}/b`),HT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:bO(i,t.app.options.projectId))}class Zte{constructor(e,n,s,r,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=p6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jte,this._maxUploadRetryTime=Rte,this._requests=new Set,r!=null?this._bucket=fr.makeFromBucketSpec(r,this._host):this._bucket=Kj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=Kj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(as(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new K0(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new Lte(g6());{const a=Yte(e,this._appId,s,r,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const Wj="@firebase/storage",Yj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="storage";function ene(t=Hy(),e){t=at(t);const s=Ui(t,y6).getImmediate({identifier:e}),r=yO("storage");return r&&tne(s,...r),s}function tne(t,e,n,s={}){Jte(t,e,n,s)}function nne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new Zte(n,s,r,e,fo)}function sne(){nr(new Ds(y6,nne,"PUBLIC").setMultipleInstances(!0)),Vn(Wj,Yj,""),Vn(Wj,Yj,"esm2020")}sne();const v6="@firebase/installations",aS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=1e4,b6=`w:${aS}`,w6="FIS_v2",rne="https://firebaseinstallations.googleapis.com/v1",ine=60*60*1e3,ane="installations",one="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bl=new Dl(ane,one,lne);function _6(t){return t instanceof Vs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6({projectId:t}){return`${rne}/projects/${t}/installations`}function E6(t){return{token:t.token,requestStatus:2,expiresIn:une(t.expiresIn),creationTime:Date.now()}}async function S6(t,e){const s=(await e.json()).error;return bl.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function N6({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function cne(t,{refreshToken:e}){const n=N6(t);return n.append("Authorization",dne(e)),n}async function A6(t){const e=await t();return e.status>=500&&e.status<600?t():e}function une(t){return Number(t.replace("s","000"))}function dne(t){return`${w6} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hne({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=T6(t),r=N6(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={fid:n,authVersion:w6,appId:t.appId,sdkVersion:b6},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await A6(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:E6(u.authToken)}}else throw await S6("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fne(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mne=/^[cdef][\w-]{21}$/,t_="";function pne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=gne(t);return mne.test(n)?n:t_}catch{return t_}}function gne(t){return fne(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=new Map;function j6(t,e){const n=Tv(t);R6(n,e),yne(n,e)}function R6(t,e){const n=C6.get(t);if(n)for(const s of n)s(e)}function yne(t,e){const n=vne();n&&n.postMessage({key:t,fid:e}),xne()}let Bo=null;function vne(){return!Bo&&"BroadcastChannel"in self&&(Bo=new BroadcastChannel("[Firebase] FID Change"),Bo.onmessage=t=>{R6(t.data.key,t.data.fid)}),Bo}function xne(){C6.size===0&&Bo&&(Bo.close(),Bo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bne="firebase-installations-database",wne=1,wl="firebase-installations-store";let _b=null;function oS(){return _b||(_b=AO(bne,wne,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wl)}}})),_b}async function W0(t,e){const n=Tv(t),r=(await oS()).transaction(wl,"readwrite"),i=r.objectStore(wl),a=await i.get(n);return await i.put(e,n),await r.done,(!a||a.fid!==e.fid)&&j6(t,e.fid),e}async function P6(t){const e=Tv(t),s=(await oS()).transaction(wl,"readwrite");await s.objectStore(wl).delete(e),await s.done}async function Ev(t,e){const n=Tv(t),r=(await oS()).transaction(wl,"readwrite"),i=r.objectStore(wl),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await r.done,l&&(!a||a.fid!==l.fid)&&j6(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t){let e;const n=await Ev(t.appConfig,s=>{const r=_ne(s),i=Tne(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===t_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function _ne(t){const e=t||{fid:pne(),registrationStatus:0};return k6(e)}function Tne(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(bl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Ene(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Sne(t)}:{installationEntry:e}}async function Ene(t,e){try{const n=await hne(t,e);return W0(t.appConfig,n)}catch(n){throw _6(n)&&n.customData.serverCode===409?await P6(t.appConfig):await W0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Sne(t){let e=await Qj(t.appConfig);for(;e.registrationStatus===1;)await I6(100),e=await Qj(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await lS(t);return s||n}return e}function Qj(t){return Ev(t,e=>{if(!e)throw bl.create("installation-not-found");return k6(e)})}function k6(t){return Nne(t)?{fid:t.fid,registrationStatus:0}:t}function Nne(t){return t.registrationStatus===1&&t.registrationTime+x6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ane({appConfig:t,heartbeatServiceProvider:e},n){const s=Ine(t,n),r=cne(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={installation:{sdkVersion:b6,appId:t.appId}},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await A6(()=>fetch(s,l));if(c.ok){const u=await c.json();return E6(u)}else throw await S6("Generate Auth Token",c)}function Ine(t,{fid:e}){return`${T6(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cS(t,e=!1){let n;const s=await Ev(t.appConfig,i=>{if(!D6(i))throw bl.create("not-registered");const a=i.authToken;if(!e&&Rne(a))return i;if(a.requestStatus===1)return n=Cne(t,e),i;{if(!navigator.onLine)throw bl.create("app-offline");const l=kne(i);return n=jne(t,l),l}});return n?await n:s.authToken}async function Cne(t,e){let n=await Xj(t.appConfig);for(;n.authToken.requestStatus===1;)await I6(100),n=await Xj(t.appConfig);const s=n.authToken;return s.requestStatus===0?cS(t,e):s}function Xj(t){return Ev(t,e=>{if(!D6(e))throw bl.create("not-registered");const n=e.authToken;return Dne(n)?{...e,authToken:{requestStatus:0}}:e})}async function jne(t,e){try{const n=await Ane(t,e),s={...e,authToken:n};return await W0(t.appConfig,s),n}catch(n){if(_6(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await P6(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await W0(t.appConfig,s)}throw n}}function D6(t){return t!==void 0&&t.registrationStatus===2}function Rne(t){return t.requestStatus===2&&!Pne(t)}function Pne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ine}function kne(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Dne(t){return t.requestStatus===1&&t.requestTime+x6<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mne(t){const e=t,{installationEntry:n,registrationPromise:s}=await lS(e);return s?s.catch(console.error):cS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function One(t,e=!1){const n=t;return await Vne(n),(await cS(n,e)).token}async function Vne(t){const{registrationPromise:e}=await lS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t){if(!t||!t.options)throw Tb("App Configuration");if(!t.name)throw Tb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Tb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Tb(t){return bl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6="installations",Une="installations-internal",Fne=t=>{const e=t.getProvider("app").getImmediate(),n=Lne(e),s=Ui(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},zne=t=>{const e=t.getProvider("app").getImmediate(),n=Ui(e,M6).getImmediate();return{getId:()=>Mne(n),getToken:r=>One(n,r)}};function Bne(){nr(new Ds(M6,Fne,"PUBLIC")),nr(new Ds(Une,zne,"PRIVATE"))}Bne();Vn(v6,aS);Vn(v6,aS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="analytics",$ne="firebase_id",qne="origin",Hne=60*1e3,Gne="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yn=new dm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Is=new Dl("analytics","Analytics",Kne);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t){if(!t.startsWith(uS)){const e=Is.create("invalid-gtag-resource",{gtagURL:t});return Yn.warn(e.message),""}return t}function O6(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Yne(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Qne(t,e){const n=Yne("firebase-js-sdk-policy",{createScriptURL:Wne}),s=document.createElement("script"),r=`${uS}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function Xne(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Jne(t,e,n,s,r,i){const a=s[r];try{if(a)await e[a];else{const c=(await O6(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(l){Yn.error(l)}t("config",r,i)}async function Zne(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const l=await O6(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Yn.error(i)}}function ese(t,e,n,s){async function r(i,...a){try{if(i==="event"){const[l,c]=a;await Zne(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await Jne(t,e,n,s,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){Yn.error(l)}}return r}function tse(t,e,n,s,r){let i=function(...a){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=ese(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function nse(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(uS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sse=30,rse=1e3;class ise{constructor(e={},n=rse){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const V6=new ise;function ase(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function ose(t){var a;const{appId:e,apiKey:n}=t,s={method:"GET",headers:ase(n)},r=Gne.replace("{app-id}",e),i=await fetch(r,s);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Is.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function lse(t,e=V6,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Is.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Is.create("no-api-key")}const a=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new dse;return setTimeout(async()=>{l.abort()},n!==void 0?n:Hne),L6({appId:s,apiKey:r,measurementId:i},a,l,e)}async function L6(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=V6){var l;const{appId:i,measurementId:a}=t;try{await cse(s,e)}catch(c){if(a)return Yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await ose(t);return r.deleteThrottleMetadata(i),c}catch(c){const u=c;if(!use(u)){if(r.deleteThrottleMetadata(i),a)return Yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw c}const d=Number((l=u==null?void 0:u.customData)==null?void 0:l.httpStatus)===503?E2(n,r.intervalMillis,sse):E2(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(i,h),Yn.debug(`Calling attemptFetch again in ${d} millis`),L6(t,h,s,r)}}function cse(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Is.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function use(t){if(!(t instanceof Vs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class dse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function hse(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,a={...s,send_to:i};t("event",n,a)}}async function fse(t,e,n,s){if(s&&s.global){const r={};for(const i of Object.keys(n))r[`user_properties.${i}`]=n[i];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mse(){if(qy())try{await KT()}catch(t){return Yn.warn(Is.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Yn.warn(Is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pse(t,e,n,s,r,i,a){const l=lse(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Yn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Yn.error(m)),e.push(l);const c=mse().then(m=>{if(m)return s.getId()}),[u,d]=await Promise.all([l,c]);nse(i)||Qne(i,u.measurementId),r("js",new Date);const h=(a==null?void 0:a.config)??{};return h[qne]="firebase",h.update=!0,d!=null&&(h[$ne]=d),r("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gse{constructor(e){this.app=e}_delete(){return delete su[this.app.options.appId],Promise.resolve()}}let su={},Jj=[];const Zj={};let Eb="dataLayer",yse="gtag",eR,dS,tR=!1;function vse(){const t=[];if(GT()&&t.push("This is a browser extension environment."),EO()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Is.create("invalid-analytics-context",{errorInfo:e});Yn.warn(n.message)}}function xse(t,e,n){vse();const s=t.options.appId;if(!s)throw Is.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Is.create("no-api-key");if(su[s]!=null)throw Is.create("already-exists",{id:s});if(!tR){Xne(Eb);const{wrappedGtag:i,gtagCore:a}=tse(su,Jj,Zj,Eb,yse);dS=i,eR=a,tR=!0}return su[s]=pse(t,Jj,Zj,e,eR,Eb,n),new gse(t)}function bse(t=Hy()){t=at(t);const e=Ui(t,Y0);return e.isInitialized()?e.getImmediate():wse(t)}function wse(t,e={}){const n=Ui(t,Y0);if(n.isInitialized()){const r=n.getImmediate();if(Ai(e,n.getOptions()))return r;throw Is.create("already-initialized")}return n.initialize({options:e})}async function _se(){if(GT()||!EO()||!qy())return!1;try{return await KT()}catch{return!1}}function Tse(t,e,n){t=at(t),fse(dS,su[t.app.options.appId],e,n).catch(s=>Yn.error(s))}function Ese(t,e,n,s){t=at(t),hse(dS,su[t.app.options.appId],e,n,s).catch(r=>Yn.error(r))}const nR="@firebase/analytics",sR="0.10.19";function Sse(){nr(new Ds(Y0,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return xse(s,r,n)},"PUBLIC")),nr(new Ds("analytics-internal",t,"PRIVATE")),Vn(nR,sR),Vn(nR,sR,"esm2020");function t(e){try{const n=e.getProvider(Y0).getImmediate();return{logEvent:(s,r,i)=>Ese(n,s,r,i),setUserProperties:(s,r)=>Tse(n,s,r)}}catch(n){throw Is.create("interop-component-reg-failed",{reason:n})}}}Sse();const Nse={apiKey:"AIzaSyB98wXNLNARzvn_fF6mTLPrXhObSCsbZwo",authDomain:"elmtgar.firebaseapp.com",projectId:"elmtgar",storageBucket:"elmtgar.appspot.com",messagingSenderId:"818064958346",appId:"1:818064958346:web:a4cb0fdd9d98a97ca39e73",measurementId:"G-YTPVVTPR3D"},dd=IO(Nse);typeof window<"u"&&_se().then(t=>{t&&bse(dd)}).catch(()=>{});const jt=DQ(dd),ue=QZ(dd,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1,preferRestRoutes:!0});typeof window<"u"&&XZ(ue).catch(t=>{t.code=="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.warn("Persistence not supported by browser")});const hS=mte(dd),Ase=ene(dd,"gs://elmtgar.appspot.com"),Ise=Object.freeze(Object.defineProperty({__proto__:null,auth:jt,db:ue,dbLite:hS,default:dd,storage:Ase},Symbol.toStringTag,{value:"Module"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var zu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(zu||(zu={}));class Sb extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const Cse=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},jse=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:Cse(t),i=()=>r()!=="web",a=h=>{const m=u.get(h);return!!(m!=null&&m.platforms.has(r())||l(h))},l=h=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===h)},c=h=>t.console.error(h),u=new Map,d=(h,m={})=>{const g=u.get(h);if(g)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),g.proxy;const y=r(),b=l(h);let _;const v=async()=>(!_&&y in m?_=typeof m[y]=="function"?_=await m[y]():_=m[y]:e!==null&&!_&&"web"in m&&(_=typeof m.web=="function"?_=await m.web():_=m.web),_),x=(T,C)=>{var j,P;if(b){const M=b==null?void 0:b.methods.find(k=>C===k.name);if(M)return M.rtype==="promise"?k=>n.nativePromise(h,C.toString(),k):(k,$)=>n.nativeCallback(h,C.toString(),k,$);if(T)return(j=T[C])===null||j===void 0?void 0:j.bind(T)}else{if(T)return(P=T[C])===null||P===void 0?void 0:P.bind(T);throw new Sb(`"${h}" plugin is not implemented on ${y}`,zu.Unimplemented)}},E=T=>{let C;const j=(...P)=>{const M=v().then(k=>{const $=x(k,T);if($){const z=$(...P);return C=z==null?void 0:z.remove,z}else throw new Sb(`"${h}.${T}()" is not implemented on ${y}`,zu.Unimplemented)});return T==="addListener"&&(M.remove=async()=>C()),M};return j.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(j,"name",{value:T,writable:!1,configurable:!1}),j},A=E("addListener"),I=E("removeListener"),R=(T,C)=>{const j=A({eventName:T},C),P=async()=>{const k=await j;I({eventName:T,callbackId:k},C)},M=new Promise(k=>j.then(()=>k({remove:P})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},M},S=new Proxy({},{get(T,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return b?R:A;case"removeListener":return I;default:return E(C)}}});return s[h]=S,u.set(h,{name:h,proxy:S,platforms:new Set([...Object.keys(m),...b?[y]:[]])}),S};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=r,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=Sb,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Rse=t=>t.Capacitor=jse(t),Q0=Rse(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Pm=Q0.registerPlugin;class fS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const r=this.listeners[e];if(!r){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}r.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new Q0.Exception(e,zu.Unimplemented)}unavailable(e="not available"){return new Q0.Exception(e,zu.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const r=s.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const rR=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),iR=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Pse extends fS{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=iR(r).trim(),i=iR(i).trim(),n[r]=i}),n}async setCookie(e){try{const n=rR(e.key),s=rR(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${r}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Pm("CapacitorCookies",{web:()=>new Pse});const kse=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const r=s.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},s.onerror=r=>n(r),s.readAsDataURL(t)}),Dse=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,a)=>(r[i]=t[e[a]],r),{})},Mse=(t,e=!0)=>t?Object.entries(t).reduce((s,r)=>{const[i,a]=r;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,Ose=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=Dse(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))i.set(a,l);n.body=i.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Vse extends fS{async request(e){const n=Ose(e,e.webFetchExtra),s=Mse(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,i=await fetch(r,n),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await kse(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((h,m)=>{d[m]=h}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Pm("CapacitorHttp",{web:()=>new Vse});var aR;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(aR||(aR={}));var oR;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(oR||(oR={}));class Lse extends fS{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Pm("SystemBars",{web:()=>new Lse});var lR;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(lR||(lR={}));var cR;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(cR||(cR={}));const uR=Pm("StatusBar"),Use="modulepreload",Fse=function(t){return"/"+t},dR={},X0=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Fse(i),i in dR)return;dR[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Use,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},zse=Pm("Badge",{web:()=>X0(()=>import("./web-787302c4.js"),[]).then(t=>new t.BadgeWeb)}),mS=p.createContext({});function pS(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const Sv=p.createContext(null),gS=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class Bse extends p.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function $se({children:t,isPresent:e}){const n=p.useId(),s=p.useRef(null),r=p.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=p.useContext(gS);return p.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=r.current;if(e||!s.current||!a||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(Bse,{isPresent:e,childRef:s,sizeRef:r,children:p.cloneElement(t,{ref:s})})}const qse=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const l=pS(Hse),c=p.useId(),u=p.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),d=p.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return p.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),p.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(t=o.jsx($se,{isPresent:n,children:t})),o.jsx(Sv.Provider,{value:d,children:t})};function Hse(){return new Map}function U6(t=!0){const e=p.useContext(Sv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=p.useId();p.useEffect(()=>{t&&r(i)},[t]);const a=p.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const jp=t=>t.key||"";function hR(t){const e=[];return p.Children.forEach(t,n=>{p.isValidElement(n)&&e.push(n)}),e}const yS=typeof window<"u",F6=yS?p.useLayoutEffect:p.useEffect,Gse=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=U6(a),u=p.useMemo(()=>hR(t),[t]),d=a&&!l?[]:u.map(jp),h=p.useRef(!0),m=p.useRef(u),g=pS(()=>new Map),[y,b]=p.useState(u),[_,v]=p.useState(u);F6(()=>{h.current=!1,m.current=u;for(let A=0;A<_.length;A++){const I=jp(_[A]);d.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[_,d.length,d.join("-")]);const x=[];if(u!==y){let A=[...u];for(let I=0;I<_.length;I++){const R=_[I],S=jp(R);d.includes(S)||(A.splice(I,0,R),x.push(R))}i==="wait"&&x.length&&(A=x),v(hR(A)),b(u);return}const{forceRender:E}=p.useContext(mS);return o.jsx(o.Fragment,{children:_.map(A=>{const I=jp(A),R=a&&!l?!1:u===_||d.includes(I),S=()=>{if(g.has(I))g.set(I,!0);else return;let T=!0;g.forEach(C=>{C||(T=!1)}),T&&(E==null||E(),v(m.current),a&&(c==null||c()),s&&s())};return o.jsx(qse,{isPresent:R,initial:!h.current||n?void 0:!1,custom:R?void 0:e,presenceAffectsLayout:r,mode:i,onExitComplete:R?void 0:S,children:A},I)})})},Cs=t=>t;let z6=Cs;function vS(t){let e;return()=>(e===void 0&&(e=t()),e)}const Bu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},vi=t=>t*1e3,xi=t=>t/1e3,Kse={skipAnimations:!1,useManualTiming:!1};function Wse(t){let e=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const g=h&&s?e:n;return d&&i.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,s){r=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,r&&(r=!1,c.process(u))}};return c}const Rp=["read","resolveKeyframes","update","preRender","render","postRender"],Yse=40;function B6(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Rp.reduce((v,x)=>(v[x]=Wse(i),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=a,g=()=>{const v=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,Yse),1),r.timestamp=v,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),m.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(g))},y=()=>{n=!0,s=!0,r.isProcessing||t(g)};return{schedule:Rp.reduce((v,x)=>{const E=a[x];return v[x]=(A,I=!1,R=!1)=>(n||y(),E.schedule(A,I,R)),v},{}),cancel:v=>{for(let x=0;x<Rp.length;x++)a[Rp[x]].cancel(v)},state:r,steps:a}}const{schedule:Et,cancel:to,state:bn,steps:Nb}=B6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0),$6=p.createContext({strict:!1}),fR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$u={};for(const t in fR)$u[t]={isEnabled:e=>fR[t].some(n=>!!e[n])};function Qse(t){for(const e in t)$u[e]={...$u[e],...t[e]}}const Xse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function J0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Xse.has(t)}let q6=t=>!J0(t);function Jse(t){t&&(q6=e=>e.startsWith("on")?!J0(e):t(e))}try{Jse(require("@emotion/is-prop-valid").default)}catch{}function Zse(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(q6(r)||n===!0&&J0(r)||!e&&!J0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function ere(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Nv=p.createContext({});function Uf(t){return typeof t=="string"||Array.isArray(t)}function Av(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const xS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bS=["initial",...xS];function Iv(t){return Av(t.animate)||bS.some(e=>Uf(t[e]))}function H6(t){return!!(Iv(t)||t.variants)}function tre(t,e){if(Iv(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Uf(n)?n:void 0,animate:Uf(s)?s:void 0}}return t.inherit!==!1?e:{}}function nre(t){const{initial:e,animate:n}=tre(t,p.useContext(Nv));return p.useMemo(()=>({initial:e,animate:n}),[mR(e),mR(n)])}function mR(t){return Array.isArray(t)?t.join(" "):t}const sre=Symbol.for("motionComponentSymbol");function jc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function rre(t,e,n){return p.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):jc(n)&&(n.current=s))},[e])}const wS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ire="framerAppearId",G6="data-"+wS(ire),{schedule:_S,cancel:$me}=B6(queueMicrotask,!1),K6=p.createContext({});function are(t,e,n,s,r){var i,a;const{visualElement:l}=p.useContext(Nv),c=p.useContext($6),u=p.useContext(Sv),d=p.useContext(gS).reducedMotion,h=p.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,g=p.useContext(K6);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&ore(h.current,n,r,g);const y=p.useRef(!1);p.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const b=n[G6],_=p.useRef(!!b&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,b))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,b)));return F6(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),_S.render(m.render),_.current&&m.animationState&&m.animationState.animateChanges())}),p.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,b)}),_.current=!1))}),m}function ore(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:W6(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&jc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function W6(t){if(t)return t.options.allowProjection!==!1?t.projection:W6(t.parent)}function lre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){var i,a;t&&Qse(t);function l(u,d){let h;const m={...p.useContext(gS),...u,layoutId:cre(u)},{isStatic:g}=m,y=nre(u),b=s(u,g);if(!g&&yS){ure();const _=dre(m);h=_.MeasureLayout,y.visualElement=are(r,b,m,e,_.ProjectionNode)}return o.jsxs(Nv.Provider,{value:y,children:[h&&y.visualElement?o.jsx(h,{visualElement:y.visualElement,...m}):null,n(r,u,rre(b,y.visualElement,d),b,g,y.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(a=(i=r.displayName)!==null&&i!==void 0?i:r.name)!==null&&a!==void 0?a:""})`}`;const c=p.forwardRef(l);return c[sre]=r,c}function cre({layoutId:t}){const e=p.useContext(mS).id;return e&&t!==void 0?e+"-"+t:t}function ure(t,e){p.useContext($6).strict}function dre(t){const{drag:e,layout:n}=$u;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const hre=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TS(t){return typeof t!="string"||t.includes("-")?!1:!!(hre.indexOf(t)>-1||/[A-Z]/u.test(t))}function pR(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function ES(t,e,n,s){if(typeof e=="function"){const[r,i]=pR(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=pR(s);e=e(n!==void 0?n:t.custom,r,i)}return e}const n_=t=>Array.isArray(t),fre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),mre=t=>n_(t)?t[t.length-1]||0:t,On=t=>!!(t&&t.getVelocity);function _g(t){const e=On(t)?t.get():t;return fre(e)?e.toValue():e}function pre({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,r,i){const a={latestValues:gre(s,r,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:s,current:l,...a}),a.onUpdate=l=>n(l)),a}const Y6=t=>(e,n)=>{const s=p.useContext(Nv),r=p.useContext(Sv),i=()=>pre(t,e,s,r);return n?i():pS(i)};function gre(t,e,n,s){const r={},i=s(t,{});for(const m in i)r[m]=_g(i[m]);let{initial:a,animate:l}=t;const c=Iv(t),u=H6(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Av(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const y=ES(t,m[g]);if(y){const{transitionEnd:b,transition:_,...v}=y;for(const x in v){let E=v[x];if(Array.isArray(E)){const A=d?E.length-1:0;E=E[A]}E!==null&&(r[x]=E)}for(const x in b)r[x]=b[x]}}}return r}const hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ul=new Set(hd),Q6=t=>e=>typeof e=="string"&&e.startsWith(t),X6=Q6("--"),yre=Q6("var(--"),SS=t=>yre(t)?vre.test(t.split("/*")[0].trim()):!1,vre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,J6=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ki=(t,e,n)=>n>e?e:n<t?t:n,fd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ff={...fd,transform:t=>ki(0,1,t)},Pp={...fd,default:1},km=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ra=km("deg"),Lr=km("%"),ve=km("px"),xre=km("vh"),bre=km("vw"),gR={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},wre={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve},_re={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:Pp,scaleX:Pp,scaleY:Pp,scaleZ:Pp,skew:ra,skewX:ra,skewY:ra,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:Ff,originX:gR,originY:gR,originZ:ve},yR={...fd,transform:Math.round},NS={...wre,..._re,zIndex:yR,size:ve,fillOpacity:Ff,strokeOpacity:Ff,numOctaves:yR},Tre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ere=hd.length;function Sre(t,e,n){let s="",r=!0;for(let i=0;i<Ere;i++){const a=hd[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=J6(l,NS[a]);if(!c){r=!1;const d=Tre[a]||a;s+=`${d}(${u}) `}n&&(e[a]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function AS(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Ul.has(c)){a=!0;continue}else if(X6(c)){r[c]=u;continue}else{const d=J6(u,NS[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=Sre(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const Nre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Are={offset:"strokeDashoffset",array:"strokeDasharray"};function Ire(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?Nre:Are;t[i.offset]=ve.transform(-s);const a=ve.transform(e),l=ve.transform(n);t[i.array]=`${a} ${l}`}function vR(t,e,n){return typeof t=="string"?t:ve.transform(e+n*t)}function Cre(t,e,n){const s=vR(e,t.x,t.width),r=vR(n,t.y,t.height);return`${s} ${r}`}function IS(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(AS(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g,dimensions:y}=t;m.transform&&(y&&(g.transform=m.transform),delete m.transform),y&&(r!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Cre(y,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&Ire(m,a,l,c,!1)}const CS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Z6=()=>({...CS(),attrs:{}}),jS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eL(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const tL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nL(t,e,n,s){eL(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(tL.has(r)?r:wS(r),e.attrs[r])}const Z0={};function jre(t){Object.assign(Z0,t)}function sL(t,{layout:e,layoutId:n}){return Ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Z0[t]||t==="opacity")}function RS(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(On(r[a])||e.style&&On(e.style[a])||sL(a,t)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function rL(t,e,n){const s=RS(t,e,n);for(const r in t)if(On(t[r])||On(e[r])){const i=hd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}function Rre(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const xR=["x","y","width","height","cx","cy","r"],Pre={useVisualState:Y6({scrapeMotionValuesFromProps:rL,createRenderState:Z6,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:r})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in r)if(Ul.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<xR.length;l++){const c=xR[l];t[c]!==e[c]&&(a=!0)}a&&Et.read(()=>{Rre(n,s),Et.render(()=>{IS(s,r,jS(n.tagName),t.transformTemplate),nL(n,s)})})}})},kre={useVisualState:Y6({scrapeMotionValuesFromProps:RS,createRenderState:CS})};function iL(t,e,n){for(const s in e)!On(e[s])&&!sL(s,n)&&(t[s]=e[s])}function Dre({transformTemplate:t},e){return p.useMemo(()=>{const n=CS();return AS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Mre(t,e){const n=t.style||{},s={};return iL(s,n,t),Object.assign(s,Dre(t,e)),s}function Ore(t,e){const n={},s=Mre(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function Vre(t,e,n,s){const r=p.useMemo(()=>{const i=Z6();return IS(i,e,jS(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};iL(i,t.style,t),r.style={...i,...r.style}}return r}function Lre(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(TS(n)?Vre:Ore)(s,i,a,n),u=Zse(s,typeof n=="string",t),d=n!==p.Fragment?{...u,...c,ref:r}:{},{children:h}=s,m=p.useMemo(()=>On(h)?h.get():h,[h]);return p.createElement(n,{...d,children:m})}}function Ure(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...TS(s)?Pre:kre,preloadedFeatures:t,useRender:Lre(r),createVisualElement:e,Component:s};return lre(a)}}function aL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function Cv(t,e,n){const s=t.getProps();return ES(s,e,n!==void 0?n:s.custom,t)}const Fre=vS(()=>window.ScrollTimeline!==void 0);class zre{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(Fre()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Bre extends zre{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function PS(t,e){return t?t[e]||t.default||t:void 0}const s_=2e4;function oL(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<s_;)e+=n,s=t.next(e);return e>=s_?1/0:e}function kS(t){return typeof t=="function"}function bR(t,e){t.timeline=e,t.onfinish=null}const DS=t=>Array.isArray(t)&&typeof t[0]=="number",$re={linearEasing:void 0};function qre(t,e){const n=vS(t);return()=>{var s;return(s=$re[e])!==null&&s!==void 0?s:n()}}const ey=qre(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lL=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(Bu(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function cL(t){return!!(typeof t=="function"&&ey()||!t||typeof t=="string"&&(t in r_||ey())||DS(t)||Array.isArray(t)&&t.every(cL))}const hh=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,r_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function uL(t,e){if(t)return typeof t=="function"&&ey()?lL(t,e):DS(t)?hh(t):Array.isArray(t)?t.map(n=>uL(n,e)||r_.easeOut):r_[t]}const ar={x:!1,y:!1};function dL(){return ar.x||ar.y}function Hre(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(s=n==null?void 0:n[t])!==null&&s!==void 0?s:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function hL(t,e){const n=Hre(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function wR(t){return e=>{e.pointerType==="touch"||dL()||t(e)}}function Gre(t,e,n={}){const[s,r,i]=hL(t,n),a=wR(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=wR(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const fL=(t,e)=>e?t===e?!0:fL(t,e.parentElement):!1,MS=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Kre=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Wre(t){return Kre.has(t.tagName)||t.tabIndex!==-1}const fh=new WeakSet;function _R(t){return e=>{e.key==="Enter"&&t(e)}}function Ab(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yre=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=_R(()=>{if(fh.has(n))return;Ab(n,"down");const r=_R(()=>{Ab(n,"up")}),i=()=>Ab(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function TR(t){return MS(t)&&!dL()}function Qre(t,e,n={}){const[s,r,i]=hL(t,n),a=l=>{const c=l.currentTarget;if(!TR(l)||fh.has(c))return;fh.add(c);const u=e(l),d=(g,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!TR(g)||!fh.has(c))&&(fh.delete(c),typeof u=="function"&&u(g,{success:y}))},h=g=>{d(g,n.useGlobalTarget||fL(c,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{!Wre(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l.addEventListener("focus",u=>Yre(u,r),r)}),i}function Xre(t){return t==="x"||t==="y"?ar[t]?null:(ar[t]=!0,()=>{ar[t]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}const mL=new Set(["width","height","top","left","right","bottom",...hd]);let Tg;function Jre(){Tg=void 0}const Ur={now:()=>(Tg===void 0&&Ur.set(bn.isProcessing||Kse.useManualTiming?bn.timestamp:performance.now()),Tg),set:t=>{Tg=t,queueMicrotask(Jre)}};function OS(t,e){t.indexOf(e)===-1&&t.push(e)}function VS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class LS{constructor(){this.subscriptions=[]}add(e){return OS(this.subscriptions,e),()=>VS(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pL(t,e){return e?t*(1e3/e):0}const ER=30,Zre=t=>!isNaN(parseFloat(t));class eie{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=Ur.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zre(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new LS);const s=this.events[e].add(n);return e==="change"?()=>{s(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>ER)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,ER);return pL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zf(t,e){return new eie(t,e)}function tie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zf(n))}function nie(t,e){const n=Cv(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=mre(i[a]);tie(t,a,l)}}function sie(t){return!!(On(t)&&t.add)}function i_(t,e){const n=t.getValue("willChange");if(sie(n))return n.add(e)}function gL(t){return t.props[G6]}const yL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,rie=1e-7,iie=12;function aie(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=yL(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>rie&&++l<iie);return a}function Dm(t,e,n,s){if(t===e&&n===s)return Cs;const r=i=>aie(i,0,1,t,n);return i=>i===0||i===1?i:yL(r(i),e,s)}const vL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,xL=t=>e=>1-t(1-e),bL=Dm(.33,1.53,.69,.99),US=xL(bL),wL=vL(US),_L=t=>(t*=2)<1?.5*US(t):.5*(2-Math.pow(2,-10*(t-1))),FS=t=>1-Math.sin(Math.acos(t)),TL=xL(FS),EL=vL(FS),SL=t=>/^0[^.\s]+$/u.test(t);function oie(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||SL(t):!0}const Hh=t=>Math.round(t*1e5)/1e5,zS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lie(t){return t==null}const cie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,BS=(t,e)=>n=>!!(typeof n=="string"&&cie.test(n)&&n.startsWith(t)||e&&!lie(n)&&Object.prototype.hasOwnProperty.call(n,e)),NL=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(zS);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},uie=t=>ki(0,255,t),Ib={...fd,transform:t=>Math.round(uie(t))},$o={test:BS("rgb","red"),parse:NL("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Ib.transform(t)+", "+Ib.transform(e)+", "+Ib.transform(n)+", "+Hh(Ff.transform(s))+")"};function die(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const a_={test:BS("#"),parse:die,transform:$o.transform},Rc={test:BS("hsl","hue"),parse:NL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Lr.transform(Hh(e))+", "+Lr.transform(Hh(n))+", "+Hh(Ff.transform(s))+")"},kn={test:t=>$o.test(t)||a_.test(t)||Rc.test(t),parse:t=>$o.test(t)?$o.parse(t):Rc.test(t)?Rc.parse(t):a_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?$o.transform(t):Rc.transform(t)},hie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fie(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zS))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(hie))===null||n===void 0?void 0:n.length)||0)>0}const AL="number",IL="color",mie="var",pie="var(",SR="${}",gie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bf(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(gie,c=>(kn.test(c)?(s.color.push(i),r.push(IL),n.push(kn.parse(c))):c.startsWith(pie)?(s.var.push(i),r.push(mie),n.push(c)):(s.number.push(i),r.push(AL),n.push(parseFloat(c))),++i,SR)).split(SR);return{values:n,split:l,indexes:s,types:r}}function CL(t){return Bf(t).values}function jL(t){const{split:e,types:n}=Bf(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const l=n[a];l===AL?i+=Hh(r[a]):l===IL?i+=kn.transform(r[a]):i+=r[a]}return i}}const yie=t=>typeof t=="number"?0:t;function vie(t){const e=CL(t);return jL(t)(e.map(yie))}const no={test:fie,parse:CL,createTransformer:jL,getAnimatableNone:vie},xie=new Set(["brightness","contrast","saturate","opacity"]);function bie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(zS)||[];if(!s)return t;const r=n.replace(s,"");let i=xie.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const wie=/\b([a-z-]*)\(.*?\)/gu,o_={...no,getAnimatableNone:t=>{const e=t.match(wie);return e?e.map(bie).join(" "):t}},_ie={...NS,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:o_,WebkitFilter:o_},$S=t=>_ie[t];function RL(t,e){let n=$S(t);return n!==o_&&(n=no),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Tie=new Set(["auto","none","0"]);function Eie(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Tie.has(i)&&Bf(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=RL(n,r)}const NR=t=>t===fd||t===ve,AR=(t,e)=>parseFloat(t.split(", ")[e]),IR=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return AR(r[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?AR(i[1],t):0}},Sie=new Set(["x","y","z"]),Nie=hd.filter(t=>!Sie.has(t));function Aie(t){const e=[];return Nie.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const qu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:IR(4,13),y:IR(5,14)};qu.translateX=qu.x;qu.translateY=qu.y;const el=new Set;let l_=!1,c_=!1;function PL(){if(c_){const t=Array.from(el).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=Aie(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}c_=!1,l_=!1,el.forEach(t=>t.complete()),el.clear()}function kL(){el.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c_=!0)})}function Iie(){kL(),PL()}class qS{constructor(e,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(el.add(this),l_||(l_=!0,Et.read(kL),Et.resolveKeyframes(PL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),el.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,el.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const DL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Cie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jie(t){const e=Cie.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function ML(t,e,n=1){const[s,r]=jie(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return DL(a)?parseFloat(a):a}return SS(r)?ML(r,e,n+1):r}const OL=t=>e=>e.test(t),Rie={test:t=>t==="auto",parse:t=>t},VL=[fd,ve,Lr,ra,bre,xre,Rie],CR=t=>VL.find(OL(t));class LL extends qS{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),SS(u))){const d=ML(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!mL.has(s)||e.length!==2)return;const[r,i]=e,a=CR(r),l=CR(i);if(a!==l)if(NR(a)&&NR(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)oie(e[r])&&s.push(r);s.length&&Eie(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=qu[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const jR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(no.test(t)||t==="0")&&!t.startsWith("url("));function Pie(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kie(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=jR(r,e),l=jR(i,e);return!a||!l?!1:Pie(t)||(n==="spring"||kS(n))&&s}const Die=t=>t!==null;function jv(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Die),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const Mie=40;class UL{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ur.now(),this.options={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Mie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Iie(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ur.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!kie(e,s,r,i))if(a)this.options.duration=0;else{c&&c(jv(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pt=(t,e,n)=>t+(e-t)*n;function Cb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Oie({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=Cb(c,l,t+1/3),i=Cb(c,l,t),a=Cb(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function ty(t,e){return n=>n>0?e:t}const jb=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},Vie=[a_,$o,Rc],Lie=t=>Vie.find(e=>e.test(t));function RR(t){const e=Lie(t);if(!e)return!1;let n=e.parse(t);return e===Rc&&(n=Oie(n)),n}const PR=(t,e)=>{const n=RR(t),s=RR(e);if(!n||!s)return ty(t,e);const r={...n};return i=>(r.red=jb(n.red,s.red,i),r.green=jb(n.green,s.green,i),r.blue=jb(n.blue,s.blue,i),r.alpha=Pt(n.alpha,s.alpha,i),$o.transform(r))},Uie=(t,e)=>n=>e(t(n)),Mm=(...t)=>t.reduce(Uie),u_=new Set(["none","hidden"]);function Fie(t,e){return u_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function zie(t,e){return n=>Pt(t,e,n)}function HS(t){return typeof t=="number"?zie:typeof t=="string"?SS(t)?ty:kn.test(t)?PR:qie:Array.isArray(t)?FL:typeof t=="object"?kn.test(t)?PR:Bie:ty}function FL(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>HS(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function Bie(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=HS(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function $ie(t,e){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[i]=c,r[a]++}return s}const qie=(t,e)=>{const n=no.createTransformer(e),s=Bf(t),r=Bf(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?u_.has(t)&&!r.values.length||u_.has(e)&&!s.values.length?Fie(t,e):Mm(FL($ie(s,r),r.values),n):ty(t,e)};function zL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Pt(t,e,n):HS(t)(t,e)}const Hie=5;function BL(t,e,n){const s=Math.max(e-Hie,0);return pL(n-t(s),e-s)}const Mt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Rb=.001;function Gie({duration:t=Mt.duration,bounce:e=Mt.bounce,velocity:n=Mt.velocity,mass:s=Mt.mass}){let r,i,a=1-e;a=ki(Mt.minDamping,Mt.maxDamping,a),t=ki(Mt.minDuration,Mt.maxDuration,xi(t)),a<1?(r=u=>{const d=u*a,h=d*t,m=d-n,g=d_(u,a),y=Math.exp(-h);return Rb-m/g*y},i=u=>{const h=u*a*t,m=h*n+n,g=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-h),b=d_(Math.pow(u,2),a);return(-r(u)+Rb>0?-1:1)*((m-g)*y)/b}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Rb+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=Wie(r,i,l);if(t=vi(t),isNaN(c))return{stiffness:Mt.stiffness,damping:Mt.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const Kie=12;function Wie(t,e,n){let s=n;for(let r=1;r<Kie;r++)s=s-t(s)/e(s);return s}function d_(t,e){return t*Math.sqrt(1-e*e)}const Yie=["duration","bounce"],Qie=["stiffness","damping","mass"];function kR(t,e){return e.some(n=>t[n]!==void 0)}function Xie(t){let e={velocity:Mt.velocity,stiffness:Mt.stiffness,damping:Mt.damping,mass:Mt.mass,isResolvedFromDuration:!1,...t};if(!kR(t,Qie)&&kR(t,Yie))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*ki(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Mt.mass,stiffness:r,damping:i}}else{const n=Gie(t);e={...e,...n,mass:Mt.mass},e.isResolvedFromDuration=!0}return e}function $L(t=Mt.visualDuration,e=Mt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=Xie({...n,velocity:-xi(n.velocity||0)}),y=m||0,b=u/(2*Math.sqrt(c*d)),_=a-i,v=xi(Math.sqrt(c/d)),x=Math.abs(_)<5;s||(s=x?Mt.restSpeed.granular:Mt.restSpeed.default),r||(r=x?Mt.restDelta.granular:Mt.restDelta.default);let E;if(b<1){const I=d_(v,b);E=R=>{const S=Math.exp(-b*v*R);return a-S*((y+b*v*_)/I*Math.sin(I*R)+_*Math.cos(I*R))}}else if(b===1)E=I=>a-Math.exp(-v*I)*(_+(y+v*_)*I);else{const I=v*Math.sqrt(b*b-1);E=R=>{const S=Math.exp(-b*v*R),T=Math.min(I*R,300);return a-S*((y+b*v*_)*Math.sinh(T)+I*_*Math.cosh(T))/I}}const A={calculatedDuration:g&&h||null,next:I=>{const R=E(I);if(g)l.done=I>=h;else{let S=0;b<1&&(S=I===0?vi(y):BL(E,I,R));const T=Math.abs(S)<=s,C=Math.abs(a-R)<=r;l.done=T&&C}return l.value=l.done?a:R,l},toString:()=>{const I=Math.min(oL(A),s_),R=lL(S=>A.next(I*S).value,I,30);return I+"ms "+R}};return A}function DR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let b=n*e;const _=h+b,v=a===void 0?_:a(_);v!==_&&(b=v-h);const x=T=>-b*Math.exp(-T/s),E=T=>v+x(T),A=T=>{const C=x(T),j=E(T);m.done=Math.abs(C)<=u,m.value=m.done?v:j};let I,R;const S=T=>{g(m.value)&&(I=T,R=$L({keyframes:[m.value,y(m.value)],velocity:BL(E,T,m.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let C=!1;return!R&&I===void 0&&(C=!0,A(T),S(T)),I!==void 0&&T>=I?R.next(T-I):(!C&&A(T),m)}}}const Jie=Dm(.42,0,1,1),Zie=Dm(0,0,.58,1),qL=Dm(.42,0,.58,1),eae=t=>Array.isArray(t)&&typeof t[0]!="number",tae={linear:Cs,easeIn:Jie,easeInOut:qL,easeOut:Zie,circIn:FS,circInOut:EL,circOut:TL,backIn:US,backInOut:wL,backOut:bL,anticipate:_L},MR=t=>{if(DS(t)){z6(t.length===4);const[e,n,s,r]=t;return Dm(e,n,s,r)}else if(typeof t=="string")return tae[t];return t};function nae(t,e,n){const s=[],r=n||zL,i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Cs:e;l=Mm(c,l)}s.push(l)}return s}function sae(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(z6(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=nae(e,s,r),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=Bu(t[h],t[h+1],d);return l[h](m)};return n?d=>u(ki(t[0],t[i-1],d)):u}function rae(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=Bu(0,e,s);t.push(Pt(n,1,r))}}function iae(t){const e=[0];return rae(e,t.length-1),e}function aae(t,e){return t.map(n=>n*e)}function oae(t,e){return t.map(()=>e||qL).splice(0,t.length-1)}function ny({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=eae(s)?s.map(MR):MR(s),i={done:!1,value:e[0]},a=aae(n&&n.length===e.length?n:iae(e),t),l=sae(a,e,{ease:Array.isArray(r)?r:oae(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const lae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Et.update(e,!0),stop:()=>to(e),now:()=>bn.isProcessing?bn.timestamp:Ur.now()}},cae={decay:DR,inertia:DR,tween:ny,keyframes:ny,spring:$L},uae=t=>t/100;class GS extends UL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,a=(r==null?void 0:r.KeyframeResolver)||qS,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,l=kS(n)?n:cae[n]||ny;let c,u;l!==ny&&typeof e[0]!="number"&&(c=Mm(uae,zL(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=oL(d));const{calculatedDuration:h}=d,m=h+r,g=m*(s+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:m,repeat:g,repeatType:y,repeatDelay:b,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,A=i;if(g){const T=Math.min(this.currentTime,d)/h;let C=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&C--,C=Math.min(C,g+1),!!(C%2)&&(y==="reverse"?(j=1-j,b&&(j-=b/h)):y==="mirror"&&(A=a)),E=ki(0,1,j)*h}const I=x?{done:!1,value:c[0]}:A.next(E);l&&(I.value=l(I.value));let{done:R}=I;!x&&u!==null&&(R=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return S&&r!==void 0&&(I.value=jv(c,this.options,r)),_&&_(I.value),S&&this.finish(),I}get duration(){const{resolved:e}=this;return e?xi(e.calculatedDuration):0}get time(){return xi(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=lae,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const dae=new Set(["opacity","clipPath","filter","transform"]);function hae(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=uL(l,r);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const fae=vS(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sy=10,mae=2e4;function pae(t){return kS(t.type)||t.type==="spring"||!cL(t.ease)}function gae(t,e){const n=new GS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const r=[];let i=0;for(;!s.done&&i<mae;)s=n.sample(i),r.push(s.value),i+=sy;return{times:void 0,keyframes:r,duration:i-sy,ease:"linear"}}const HL={anticipate:_L,backInOut:wL,circInOut:EL};function yae(t){return t in HL}class OR extends UL{constructor(e){super(e);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new LL(i,(a,l)=>this.onKeyframesResolved(a,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:r,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&ey()&&yae(i)&&(i=HL[i]),pae(this.options)){const{onComplete:h,onUpdate:m,motionValue:g,element:y,...b}=this.options,_=gae(e,b);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,r=_.times,i=_.ease,a="keyframes"}const d=hae(l.owner.current,c,e,{...this.options,duration:s,times:r,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(bR(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(jv(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Cs;const{animation:s}=n;bR(s,e)}return Cs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:r,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...g}=this.options,y=new GS({...g,keyframes:s,duration:r,type:i,ease:a,times:l,isGenerator:!0}),b=vi(this.time);u.setWithVelocity(y.sample(b-sy).value,y.sample(b).value,sy)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return fae()&&s&&dae.has(s)&&!c&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}}const vae={type:"spring",stiffness:500,damping:25,restSpeed:10},xae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bae={type:"keyframes",duration:.8},wae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_ae=(t,{keyframes:e})=>e.length>2?bae:Ul.has(t)?t.startsWith("scale")?xae(e[1]):vae:wae;function Tae({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const KS=(t,e,n,s={},r,i)=>a=>{const l=PS(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-vi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};Tae(l)||(d={...d,..._ae(t,d)}),d.duration&&(d.duration=vi(d.duration)),d.repeatDelay&&(d.repeatDelay=vi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=jv(d.keyframes,l);if(m!==void 0)return Et.update(()=>{d.onUpdate(m),d.onComplete()}),new Bre([])}return!i&&OR.supports(d)?new OR(d):new GS(d)};function Eae({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function GL(t,e,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in c){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),g=c[h];if(g===void 0||d&&Eae(d,h))continue;const y={delay:n,...PS(a||{},h)};let b=!1;if(window.MotionHandoffAnimation){const v=gL(t);if(v){const x=window.MotionHandoffAnimation(v,h,Et);x!==null&&(y.startTime=x,b=!0)}}i_(t,h),m.start(KS(h,m,g,t.shouldReduceMotion&&mL.has(h)?{type:!1}:y,t,b));const _=m.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Et.update(()=>{l&&nie(t,l)})}),u}function h_(t,e,n={}){var s;const r=Cv(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(GL(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return Sae(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function Sae(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(Nae).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(h_(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Nae(t,e){return t.sortNodePosition(e)}function Aae(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>h_(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=h_(t,e,n);else{const r=typeof e=="function"?Cv(t,e,n.custom):e;s=Promise.all(GL(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Iae=bS.length;function KL(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?KL(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Iae;n++){const s=bS[n],r=t.props[s];(Uf(r)||r===!1)&&(e[s]=r)}return e}const Cae=[...xS].reverse(),jae=xS.length;function Rae(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Aae(t,n,s)))}function Pae(t){let e=Rae(t),n=VR(),s=!0;const r=c=>(u,d)=>{var h;const m=Cv(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:g,transitionEnd:y,...b}=m;u={...u,...b,...y}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=KL(t.parent)||{},h=[],m=new Set;let g={},y=1/0;for(let _=0;_<jae;_++){const v=Cae[_],x=n[v],E=u[v]!==void 0?u[v]:d[v],A=Uf(E),I=v===c?x.isActive:null;I===!1&&(y=_);let R=E===d[v]&&E!==u[v]&&A;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),x.protectedKeys={...g},!x.isActive&&I===null||!E&&!x.prevProp||Av(E)||typeof E=="boolean")continue;const S=kae(x.prevProp,E);let T=S||v===c&&x.isActive&&!R&&A||_>y&&A,C=!1;const j=Array.isArray(E)?E:[E];let P=j.reduce(r(v),{});I===!1&&(P={});const{prevResolvedValues:M={}}=x,k={...M,...P},$=q=>{T=!0,m.has(q)&&(C=!0,m.delete(q)),x.needsAnimating[q]=!0;const F=t.getValue(q);F&&(F.liveStyle=!1)};for(const q in k){const F=P[q],W=M[q];if(g.hasOwnProperty(q))continue;let ae=!1;n_(F)&&n_(W)?ae=!aL(F,W):ae=F!==W,ae?F!=null?$(q):m.add(q):F!==void 0&&m.has(q)?$(q):x.protectedKeys[q]=!0}x.prevProp=E,x.prevResolvedValues=P,x.isActive&&(g={...g,...P}),s&&t.blockInitialAnimation&&(T=!1),T&&(!(R&&S)||C)&&h.push(...j.map(q=>({animation:q,options:{type:v}})))}if(m.size){const _={};m.forEach(v=>{const x=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),_[v]=x??null}),h.push({animation:_})}let b=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),s=!1,b?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var g;return(g=m.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=VR(),s=!0}}}function kae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!aL(e,t):!1}function So(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VR(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class yo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Dae extends yo{constructor(e){super(e),e.animationState||(e.animationState=Pae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Av(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Mae=0;class Oae extends yo{constructor(){super(...arguments),this.id=Mae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Vae={animation:{Feature:Dae},exit:{Feature:Oae}};function $f(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Om(t){return{point:{x:t.pageX,y:t.pageY}}}const Lae=t=>e=>MS(e)&&t(e,Om(e));function Gh(t,e,n,s){return $f(t,e,Lae(n),s)}const LR=(t,e)=>Math.abs(t-e);function Uae(t,e){const n=LR(t.x,e.x),s=LR(t.y,e.y);return Math.sqrt(n**2+s**2)}class WL{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=kb(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=Uae(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:y}=h,{timestamp:b}=bn;this.history.push({...y,timestamp:b});const{onStart:_,onMove:v}=this.handlers;m||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Pb(m,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=kb(h.type==="pointercancel"?this.lastMoveEventInfo:Pb(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,_),y&&y(h,_)},!MS(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Om(e),l=Pb(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=bn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,kb(l,this.history)),this.removeListeners=Mm(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),to(this.updatePoint)}}function Pb(t,e){return e?{point:e(t.point)}:t}function UR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function kb({point:t},e){return{point:t,delta:UR(t,YL(e)),offset:UR(t,Fae(e)),velocity:zae(e,.1)}}function Fae(t){return t[0]}function YL(t){return t[t.length-1]}function zae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=YL(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>vi(e)));)n--;if(!s)return{x:0,y:0};const i=xi(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const QL=1e-4,Bae=1-QL,$ae=1+QL,XL=.01,qae=0-XL,Hae=0+XL;function Os(t){return t.max-t.min}function Gae(t,e,n){return Math.abs(t-e)<=n}function FR(t,e,n,s=.5){t.origin=s,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=Bae&&t.scale<=$ae||isNaN(t.scale))&&(t.scale=1),(t.translate>=qae&&t.translate<=Hae||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,n,s){FR(t.x,e.x,n.x,s?s.originX:void 0),FR(t.y,e.y,n.y,s?s.originY:void 0)}function zR(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function Kae(t,e,n){zR(t.x,e.x,n.x),zR(t.y,e.y,n.y)}function BR(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function Wh(t,e,n){BR(t.x,e.x,n.x),BR(t.y,e.y,n.y)}function Wae(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Pt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Pt(n,t,s.max):Math.min(t,n)),t}function $R(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Yae(t,{top:e,left:n,bottom:s,right:r}){return{x:$R(t.x,n,r),y:$R(t.y,e,s)}}function qR(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function Qae(t,e){return{x:qR(t.x,e.x),y:qR(t.y,e.y)}}function Xae(t,e){let n=.5;const s=Os(t),r=Os(e);return r>s?n=Bu(e.min,e.max-s,t.min):s>r&&(n=Bu(t.min,t.max-r,e.min)),ki(0,1,n)}function Jae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const f_=.35;function Zae(t=f_){return t===!1?t=0:t===!0&&(t=f_),{x:HR(t,"left","right"),y:HR(t,"top","bottom")}}function HR(t,e,n){return{min:GR(t,e),max:GR(t,n)}}function GR(t,e){return typeof t=="number"?t:t[e]||0}const KR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pc=()=>({x:KR(),y:KR()}),WR=()=>({min:0,max:0}),zt=()=>({x:WR(),y:WR()});function Us(t){return[t("x"),t("y")]}function JL({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function eoe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function toe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Db(t){return t===void 0||t===1}function m_({scale:t,scaleX:e,scaleY:n}){return!Db(t)||!Db(e)||!Db(n)}function Mo(t){return m_(t)||ZL(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ZL(t){return YR(t.x)||YR(t.y)}function YR(t){return t&&t!=="0%"}function ry(t,e,n){const s=t-n,r=e*s;return n+r}function QR(t,e,n,s,r){return r!==void 0&&(t=ry(t,r,s)),ry(t,n,s)+e}function p_(t,e=0,n=1,s,r){t.min=QR(t.min,e,n,s,r),t.max=QR(t.max,e,n,s,r)}function eU(t,{x:e,y:n}){p_(t.x,e.translate,e.scale,e.originPoint),p_(t.y,n.translate,n.scale,n.originPoint)}const XR=.999999999999,JR=1.0000000000001;function noe(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Dc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,eU(t,a)),s&&Mo(i.latestValues)&&Dc(t,i.latestValues))}e.x<JR&&e.x>XR&&(e.x=1),e.y<JR&&e.y>XR&&(e.y=1)}function kc(t,e){t.min=t.min+e,t.max=t.max+e}function ZR(t,e,n,s,r=.5){const i=Pt(t.min,t.max,r);p_(t,e,n,i,s)}function Dc(t,e){ZR(t.x,e.x,e.scaleX,e.scale,e.originX),ZR(t.y,e.y,e.scaleY,e.scale,e.originY)}function tU(t,e){return JL(toe(t.getBoundingClientRect(),e))}function soe(t,e,n){const s=tU(t,n),{scroll:r}=e;return r&&(kc(s.x,r.offset.x),kc(s.y,r.offset.y)),s}const nU=({current:t})=>t?t.ownerDocument.defaultView:null,roe=new WeakMap;class ioe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Om(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:g,onDragStart:y}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Xre(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Us(_=>{let v=this.getAxisMotionValue(_).get()||0;if(Lr.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const E=x.layout.layoutBox[_];E&&(v=Os(E)*(parseFloat(v)/100))}}this.originPoint[_]=v}),y&&Et.postRender(()=>y(d,h)),i_(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=h;if(g&&this.currentDirection===null){this.currentDirection=aoe(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),b&&b(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Us(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WL(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:nU(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Et.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!kp(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=Wae(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&jc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=Yae(r.layoutBox,n):this.constraints=!1,this.elastic=Zae(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Us(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Jae(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jc(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=soe(s,r.root,this.visualElement.getTransformPagePoint());let a=Qae(r.layout.layoutBox,i);if(n){const l=n(eoe(a));this.hasMutatedConstraints=!!l,l&&(a=JL(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Us(d=>{if(!kp(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,g=r?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return i_(this.visualElement,e),s.start(KS(e,s,0,n,this.visualElement,!1))}stopAnimation(){Us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Us(n=>{const{drag:s}=this.getProps();if(!kp(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-Pt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!jc(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Us(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=Xae({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Us(a=>{if(!kp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Pt(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;roe.set(this.visualElement,this);const e=this.visualElement.current,n=Gh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();jc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Et.read(s);const a=$f(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Us(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=f_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function kp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aoe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ooe extends yo{constructor(e){super(e),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new ioe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const eP=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class loe extends yo{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(e){this.session=new WL(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:eP(e),onStart:eP(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Et.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=tP(t,e.target.x),s=tP(t,e.target.y);return`${n}% ${s}%`}},coe={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=no.parse(t);if(r.length>5)return s;const i=no.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const u=Pt(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class uoe extends p.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;jre(doe),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Et.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_S.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sU(t){const[e,n]=U6(),s=p.useContext(mS);return o.jsx(uoe,{...t,layoutGroup:s,switchLayoutGroup:p.useContext(K6),isPresent:e,safeToRemove:n})}const doe={borderRadius:{...Xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xd,borderTopRightRadius:Xd,borderBottomLeftRadius:Xd,borderBottomRightRadius:Xd,boxShadow:coe};function hoe(t,e,n){const s=On(t)?t:zf(t);return s.start(KS("",s,e,n)),s.animation}function foe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const moe=(t,e)=>t.depth-e.depth;class poe{constructor(){this.children=[],this.isDirty=!1}add(e){OS(this.children,e),this.isDirty=!0}remove(e){VS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(moe),this.isDirty=!1,this.children.forEach(e)}}function goe(t,e){const n=Ur.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(to(s),t(i-e))};return Et.read(s,!0),()=>to(s)}const rU=["TopLeft","TopRight","BottomLeft","BottomRight"],yoe=rU.length,nP=t=>typeof t=="string"?parseFloat(t):t,sP=t=>typeof t=="number"||ve.test(t);function voe(t,e,n,s,r,i){r?(t.opacity=Pt(0,n.opacity!==void 0?n.opacity:1,xoe(s)),t.opacityExit=Pt(e.opacity!==void 0?e.opacity:1,0,boe(s))):i&&(t.opacity=Pt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<yoe;a++){const l=`border${rU[a]}Radius`;let c=rP(e,l),u=rP(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||sP(c)===sP(u)?(t[l]=Math.max(Pt(nP(c),nP(u),s),0),(Lr.test(u)||Lr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,s))}function rP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const xoe=iU(0,.5,TL),boe=iU(.5,.95,Cs);function iU(t,e,n){return s=>s<t?0:s>e?1:n(Bu(t,e,s))}function iP(t,e){t.min=e.min,t.max=e.max}function Ls(t,e){iP(t.x,e.x),iP(t.y,e.y)}function aP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function oP(t,e,n,s,r){return t-=e,t=ry(t,1/n,s),r!==void 0&&(t=ry(t,1/r,s)),t}function woe(t,e=0,n=1,s=.5,r,i=t,a=t){if(Lr.test(e)&&(e=parseFloat(e),e=Pt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Pt(i.min,i.max,s);t===i&&(l-=e),t.min=oP(t.min,e,n,l,r),t.max=oP(t.max,e,n,l,r)}function lP(t,e,[n,s,r],i,a){woe(t,e[n],e[s],e[r],e.scale,i,a)}const _oe=["x","scaleX","originX"],Toe=["y","scaleY","originY"];function cP(t,e,n,s){lP(t.x,e,_oe,n?n.x:void 0,s?s.x:void 0),lP(t.y,e,Toe,n?n.y:void 0,s?s.y:void 0)}function uP(t){return t.translate===0&&t.scale===1}function aU(t){return uP(t.x)&&uP(t.y)}function dP(t,e){return t.min===e.min&&t.max===e.max}function Eoe(t,e){return dP(t.x,e.x)&&dP(t.y,e.y)}function hP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function oU(t,e){return hP(t.x,e.x)&&hP(t.y,e.y)}function fP(t){return Os(t.x)/Os(t.y)}function mP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Soe{constructor(){this.members=[]}add(e){OS(this.members,e),e.scheduleRender()}remove(e){if(VS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Noe(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),g&&(s+=`skewX(${g}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Oo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mh=typeof window<"u"&&window.MotionDebug!==void 0,Mb=["","X","Y","Z"],Aoe={visibility:"hidden"},pP=1e3;let Ioe=0;function Ob(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function lU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=gL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&lU(s)}function cU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Ioe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mh&&(Oo.totalNodes=Oo.resolvedTargetDeltas=Oo.recalculatedProjection=0),this.nodes.forEach(Roe),this.nodes.forEach(Ooe),this.nodes.forEach(Voe),this.nodes.forEach(Poe),mh&&window.MotionDebug.record(Oo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new poe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new LS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=foe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=goe(m,250),Eg.hasAnimatedSinceResize&&(Eg.hasAnimatedSinceResize=!1,this.nodes.forEach(yP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Boe,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=d.getProps(),x=!this.targetLayout||!oU(this.targetLayout,y)||g,E=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const A={...PS(b,"layout"),onPlay:_,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||yP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,to(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Loe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&lU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gP);return}this.isUpdating||this.nodes.forEach(Doe),this.isUpdating=!1,this.nodes.forEach(Moe),this.nodes.forEach(Coe),this.nodes.forEach(joe),this.clearAllSnapshots();const l=Ur.now();bn.delta=ki(0,1e3/60,l-bn.timestamp),bn.timestamp=l,bn.isProcessing=!0,Nb.update.process(bn),Nb.preRender.process(bn),Nb.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_S.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(koe),this.sharedNodes.forEach(Uoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!aU(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Mo(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),$oe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return zt();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(qoe))){const{scroll:d}=this.root;d&&(kc(c.x,d.offset.x),kc(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=zt();if(Ls(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Ls(c,a),kc(c.x,h.offset.x),kc(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=zt();Ls(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Mo(d.latestValues)&&Dc(c,d.latestValues)}return Mo(this.latestValues)&&Dc(c,this.latestValues),c}removeTransform(a){const l=zt();Ls(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mo(u.latestValues))continue;m_(u.latestValues)&&u.updateSnapshot();const d=zt(),h=u.measurePageBox();Ls(d,h),cP(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Mo(this.latestValues)&&cP(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Wh(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zt(),this.targetWithTransforms=zt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Kae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),eU(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zt(),this.relativeTargetOrigin=zt(),Wh(this.relativeTargetOrigin,this.target,g.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mh&&Oo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||m_(this.parent.latestValues)||ZL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ls(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;noe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=zt());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aP(this.prevProjectionDelta.x,this.projectionDelta.x),aP(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!mP(this.projectionDelta.x,this.prevProjectionDelta.x)||!mP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),mh&&Oo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pc(),this.projectionDelta=Pc(),this.projectionDeltaWithTransform=Pc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=zt(),g=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=g!==y,_=this.getStack(),v=!_||_.members.length<=1,x=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(zoe));this.animationProgress=0;let E;this.mixTargetDelta=A=>{const I=A/1e3;vP(h.x,a.x,I),vP(h.y,a.y,I),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Foe(this.relativeTarget,this.relativeTargetOrigin,m,I),E&&Eoe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=zt()),Ls(E,this.relativeTarget)),b&&(this.animationValues=d,voe(d,u,this.latestValues,I,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(to(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Eg.hasAnimatedSinceResize=!0,this.currentAnimation=hoe(0,pP,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&uU(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||zt();const h=Os(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=Os(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Ls(l,c),Dc(l,d),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Soe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ob("z",a,u,this.animationValues);for(let d=0;d<Mb.length;d++)Ob(`rotate${Mb[d]}`,a,u,this.animationValues),Ob(`skew${Mb[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Aoe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_g(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=_g(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Mo(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Noe(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:g,y}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const b in Z0){if(m[b]===void 0)continue;const{correct:_,applyTo:v}=Z0[b],x=u.transform==="none"?m[b]:_(m[b],h);if(v){const E=v.length;for(let A=0;A<E;A++)u[v[A]]=x}else u[b]=x}return this.options.layoutId&&(u.pointerEvents=h===this?_g(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(gP),this.root.sharedNodes.clear()}}}function Coe(t){t.updateLayout()}function joe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Us(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],g=Os(m);m.min=s[h].min,m.max=m.min+g}):uU(i,n.layoutBox,s)&&Us(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],g=Os(s[h]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+g)});const l=Pc();Kh(l,s,n.layoutBox);const c=Pc();a?Kh(c,t.applyTransform(r,!0),n.measuredBox):Kh(c,s,n.layoutBox);const u=!aU(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const y=zt();Wh(y,n.layoutBox,m.layoutBox);const b=zt();Wh(b,s,g.layoutBox),oU(y,b)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function Roe(t){mh&&Oo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Poe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function koe(t){t.clearSnapshot()}function gP(t){t.clearMeasurements()}function Doe(t){t.isLayoutDirty=!1}function Moe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function yP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ooe(t){t.resolveTargetDelta()}function Voe(t){t.calcProjection()}function Loe(t){t.resetSkewAndRotation()}function Uoe(t){t.removeLeadSnapshot()}function vP(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function xP(t,e,n,s){t.min=Pt(e.min,n.min,s),t.max=Pt(e.max,n.max,s)}function Foe(t,e,n,s){xP(t.x,e.x,n.x,s),xP(t.y,e.y,n.y,s)}function zoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Boe={duration:.45,ease:[.4,0,.1,1]},bP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),wP=bP("applewebkit/")&&!bP("chrome/")?Math.round:Cs;function _P(t){t.min=wP(t.min),t.max=wP(t.max)}function $oe(t){_P(t.x),_P(t.y)}function uU(t,e,n){return t==="position"||t==="preserve-aspect"&&!Gae(fP(e),fP(n),.2)}function qoe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Hoe=cU({attachResizeListener:(t,e)=>$f(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Vb={current:void 0},dU=cU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Vb.current){const t=new Hoe({});t.mount(window),t.setOptions({layoutScroll:!0}),Vb.current=t}return Vb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Goe={pan:{Feature:loe},drag:{Feature:ooe,ProjectionNode:dU,MeasureLayout:sU}};function TP(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Et.postRender(()=>i(e,Om(e)))}class Koe extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=Gre(e,n=>(TP(this.node,n,"Start"),s=>TP(this.node,s,"End"))))}unmount(){}}class Woe extends yo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mm($f(this.node.current,"focus",()=>this.onFocus()),$f(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function EP(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Et.postRender(()=>i(e,Om(e)))}class Yoe extends yo{mount(){const{current:e}=this.node;e&&(this.unmount=Qre(e,n=>(EP(this.node,n,"Start"),(s,{success:r})=>EP(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const g_=new WeakMap,Lb=new WeakMap,Qoe=t=>{const e=g_.get(t.target);e&&e(t)},Xoe=t=>{t.forEach(Qoe)};function Joe({root:t,...e}){const n=t||document;Lb.has(n)||Lb.set(n,{});const s=Lb.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(Xoe,{root:t,...e})),s[r]}function Zoe(t,e,n){const s=Joe(e);return g_.set(t,n),s.observe(t),()=>{g_.delete(t),s.unobserve(t)}}const ele={some:0,all:1};class tle extends yo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:ele[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return Zoe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(nle(e,n))&&this.startObserver()}unmount(){}}function nle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sle={inView:{Feature:tle},tap:{Feature:Yoe},focus:{Feature:Woe},hover:{Feature:Koe}},rle={layout:{ProjectionNode:dU,MeasureLayout:sU}},y_={current:null},hU={current:!1};function ile(){if(hU.current=!0,!!yS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>y_.current=t.matches;t.addListener(e),e()}else y_.current=!1}const ale=[...VL,kn,no],ole=t=>ale.find(OL(t)),SP=new WeakMap;function lle(t,e,n){for(const s in e){const r=e[s],i=n[s];if(On(r))t.addValue(s,r);else if(On(i))t.addValue(s,zf(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,zf(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const NP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class cle{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ur.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Et.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Iv(n),this.isVariantNode=H6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const y=m[g];c[g]!==void 0&&On(y)&&y.set(c[g],!1)}}mount(e){this.current=e,SP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),hU.current||ile(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:y_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){SP.delete(this.current),this.projection&&this.projection.unmount(),to(this.notifyUpdate),to(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ul.has(e),r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Et.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $u){const n=$u[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<NP.length;s++){const r=NP[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=lle(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=zf(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(DL(r)||SL(r))?r=parseFloat(r):!ole(r)&&no.test(n)&&(r=RL(e,n)),this.setBaseTarget(e,On(r)?r.get():r)),On(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=ES(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!On(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new LS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class fU extends cle{constructor(){super(...arguments),this.KeyframeResolver=LL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;On(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ule(t){return window.getComputedStyle(t)}class dle extends fU{constructor(){super(...arguments),this.type="html",this.renderInstance=eL}readValueFromInstance(e,n){if(Ul.has(n)){const s=$S(n);return s&&s.default||0}else{const s=ule(e),r=(X6(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tU(e,n)}build(e,n,s){AS(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return RS(e,n,s)}}class hle extends fU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ul.has(n)){const s=$S(n);return s&&s.default||0}return n=tL.has(n)?n:wS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return rL(e,n,s)}build(e,n,s){IS(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,r){nL(e,n,s,r)}mount(e){this.isSVGTag=jS(e.tagName),super.mount(e)}}const fle=(t,e)=>TS(t)?new hle(e):new dle(e,{allowProjection:t!==p.Fragment}),mle=Ure({...Vae,...sle,...Goe,...rle},fle),oe=ere(mle);var ple=Symbol.for("react.lazy"),iy=my[" use ".trim().toString()];function gle(t){return typeof t=="object"&&t!==null&&"then"in t}function mU(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===ple&&"_payload"in t&&gle(t._payload)}function pU(t){const e=vle(t),n=p.forwardRef((s,r)=>{let{children:i,...a}=s;mU(i)&&typeof iy=="function"&&(i=iy(i._payload));const l=p.Children.toArray(i),c=l.find(ble);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var yle=pU("Slot");function vle(t){const e=p.forwardRef((n,s)=>{let{children:r,...i}=n;if(mU(r)&&typeof iy=="function"&&(r=iy(r._payload)),p.isValidElement(r)){const a=_le(r),l=wle(i,r.props);return r.type!==p.Fragment&&(l.ref=s?ho(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xle=Symbol("radix.slottable");function ble(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xle}function wle(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function _le(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Tle=cm("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=Jt.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?yle:"button";return o.jsx(a,{className:me(Tle({variant:e,size:n,className:t})),ref:i,...r})});H.displayName="Button";const md=({className:t="",size:e="default",showText:n=!0,textColor:s="text-white"})=>{const r={small:{container:"w-8 h-8",icon:"w-4 h-4",text:"text-lg"},default:{container:"w-10 h-10",icon:"w-5 h-5",text:"text-xl"},large:{container:"w-12 h-12",icon:"w-6 h-6",text:"text-2xl"}},i=r[e]||r.default;return o.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[o.jsxs("div",{className:`${i.container} relative flex items-center justify-center`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-teal-500 to-blue-600 rounded-xl rotate-3 opacity-90"}),o.jsx("div",{className:"absolute inset-0 bg-slate-900 rounded-xl border border-slate-700/50 -rotate-3 flex items-center justify-center backdrop-blur-sm",children:o.jsx(Kc,{className:`${i.icon} text-teal-400`,strokeWidth:2.5})})]}),n&&o.jsx("div",{className:"flex flex-col",children:o.jsxs("span",{className:`font-bold ${s} leading-none ${i.text} tracking-tight`,children:["Nawe",o.jsx("span",{className:"text-teal-400",children:"Shop"})]})})]})},gU=({language:t,toggleLanguage:e})=>{Ut();const n={en:{login:"Login",signup:"Sign Up",adminDemo:"Admin Demo"},ar:{login:" ",signup:" ",adminDemo:" "}};return o.jsx(oe.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed top-0 w-full bg-slate-900/80 backdrop-blur-lg border-b border-slate-800 z-50",children:o.jsxs("nav",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsx(oe.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:o.jsx(md,{})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(oe.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:o.jsx(xf,{className:"w-5 h-5 text-teal-400"})}),o.jsx(rt,{to:"/login",children:o.jsx(H,{variant:"ghost",className:"text-white hover:text-teal-400 hover:bg-slate-800 transition-all",children:n[t].login})}),o.jsx(rt,{to:"/signup",children:o.jsx(H,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white transition-all",children:n[t].signup})})]})]})})},Ele=({language:t})=>{const{toast:e}=Ut(),n=nn(),s={en:{title:"Build Your Dream Store",subtitle:"In Minutes, Not Months",description:"Create a professional e-commerce store without coding. Powerful features, beautiful templates, and seamless integrations.",createStore:"Create Your Store",watchDemo:"Watch Demo",trustedBy:"Trusted by 10,000+ entrepreneurs worldwide"},ar:{title:"  ",subtitle:"   ",description:"     .      .",createStore:" ",watchDemo:" ",trustedBy:"      10,000    "}},r=()=>{n("/signup")},i=()=>{e({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900"}),o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgxNDgsIDIxMywgMjU1LCAwLjA1KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"}),o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2},className:"absolute top-20 left-1/4 w-96 h-96 bg-teal-500 rounded-full filter blur-3xl"}),o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2,delay:.5},className:"absolute bottom-20 right-1/4 w-96 h-96 bg-blue-600 rounded-full filter blur-3xl"}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[o.jsxs(oe.h1,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},className:"text-5xl md:text-7xl font-bold text-white mb-4 leading-tight",children:[s[t].title,o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent",children:s[t].subtitle})]}),o.jsx(oe.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},className:"text-xl text-slate-300 mb-10 max-w-2xl",children:s[t].description}),o.jsxs(oe.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},className:"flex flex-wrap gap-4 justify-center mb-12",children:[o.jsxs(H,{onClick:r,size:"lg",className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white px-8 py-6 text-lg group transition-all",children:[s[t].createStore,o.jsx(OT,{className:`${t==="ar"?"mr-2":"ml-2"} w-5 h-5 group-hover:translate-x-1 transition-transform`})]}),o.jsx(H,{onClick:i,variant:"outline",size:"lg",className:"border-2 border-teal-500 text-teal-400 hover:bg-teal-500/10 px-8 py-6 text-lg transition-all",children:s[t].watchDemo})]}),o.jsx(oe.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"text-sm text-slate-400",children:s[t].trustedBy})]})})]})},Sle=({language:t})=>{const e={en:{title:"Everything You Need to Succeed",subtitle:"Powerful features designed for modern e-commerce",features:[{icon:bf,title:"Lightning Fast",description:"Optimized for speed with instant loading times"},{icon:v2,title:"Beautiful Templates",description:"Professional designs that convert visitors to customers"},{icon:bu,title:"Easy Management",description:"Intuitive dashboard to manage products and orders"},{icon:d2,title:"Analytics & Insights",description:"Track sales, visitors, and performance metrics"},{icon:xu,title:"Secure Payments",description:"Safe and encrypted payment processing"},{icon:o1,title:"Mobile Optimized",description:"Perfect experience on all devices"}]},ar:{title:"   ",subtitle:"     ",features:[{icon:bf,title:" ",description:"     "},{icon:v2,title:" ",description:"     "},{icon:bu,title:" ",description:"     "},{icon:d2,title:" ",description:"    "},{icon:xu,title:" ",description:"   "},{icon:o1,title:" ",description:"    "}]}},n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx(oe.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e[t].features.map((r,i)=>{const a=r.icon;return o.jsxs(oe.div,{variants:s,whileHover:{y:-5,transition:{duration:.2}},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-8 hover:border-teal-500/50 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-teal-500 to-blue-600 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(a,{className:"w-7 h-7 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:r.description})]},i)})})]})]})},Nle=({language:t})=>{const e={en:{title:"Seamless Integrations",subtitle:"Connect with your favorite tools and services",integrations:[{icon:vu,name:"Payment Gateways",description:"Stripe, PayPal, Square & more"},{icon:Wa,name:"Shipping Partners",description:"FedEx, UPS, DHL integration"},{icon:y2,name:"Live Chat",description:"Real-time customer support"},{icon:h0,name:"Email Marketing",description:"Mailchimp, SendGrid & more"}]},ar:{title:" ",subtitle:"   ",integrations:[{icon:vu,name:" ",description:"Stripe  PayPal  Square "},{icon:Wa,name:" ",description:"  FedEx  UPS  DHL"},{icon:y2,name:" ",description:"    "},{icon:h0,name:"  ",description:"Mailchimp  SendGrid "}]}};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDU2LCAxODksIDE0OCwgMC4wNSkiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:e[t].integrations.map((n,s)=>{const r=n.icon;return o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s*.1},whileHover:{scale:1.05},className:"bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl p-6 text-center hover:border-teal-500/50 transition-all",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500/20 to-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(r,{className:"w-8 h-8 text-teal-400"})}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.name}),o.jsx("p",{className:"text-sm text-slate-400",children:n.description})]},s)})})]})]})},Ale=({language:t})=>{Ut();const e={en:{title:"Simple, Transparent Pricing",subtitle:"Choose the perfect plan for your business",monthly:"Monthly",yearly:"Yearly",save:"Save 20%",getStarted:"Get Started",plans:[{name:"Monthly Plan",price:100,period:"/month",description:"Pay month-to-month",features:["1 store","Up to 100 products","Basic orders management","Categories and banners","Basic product tools","Basic analytics","Email support"]},{name:"Quarterly Plan",price:250,period:"/quarter",description:"Pay every 3 months",popular:!0,features:["Up to 500 products","Up to 3 stores","Revenue analytics","Welcome popup and banners","Advanced product tools (background removal)","Priority email support"]},{name:"Yearly Plan",price:850,period:"/year",description:"Best value with annual billing",features:["Unlimited products","Multiple stores","Full analytics","Welcome popup and banners","Advanced product tools","Priority support"]}]},ar:{title:"  ",subtitle:"   ",monthly:"",yearly:"",save:" 20%",getStarted:" ",plans:[{name:" ",price:100,period:"/",description:" ",features:[" "," 100 ","  "," ","  "," ","  "]},{name:"  ",price:250,period:"/ ",description:"  3 ",popular:!0,features:[" 500 "," 3 "," ","  ","   ( )","  "]},{name:" ",price:850,period:"/",description:"   ",features:["  "," "," ","  ","  "," "]}]}},n=s=>{const r="201000392539",i=t==="ar"?`     ${s.name}  ${s.price} ${s.period}.`:`Hello, I would like to subscribe to the ${s.name} for ${s.price} ${s.period}.`,a=`https://wa.me/${r}?text=${encodeURIComponent(i)}`;window.open(a,"_blank")};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 mb-8",children:e[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e[t].plans.map((s,r)=>o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},whileHover:{y:-10},className:`relative bg-slate-800/50 backdrop-blur-sm border-2 rounded-2xl p-8 ${s.popular?"border-teal-500":"border-slate-700"} hover:border-teal-500/50 transition-all`,children:[s.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-teal-500 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Popular"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:s.name}),o.jsx("p",{className:"text-slate-400 mb-6",children:s.description}),o.jsxs("div",{className:"mb-6",children:[o.jsx("span",{className:"text-5xl font-bold text-white",children:ct(s.price,t==="ar"?"ar-EG":"en-EG")}),o.jsx("span",{className:"text-slate-400",children:s.period})]}),o.jsx(H,{onClick:()=>n(s),className:`w-full mb-8 ${s.popular?"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700":"bg-slate-700 hover:bg-slate-600"} text-white transition-all`,children:e[t].getStarted}),o.jsx("div",{className:"space-y-4",children:s.features.map((i,a)=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-5 h-5 bg-teal-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(sd,{className:"w-3 h-3 text-teal-400"})}),o.jsx("span",{className:"text-slate-300",children:i})]},a))})]},r))})]})]})},Ile=({language:t})=>{Ut();const e=nn(),n={en:{title:"Success Stories",subtitle:"Join thousands of successful store owners",viewStore:"View Store",stores:[{name:"Artisan Crafts",category:"Handmade Goods",growth:"+245% growth",description:"Luxury handcrafted items"},{name:"TechGear Pro",category:"Electronics",growth:"+180% growth",description:"Premium tech accessories"},{name:"Green Living",category:"Eco Products",growth:"+320% growth",description:"Sustainable lifestyle products"},{name:"Fashion Forward",category:"Apparel",growth:"+195% growth",description:"Trendy fashion collections"}]},ar:{title:" ",subtitle:"     ",viewStore:" ",stores:[{name:" ",category:" ",growth:" +245%",description:"   "},{name:"  ",category:"",growth:" +180%",description:"  "},{name:" ",category:" ",growth:" +320%",description:"   "},{name:" ",category:"",growth:" +195%",description:"  "}]}},s=()=>{e("/store")};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-teal-950/10 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n[t].title}),o.jsx("p",{className:"text-xl text-slate-400",children:n[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n[t].stores.map((r,i)=>o.jsxs(oe.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},whileHover:{y:-5},className:"group bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl overflow-hidden hover:border-teal-500/50 transition-all",children:[o.jsxs("div",{className:"h-48 bg-gradient-to-br from-teal-500/20 to-blue-600/20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-teal-400 text-sm mb-1",children:[o.jsx(aO,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:r.growth})]})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.name}),o.jsx("p",{className:"text-sm text-teal-400 mb-3",children:r.category}),o.jsx("p",{className:"text-slate-400 text-sm mb-4",children:r.description}),o.jsxs(H,{onClick:()=>s(r.name),variant:"ghost",className:"w-full text-teal-400 hover:text-teal-300 hover:bg-teal-500/10 transition-all group-hover:bg-teal-500/10",children:[n[t].viewStore,o.jsx(d0,{className:`w-4 h-4 ${t==="ar"?"mr-2":"ml-2"}`})]})]})]},i))})]})]})},yU=({language:t})=>{typeof window<"u"&&window.location.hostname.replace(/^www\./,"");const e={en:{about:"About",aboutText:"Nawe Shop helps entrepreneurs create beautiful online stores without coding.",product:"Product",features:"Features",pricing:"Pricing",integrations:"Integrations",templates:"Templates",support:"Support",documentation:"Documentation",helpCenter:"Help Center",community:"Community",contact:"Contact Us",legal:"Legal",privacy:"Privacy Policy",terms:"Terms of Service",copyright:` ${new Date().getFullYear()} naweshop.com. All rights reserved.`,email:"support@naweshop.com",phone:"01000392539",address:"Egypt"},ar:{about:"",aboutText:" Nawe Shop         .",product:"",features:"",pricing:"",integrations:"",templates:"",support:"",documentation:"",helpCenter:" ",community:"",contact:" ",legal:"",privacy:" ",terms:" ",copyright:` ${new Date().getFullYear()}     naweshop.com`,email:"support@naweshop.com",phone:"01000392539",address:""}},n={product:[{label:e[t].features,path:"/#features"},{label:e[t].pricing,path:"/#pricing"},{label:e[t].integrations,path:"/#integrations"},{label:e[t].templates,path:"/#templates"}],support:[{label:e[t].documentation,path:"#"},{label:e[t].helpCenter,path:"#"},{label:e[t].community,path:"#"},{label:e[t].contact,path:"/#contact"}],legal:[{label:e[t].privacy,path:"/privacy-policy"},{label:e[t].terms,path:"#"}]};return o.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 mb-12",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"mb-6",children:o.jsx(md,{})}),o.jsx("p",{className:"text-slate-400 mb-6 max-w-sm",children:e[t].aboutText}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(h0,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].email})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(BT,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].phone})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(EG,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].address})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].product}),o.jsx("div",{className:"space-y-2",children:n.product.map((s,r)=>o.jsx("p",{children:o.jsx(rt,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].support}),o.jsx("div",{className:"space-y-2",children:n.support.map((s,r)=>o.jsx("p",{children:o.jsx(rt,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].legal}),o.jsx("div",{className:"space-y-2",children:n.legal.map((s,r)=>o.jsx("p",{children:o.jsx(rt,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]})]}),o.jsx("div",{className:"border-t border-slate-800 pt-8",children:o.jsx("p",{className:"text-center text-slate-400 text-sm",children:e[t].copyright})})]})})},Cle=({language:t,toggleLanguage:e})=>o.jsxs("div",{className:`min-h-screen bg-slate-900 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:[o.jsx(gU,{language:t,toggleLanguage:e}),o.jsxs("main",{children:[o.jsx(Ele,{language:t}),o.jsx(Sle,{language:t}),o.jsx(Nle,{language:t}),o.jsx(Ale,{language:t}),o.jsx(Ile,{language:t})]}),o.jsx(yU,{language:t})]}),jle=({language:t,toggleLanguage:e})=>{const s={en:{title:"Privacy Policy - Nawe Shop",description:"Learn about how Nawe Shop collects, uses, and protects your personal information. Our commitment to your privacy and data security.",h1:"Privacy Policy",lastUpdated:"Last Updated: January 2026",intro:"At Nawe Shop, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our e-commerce platform services.",sections:[{icon:f2,title:"Information We Collect",content:`We collect information that you provide directly to us when you register for an account, create a store, make a purchase, or communicate with us. This includes:

 Personal identification information (Name, email address, phone number)
 Business information (Store name, business address, tax ID)
 Payment information (processed securely by our payment partners)
 Usage data and cookies to improve your experience`},{icon:s1,title:"How We Use Your Information",content:`We use the information we collect to:

 Provide, operate, and maintain our services
 Process your transactions and manage your orders
 Improve, personalize, and expand our platform
 Communicate with you, including for customer service, updates, and marketing
 Detect and prevent fraud and security risks`},{icon:g2,title:"Data Security",content:"We implement appropriate technical and organizational security measures to protect your personal information. We use industry-standard encryption protocols (SSL/TLS) to safeguard data transmission. However, please note that no method of transmission over the Internet or electronic storage is 100% secure."},{icon:r1,title:"Your Rights",content:"You have the right to access, correct, update, or delete your personal information. You can manage most of your data directly through your account settings. If you wish to exercise any other rights, please contact our support team."},{icon:xf,title:"Third-Party Services",content:"Our platform may contain links to third-party websites or services (like payment gateways and shipping providers) that are not owned or controlled by Nawe Shop. We are not responsible for the privacy practices of these third parties and encourage you to review their privacy policies."}],contact:{title:"Contact Us",text:"If you have any questions about this Privacy Policy, please contact us at:",email:"support@naweshop.com"}},ar:{title:"  - Nawe Shop",description:"    Nawe Shop    .    .",h1:" ",lastUpdated:" :  2026",intro:" Nawe Shop     .                       .",sections:[{icon:f2,title:"  ",content:`                    .  :

    (    )
   (     )
   (       )
       `},{icon:s1,title:"  ",content:`     :

    
    
    
         
      `},{icon:g2,title:" ",content:"        .        (SSL/TLS)   .                 100%."},{icon:r1,title:"",content:"            .         .             ."},{icon:xf,title:"  ",content:"           (     )       Nawe Shop.                ."}],contact:{title:" ",text:"            :",email:"support@naweshop.com"}}}[t],r=t==="ar";return o.jsxs("div",{className:`min-h-screen bg-slate-950 ${r?"rtl":"ltr"}`,dir:r?"rtl":"ltr",children:[o.jsxs(a0,{children:[o.jsx("title",{children:s.title}),o.jsx("meta",{name:"description",content:s.description}),o.jsx("meta",{name:"keywords",content:t==="ar"?" ,  ,  , Nawe Shop":"Privacy Policy, Data Protection, E-commerce, Nawe Shop"}),o.jsx("link",{rel:"canonical",href:`https://naweshop.com/${t==="ar"?"privacy-policy":"en/privacy-policy"}`})]}),o.jsx(gU,{language:t,toggleLanguage:e}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-teal-500/10 rounded-full mb-4",children:o.jsx(xu,{className:"w-8 h-8 text-teal-400"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:s.h1}),o.jsx("p",{className:"text-slate-400 text-lg",children:s.lastUpdated})]}),o.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 md:p-10 backdrop-blur-sm",children:[o.jsx("p",{className:"text-slate-300 text-lg leading-relaxed mb-10 border-b border-slate-800 pb-8",children:s.intro}),o.jsx("div",{className:"space-y-12",children:s.sections.map((i,a)=>{const l=i.icon;return o.jsxs(oe.div,{initial:{opacity:0,x:r?20:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:a*.1},className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-lg flex items-center justify-center",children:o.jsx(l,{className:"w-5 h-5 text-teal-400"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:i.title}),o.jsx("div",{className:"text-slate-400 leading-relaxed whitespace-pre-line",children:i.content})]})]},a)})}),o.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-800",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:s.contact.title}),o.jsx("p",{className:"text-slate-400 mb-2",children:s.contact.text}),o.jsx("a",{href:`mailto:${s.contact.email}`,className:"text-teal-400 hover:text-teal-300 transition-colors font-medium",children:s.contact.email})]})]})]})}),o.jsx(yU,{language:t})]})},ce=p.forwardRef(({className:t,type:e,...n},s)=>o.jsx("input",{type:e,className:me("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));ce.displayName="Input";var Rle=p.createContext(void 0);function Rv(t){const e=p.useContext(Rle);return t||e||"ltr"}var Ub=0;function vU(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??AP()),document.body.insertAdjacentElement("beforeend",t[1]??AP()),Ub++,()=>{Ub===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ub--}},[])}function AP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Fb="focusScope.autoFocusOnMount",zb="focusScope.autoFocusOnUnmount",IP={bubbles:!1,cancelable:!0},Ple="FocusScope",WS=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[l,c]=p.useState(null),u=ks(r),d=ks(i),h=p.useRef(null),m=ft(e,b=>c(b)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(s){let b=function(E){if(g.paused||!l)return;const A=E.target;l.contains(A)?h.current=A:ia(h.current,{select:!0})},_=function(E){if(g.paused||!l)return;const A=E.relatedTarget;A!==null&&(l.contains(A)||ia(h.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const I of E)I.removedNodes.length>0&&ia(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),x.disconnect()}}},[s,l,g.paused]),p.useEffect(()=>{if(l){jP.add(g);const b=document.activeElement;if(!l.contains(b)){const v=new CustomEvent(Fb,IP);l.addEventListener(Fb,u),l.dispatchEvent(v),v.defaultPrevented||(kle(Lle(xU(l)),{select:!0}),document.activeElement===b&&ia(l))}return()=>{l.removeEventListener(Fb,u),setTimeout(()=>{const v=new CustomEvent(zb,IP);l.addEventListener(zb,d),l.dispatchEvent(v),v.defaultPrevented||ia(b??document.body,{select:!0}),l.removeEventListener(zb,d),jP.remove(g)},0)}}},[l,u,d,g]);const y=p.useCallback(b=>{if(!n&&!s||g.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,v=document.activeElement;if(_&&v){const x=b.currentTarget,[E,A]=Dle(x);E&&A?!b.shiftKey&&v===A?(b.preventDefault(),n&&ia(E,{select:!0})):b.shiftKey&&v===E&&(b.preventDefault(),n&&ia(A,{select:!0})):v===x&&b.preventDefault()}},[n,s,g.paused]);return o.jsx(Me.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});WS.displayName=Ple;function kle(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(ia(s,{select:e}),document.activeElement!==n)return}function Dle(t){const e=xU(t),n=CP(e,t),s=CP(e.reverse(),t);return[n,s]}function xU(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CP(t,e){for(const n of t)if(!Mle(n,{upTo:e}))return n}function Mle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ole(t){return t instanceof HTMLInputElement&&"select"in t}function ia(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Ole(t)&&e&&t.select()}}var jP=Vle();function Vle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RP(t,e),t.unshift(e)},remove(e){var n;t=RP(t,e),(n=t[0])==null||n.resume()}}}function RP(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function Lle(t){return t.filter(e=>e.tagName!=="A")}var Ule=my[" useId ".trim().toString()]||(()=>{}),Fle=0;function tl(t){const[e,n]=p.useState(Ule());return Si(()=>{t||n(s=>s??String(Fle++))},[t]),t||(e?`radix-${e}`:"")}const zle=["top","right","bottom","left"],so=Math.min,vs=Math.max,ay=Math.round,Dp=Math.floor,Fr=t=>({x:t,y:t}),Ble={left:"right",right:"left",bottom:"top",top:"bottom"},$le={start:"end",end:"start"};function v_(t,e,n){return vs(t,so(e,n))}function Di(t,e){return typeof t=="function"?t(e):t}function Mi(t){return t.split("-")[0]}function pd(t){return t.split("-")[1]}function YS(t){return t==="x"?"y":"x"}function QS(t){return t==="y"?"height":"width"}const qle=new Set(["top","bottom"]);function Rr(t){return qle.has(Mi(t))?"y":"x"}function XS(t){return YS(Rr(t))}function Hle(t,e,n){n===void 0&&(n=!1);const s=pd(t),r=XS(t),i=QS(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=oy(a)),[a,oy(a)]}function Gle(t){const e=oy(t);return[x_(t),e,x_(e)]}function x_(t){return t.replace(/start|end/g,e=>$le[e])}const PP=["left","right"],kP=["right","left"],Kle=["top","bottom"],Wle=["bottom","top"];function Yle(t,e,n){switch(t){case"top":case"bottom":return n?e?kP:PP:e?PP:kP;case"left":case"right":return e?Kle:Wle;default:return[]}}function Qle(t,e,n,s){const r=pd(t);let i=Yle(Mi(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(x_)))),i}function oy(t){return t.replace(/left|right|bottom|top/g,e=>Ble[e])}function Xle(t){return{top:0,right:0,bottom:0,left:0,...t}}function bU(t){return typeof t!="number"?Xle(t):{top:t,right:t,bottom:t,left:t}}function ly(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function DP(t,e,n){let{reference:s,floating:r}=t;const i=Rr(e),a=XS(e),l=QS(a),c=Mi(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let g;switch(c){case"top":g={x:d,y:s.y-r.height};break;case"bottom":g={x:d,y:s.y+s.height};break;case"right":g={x:s.x+s.width,y:h};break;case"left":g={x:s.x-r.width,y:h};break;default:g={x:s.x,y:s.y}}switch(pd(e)){case"start":g[a]-=m*(n&&u?-1:1);break;case"end":g[a]+=m*(n&&u?-1:1);break}return g}const Jle=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=DP(u,s,c),m=s,g={},y=0;for(let b=0;b<l.length;b++){const{name:_,fn:v}=l[b],{x,y:E,data:A,reset:I}=await v({x:d,y:h,initialPlacement:s,placement:m,strategy:r,middlewareData:g,rects:u,platform:a,elements:{reference:t,floating:e}});d=x??d,h=E??h,g={...g,[_]:{...g[_],...A}},I&&y<=50&&(y++,typeof I=="object"&&(I.placement&&(m=I.placement),I.rects&&(u=I.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):I.rects),{x:d,y:h}=DP(u,m,c)),b=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:g}};async function qf(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=Di(e,t),y=bU(g),_=l[m?h==="floating"?"reference":"floating":h],v=ly(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},I=ly(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:E,strategy:c}):x);return{top:(v.top-I.top+y.top)/A.y,bottom:(I.bottom-v.bottom+y.bottom)/A.y,left:(v.left-I.left+y.left)/A.x,right:(I.right-v.right+y.right)/A.x}}const Zle=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Di(t,e)||{};if(u==null)return{};const h=bU(d),m={x:n,y:s},g=XS(r),y=QS(g),b=await a.getDimensions(u),_=g==="y",v=_?"top":"left",x=_?"bottom":"right",E=_?"clientHeight":"clientWidth",A=i.reference[y]+i.reference[g]-m[g]-i.floating[y],I=m[g]-i.reference[g],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=R?R[E]:0;(!S||!await(a.isElement==null?void 0:a.isElement(R)))&&(S=l.floating[E]||i.floating[y]);const T=A/2-I/2,C=S/2-b[y]/2-1,j=so(h[v],C),P=so(h[x],C),M=j,k=S-b[y]-P,$=S/2-b[y]/2+T,z=v_(M,$,k),V=!c.arrow&&pd(r)!=null&&$!==z&&i.reference[y]/2-($<M?j:P)-b[y]/2<0,q=V?$<M?$-M:$-k:0;return{[g]:m[g]+q,data:{[g]:z,centerOffset:$-z-q,...V&&{alignmentOffset:q}},reset:V}}}),ece=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,..._}=Di(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Mi(r),x=Rr(l),E=Mi(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),I=m||(E||!b?[oy(l)]:Gle(l)),R=y!=="none";!m&&R&&I.push(...Qle(l,b,y,A));const S=[l,...I],T=await qf(e,_),C=[];let j=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&C.push(T[v]),h){const $=Hle(r,a,A);C.push(T[$[0]],T[$[1]])}if(j=[...j,{placement:r,overflows:C}],!C.every($=>$<=0)){var P,M;const $=(((P=i.flip)==null?void 0:P.index)||0)+1,z=S[$];if(z&&(!(h==="alignment"?x!==Rr(z):!1)||j.every(F=>Rr(F.placement)===x?F.overflows[0]>0:!0)))return{data:{index:$,overflows:j},reset:{placement:z}};let V=(M=j.filter(q=>q.overflows[0]<=0).sort((q,F)=>q.overflows[1]-F.overflows[1])[0])==null?void 0:M.placement;if(!V)switch(g){case"bestFit":{var k;const q=(k=j.filter(F=>{if(R){const W=Rr(F.placement);return W===x||W==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(W=>W>0).reduce((W,ae)=>W+ae,0)]).sort((F,W)=>F[1]-W[1])[0])==null?void 0:k[0];q&&(V=q);break}case"initialPlacement":V=l;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function MP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function OP(t){return zle.some(e=>t[e]>=0)}const tce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Di(t,e);switch(s){case"referenceHidden":{const i=await qf(e,{...r,elementContext:"reference"}),a=MP(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:OP(a)}}}case"escaped":{const i=await qf(e,{...r,altBoundary:!0}),a=MP(i,n.floating);return{data:{escapedOffsets:a,escaped:OP(a)}}}default:return{}}}}},wU=new Set(["left","top"]);async function nce(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Mi(n),l=pd(n),c=Rr(n)==="y",u=wU.has(a)?-1:1,d=i&&c?-1:1,h=Di(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(g=l==="end"?y*-1:y),c?{x:g*d,y:m*u}:{x:m*u,y:g*d}}const sce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:l}=e,c=await nce(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},rce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:v,y:x}=_;return{x:v,y:x}}},...c}=Di(t,e),u={x:n,y:s},d=await qf(e,c),h=Rr(Mi(r)),m=YS(h);let g=u[m],y=u[h];if(i){const _=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=g+d[_],E=g-d[v];g=v_(x,g,E)}if(a){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=y+d[_],E=y-d[v];y=v_(x,y,E)}const b=l.fn({...e,[m]:g,[h]:y});return{...b,data:{x:b.x-n,y:b.y-s,enabled:{[m]:i,[h]:a}}}}}},ice=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Di(t,e),d={x:n,y:s},h=Rr(r),m=YS(h);let g=d[m],y=d[h];const b=Di(l,e),_=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const E=m==="y"?"height":"width",A=i.reference[m]-i.floating[E]+_.mainAxis,I=i.reference[m]+i.reference[E]-_.mainAxis;g<A?g=A:g>I&&(g=I)}if(u){var v,x;const E=m==="y"?"width":"height",A=wU.has(Mi(r)),I=i.reference[h]-i.floating[E]+(A&&((v=a.offset)==null?void 0:v[h])||0)+(A?0:_.crossAxis),R=i.reference[h]+i.reference[E]+(A?0:((x=a.offset)==null?void 0:x[h])||0)-(A?_.crossAxis:0);y<I?y=I:y>R&&(y=R)}return{[m]:g,[h]:y}}}},ace=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Di(t,e),d=await qf(e,u),h=Mi(r),m=pd(r),g=Rr(r)==="y",{width:y,height:b}=i.floating;let _,v;h==="top"||h==="bottom"?(_=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,_=m==="end"?"top":"bottom");const x=b-d.top-d.bottom,E=y-d.left-d.right,A=so(b-d[_],x),I=so(y-d[v],E),R=!e.middlewareData.shift;let S=A,T=I;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(S=x),R&&!m){const j=vs(d.left,0),P=vs(d.right,0),M=vs(d.top,0),k=vs(d.bottom,0);g?T=y-2*(j!==0||P!==0?j+P:vs(d.left,d.right)):S=b-2*(M!==0||k!==0?M+k:vs(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:S});const C=await a.getDimensions(l.floating);return y!==C.width||b!==C.height?{reset:{rects:!0}}:{}}}};function Pv(){return typeof window<"u"}function gd(t){return _U(t)?(t.nodeName||"").toLowerCase():"#document"}function js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(_U(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function _U(t){return Pv()?t instanceof Node||t instanceof js(t).Node:!1}function pr(t){return Pv()?t instanceof Element||t instanceof js(t).Element:!1}function qr(t){return Pv()?t instanceof HTMLElement||t instanceof js(t).HTMLElement:!1}function VP(t){return!Pv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof js(t).ShadowRoot}const oce=new Set(["inline","contents"]);function Vm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!oce.has(r)}const lce=new Set(["table","td","th"]);function cce(t){return lce.has(gd(t))}const uce=[":popover-open",":modal"];function kv(t){return uce.some(e=>{try{return t.matches(e)}catch{return!1}})}const dce=["transform","translate","scale","rotate","perspective"],hce=["transform","translate","scale","rotate","perspective","filter"],fce=["paint","layout","strict","content"];function JS(t){const e=ZS(),n=pr(t)?gr(t):t;return dce.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||hce.some(s=>(n.willChange||"").includes(s))||fce.some(s=>(n.contain||"").includes(s))}function mce(t){let e=ro(t);for(;qr(e)&&!Hu(e);){if(JS(e))return e;if(kv(e))return null;e=ro(e)}return null}function ZS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pce=new Set(["html","body","#document"]);function Hu(t){return pce.has(gd(t))}function gr(t){return js(t).getComputedStyle(t)}function Dv(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ro(t){if(gd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||VP(t)&&t.host||Yr(t);return VP(e)?e.host:e}function TU(t){const e=ro(t);return Hu(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&Vm(e)?e:TU(e)}function Hf(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=TU(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=js(r);if(i){const l=b_(a);return e.concat(a,a.visualViewport||[],Vm(r)?r:[],l&&n?Hf(l):[])}return e.concat(r,Hf(r,[],n))}function b_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EU(t){const e=gr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=qr(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,l=ay(n)!==i||ay(s)!==a;return l&&(n=i,s=a),{width:n,height:s,$:l}}function eN(t){return pr(t)?t:t.contextElement}function ru(t){const e=eN(t);if(!qr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=EU(e);let a=(i?ay(n.width):n.width)/s,l=(i?ay(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const gce=Fr(0);function SU(t){const e=js(t);return!ZS()||!e.visualViewport?gce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==js(t)?!1:e}function _l(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=eN(t);let a=Fr(1);e&&(s?pr(s)&&(a=ru(s)):a=ru(t));const l=yce(i,n,s)?SU(i):Fr(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(i){const m=js(i),g=s&&pr(s)?js(s):s;let y=m,b=b_(y);for(;b&&s&&g!==y;){const _=ru(b),v=b.getBoundingClientRect(),x=gr(b),E=v.left+(b.clientLeft+parseFloat(x.paddingLeft))*_.x,A=v.top+(b.clientTop+parseFloat(x.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=E,u+=A,y=js(b),b=b_(y)}}return ly({width:d,height:h,x:c,y:u})}function Mv(t,e){const n=Dv(t).scrollLeft;return e?e.left+n:_l(Yr(t)).left+n}function NU(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Mv(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function vce(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=Yr(s),l=e?kv(e.floating):!1;if(s===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fr(1);const d=Fr(0),h=qr(s);if((h||!h&&!i)&&((gd(s)!=="body"||Vm(a))&&(c=Dv(s)),qr(s))){const g=_l(s);u=ru(s),d.x=g.x+s.clientLeft,d.y=g.y+s.clientTop}const m=a&&!h&&!i?NU(a,c):Fr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function xce(t){return Array.from(t.getClientRects())}function bce(t){const e=Yr(t),n=Dv(t),s=t.ownerDocument.body,r=vs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=vs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Mv(t);const l=-n.scrollTop;return gr(s).direction==="rtl"&&(a+=vs(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:l}}const LP=25;function wce(t,e){const n=js(t),s=Yr(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const d=ZS();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const u=Mv(s);if(u<=0){const d=s.ownerDocument,h=d.body,m=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(s.clientWidth-h.clientWidth-g);y<=LP&&(i-=y)}else u<=LP&&(i+=u);return{width:i,height:a,x:l,y:c}}const _ce=new Set(["absolute","fixed"]);function Tce(t,e){const n=_l(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=qr(t)?ru(t):Fr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:l,x:c,y:u}}function UP(t,e,n){let s;if(e==="viewport")s=wce(t,n);else if(e==="document")s=bce(Yr(t));else if(pr(e))s=Tce(e,n);else{const r=SU(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return ly(s)}function AU(t,e){const n=ro(t);return n===e||!pr(n)||Hu(n)?!1:gr(n).position==="fixed"||AU(n,e)}function Ece(t,e){const n=e.get(t);if(n)return n;let s=Hf(t,[],!1).filter(l=>pr(l)&&gd(l)!=="body"),r=null;const i=gr(t).position==="fixed";let a=i?ro(t):t;for(;pr(a)&&!Hu(a);){const l=gr(a),c=JS(a);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&_ce.has(r.position)||Vm(a)&&!c&&AU(t,a))?s=s.filter(d=>d!==a):r=l,a=ro(a)}return e.set(t,s),s}function Sce(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?kv(e)?[]:Ece(e,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,d)=>{const h=UP(e,d,r);return u.top=vs(h.top,u.top),u.right=so(h.right,u.right),u.bottom=so(h.bottom,u.bottom),u.left=vs(h.left,u.left),u},UP(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Nce(t){const{width:e,height:n}=EU(t);return{width:e,height:n}}function Ace(t,e,n){const s=qr(e),r=Yr(e),i=n==="fixed",a=_l(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Fr(0);function u(){c.x=Mv(r)}if(s||!s&&!i)if((gd(e)!=="body"||Vm(r))&&(l=Dv(e)),s){const g=_l(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?NU(r,l):Fr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Bb(t){return gr(t).position==="static"}function FP(t,e){if(!qr(t)||gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yr(t)===n&&(n=n.ownerDocument.body),n}function IU(t,e){const n=js(t);if(kv(t))return n;if(!qr(t)){let r=ro(t);for(;r&&!Hu(r);){if(pr(r)&&!Bb(r))return r;r=ro(r)}return n}let s=FP(t,e);for(;s&&cce(s)&&Bb(s);)s=FP(s,e);return s&&Hu(s)&&Bb(s)&&!JS(s)?n:s||mce(t)||n}const Ice=async function(t){const e=this.getOffsetParent||IU,n=this.getDimensions,s=await n(t.floating);return{reference:Ace(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Cce(t){return gr(t).direction==="rtl"}const jce={convertOffsetParentRelativeRectToViewportRelativeRect:vce,getDocumentElement:Yr,getClippingRect:Sce,getOffsetParent:IU,getElementRects:Ice,getClientRects:xce,getDimensions:Nce,getScale:ru,isElement:pr,isRTL:Cce};function CU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Rce(t,e){let n=null,s;const r=Yr(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=u;if(l||e(),!m||!g)return;const y=Dp(h),b=Dp(r.clientWidth-(d+m)),_=Dp(r.clientHeight-(h+g)),v=Dp(d),E={rootMargin:-y+"px "+-b+"px "+-_+"px "+-v+"px",threshold:vs(0,so(1,c))||1};let A=!0;function I(R){const S=R[0].intersectionRatio;if(S!==c){if(!A)return a();S?a(!1,S):s=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!CU(u,t.getBoundingClientRect())&&a(),A=!1}try{n=new IntersectionObserver(I,{...E,root:r.ownerDocument})}catch{n=new IntersectionObserver(I,E)}n.observe(t)}return a(!0),i}function Pce(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=eN(t),d=r||i?[...u?Hf(u):[],...Hf(e)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&l?Rce(u,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(v=>{let[x]=v;x&&x.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=g)==null||E.observe(e)})),n()}),u&&!c&&g.observe(u),g.observe(e));let y,b=c?_l(t):null;c&&_();function _(){const v=_l(t);b&&!CU(b,v)&&n(),b=v,y=requestAnimationFrame(_)}return n(),()=>{var v;d.forEach(x=>{r&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),h==null||h(),(v=g)==null||v.disconnect(),g=null,c&&cancelAnimationFrame(y)}}const kce=sce,Dce=rce,Mce=ece,Oce=ace,Vce=tce,zP=Zle,Lce=ice,Uce=(t,e,n)=>{const s=new Map,r={platform:jce,...n},i={...r.platform,_c:s};return Jle(t,e,{...r,platform:i})};var Fce=typeof document<"u",zce=function(){},Sg=Fce?p.useLayoutEffect:zce;function cy(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!cy(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!cy(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function jU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BP(t,e){const n=jU(t);return Math.round(e*n)/n}function $b(t){const e=p.useRef(t);return Sg(()=>{e.current=t}),e}function Bce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(s);cy(m,s)||g(s);const[y,b]=p.useState(null),[_,v]=p.useState(null),x=p.useCallback(F=>{F!==R.current&&(R.current=F,b(F))},[]),E=p.useCallback(F=>{F!==S.current&&(S.current=F,v(F))},[]),A=i||y,I=a||_,R=p.useRef(null),S=p.useRef(null),T=p.useRef(d),C=c!=null,j=$b(c),P=$b(r),M=$b(u),k=p.useCallback(()=>{if(!R.current||!S.current)return;const F={placement:e,strategy:n,middleware:m};P.current&&(F.platform=P.current),Uce(R.current,S.current,F).then(W=>{const ae={...W,isPositioned:M.current!==!1};$.current&&!cy(T.current,ae)&&(T.current=ae,Wf.flushSync(()=>{h(ae)}))})},[m,e,n,P,M]);Sg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(F=>({...F,isPositioned:!1})))},[u]);const $=p.useRef(!1);Sg(()=>($.current=!0,()=>{$.current=!1}),[]),Sg(()=>{if(A&&(R.current=A),I&&(S.current=I),A&&I){if(j.current)return j.current(A,I,k);k()}},[A,I,k,j,C]);const z=p.useMemo(()=>({reference:R,floating:S,setReference:x,setFloating:E}),[x,E]),V=p.useMemo(()=>({reference:A,floating:I}),[A,I]),q=p.useMemo(()=>{const F={position:n,left:0,top:0};if(!V.floating)return F;const W=BP(V.floating,d.x),ae=BP(V.floating,d.y);return l?{...F,transform:"translate("+W+"px, "+ae+"px)",...jU(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:ae}},[n,l,V.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:k,refs:z,elements:V,floatingStyles:q}),[d,k,z,V,q])}const $ce=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?zP({element:s.current,padding:r}).fn(n):{}:s?zP({element:s,padding:r}).fn(n):{}}}},qce=(t,e)=>({...kce(t),options:[t,e]}),Hce=(t,e)=>({...Dce(t),options:[t,e]}),Gce=(t,e)=>({...Lce(t),options:[t,e]}),Kce=(t,e)=>({...Mce(t),options:[t,e]}),Wce=(t,e)=>({...Oce(t),options:[t,e]}),Yce=(t,e)=>({...Vce(t),options:[t,e]}),Qce=(t,e)=>({...$ce(t),options:[t,e]});var Xce="Arrow",RU=p.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return o.jsx(Me.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});RU.displayName=Xce;var Jce=RU;function tN(t){const[e,n]=p.useState(void 0);return Si(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var nN="Popper",[PU,kU]=Kr(nN),[Zce,DU]=PU(nN),MU=t=>{const{__scopePopper:e,children:n}=t,[s,r]=p.useState(null);return o.jsx(Zce,{scope:e,anchor:s,onAnchorChange:r,children:n})};MU.displayName=nN;var OU="PopperAnchor",VU=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=DU(OU,n),a=p.useRef(null),l=ft(e,a),c=p.useRef(null);return p.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:o.jsx(Me.div,{...r,ref:l})});VU.displayName=OU;var sN="PopperContent",[eue,tue]=PU(sN),LU=p.forwardRef((t,e)=>{var X,G,Z,fe,ye,Oe;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...b}=t,_=DU(sN,n),[v,x]=p.useState(null),E=ft(e,te=>x(te)),[A,I]=p.useState(null),R=tN(A),S=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,C=s+(i!=="center"?"-"+i:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],M=P.length>0,k={padding:j,boundary:P.filter(sue),altBoundary:M},{refs:$,floatingStyles:z,placement:V,isPositioned:q,middlewareData:F}=Bce({strategy:"fixed",placement:C,whileElementsMounted:(...te)=>Pce(...te,{animationFrame:g==="always"}),elements:{reference:_.anchor},middleware:[qce({mainAxis:r+T,alignmentAxis:a}),c&&Hce({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Gce():void 0,...k}),c&&Kce({...k}),Wce({...k,apply:({elements:te,rects:Te,availableWidth:We,availableHeight:Gt})=>{const{width:ot,height:hn}=Te.reference,Ft=te.floating.style;Ft.setProperty("--radix-popper-available-width",`${We}px`),Ft.setProperty("--radix-popper-available-height",`${Gt}px`),Ft.setProperty("--radix-popper-anchor-width",`${ot}px`),Ft.setProperty("--radix-popper-anchor-height",`${hn}px`)}}),A&&Qce({element:A,padding:l}),rue({arrowWidth:S,arrowHeight:T}),m&&Yce({strategy:"referenceHidden",...k})]}),[W,ae]=zU(V),ge=ks(y);Si(()=>{q&&(ge==null||ge())},[q,ge]);const ze=(X=F.arrow)==null?void 0:X.x,Ze=(G=F.arrow)==null?void 0:G.y,O=((Z=F.arrow)==null?void 0:Z.centerOffset)!==0,[Q,_e]=p.useState();return Si(()=>{v&&_e(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:q?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Q,"--radix-popper-transform-origin":[(fe=F.transformOrigin)==null?void 0:fe.x,(ye=F.transformOrigin)==null?void 0:ye.y].join(" "),...((Oe=F.hide)==null?void 0:Oe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(eue,{scope:n,placedSide:W,onArrowChange:I,arrowX:ze,arrowY:Ze,shouldHideArrow:O,children:o.jsx(Me.div,{"data-side":W,"data-align":ae,...b,ref:E,style:{...b.style,animation:q?void 0:"none"}})})})});LU.displayName=sN;var UU="PopperArrow",nue={top:"bottom",right:"left",bottom:"top",left:"right"},FU=p.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=tue(UU,s),a=nue[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(Jce,{...r,ref:n,style:{...r.style,display:"block"}})})});FU.displayName=UU;function sue(t){return t!==null}var rue=t=>({name:"transformOrigin",options:t,fn(e){var _,v,x;const{placement:n,rects:s,middlewareData:r}=e,a=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=zU(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,g=(((x=r.arrow)==null?void 0:x.y)??0)+c/2;let y="",b="";return u==="bottom"?(y=a?h:`${m}px`,b=`${-c}px`):u==="top"?(y=a?h:`${m}px`,b=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=a?h:`${g}px`):u==="left"&&(y=`${s.floating.width+c}px`,b=a?h:`${g}px`),{data:{x:y,y:b}}}});function zU(t){const[e,n="center"]=t.split("-");return[e,n]}var iue=MU,aue=VU,oue=LU,lue=FU,qb="rovingFocusGroup.onEntryFocus",cue={bubbles:!1,cancelable:!0},Lm="RovingFocusGroup",[w_,BU,uue]=Oy(Lm),[due,Ov]=Kr(Lm,[uue]),[hue,fue]=due(Lm),$U=p.forwardRef((t,e)=>o.jsx(w_.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(w_.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(mue,{...t,ref:e})})}));$U.displayName=Lm;var mue=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=p.useRef(null),g=ft(e,m),y=Rv(i),[b,_]=kl({prop:a,defaultProp:l??null,onChange:c,caller:Lm}),[v,x]=p.useState(!1),E=ks(u),A=BU(n),I=p.useRef(!1),[R,S]=p.useState(0);return p.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(qb,E),()=>T.removeEventListener(qb,E)},[E]),o.jsx(hue,{scope:n,orientation:s,dir:y,loop:r,currentTabStopId:b,onItemFocus:p.useCallback(T=>_(T),[_]),onItemShiftTab:p.useCallback(()=>x(!0),[]),onFocusableItemAdd:p.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:p.useCallback(()=>S(T=>T-1),[]),children:o.jsx(Me.div,{tabIndex:v||R===0?-1:0,"data-orientation":s,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:de(t.onMouseDown,()=>{I.current=!0}),onFocus:de(t.onFocus,T=>{const C=!I.current;if(T.target===T.currentTarget&&C&&!v){const j=new CustomEvent(qb,cue);if(T.currentTarget.dispatchEvent(j),!j.defaultPrevented){const P=A().filter(V=>V.focusable),M=P.find(V=>V.active),k=P.find(V=>V.id===b),z=[M,k,...P].filter(Boolean).map(V=>V.ref.current);GU(z,d)}}I.current=!1}),onBlur:de(t.onBlur,()=>x(!1))})})}),qU="RovingFocusGroupItem",HU=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:a,...l}=t,c=tl(),u=i||c,d=fue(qU,n),h=d.currentTabStopId===u,m=BU(n),{onFocusableItemAdd:g,onFocusableItemRemove:y,currentTabStopId:b}=d;return p.useEffect(()=>{if(s)return g(),()=>y()},[s,g,y]),o.jsx(w_.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:o.jsx(Me.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:de(t.onMouseDown,_=>{s?d.onItemFocus(u):_.preventDefault()}),onFocus:de(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=yue(_,d.orientation,d.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=m().filter(A=>A.focusable).map(A=>A.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const A=E.indexOf(_.currentTarget);E=d.loop?vue(E,A+1):E.slice(A+1)}setTimeout(()=>GU(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:b!=null}):a})})});HU.displayName=qU;var pue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function gue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yue(t,e,n){const s=gue(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return pue[s]}function GU(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function vue(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var KU=$U,WU=HU;function xue(t){const e=bue(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(_ue);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function bue(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=Eue(r),l=Tue(i,r.props);return r.type!==p.Fragment&&(l.ref=s?ho(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wue=Symbol("radix.slottable");function _ue(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wue}function Tue(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Eue(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Sue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,Mp=new WeakMap,Op={},Hb=0,YU=function(t){return t&&(t.host||YU(t.parentNode))},Nue=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=YU(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Aue=function(t,e,n,s){var r=Nue(e,Array.isArray(t)?t:[t]);Op[n]||(Op[n]=new WeakMap);var i=Op[n],a=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var g=m.getAttribute(s),y=g!==null&&g!=="false",b=(sc.get(m)||0)+1,_=(i.get(m)||0)+1;sc.set(m,b),i.set(m,_),a.push(m),b===1&&y&&Mp.set(m,!0),_===1&&m.setAttribute(n,"true"),y||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(e),l.clear(),Hb++,function(){a.forEach(function(h){var m=sc.get(h)-1,g=i.get(h)-1;sc.set(h,m),i.set(h,g),m||(Mp.has(h)||h.removeAttribute(s),Mp.delete(h)),g||h.removeAttribute(n)}),Hb--,Hb||(sc=new WeakMap,sc=new WeakMap,Mp=new WeakMap,Op={})}},QU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=e||Sue(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),Aue(s,r,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function XU(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Iue(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var Ng="right-scroll-bar-position",Ag="width-before-scroll-bar",Cue="with-scroll-bars-hidden",jue="--removed-body-scroll-bar-size";function Gb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Rue(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var Pue=typeof window<"u"?p.useLayoutEffect:p.useEffect,$P=new WeakMap;function kue(t,e){var n=Rue(e||null,function(s){return t.forEach(function(r){return Gb(r,s)})});return Pue(function(){var s=$P.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(l){i.has(l)||Gb(l,null)}),i.forEach(function(l){r.has(l)||Gb(l,a)})}$P.set(n,t)},[t]),n}function Due(t){return t}function Mue(t,e){e===void 0&&(e=Due);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function Oue(t){t===void 0&&(t={});var e=Mue(null);return e.options=Sr({async:!0,ssr:!1},t),e}var JU=function(t){var e=t.sideCar,n=XU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return p.createElement(s,Sr({},n))};JU.isSideCarExport=!0;function Vue(t,e){return t.useMedium(e),JU}var ZU=Oue(),Kb=function(){},Vv=p.forwardRef(function(t,e){var n=p.useRef(null),s=p.useState({onScrollCapture:Kb,onWheelCapture:Kb,onTouchMoveCapture:Kb}),r=s[0],i=s[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,y=t.noIsolation,b=t.inert,_=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,E=t.gapMode,A=XU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=m,R=kue([n,e]),S=Sr(Sr({},A),r);return p.createElement(p.Fragment,null,d&&p.createElement(I,{sideCar:ZU,removeScrollBar:u,shards:h,noRelative:g,noIsolation:y,inert:b,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),a?p.cloneElement(p.Children.only(l),Sr(Sr({},S),{ref:R})):p.createElement(x,Sr({},S,{className:c,ref:R}),l))});Vv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Vv.classNames={fullWidth:Ag,zeroRight:Ng};var qP,Lue=function(){if(qP)return qP;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Uue(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Lue();return e&&t.setAttribute("nonce",e),t}function Fue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function zue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Uue())&&(Fue(e,n),zue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},$ue=function(){var t=Bue();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},e9=function(){var t=$ue(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},que={left:0,top:0,right:0,gap:0},Wb=function(t){return parseInt(t||"",10)||0},Hue=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Wb(n),Wb(s),Wb(r)]},Gue=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return que;var e=Hue(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},Kue=e9(),iu="data-scroll-locked",Wue=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Cue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ng,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ag,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(jue,": ").concat(l,`px;
  }
`)},HP=function(){var t=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(t)?t:0},Yue=function(){p.useEffect(function(){return document.body.setAttribute(iu,(HP()+1).toString()),function(){var t=HP()-1;t<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,t.toString())}},[])},Que=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;Yue();var i=p.useMemo(function(){return Gue(r)},[r]);return p.createElement(Kue,{styles:Wue(i,!e,r,n?"":"!important")})},__=!1;if(typeof window<"u")try{var Vp=Object.defineProperty({},"passive",{get:function(){return __=!0,!0}});window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{__=!1}var rc=__?{passive:!1}:!1,Xue=function(t){return t.tagName==="TEXTAREA"},t9=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Xue(t)&&n[e]==="visible")},Jue=function(t){return t9(t,"overflowY")},Zue=function(t){return t9(t,"overflowX")},GP=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=n9(t,s);if(r){var i=s9(t,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ede=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},tde=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},n9=function(t,e){return t==="v"?Jue(e):Zue(e)},s9=function(t,e){return t==="v"?ede(e):tde(e)},nde=function(t,e){return t==="h"&&e==="rtl"?-1:1},sde=function(t,e,n,s,r){var i=nde(t,window.getComputedStyle(e).direction),a=i*s,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var g=s9(t,l),y=g[0],b=g[1],_=g[2],v=b-_-i*y;(y||v)&&n9(t,l)&&(h+=v,m+=y);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(r&&Math.abs(h)<1||!r&&a>h)||!d&&(r&&Math.abs(m)<1||!r&&-a>m))&&(u=!0),u},Lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},KP=function(t){return[t.deltaX,t.deltaY]},WP=function(t){return t&&"current"in t?t.current:t},rde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ide=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ade=0,ic=[];function ode(t){var e=p.useRef([]),n=p.useRef([0,0]),s=p.useRef(),r=p.useState(ade++)[0],i=p.useState(e9)[0],a=p.useRef(t);p.useEffect(function(){a.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var b=Iue([t.lockRef.current],(t.shards||[]).map(WP),!0).filter(Boolean);return b.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),b.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=p.useCallback(function(b,_){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!a.current.allowPinchZoom;var v=Lp(b),x=n.current,E="deltaX"in b?b.deltaX:x[0]-v[0],A="deltaY"in b?b.deltaY:x[1]-v[1],I,R=b.target,S=Math.abs(E)>Math.abs(A)?"h":"v";if("touches"in b&&S==="h"&&R.type==="range")return!1;var T=GP(S,R);if(!T)return!0;if(T?I=S:(I=S==="v"?"h":"v",T=GP(S,R)),!T)return!1;if(!s.current&&"changedTouches"in b&&(E||A)&&(s.current=I),!I)return!0;var C=s.current||I;return sde(C,_,b,C==="h"?E:A,!0)},[]),c=p.useCallback(function(b){var _=b;if(!(!ic.length||ic[ic.length-1]!==i)){var v="deltaY"in _?KP(_):Lp(_),x=e.current.filter(function(I){return I.name===_.type&&(I.target===_.target||_.target===I.shadowParent)&&rde(I.delta,v)})[0];if(x&&x.should){_.cancelable&&_.preventDefault();return}if(!x){var E=(a.current.shards||[]).map(WP).filter(Boolean).filter(function(I){return I.contains(_.target)}),A=E.length>0?l(_,E[0]):!a.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=p.useCallback(function(b,_,v,x){var E={name:b,delta:_,target:v,should:x,shadowParent:lde(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(A){return A!==E})},1)},[]),d=p.useCallback(function(b){n.current=Lp(b),s.current=void 0},[]),h=p.useCallback(function(b){u(b.type,KP(b),b.target,l(b,t.lockRef.current))},[]),m=p.useCallback(function(b){u(b.type,Lp(b),b.target,l(b,t.lockRef.current))},[]);p.useEffect(function(){return ic.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,rc),document.addEventListener("touchmove",c,rc),document.addEventListener("touchstart",d,rc),function(){ic=ic.filter(function(b){return b!==i}),document.removeEventListener("wheel",c,rc),document.removeEventListener("touchmove",c,rc),document.removeEventListener("touchstart",d,rc)}},[]);var g=t.removeScrollBar,y=t.inert;return p.createElement(p.Fragment,null,y?p.createElement(i,{styles:ide(r)}):null,g?p.createElement(Que,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function lde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const cde=Vue(ZU,ode);var r9=p.forwardRef(function(t,e){return p.createElement(Vv,Sr({},t,{ref:e,sideCar:cde}))});r9.classNames=Vv.classNames;const i9=r9;var T_=["Enter"," "],ude=["ArrowDown","PageUp","Home"],a9=["ArrowUp","PageDown","End"],dde=[...ude,...a9],hde={ltr:[...T_,"ArrowRight"],rtl:[...T_,"ArrowLeft"]},fde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Um="Menu",[Gf,mde,pde]=Oy(Um),[Fl,o9]=Kr(Um,[pde,kU,Ov]),Lv=kU(),l9=Ov(),[gde,zl]=Fl(Um),[yde,Fm]=Fl(Um),c9=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:a=!0}=t,l=Lv(e),[c,u]=p.useState(null),d=p.useRef(!1),h=ks(i),m=Rv(r);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(iue,{...l,children:o.jsx(gde,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(yde,{scope:e,onClose:p.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:s})})})};c9.displayName=Um;var vde="MenuAnchor",rN=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Lv(n);return o.jsx(aue,{...r,...s,ref:e})});rN.displayName=vde;var iN="MenuPortal",[xde,u9]=Fl(iN,{forceMount:void 0}),d9=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=zl(iN,e);return o.jsx(xde,{scope:e,forceMount:n,children:o.jsx(vr,{present:n||i.open,children:o.jsx(Ly,{asChild:!0,container:r,children:s})})})};d9.displayName=iN;var er="MenuContent",[bde,aN]=Fl(er),h9=p.forwardRef((t,e)=>{const n=u9(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=zl(er,t.__scopeMenu),a=Fm(er,t.__scopeMenu);return o.jsx(Gf.Provider,{scope:t.__scopeMenu,children:o.jsx(vr,{present:s||i.open,children:o.jsx(Gf.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(wde,{...r,ref:e}):o.jsx(_de,{...r,ref:e})})})})}),wde=p.forwardRef((t,e)=>{const n=zl(er,t.__scopeMenu),s=p.useRef(null),r=ft(e,s);return p.useEffect(()=>{const i=s.current;if(i)return QU(i)},[]),o.jsx(oN,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),_de=p.forwardRef((t,e)=>{const n=zl(er,t.__scopeMenu);return o.jsx(oN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Tde=xue("MenuContent.ScrollLock"),oN=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:y,...b}=t,_=zl(er,n),v=Fm(er,n),x=Lv(n),E=l9(n),A=mde(n),[I,R]=p.useState(null),S=p.useRef(null),T=ft(e,S,_.onContentChange),C=p.useRef(0),j=p.useRef(""),P=p.useRef(0),M=p.useRef(null),k=p.useRef("right"),$=p.useRef(0),z=y?i9:p.Fragment,V=y?{as:Tde,allowPinchZoom:!0}:void 0,q=W=>{var X,G;const ae=j.current+W,ge=A().filter(Z=>!Z.disabled),ze=document.activeElement,Ze=(X=ge.find(Z=>Z.ref.current===ze))==null?void 0:X.textValue,O=ge.map(Z=>Z.textValue),Q=Mde(O,ae,Ze),_e=(G=ge.find(Z=>Z.textValue===Q))==null?void 0:G.ref.current;(function Z(fe){j.current=fe,window.clearTimeout(C.current),fe!==""&&(C.current=window.setTimeout(()=>Z(""),1e3))})(ae),_e&&setTimeout(()=>_e.focus())};p.useEffect(()=>()=>window.clearTimeout(C.current),[]),vU();const F=p.useCallback(W=>{var ge,ze;return k.current===((ge=M.current)==null?void 0:ge.side)&&Vde(W,(ze=M.current)==null?void 0:ze.area)},[]);return o.jsx(bde,{scope:n,searchRef:j,onItemEnter:p.useCallback(W=>{F(W)&&W.preventDefault()},[F]),onItemLeave:p.useCallback(W=>{var ae;F(W)||((ae=S.current)==null||ae.focus(),R(null))},[F]),onTriggerLeave:p.useCallback(W=>{F(W)&&W.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:p.useCallback(W=>{M.current=W},[]),children:o.jsx(z,{...V,children:o.jsx(WS,{asChild:!0,trapped:r,onMountAutoFocus:de(i,W=>{var ae;W.preventDefault(),(ae=S.current)==null||ae.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Vy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:o.jsx(KU,{asChild:!0,...E,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:I,onCurrentTabStopIdChange:R,onEntryFocus:de(c,W=>{v.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(oue,{role:"menu","aria-orientation":"vertical","data-state":I9(_.open),"data-radix-menu-content":"",dir:v.dir,...x,...b,ref:T,style:{outline:"none",...b.style},onKeyDown:de(b.onKeyDown,W=>{const ge=W.target.closest("[data-radix-menu-content]")===W.currentTarget,ze=W.ctrlKey||W.altKey||W.metaKey,Ze=W.key.length===1;ge&&(W.key==="Tab"&&W.preventDefault(),!ze&&Ze&&q(W.key));const O=S.current;if(W.target!==O||!dde.includes(W.key))return;W.preventDefault();const _e=A().filter(X=>!X.disabled).map(X=>X.ref.current);a9.includes(W.key)&&_e.reverse(),kde(_e)}),onBlur:de(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(C.current),j.current="")}),onPointerMove:de(t.onPointerMove,Kf(W=>{const ae=W.target,ge=$.current!==W.clientX;if(W.currentTarget.contains(ae)&&ge){const ze=W.clientX>$.current?"right":"left";k.current=ze,$.current=W.clientX}}))})})})})})})});h9.displayName=er;var Ede="MenuGroup",lN=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{role:"group",...s,ref:e})});lN.displayName=Ede;var Sde="MenuLabel",f9=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{...s,ref:e})});f9.displayName=Sde;var uy="MenuItem",YP="menu.itemSelect",Uv=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=p.useRef(null),a=Fm(uy,t.__scopeMenu),l=aN(uy,t.__scopeMenu),c=ft(e,i),u=p.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(YP,{bubbles:!0,cancelable:!0});h.addEventListener(YP,g=>s==null?void 0:s(g),{once:!0}),RT(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(m9,{...r,ref:c,disabled:n,onClick:de(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:de(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:de(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||T_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Uv.displayName=uy;var m9=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,a=aN(uy,n),l=l9(n),c=p.useRef(null),u=ft(e,c),[d,h]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const y=c.current;y&&g((y.textContent??"").trim())},[i.children]),o.jsx(Gf.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:o.jsx(WU,{asChild:!0,...l,focusable:!s,children:o.jsx(Me.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:de(t.onPointerMove,Kf(y=>{s?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(t.onPointerLeave,Kf(y=>a.onItemLeave(y))),onFocus:de(t.onFocus,()=>h(!0)),onBlur:de(t.onBlur,()=>h(!1))})})})}),Nde="MenuCheckboxItem",p9=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return o.jsx(b9,{scope:t.__scopeMenu,checked:n,children:o.jsx(Uv,{role:"menuitemcheckbox","aria-checked":dy(n)?"mixed":n,...r,ref:e,"data-state":uN(n),onSelect:de(r.onSelect,()=>s==null?void 0:s(dy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});p9.displayName=Nde;var g9="MenuRadioGroup",[Ade,Ide]=Fl(g9,{value:void 0,onValueChange:()=>{}}),y9=p.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=ks(s);return o.jsx(Ade,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(lN,{...r,ref:e})})});y9.displayName=g9;var v9="MenuRadioItem",x9=p.forwardRef((t,e)=>{const{value:n,...s}=t,r=Ide(v9,t.__scopeMenu),i=n===r.value;return o.jsx(b9,{scope:t.__scopeMenu,checked:i,children:o.jsx(Uv,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":uN(i),onSelect:de(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});x9.displayName=v9;var cN="MenuItemIndicator",[b9,Cde]=Fl(cN,{checked:!1}),w9=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=Cde(cN,n);return o.jsx(vr,{present:s||dy(i.checked)||i.checked===!0,children:o.jsx(Me.span,{...r,ref:e,"data-state":uN(i.checked)})})});w9.displayName=cN;var jde="MenuSeparator",_9=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Me.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});_9.displayName=jde;var Rde="MenuArrow",T9=p.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Lv(n);return o.jsx(lue,{...r,...s,ref:e})});T9.displayName=Rde;var Pde="MenuSub",[Hme,E9]=Fl(Pde),ph="MenuSubTrigger",S9=p.forwardRef((t,e)=>{const n=zl(ph,t.__scopeMenu),s=Fm(ph,t.__scopeMenu),r=E9(ph,t.__scopeMenu),i=aN(ph,t.__scopeMenu),a=p.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(rN,{asChild:!0,...u,children:o.jsx(m9,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":I9(n.open),...t,ref:ho(e,r.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:de(t.onPointerMove,Kf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:de(t.onPointerLeave,Kf(h=>{var g,y;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const b=(y=n.content)==null?void 0:y.dataset.side,_=b==="right",v=_?-5:5,x=m[_?"left":"right"],E=m[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x,y:m.bottom}],side:b}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:de(t.onKeyDown,h=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&h.key===" "||hde[s.dir].includes(h.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),h.preventDefault())})})})});S9.displayName=ph;var N9="MenuSubContent",A9=p.forwardRef((t,e)=>{const n=u9(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=zl(er,t.__scopeMenu),a=Fm(er,t.__scopeMenu),l=E9(N9,t.__scopeMenu),c=p.useRef(null),u=ft(e,c);return o.jsx(Gf.Provider,{scope:t.__scopeMenu,children:o.jsx(vr,{present:s||i.open,children:o.jsx(Gf.Slot,{scope:t.__scopeMenu,children:o.jsx(oN,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:de(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:de(t.onKeyDown,d=>{var g;const h=d.currentTarget.contains(d.target),m=fde[a.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(g=l.trigger)==null||g.focus(),d.preventDefault())})})})})})});A9.displayName=N9;function I9(t){return t?"open":"closed"}function dy(t){return t==="indeterminate"}function uN(t){return dy(t)?"indeterminate":t?"checked":"unchecked"}function kde(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Dde(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function Mde(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Dde(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Ode(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&n<(h-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function Vde(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Ode(n,e)}function Kf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Lde=c9,Ude=rN,Fde=d9,zde=h9,Bde=lN,$de=f9,qde=Uv,Hde=p9,Gde=y9,Kde=x9,Wde=w9,Yde=_9,Qde=T9,Xde=S9,Jde=A9,Fv="DropdownMenu",[Zde,Gme]=Kr(Fv,[o9]),Jn=o9(),[ehe,C9]=Zde(Fv),j9=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=Jn(e),u=p.useRef(null),[d,h]=kl({prop:r,defaultProp:i??!1,onChange:a,caller:Fv});return o.jsx(ehe,{scope:e,triggerId:tl(),triggerRef:u,contentId:tl(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(Lde,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:n})})};j9.displayName=Fv;var R9="DropdownMenuTrigger",P9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=C9(R9,n),a=Jn(n);return o.jsx(Ude,{asChild:!0,...a,children:o.jsx(Me.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:ho(e,i.triggerRef),onPointerDown:de(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:de(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});P9.displayName=R9;var the="DropdownMenuPortal",k9=t=>{const{__scopeDropdownMenu:e,...n}=t,s=Jn(e);return o.jsx(Fde,{...s,...n})};k9.displayName=the;var D9="DropdownMenuContent",M9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=C9(D9,n),i=Jn(n),a=p.useRef(!1);return o.jsx(zde,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:de(t.onCloseAutoFocus,l=>{var c;a.current||(c=r.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:de(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M9.displayName=D9;var nhe="DropdownMenuGroup",she=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Bde,{...r,...s,ref:e})});she.displayName=nhe;var rhe="DropdownMenuLabel",O9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx($de,{...r,...s,ref:e})});O9.displayName=rhe;var ihe="DropdownMenuItem",V9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(qde,{...r,...s,ref:e})});V9.displayName=ihe;var ahe="DropdownMenuCheckboxItem",L9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Hde,{...r,...s,ref:e})});L9.displayName=ahe;var ohe="DropdownMenuRadioGroup",lhe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Gde,{...r,...s,ref:e})});lhe.displayName=ohe;var che="DropdownMenuRadioItem",U9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Kde,{...r,...s,ref:e})});U9.displayName=che;var uhe="DropdownMenuItemIndicator",F9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Wde,{...r,...s,ref:e})});F9.displayName=uhe;var dhe="DropdownMenuSeparator",z9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Yde,{...r,...s,ref:e})});z9.displayName=dhe;var hhe="DropdownMenuArrow",fhe=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Qde,{...r,...s,ref:e})});fhe.displayName=hhe;var mhe="DropdownMenuSubTrigger",B9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Xde,{...r,...s,ref:e})});B9.displayName=mhe;var phe="DropdownMenuSubContent",$9=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=Jn(n);return o.jsx(Jde,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});$9.displayName=phe;var ghe=j9,yhe=P9,vhe=k9,q9=M9,H9=O9,G9=V9,K9=L9,W9=U9,Y9=F9,Q9=z9,X9=B9,J9=$9;const nl=ghe,sl=yhe,xhe=p.forwardRef(({className:t,inset:e,children:n,...s},r)=>o.jsxs(X9,{ref:r,className:me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,o.jsx(vG,{className:"ml-auto h-4 w-4"})]}));xhe.displayName=X9.displayName;const bhe=p.forwardRef(({className:t,...e},n)=>o.jsx(J9,{ref:n,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));bhe.displayName=J9.displayName;const za=p.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsx(vhe,{children:o.jsx(q9,{ref:s,sideOffset:e,className:me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));za.displayName=q9.displayName;const Ot=p.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(G9,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ot.displayName=G9.displayName;const whe=p.forwardRef(({className:t,children:e,checked:n,...s},r)=>o.jsxs(K9,{ref:r,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Y9,{children:o.jsx(sd,{className:"h-4 w-4"})})}),e]}));whe.displayName=K9.displayName;const _he=p.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(W9,{ref:s,className:me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(Y9,{children:o.jsx(bG,{className:"h-2 w-2 fill-current"})})}),e]}));_he.displayName=W9.displayName;const Yh=p.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(H9,{ref:s,className:me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Yh.displayName=H9.displayName;const Mc=p.forwardRef(({className:t,...e},n)=>o.jsx(Q9,{ref:n,className:me("-mx-1 my-1 h-px bg-muted",t),...e}));Mc.displayName=Q9.displayName;const The=cm("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-teal-500 text-white shadow hover:bg-teal-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function xn({className:t,variant:e,...n}){return o.jsx("div",{className:me(The({variant:e}),t),...n})}const Ehe=()=>{const[t,e]=p.useState(!0),[n,s]=p.useState(!0),r=nn();p.useEffect(()=>{const d=zi(jt,h=>{h?h.email.toLowerCase()!=="alkaptin7878@mail.ru"?r("/"):s(!1):r("/admin/login")});return()=>d()},[r]);const[i,a]=p.useState([{id:1,text:"New store 'TechHub' awaiting approval",time:"5m ago",unread:!0},{id:2,text:"High server load detected",time:"1h ago",unread:!0},{id:3,text:"Daily backup completed",time:"4h ago",unread:!1}]),l=[{icon:iO,label:"Dashboard",path:"/admin"},{icon:qT,label:"Users",path:"/admin/users"},{icon:Kc,label:"Stores",path:"/admin/stores"},{icon:zT,label:"Templates",path:"/admin/templates"},{icon:vu,label:"Pricing Plans",path:"/admin/pricing"},{icon:Fy,label:"Settings",path:"/admin/settings"},{icon:r1,label:"Logs",path:"/admin/logs"}],c=async()=>{await tE(jt),r("/admin/login")},u=i.filter(d=>d.unread).length;return n?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans",children:[o.jsxs(oe.aside,{initial:!1,animate:{width:t?280:0,opacity:t?1:0},className:"bg-slate-900 text-white fixed md:static inset-y-0 left-0 z-40 overflow-hidden flex flex-col transition-all duration-300 shadow-xl",children:[o.jsx("div",{className:"p-6 flex items-center justify-between min-w-[280px]",children:o.jsx(md,{showText:!0})}),o.jsx("nav",{className:"flex-1 px-4 py-4 min-w-[280px]",children:o.jsx("div",{className:"space-y-1",children:l.map(d=>{const h=d.icon;return o.jsxs(S4,{to:d.path,end:d.path==="/admin",className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?"bg-teal-500/10 text-teal-400 border border-teal-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[o.jsx(h,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:d.label})]},d.path)})})}),o.jsx("div",{className:"p-4 border-t border-slate-800 min-w-[280px]",children:o.jsxs(H,{onClick:c,variant:"ghost",className:"w-full justify-start text-slate-400 hover:text-red-400 hover:bg-red-500/10 gap-3",children:[o.jsx(LT,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-30",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-500 hover:bg-slate-100",children:t?o.jsx(Ni,{className:"w-5 h-5"}):o.jsx(UT,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden md:flex items-center relative",children:[o.jsx(Qo,{className:"w-4 h-4 absolute left-3 text-slate-400"}),o.jsx(ce,{placeholder:"Global search...",className:"pl-9 w-64 bg-slate-50 border-slate-200 focus:bg-white transition-all"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsxs(H,{variant:"ghost",size:"icon",className:"relative text-slate-500 hover:bg-slate-100",children:[o.jsx(fG,{className:"w-5 h-5"}),u>0&&o.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]})}),o.jsxs(za,{align:"end",className:"w-80",children:[o.jsx(Yh,{children:"Notifications"}),o.jsx(Mc,{}),o.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:i.map(d=>o.jsxs(Ot,{className:"flex flex-col items-start p-3 cursor-pointer",children:[o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsx("span",{className:`text-sm ${d.unread?"font-semibold text-slate-900":"text-slate-600"}`,children:d.text}),d.unread&&o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]}),o.jsx("span",{className:"text-xs text-slate-400 mt-1",children:d.time})]},d.id))})]})]}),o.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-2"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Admin User"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Super Admin"})]}),o.jsx("div",{className:"w-9 h-9 bg-teal-100 rounded-full flex items-center justify-center border-2 border-teal-50 text-teal-700 font-bold text-sm shadow-sm",children:"AD"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 p-6 md:p-8",children:o.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:o.jsx(CT,{})})})]})]})},Ye=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ye.displayName="Card";const wt=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex flex-col space-y-1.5 p-6",t),...e}));wt.displayName="CardHeader";const _t=p.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:me("font-semibold leading-none tracking-tight",t),...e}));_t.displayName="CardTitle";const ln=p.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:me("text-sm text-muted-foreground",t),...e}));ln.displayName="CardDescription";const Qe=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("p-6 pt-0",t),...e}));Qe.displayName="CardContent";const dN=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:me("flex items-center p-6 pt-0",t),...e}));dN.displayName="CardFooter";const QP=({data:t,color:e})=>{const n=Math.max(...t),s=t.map((r,i)=>{const a=i/(t.length-1)*100,l=100-r/n*100;return`${a},${l}`}).join(" ");return o.jsx("div",{className:"relative h-full w-full overflow-hidden",children:o.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"h-full w-full",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${e}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.2"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx(oe.path,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},d:`M0,100 ${s.split(" ").map(r=>"L"+r).join(" ")} L100,100 Z`,fill:`url(#gradient-${e})`}),o.jsx(oe.polyline,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},points:s,fill:"none",stroke:e,strokeWidth:"2",vectorEffect:"non-scaling-stroke"})]})})},She=()=>{const t=[30,45,35,50,40,60,55,70,65,80,75,90],e=[{title:"Total Sales",value:"$124,592.00",change:"+12.5%",trend:"up",icon:sO,color:"text-emerald-600",bg:"bg-emerald-100",chartColor:"#10b981"},{title:"Active Stores",value:"1,204",change:"+56 this week",trend:"up",icon:zy,color:"text-blue-600",bg:"bg-blue-100",chartColor:"#2563eb"},{title:"Active Users",value:"3,450",change:"-1.2%",trend:"down",icon:qT,color:"text-purple-600",bg:"bg-purple-100",chartColor:"#9333ea"},{title:"Server Load",value:"42%",change:"Optimal",trend:"stable",icon:uG,color:"text-orange-600",bg:"bg-orange-100",chartColor:"#f97316"}];return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard Overview"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Real-time platform performance and metrics."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{variant:"outline",children:"Download Report"}),o.jsx(H,{className:"bg-teal-600 hover:bg-teal-700",children:"View Live Analytics"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,s)=>{const r=n.icon;return o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:s*.1},children:o.jsxs(Ye,{className:"hover:shadow-lg transition-all duration-300 border-slate-200",children:[o.jsxs(wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(_t,{className:"text-sm font-medium text-slate-600",children:n.title}),o.jsx("div",{className:`p-2 rounded-lg ${n.bg}`,children:o.jsx(r,{className:`w-4 h-4 ${n.color}`})})]}),o.jsxs(Qe,{children:[o.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.value}),o.jsxs("div",{className:`flex items-center text-xs font-medium ${n.trend==="up"?"text-emerald-600":n.trend==="down"?"text-red-600":"text-slate-500"}`,children:[n.trend==="up"?o.jsx(nO,{className:"w-3 h-3 mr-1"}):n.trend==="down"?o.jsx(dG,{className:"w-3 h-3 mr-1"}):null,n.change]})]}),o.jsx("div",{className:"h-10 w-full",children:o.jsx(QP,{data:[40,30,45,50,60,45,65],color:n.chartColor})})]})]})},s)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(Ye,{className:"h-full border-slate-200",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(_t,{children:"Revenue Analytics"}),o.jsx(ln,{children:"Monthly revenue growth compared to previous year"})]}),o.jsxs("select",{className:"text-sm border rounded-md px-2 py-1 bg-slate-50 text-slate-600 outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:"This Year"}),o.jsx("option",{children:"Last Year"})]})]})}),o.jsxs(Qe,{children:[o.jsx("div",{className:"h-[300px] w-full pt-4",children:o.jsx(QP,{data:t,color:"#10b981"})}),o.jsxs("div",{className:"flex justify-between mt-4 text-xs text-slate-400 uppercase tracking-wide",children:[o.jsx("span",{children:"Jan"}),o.jsx("span",{children:"Feb"}),o.jsx("span",{children:"Mar"}),o.jsx("span",{children:"Apr"}),o.jsx("span",{children:"May"}),o.jsx("span",{children:"Jun"}),o.jsx("span",{children:"Jul"}),o.jsx("span",{children:"Aug"}),o.jsx("span",{children:"Sep"}),o.jsx("span",{children:"Oct"}),o.jsx("span",{children:"Nov"}),o.jsx("span",{children:"Dec"})]})]})]})}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(Ye,{className:"h-full border-slate-200",children:[o.jsxs(wt,{children:[o.jsx(_t,{children:"Traffic Sources"}),o.jsx(ln,{children:"Where your users are coming from"})]}),o.jsx(Qe,{children:o.jsx("div",{className:"space-y-6",children:[{source:"Direct",value:"45%",color:"bg-blue-500"},{source:"Social Media",value:"32%",color:"bg-purple-500"},{source:"Organic Search",value:"15%",color:"bg-emerald-500"},{source:"Referral",value:"8%",color:"bg-orange-500"}].map((n,s)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700",children:n.source}),o.jsx("span",{className:"text-slate-500",children:n.value})]}),o.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:o.jsx(oe.div,{initial:{width:0},animate:{width:n.value},transition:{duration:1,delay:.5+s*.1},className:`h-full ${n.color} rounded-full`})})]},s))})})]})})]})]})};function Z9(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zv="Checkbox",[Nhe,Kme]=Kr(zv),[Ahe,hN]=Nhe(zv);function Ihe(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:r,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[m,g]=kl({prop:n,defaultProp:r??!1,onChange:c,caller:zv}),[y,b]=p.useState(null),[_,v]=p.useState(null),x=p.useRef(!1),E=y?!!a||!!y.closest("form"):!0,A={checked:m,disabled:i,setChecked:g,control:y,setControl:b,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:x,required:u,defaultChecked:Ba(r)?!1:r,isFormControl:E,bubbleInput:_,setBubbleInput:v};return o.jsx(Ahe,{scope:e,...A,children:Che(h)?h(A):s})}var eF="CheckboxTrigger",tF=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},r)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:y}=hN(eF,t),b=ft(r,d),_=p.useRef(c);return p.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const x=()=>h(_.current);return v.addEventListener("reset",x),()=>v.removeEventListener("reset",x)}},[i,h]),o.jsx(Me.button,{type:"button",role:"checkbox","aria-checked":Ba(c)?"mixed":c,"aria-required":u,"data-state":aF(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:b,onKeyDown:de(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:de(n,v=>{h(x=>Ba(x)?!0:!x),y&&g&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});tF.displayName=eF;var fN=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return o.jsx(Ihe,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(tF,{...h,ref:e,__scopeCheckbox:n}),m&&o.jsx(iF,{__scopeCheckbox:n})]})})});fN.displayName=zv;var nF="CheckboxIndicator",sF=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,i=hN(nF,n);return o.jsx(vr,{present:s||Ba(i.checked)||i.checked===!0,children:o.jsx(Me.span,{"data-state":aF(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});sF.displayName=nF;var rF="CheckboxBubbleInput",iF=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:g}=hN(rF,t),y=ft(n,g),b=Z9(i),_=tN(s);p.useEffect(()=>{const x=m;if(!x)return;const E=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(E,"checked").set,R=!r.current;if(b!==i&&I){const S=new Event("click",{bubbles:R});x.indeterminate=Ba(i),I.call(x,Ba(i)?!1:i),x.dispatchEvent(S)}},[m,b,i,r]);const v=p.useRef(Ba(i)?!1:i);return o.jsx(Me.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});iF.displayName=rF;function Che(t){return typeof t=="function"}function Ba(t){return t==="indeterminate"}function aF(t){return Ba(t)?"indeterminate":t?"checked":"unchecked"}const Tl=p.forwardRef(({className:t,...e},n)=>o.jsx(fN,{ref:n,className:me("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(sF,{className:me("flex items-center justify-center text-current"),children:o.jsx(sd,{className:"h-4 w-4"})})}));Tl.displayName=fN.displayName;function jhe(t){const e=Rhe(t),n=p.forwardRef((s,r)=>{const{children:i,...a}=s,l=p.Children.toArray(i),c=l.find(khe);if(c){const u=c.props.children,d=l.map(h=>h===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Rhe(t){const e=p.forwardRef((n,s)=>{const{children:r,...i}=n;if(p.isValidElement(r)){const a=Mhe(r),l=Dhe(i,r.props);return r.type!==p.Fragment&&(l.ref=s?ho(s,a):a),p.cloneElement(r,l)}return p.Children.count(r)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Phe=Symbol("radix.slottable");function khe(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Phe}function Dhe(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Mhe(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Bv="Dialog",[oF,Wme]=Kr(Bv),[Ohe,br]=oF(Bv),lF=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,l=p.useRef(null),c=p.useRef(null),[u,d]=kl({prop:s,defaultProp:r??!1,onChange:i,caller:Bv});return o.jsx(Ohe,{scope:e,triggerRef:l,contentRef:c,contentId:tl(),titleId:tl(),descriptionId:tl(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};lF.displayName=Bv;var cF="DialogTrigger",uF=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(cF,n),i=ft(e,r.triggerRef);return o.jsx(Me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":gN(r.open),...s,ref:i,onClick:de(t.onClick,r.onOpenToggle)})});uF.displayName=cF;var mN="DialogPortal",[Vhe,dF]=oF(mN,{forceMount:void 0}),hF=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=br(mN,e);return o.jsx(Vhe,{scope:e,forceMount:n,children:p.Children.map(s,a=>o.jsx(vr,{present:n||i.open,children:o.jsx(Ly,{asChild:!0,container:r,children:a})}))})};hF.displayName=mN;var hy="DialogOverlay",fF=p.forwardRef((t,e)=>{const n=dF(hy,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=br(hy,t.__scopeDialog);return i.modal?o.jsx(vr,{present:s||i.open,children:o.jsx(Uhe,{...r,ref:e})}):null});fF.displayName=hy;var Lhe=jhe("DialogOverlay.RemoveScroll"),Uhe=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(hy,n);return o.jsx(i9,{as:Lhe,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(Me.div,{"data-state":gN(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),El="DialogContent",mF=p.forwardRef((t,e)=>{const n=dF(El,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=br(El,t.__scopeDialog);return o.jsx(vr,{present:s||i.open,children:i.modal?o.jsx(Fhe,{...r,ref:e}):o.jsx(zhe,{...r,ref:e})})});mF.displayName=El;var Fhe=p.forwardRef((t,e)=>{const n=br(El,t.__scopeDialog),s=p.useRef(null),r=ft(e,n.contentRef,s);return p.useEffect(()=>{const i=s.current;if(i)return QU(i)},[]),o.jsx(pF,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:de(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:de(t.onFocusOutside,i=>i.preventDefault())})}),zhe=p.forwardRef((t,e)=>{const n=br(El,t.__scopeDialog),s=p.useRef(!1),r=p.useRef(!1);return o.jsx(pF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),pF=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,l=br(El,n),c=p.useRef(null),u=ft(e,c);return vU(),o.jsxs(o.Fragment,{children:[o.jsx(WS,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(Vy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gN(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Bhe,{titleId:l.titleId}),o.jsx(qhe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),pN="DialogTitle",gF=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(pN,n);return o.jsx(Me.h2,{id:r.titleId,...s,ref:e})});gF.displayName=pN;var yF="DialogDescription",vF=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(yF,n);return o.jsx(Me.p,{id:r.descriptionId,...s,ref:e})});vF.displayName=yF;var xF="DialogClose",bF=p.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(xF,n);return o.jsx(Me.button,{type:"button",...s,ref:e,onClick:de(t.onClick,()=>r.onOpenChange(!1))})});bF.displayName=xF;function gN(t){return t?"open":"closed"}var wF="DialogTitleWarning",[Yme,_F]=dH(wF,{contentName:El,titleName:pN,docsSlug:"dialog"}),Bhe=({titleId:t})=>{const e=_F(wF),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},$he="DialogDescriptionWarning",qhe=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_F($he).contentName}}.`;return p.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},TF=lF,Hhe=uF,$v=hF,qv=fF,Hv=mF,Gv=gF,Kv=vF,EF=bF;const Sl=TF,SF=({className:t,...e})=>o.jsx($v,{className:me(t),...e});SF.displayName=$v.displayName;const NF=p.forwardRef(({className:t,...e},n)=>o.jsx(qv,{ref:n,className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));NF.displayName=qv.displayName;const io=p.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(SF,{children:[o.jsx(NF,{}),o.jsxs(Hv,{ref:s,className:me("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(EF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ni,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));io.displayName=Hv.displayName;const ao=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ao.displayName="DialogHeader";const Nl=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nl.displayName="DialogFooter";const oo=p.forwardRef(({className:t,...e},n)=>o.jsx(Gv,{ref:n,className:me("text-lg font-semibold leading-none tracking-tight",t),...e}));oo.displayName=Gv.displayName;const Gu=p.forwardRef(({className:t,...e},n)=>o.jsx(Kv,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Gu.displayName=Kv.displayName;const zm=p.createContext({}),Ghe=({children:t,value:e,onValueChange:n,disabled:s})=>{const[r,i]=p.useState(!1),[a,l]=p.useState({}),c=(u,d)=>{l(h=>({...h,[u]:d}))};return o.jsx(zm.Provider,{value:{value:e,onValueChange:n,open:r,setOpen:i,disabled:s,labels:a,registerLabel:c},children:o.jsx("div",{className:"relative",children:t})})},Khe=({className:t,children:e,...n})=>{const{open:s,setOpen:r,disabled:i}=p.useContext(zm);return o.jsxs("button",{type:"button",className:me("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),onClick:()=>!i&&r(!s),...n,children:[e,o.jsx(yG,{className:"h-4 w-4 opacity-50"})]})},Whe=({placeholder:t,className:e})=>{const{value:n,labels:s}=p.useContext(zm);return o.jsx("span",{className:me("block truncate",e),children:s[n]||n||t})},Yhe=({className:t,children:e,...n})=>{const{open:s,setOpen:r}=p.useContext(zm);return s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>r(!1)}),o.jsx("div",{className:me("absolute top-[calc(100%+4px)] z-50 min-w-[8rem] w-full overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md animate-in fade-in-80",t),...n,children:o.jsx("div",{className:"p-1",children:e})})]}):null},Up=({className:t,children:e,value:n,...s})=>{const{value:r,onValueChange:i,setOpen:a,registerLabel:l}=p.useContext(zm),c=r===n;return p.useEffect(()=>{e&&l(n,e)},[n,e,l]),o.jsxs("div",{className:me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-slate-100 focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c&&"font-semibold",t),onClick:u=>{u.stopPropagation(),i(n),a(!1)},...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c&&o.jsx(sd,{className:"h-4 w-4"})}),e]})},Bl=p.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:me("w-full caption-bottom text-sm",t),...e})}));Bl.displayName="Table";const $l=p.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:me("[&_tr]:border-b",t),...e}));$l.displayName="TableHeader";const ql=p.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:me("[&_tr:last-child]:border-0",t),...e}));ql.displayName="TableBody";const Qhe=p.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:me("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Qhe.displayName="TableFooter";const Qn=p.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:me("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Qn.displayName="TableRow";const Ue=p.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:me("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Ue.displayName="TableHead";const ke=p.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:me("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ke.displayName="TableCell";const Xhe=p.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:me("mt-4 text-sm text-muted-foreground",t),...e}));Xhe.displayName="TableCaption";const Jhe=()=>{const{toast:t}=Ut(),[e,n]=p.useState([]),[s,r]=p.useState(""),[i,a]=p.useState([]),[l,c]=p.useState(!0),[u,d]=p.useState(null),[h,m]=p.useState("monthly"),[g,y]=p.useState(!1);p.useEffect(()=>{(async()=>{try{const T=(await Cm(tt(ue,"users"))).docs.map(C=>({id:C.id,...C.data(),joined:C.data().createdAt?new Date(C.data().createdAt.seconds*1e3).toLocaleDateString():"N/A"}));a(T)}catch(S){console.error("Error fetching users:",S);let T="Failed to fetch users";S.code==="permission-denied"?T="Access denied: You do not have permission to view users.":S.message&&(T=S.message),t({title:"Error",description:T,variant:"destructive"})}finally{c(!1)}})()},[]);const b=async()=>{if(!u)return;const R=new Date;let S=new Date;switch(h){case"monthly":S.setDate(R.getDate()+30);break;case"quarterly":S.setMonth(R.getMonth()+3);break;case"yearly":S.setFullYear(R.getFullYear()+1);break;case"lifetime":S=null;break;default:S.setDate(R.getDate()+30)}try{console.log("Updating user subscription:",u.id),await Ll(Ke(ue,"users",u.id),{status:"active",subscription:{plan:h,startDate:Rt.fromDate(R),endDate:S?Rt.fromDate(S):null,isActive:!0}},{merge:!0});const T=await sr(Ke(ue,"users",u.id));if(console.log("Verification Read:",T.data()),!T.exists()||!T.data().subscription)throw new Error("Verification failed: Data was not saved correctly.");a(i.map(C=>C.id===u.id?{...C,status:"active",subscription:{plan:h,startDate:{seconds:R.getTime()/1e3},endDate:S?{seconds:S.getTime()/1e3}:null,isActive:!0}}:C)),t({title:"   ",description:`   ${h} `,variant:"success"}),y(!1),d(null)}catch(T){console.error("Error activating subscription:",T),t({title:"",description:"    : "+T.message,variant:"destructive"})}},_=async(R,S)=>{const T=[...i];a(i.map(C=>C.id===R?{...C,status:S}:C));try{await Za(Ke(ue,"users",R),{status:S}),t({title:"Status Updated",description:`User status set to ${S}`,variant:"success"})}catch{a(T),t({title:"Error",description:"Failed to update status",variant:"destructive"})}},v=R=>{n(R?i.map(S=>S.id):[])},x=(R,S)=>{n(S?[...e,R]:e.filter(T=>T!==R))},E=()=>{confirm(`Are you sure you want to delete ${e.length} users?`)&&(a(i.filter(R=>!e.includes(R.id))),n([]),t({title:"Users deleted",description:"Selected users have been removed successfully.",variant:"success"}))},A=()=>{const S=[["ID","Name","Email","Role","Status","Joined Date"].join(","),...i.map(P=>[P.id,P.name,P.email,P.role,P.status,P.joined].join(","))].join(`
`),T=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(T),j=document.createElement("a");j.setAttribute("href",C),j.setAttribute("download","users_export.csv"),document.body.appendChild(j),j.click(),document.body.removeChild(j),t({title:"Export Started",description:"Your CSV file is downloading.",variant:"success"})},I=i.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())||R.email.toLowerCase().includes(s.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage accounts, permissions, and user status."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(H,{variant:"outline",onClick:A,className:"gap-2",children:[o.jsx(Hc,{className:"w-4 h-4"})," Export"]}),o.jsxs(H,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(xu,{className:"w-4 h-4"})," Add Admin"]})]})]}),e.length>0&&o.jsxs(oe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-teal-50 border border-teal-100 p-3 rounded-lg flex items-center justify-between text-sm text-teal-900",children:[o.jsxs("span",{className:"font-medium",children:[e.length," users selected"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(H,{size:"sm",variant:"outline",className:"border-teal-200 hover:bg-teal-100",children:"Change Role"}),o.jsx(H,{size:"sm",variant:"destructive",onClick:E,children:"Delete Selected"})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qo,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:"Search by name or email...",className:"pl-10 bg-slate-50 border-slate-200 focus:bg-white",value:s,onChange:R=>r(R.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsxs(H,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Role"]})}),o.jsxs(za,{children:[o.jsx(Yh,{children:"Filter by Role"}),o.jsx(Mc,{}),o.jsx(Ot,{children:"Admin"}),o.jsx(Ot,{children:"Store Owner"}),o.jsx(Ot,{children:"Support"})]})]}),o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsxs(H,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Status"]})}),o.jsxs(za,{children:[o.jsx(Yh,{children:"Filter by Status"}),o.jsx(Mc,{}),o.jsx(Ot,{children:"Active"}),o.jsx(Ot,{children:"Pending"}),o.jsx(Ot,{children:"Inactive"})]})]})]})]}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{className:"w-12",children:o.jsx(Tl,{checked:e.length===i.length&&i.length>0,onCheckedChange:v})}),o.jsx(Ue,{children:"User Details"}),o.jsx(Ue,{children:"Role"}),o.jsx(Ue,{children:"Status"}),o.jsx(Ue,{children:"Joined Date"}),o.jsx(Ue,{className:"text-right",children:"Actions"})]})}),o.jsx(ql,{children:I.map(R=>o.jsxs(Qn,{className:"hover:bg-slate-50/50 transition-colors",children:[o.jsx(ke,{children:o.jsx(Tl,{checked:e.includes(R.id),onCheckedChange:S=>x(R.id,S)})}),o.jsx(ke,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-900",children:R.name}),o.jsx("span",{className:"text-xs text-slate-500",children:R.email}),o.jsxs("span",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:["ID: ",R.id.substring(0,8),"..."]})]})}),o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[R.role==="Admin"?o.jsx(xu,{className:"w-3 h-3 text-indigo-500"}):null,o.jsx("span",{className:"text-sm",children:R.role})]})}),o.jsx(ke,{children:o.jsx(xn,{variant:(R.status||"").toLowerCase()==="active"?"success":(R.status||"").toLowerCase()==="pending"?"warning":"secondary",children:R.status})}),o.jsx(ke,{className:"text-slate-500 text-sm",children:R.joined}),o.jsx(ke,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(H,{size:"sm",variant:"outline",className:"gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50",onClick:()=>{d(R),y(!0)},children:[o.jsx(FT,{className:"w-4 h-4"})," "]}),(R.status||"").toLowerCase()==="pending"&&o.jsxs(H,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8",onClick:()=>_(R.id,"active"),children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"})," Activate"]}),o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsxs(H,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-slate-100",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(rO,{className:"h-4 w-4 text-slate-500"})]})}),o.jsxs(za,{align:"end",children:[o.jsx(Yh,{children:"Actions"}),o.jsxs(Ot,{className:"gap-2",onClick:()=>_(R.id,"active"),children:[o.jsx(Ka,{className:"w-4 h-4 text-green-500"})," Activate"]}),o.jsxs(Ot,{className:"gap-2",onClick:()=>_(R.id,"inactive"),children:[o.jsx(n1,{className:"w-4 h-4 text-red-500"})," Deactivate"]}),o.jsx(Mc,{}),o.jsxs(Ot,{className:"gap-2",children:[o.jsx(h0,{className:"w-4 h-4"})," Send Email"]}),o.jsx(Mc,{}),o.jsxs(Ot,{className:"text-red-600 gap-2",children:[o.jsx(rd,{className:"w-4 h-4"})," Delete User"]})]})]})]})})]},R.id))})]})}),o.jsx(Sl,{open:g,onOpenChange:y,children:o.jsxs(io,{children:[o.jsxs(ao,{children:[o.jsx(oo,{children:"  "}),o.jsx(Gu,{children:"   .       ."})]}),o.jsx("div",{className:"py-4",children:o.jsxs(Ghe,{value:h,onValueChange:m,children:[o.jsx(Khe,{children:o.jsx(Whe,{placeholder:" "})}),o.jsxs(Yhe,{children:[o.jsx(Up,{value:"monthly",children:"  (30 )"}),o.jsx(Up,{value:"quarterly",children:"   (3 )"}),o.jsx(Up,{value:"yearly",children:"  ( )"}),o.jsx(Up,{value:"lifetime",children:"  "})]})]})}),o.jsxs(Nl,{children:[o.jsx(H,{variant:"outline",onClick:()=>y(!1),children:""}),o.jsx(H,{onClick:b,className:"bg-teal-600 hover:bg-teal-700 text-white",children:" "})]})]})})]})},Zhe=()=>{const{toast:t}=Ut();p.useState([]);const[e,n]=p.useState([{id:1,name:"Urban Trends",owner:"John Doe",plan:"Professional",status:"Active",revenue:"$45,200"},{id:2,name:"Eco Life",owner:"Sarah Smith",plan:"Starter",status:"Pending Approval",revenue:"$0"},{id:3,name:"Tech Haven",owner:"Mike Johnson",plan:"Enterprise",status:"Active",revenue:"$120,500"},{id:4,name:"Style Boutique",owner:"Emma Wilson",plan:"Professional",status:"Suspended",revenue:"$12,300"},{id:5,name:"Cairo Crafts",owner:"Ahmed Hassan",plan:"Starter",status:"Active",revenue:"$3,400"}]),s=()=>{const i=[["ID","Store Name","Owner","Plan","Status","Revenue"].join(","),...e.map(u=>[u.id,u.name,u.owner,u.plan,u.status,u.revenue.replace("$","")].join(","))].join(`
`),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("href",l),c.setAttribute("download","stores_export.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c),t({title:"Export Success",description:"Store data exported to CSV.",variant:"success"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Store Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Monitor performance and manage store approvals."})]}),o.jsxs(H,{variant:"outline",onClick:s,className:"gap-2",children:[o.jsx(Hc,{className:"w-4 h-4"})," Export Data"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(zy,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:"Search stores...",className:"pl-10 bg-slate-50"})]}),o.jsxs(H,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Status"]})]}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{className:"w-12",children:o.jsx(Tl,{})}),o.jsx(Ue,{children:"Store Name"}),o.jsx(Ue,{children:"Owner"}),o.jsx(Ue,{children:"Plan"}),o.jsx(Ue,{children:"Status"}),o.jsx(Ue,{children:"Total Revenue"}),o.jsx(Ue,{className:"text-right",children:"Actions"})]})}),o.jsx(ql,{children:e.map(r=>o.jsxs(Qn,{className:"hover:bg-slate-50/50",children:[o.jsx(ke,{children:o.jsx(Tl,{})}),o.jsx(ke,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.name,o.jsx("a",{href:"#",className:"text-slate-400 hover:text-teal-500",children:o.jsx(d0,{className:"w-3 h-3"})})]})}),o.jsx(ke,{children:r.owner}),o.jsx(ke,{children:o.jsx(xn,{variant:"outline",className:"bg-slate-50 border-slate-200",children:r.plan})}),o.jsx(ke,{children:o.jsx(xn,{variant:r.status==="Active"?"success":r.status==="Pending Approval"?"warning":"destructive",children:r.status})}),o.jsx(ke,{className:"font-mono text-slate-600",children:r.revenue}),o.jsx(ke,{className:"text-right",children:r.status==="Pending Approval"?o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(H,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white h-8 w-8 p-0",children:o.jsx(sd,{className:"w-4 h-4"})}),o.jsx(H,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",children:o.jsx(Ni,{className:"w-4 h-4"})})]}):o.jsx(H,{variant:"ghost",size:"sm",children:"Manage"})})]},r.id))})]})})]})},efe=()=>{const t=[{name:"Starter",price:29,period:"/month",description:"Perfect for small businesses",features:["Up to 100 products","Basic analytics","5GB storage","Email support"],active:!0},{name:"Professional",price:79,period:"/month",description:"Best for growing businesses",features:["Unlimited products","Advanced analytics","50GB storage","Priority support","Custom domain"],active:!0,popular:!0},{name:"Enterprise",price:199,period:"/month",description:"For large-scale operations",features:["Unlimited storage","Dedicated account manager","API access","White-label options"],active:!0}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Pricing Plans"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Configure subscription plans and features."})]}),o.jsxs(H,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," Add Plan"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((e,n)=>o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:o.jsxs(Ye,{className:"relative h-full flex flex-col",children:[e.popular&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsx(xn,{variant:"success",children:"Most Popular"})}),o.jsxs(wt,{children:[o.jsxs(_t,{className:"flex justify-between items-center",children:[e.name,o.jsx(xn,{variant:e.active?"outline":"secondary",children:e.active?"Active":"Draft"})]}),o.jsx(ln,{children:e.description})]}),o.jsxs(Qe,{className:"flex-1",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"text-3xl font-bold text-slate-900",children:ct(e.price)}),o.jsx("span",{className:"text-slate-500",children:e.period})]}),o.jsx("ul",{className:"space-y-2",children:e.features.map((s,r)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[o.jsx(Ka,{className:"w-4 h-4 text-teal-500"}),s]},r))})]}),o.jsxs(dN,{className:"flex gap-2 border-t pt-4 bg-slate-50/50",children:[o.jsxs(H,{variant:"outline",className:"flex-1 gap-2",children:[o.jsx($T,{className:"w-4 h-4"})," Edit"]}),o.jsx(H,{variant:"outline",className:"flex-none text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(rd,{className:"w-4 h-4"})})]})]})},n))})]})};var tfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nfe=tfe.reduce((t,e)=>{const n=pU(`Primitive.${e}`),s=p.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),sfe="Label",AF=p.forwardRef((t,e)=>o.jsx(nfe.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));AF.displayName=sfe;var IF=AF;const rfe=cm("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),re=p.forwardRef(({className:t,...e},n)=>o.jsx(IF,{ref:n,className:me(rfe(),t),...e}));re.displayName=IF.displayName;const ife=()=>{const{toast:t}=Ut(),[e,n]=p.useState("connected"),[s,r]=p.useState("error"),[i,a]=p.useState(!1),[l,c]=p.useState("");p.useEffect(()=>{(async()=>{try{const m=Ke(ue,"settings","platform"),g=await sr(m);if(g.exists()){const y=g.data();y.whatsappNumber&&c(y.whatsappNumber)}}catch(m){console.error("Error fetching settings:",m)}})()},[]);const u=async()=>{a(!0);try{await Ll(Ke(ue,"settings","platform"),{whatsappNumber:l},{merge:!0}),t({title:"Settings Saved",description:"Your configuration has been updated successfully.",variant:"success"})}catch{t({title:"Error Saving Settings",description:"There was an error saving your changes.",variant:"destructive"})}finally{a(!1)}},d=({status:h})=>h==="connected"?o.jsxs(xn,{variant:"success",className:"flex items-center gap-1 bg-emerald-500 hover:bg-emerald-600",children:[o.jsx(Ka,{className:"w-3 h-3"})," Connected"]}):h==="error"?o.jsxs(xn,{variant:"destructive",className:"flex items-center gap-1",children:[o.jsx(n1,{className:"w-3 h-3"})," Connection Failed"]}):o.jsx(xn,{variant:"secondary",className:"flex items-center gap-1",children:"Not Configured"});return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Settings"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage third-party integrations and API keys."})]}),o.jsxs(Ye,{className:"border-l-4 border-l-green-500",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(BT,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx(_t,{children:"Account Activation"}),o.jsx(ln,{children:"Configure contact method for account activation"})]})]})}),o.jsx(Qe,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Activation WhatsApp Number"}),o.jsx(ce,{type:"text",placeholder:"+201xxxxxxxxx",value:l,onChange:h=>c(h.target.value)}),o.jsx("p",{className:"text-xs text-slate-500",children:"This number will be used for users to request account activation."})]})})]}),o.jsxs(Ye,{className:"border-l-4 border-l-blue-500",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(vu,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx(_t,{children:"Payment Gateways"}),o.jsx(ln,{children:"Configure Paymob & Stripe keys"})]})]}),o.jsx(d,{status:e})]})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob API Key"}),o.jsx(ce,{type:"password",placeholder:"Enter your Paymob API Key",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob Secret"}),o.jsx(ce,{type:"password",placeholder:"Enter your Paymob Secret",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Paymob Integration ID"}),o.jsx(ce,{type:"text",placeholder:"e.g. 123456",defaultValue:"847291"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"HMAC Secret"}),o.jsx(ce,{type:"password",defaultValue:"****************"})]})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(H,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n("connected"),children:[o.jsx(Gc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsxs(Ye,{className:"border-l-4 border-l-orange-500",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx(Wa,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx(_t,{children:"Shipping Providers"}),o.jsx(ln,{children:"Configure Bosta & Shipping Rules"})]})]}),o.jsx(d,{status:s})]})}),o.jsxs(Qe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:"Bosta API Key"}),o.jsx(ce,{type:"password",placeholder:"Enter your Bosta API Key",className:"border-red-300 focus-visible:ring-red-200"}),o.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[o.jsx(n1,{className:"w-3 h-3"})," Invalid API Key provided"]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{type:"checkbox",id:"bosta-sandbox",className:"rounded border-slate-300 text-teal-600 focus:ring-teal-500"}),o.jsx(re,{htmlFor:"bosta-sandbox",className:"font-normal cursor-pointer",children:"Enable Sandbox Mode for testing"})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(H,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>r("connected"),children:[o.jsx(Gc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsx("div",{className:"flex justify-end sticky bottom-4 bg-white/80 backdrop-blur-sm p-4 rounded-lg border shadow-lg",children:o.jsxs(H,{onClick:u,disabled:i,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[i?o.jsx(Gc,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(a1,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save All Changes"]})})]})},afe=()=>{const[t,e]=p.useState(null),[n,s]=p.useState(!1),r=[{id:1,type:"Error",message:"Payment gateway timeout: Paymob API responded with 504",timestamp:"2025-11-30 10:23:45",user:"System",stackTrace:`Error: Gateway Timeout
    at PaymobService.processPayment (src/services/paymob.js:45:12)
    at async OrderController.create (src/controllers/order.js:120:20)
    at async handleRequest (node_modules/express/lib/router/layer.js:95:5)`},{id:2,type:"Info",message:'New store "Cairo Crafts" created successfully',timestamp:"2025-11-30 09:15:22",user:"ahmed@store.eg",details:`Store ID: 582
Plan: Starter
Template: Modern Minimal`},{id:3,type:"Audit",message:"Admin updated Pricing Plan: Professional",timestamp:"2025-11-29 14:30:11",user:"Admin User",details:`Old Price: $69
New Price: $79
Modified By: admin@storebuilder.com`},{id:4,type:"Error",message:"Failed login attempt (3x)",timestamp:"2025-11-29 03:12:05",user:"IP: 192.168.1.45",stackTrace:`SecurityAlert: Multiple failed login attempts detected from IP 192.168.1.45.
Account locked for 30 minutes.`},{id:5,type:"Info",message:"Daily Database Backup completed successfully",timestamp:"2025-11-29 00:00:00",user:"System",details:`Size: 4.2GB
Duration: 4m 20s
Location: s3://backups/daily-2025-11-29.sql.gz`}],i=a=>{e(a),s(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Logs & Audit"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Track system health, errors, and administrative actions."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-red-50 border border-red-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(nb,{className:"text-red-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-red-700",children:"3"}),o.jsx("p",{className:"text-sm text-red-600",children:"Critical Errors (24h)"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(m2,{className:"text-blue-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:"145"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Info Events"})]})]}),o.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(w2,{className:"text-slate-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-slate-700",children:"99.9%"}),o.jsx("p",{className:"text-sm text-slate-600",children:"System Uptime"})]})]})]}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"bg-slate-50/50",children:[o.jsx(Ue,{children:"Type"}),o.jsx(Ue,{children:"Message"}),o.jsx(Ue,{children:"User/Source"}),o.jsx(Ue,{children:"Timestamp"}),o.jsx(Ue,{className:"text-right",children:"Action"})]})}),o.jsx(ql,{children:r.map(a=>o.jsxs(Qn,{className:"hover:bg-slate-50/50",children:[o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[a.type==="Error"&&o.jsx(nb,{className:"w-4 h-4 text-red-500"}),a.type==="Info"&&o.jsx(Ka,{className:"w-4 h-4 text-blue-500"}),a.type==="Audit"&&o.jsx(w2,{className:"w-4 h-4 text-purple-500"}),o.jsx(xn,{variant:a.type==="Error"?"destructive":a.type==="Audit"?"secondary":"outline",children:a.type})]})}),o.jsx(ke,{className:"font-medium max-w-md truncate",children:a.message}),o.jsx(ke,{className:"text-slate-500 text-sm",children:a.user}),o.jsx(ke,{className:"text-slate-500 font-mono text-xs",children:a.timestamp}),o.jsx(ke,{className:"text-right",children:o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>i(a),children:"View Details"})})]},a.id))})]})}),o.jsx(Sl,{open:n,onOpenChange:s,children:o.jsxs(io,{className:"max-w-2xl",children:[o.jsxs(ao,{children:[o.jsxs(oo,{className:"flex items-center gap-2",children:[(t==null?void 0:t.type)==="Error"?o.jsx(nb,{className:"text-red-500"}):o.jsx(m2,{className:"text-blue-500"}),"Log Details #",t==null?void 0:t.id]}),o.jsxs(Gu,{children:["Recorded on ",t==null?void 0:t.timestamp," by ",t==null?void 0:t.user]})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Message"}),o.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded border border-slate-200",children:t==null?void 0:t.message})]}),(t==null?void 0:t.stackTrace)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Stack Trace / Error Details"}),o.jsx("pre",{className:"text-xs bg-slate-900 text-red-400 p-4 rounded overflow-x-auto font-mono",children:t.stackTrace})]}),(t==null?void 0:t.details)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Additional Context"}),o.jsx("pre",{className:"text-xs bg-slate-50 text-slate-700 p-4 rounded border border-slate-200 font-mono whitespace-pre-wrap",children:t.details})]})]})]})})]})},ofe=()=>{const{toast:t}=Ut(),[e,n]=p.useState([]),[s,r]=p.useState(!0),[i,a]=p.useState({name:"",image:""}),[l,c]=p.useState(!1),u=[{name:"Modern Minimal",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=300"},{name:"Fashion Bold",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?auto=format&fit=crop&q=80&w=300"},{name:"Tech Hub",image:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=300"},{name:"Restaurant & Cafe",image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=300"},{name:"Digital Products",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=300"}],d=async()=>{try{r(!0);const b=(await Cm(tt(ue,"templates"))).docs.map(_=>({id:_.id,..._.data()}));n(b)}catch(y){console.error("Error fetching templates:",y),t({title:"Error",description:"Failed to fetch templates",variant:"destructive"})}finally{r(!1)}};p.useEffect(()=>{d()},[]);const h=async()=>{try{r(!0);const y=u.map(b=>Lu(tt(ue,"templates"),{...b,createdAt:Df()}));await Promise.all(y),t({title:"Success",description:"Default templates added successfully",variant:"success"}),d()}catch(y){console.error("Error seeding templates:",y),t({title:"Error",description:"Failed to seed templates",variant:"destructive"}),r(!1)}},m=async y=>{if(y.preventDefault(),!(!i.name||!i.image))try{c(!0),await Lu(tt(ue,"templates"),{name:i.name,image:i.image,createdAt:Df()}),t({title:"Success",description:"Template added successfully",variant:"success"}),a({name:"",image:""}),d()}catch(b){console.error("Error adding template:",b),t({title:"Error",description:"Failed to add template",variant:"destructive"})}finally{c(!1)}},g=async y=>{if(confirm("Are you sure you want to delete this template?"))try{await vv(Ke(ue,"templates",y)),n(e.filter(b=>b.id!==y)),t({title:"Deleted",description:"Template removed successfully",variant:"success"})}catch(b){console.error("Error deleting template:",b),t({title:"Error",description:"Failed to delete template",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Templates Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage the store templates available to users."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(Ye,{className:"md:col-span-1 h-fit",children:[o.jsxs(wt,{children:[o.jsx(_t,{children:"Add New Template"}),o.jsx(ln,{children:"Add a new template to the collection."})]}),o.jsx(Qe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"name",children:"Template Name"}),o.jsx(ce,{id:"name",placeholder:"e.g. Modern Dark",value:i.name,onChange:y=>a({...i,name:y.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{htmlFor:"image",children:"Preview Image URL"}),o.jsx(ce,{id:"image",placeholder:"https://...",value:i.image,onChange:y=>a({...i,image:y.target.value}),required:!0}),i.image&&o.jsx("div",{className:"mt-2 h-32 rounded-lg overflow-hidden border bg-slate-100",children:o.jsx("img",{src:i.image,alt:"Preview",className:"w-full h-full object-cover",onError:y=>y.target.style.display="none"})})]}),o.jsx(H,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:l,children:l?"Adding...":"Add Template"})]})})]}),o.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:s?o.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"Loading templates..."}):e.length===0?o.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-lg border border-dashed border-slate-300",children:[o.jsx(zT,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No Templates Found"}),o.jsx("p",{className:"text-slate-500 mb-4",children:"The template collection is empty."}),o.jsxs(H,{onClick:h,variant:"outline",className:"gap-2",children:[o.jsx(Ka,{className:"w-4 h-4"})," Add Default Templates"]})]}):e.map(y=>o.jsx(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},layout:!0,children:o.jsxs(Ye,{className:"overflow-hidden group hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative h-40 bg-slate-100",children:[o.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:o.jsx(H,{size:"sm",variant:"destructive",onClick:()=>g(y.id),className:"h-8 w-8 p-0 rounded-full",children:o.jsx(rd,{className:"w-4 h-4"})})})]}),o.jsxs(Qe,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:y.name}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1 truncate",children:["ID: ",y.id]})]})]})},y.id))})]})]})},CF=p.createContext(),lfe=({children:t,user:e,selectedStore:n,myStoreIds:s})=>{const[r,i]=p.useState([]),[a,l]=p.useState([]),[c,u]=p.useState(!1),[d,h]=p.useState(!1);return p.useEffect(()=>{if(!n){i([]);return}u(!0);const m=tt(ue,"stores",n,"products"),g=Bt(m,y=>{const b=y.docs.map(_=>{const v=_.data();return v.image&&v.image.includes("supabase")&&(v.image=""),{id:_.id,...v}});i(b),u(!1)},y=>{console.error("Products Snapshot Error:",y),u(!1)});return()=>g()},[n]),p.useEffect(()=>{if(!e||s.length===0){l([]);return}h(!0);const m=n?[n]:s,g=new Map,y=[],b=()=>{const v=Array.from(g.values());v.sort((x,E)=>(E._createdAtRaw||0)-(x._createdAtRaw||0)),l(v),h(!1)},_=(v,x)=>{var I;const E=v.data(),A=typeof E.createdAt=="number"?Number(E.createdAt):(I=E.createdAt)!=null&&I.toDate?E.createdAt.toDate().getTime():0;return{id:v.id,rootOrderId:E.rootOrderId,displayId:A?String(A):String(v.id).replace(/\D/g,"")||"0",customer:(E.customerName??"").toString().trim()||"",phone:(E.phone??E.altPhone??"").toString().trim()||"",address:(E.address??"").toString().trim()||"",date:A?new Date(A).toLocaleDateString():"",total:ct(Number(E.total??0)),status:E.status||"Pending",items:Array.isArray(E.items)?E.items:[],_createdAtRaw:A,_storeId:x}};return m.forEach(v=>{const x=os(tt(ue,"stores",v,"orders"));y.push(Bt(x,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;g.set(C,T)}),b()}));const E=os(tt(ue,"orders"),ws("storeSubdomain","==",v));y.push(Bt(E,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;g.set(C,T)}),b()}));const A=os(tt(ue,"orders"),ws("storeId","==",v));y.push(Bt(A,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;g.set(C,T)}),b()}));const I=os(tt(ue,"orders"),ws("store","==",v));y.push(Bt(I,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;g.set(C,T)}),b()}))}),()=>{y.forEach(v=>v()),l([])}},[n,s,e]),o.jsx(CF.Provider,{value:{products:r,orders:a,loadingProducts:c,loadingOrders:d,setProducts:i,setOrders:l},children:t})},yN=()=>p.useContext(CF),cfe=()=>{const[t,e]=p.useState(typeof window<"u"?window.innerWidth>=768:!0),[n,s]=p.useState(null),r=nn(),i=fs();p.useEffect(()=>{window.innerWidth<768&&e(!1)},[i.pathname]);const a=new URLSearchParams(i.search),[l,c]=p.useState([]),[u,d]=p.useState(a.get("store")||""),[h,m]=p.useState(()=>{try{return localStorage.getItem("lang")==="en"?"en":"ar"}catch{return"ar"}}),[g,y]=p.useState(()=>{try{if(typeof window<"u"){const T=localStorage.getItem("theme");return T?T==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}catch{return!1}});p.useEffect(()=>{const T=window.document.documentElement;g?(T.classList.add("dark"),localStorage.setItem("theme","dark")):(T.classList.remove("dark"),localStorage.setItem("theme","light"))},[g]);const b=()=>y(!g),_={en:{title:"Dashboard",brand:"Nawe Shop",tagline:"Dashboard",viewStore:"View Store",selectStore:"Select Store",logout:"Logout",createNewStore:"Create New Store",menu:{Dashboard:"Dashboard","My Stores":"My Stores",Categories:"Categories",Products:"Products",Orders:"Orders",Banners:"Banners","Product Tools":"Product Tools",Settings:"Settings",Subscription:"Subscription"}},ar:{title:" ",brand:"Nawe Shop",tagline:" ",viewStore:" ",selectStore:" ",logout:" ",createNewStore:"  ",menu:{Dashboard:" ","My Stores":"",Categories:"",Products:"",Orders:"",Banners:"","Product Tools":" ",Settings:"",Subscription:""}}};typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const v=[{icon:iO,label:"Dashboard",path:"/dashboard"},{icon:zy,label:"My Stores",path:"/dashboard/stores"},{icon:_G,label:"Categories",path:"/dashboard/categories"},{icon:FT,label:"Products",path:"/dashboard/products"},{icon:bu,label:"Orders",path:"/dashboard/orders"},{icon:kG,label:"Product Tools",path:"/dashboard/tools"},{icon:i1,label:"Banners",path:"/dashboard/banners"},{icon:vu,label:"Subscription",path:"/dashboard/subscription"},{icon:Fy,label:"Settings",path:"/dashboard/settings"}],[x,E]=p.useState(!0);if(p.useEffect(()=>{let T,C;const j=zi(jt,P=>{if(T&&(T(),T=void 0),C&&(C(),C=void 0),!P)c([]),s(null),E(!1),r("/login");else{s(P),C=Bt(Ke(ue,"users",P.uid),k=>{if(k.exists()){const $=k.data();if($.subscription&&$.subscription.isActive&&$.subscription.plan!=="lifetime"&&$.subscription.endDate){const z=$.subscription.endDate.seconds?new Date($.subscription.endDate.seconds*1e3):$.subscription.endDate.toDate();if(new Date>z){r("/activation-pending");return}}$.status&&$.status!=="active"&&($.status==="pending"?r("/activation-pending"):r("/login"))}});const M=os(tt(ue,"stores"),ws("ownerUid","==",P.uid));T=Bt(M,k=>{const $=k.docs.map(z=>{var V;return{id:z.id,name:((V=z.data())==null?void 0:V.name)||z.id}});c($)}),E(!1)}});return()=>{j(),T&&T(),C&&C()}},[r]),x)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const A=()=>{r("/")},I=T=>T.startsWith("/dashboard")&&T!=="/dashboard/stores"&&u?`${T}?store=${u}`:T,R=T=>{const C=T.target.value;d(C);const j=i.pathname,P=C?`?store=${C}`:"";r(`${j}${P}`)},S=()=>{m(T=>{const C=T==="en"?"ar":"en";try{localStorage.setItem("lang",C)}catch{}return C})};return o.jsxs("div",{className:`min-h-screen bg-slate-50 dark:bg-slate-950 flex ${h==="ar"?"font-cairo":"font-sans"}`,dir:h==="ar"?"rtl":"ltr",children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>e(!1)}),o.jsxs(oe.aside,{initial:!1,animate:{width:t?280:0,opacity:t?1:0},className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 fixed md:static inset-y-0 right-0 z-40 overflow-hidden flex flex-col transition-all duration-300 shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50 border-l border-slate-100 dark:border-slate-800",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 min-w-[280px]",children:[o.jsx(md,{size:"small",textColor:"text-slate-900 dark:text-white"}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"md:hidden text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:o.jsx(Ni,{className:"w-5 h-5"})})]}),o.jsxs("nav",{className:"flex-1 px-4 py-6 min-w-[280px] space-y-1",children:[v.map(T=>{const C=T.icon;return o.jsxs(S4,{to:I(T.path),end:T.path==="/dashboard",className:({isActive:j})=>`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 group ${j?"bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-400 font-bold shadow-sm border border-teal-100 dark:border-teal-800/50":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsx(C,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${window.location.pathname===T.path||T.path!=="/dashboard"&&window.location.pathname.startsWith(T.path)?"text-teal-600 dark:text-teal-400":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`}),o.jsx("span",{className:"text-sm",children:_[h].menu[T.label]||T.label})]},T.path)}),o.jsx("div",{className:"pt-6 px-2",children:o.jsxs(H,{onClick:()=>r("/dashboard/stores/new"),className:"w-full bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl",children:[o.jsx(xG,{className:"w-5 h-5 mr-2"}),_[h].createNewStore]})})]}),o.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 min-w-[280px] bg-slate-50/50 dark:bg-slate-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold shadow-sm",children:"AH"}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:"Ahmed Hassan"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"ahmed@store.eg"})]})]}),o.jsxs(H,{onClick:A,variant:"ghost",className:"w-full justify-start text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 gap-3 rounded-xl h-11",children:[o.jsx(LT,{className:"w-5 h-5"}),o.jsx("span",{children:_[h].logout})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-6 shadow-sm z-30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:t?o.jsx(Ni,{className:"w-5 h-5"}):o.jsx(UT,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:_[h].title})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:b,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:g?o.jsx(CG,{className:"w-5 h-5"}):o.jsx(AG,{className:"w-5 h-5"})}),o.jsx(H,{variant:"ghost",size:"icon",onClick:S,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:o.jsx(xf,{className:"w-5 h-5"})}),o.jsxs("select",{value:u||"",onChange:R,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:_[h].selectStore}),l.map(T=>o.jsx("option",{value:T.id,children:T.name},T.id))]}),o.jsx(H,{variant:"outline",size:"sm",className:"hidden md:flex border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>{if(!u)return;const T=window.location.protocol,C=window.location.hostname,j=window.location.port?`:${window.location.port}`:"",P={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):C.includes("localhost")?`localhost${j}`:C.replace(/^www\./,""),M=`${T}//${u}.${P}`;window.location.href=M},children:_[h].viewStore})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 dark:bg-slate-950 p-6 transition-colors",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(lfe,{user:n,selectedStore:u,myStoreIds:l.map(T=>T.id),children:o.jsx(CT,{context:{language:h,storesOptions:l,currentUser:n}})})})})]})]})},ufe=()=>{const{language:t="en",storesOptions:e=[]}=rr()||{},{orders:n}=yN(),s={en:{overview:"Overview",track:"Track your store's performance.",filters:{last7:"Last 7 Days",last30:"Last 30 Days",year:"This Year"},stats:{revenue:"Total Revenue",orders:"Orders",visits:"Store Visits",conversion:"Conversion Rate",delivered:"Delivered Orders",rejected:"Rejected Orders"},revAnalytics:"Revenue Analytics",months:["Jan","Mar","May","Jul","Sep","Nov"],recentOrders:"Recent Orders",viewAll:"View All Orders",status:{Completed:"Completed",Processing:"Processing",Pending:"Pending"},changeSuffix:"from last period",storesSummary:"Stores Summary",noStoresData:"No stores data available",revenue:"Revenue"},ar:{overview:" ",track:"  .",filters:{last7:" 7 ",last30:" 30 ",year:" "},stats:{revenue:" ",orders:"",visits:" ",conversion:" ",delivered:" ",rejected:" "},revAnalytics:" ",months:["","","","","",""],recentOrders:" ",viewAll:"  ",status:{Completed:"",Processing:" ",Pending:" "},changeSuffix:"  ",storesSummary:" ",noStoresData:"   ",revenue:""}},r=fs(),i=nn(),l=p.useMemo(()=>new URLSearchParams(r.search),[r.search]).get("store")||"",[c,u]=p.useState(0),[d,h]=p.useState("last7"),m=I=>{const R=typeof I=="number"?I:parseFloat(String(I).replace(/[^0-9.-]/g,""));return Number.isFinite(R)?R:0},g=p.useMemo(()=>{const I=Date.now();if(d==="last30")return I-30*24*60*60*1e3;if(d==="year"){const R=new Date;return new Date(R.getFullYear(),0,1).getTime()}return I-7*24*60*60*1e3},[d]),{ordersData:y,storeBreakdown:b}=p.useMemo(()=>{const I=n.filter(T=>(typeof T._createdAtRaw=="number"?T._createdAtRaw:0)>=g),R=new Map;I.forEach(T=>{const C=T._storeId||"unknown";R.has(C)||R.set(C,{id:C,name:C,orders:0,revenue:0});const j=R.get(C);j.orders+=1,(T.status==="Delivered"||T.status==="Completed")&&(j.revenue+=m(T.total))});const S=Array.from(R.values()).map(T=>{const C=e.find(j=>j.id===T.id);return{...T,name:C?C.name:T.name}});return{ordersData:I,storeBreakdown:S}},[n,g,e]);p.useEffect(()=>{let I;const R=async S=>{if(!S){u(0);return}try{const T=l?[l]:e.map(j=>j.id);if(T.length===0){u(0);return}let C=0;for(const j of T)try{const M=(await m6(d6(r6(hS,"store_visits"),h6("storeId","==",j)))).docs.reduce((k,$)=>{const z=$.data(),V=Number((z==null?void 0:z.createdAt)||0);return k+(V>=g?1:0)},0);C+=M}catch{}u(C)}catch{u(0)}};return I=zi(jt,S=>R((S==null?void 0:S.uid)||"")),()=>I&&I()},[l,g,e]);const _=y.filter(I=>I.status==="Delivered"||I.status==="Completed").reduce((I,R)=>I+m(R.total),0),v=y.length,x=y.filter(I=>I.status==="Delivered").length,E=y.filter(I=>I.status==="Rejected").length,A=[{title:s[t].stats.revenue,value:ct(_,t==="ar"?"ar-EG":"en-EG"),change:"+12.5%",icon:sO,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{title:s[t].stats.orders,value:String(v),change:"+4.3%",icon:Kc,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}];return A.push({title:s[t].stats.delivered,value:String(x),change:"+8.2%",icon:FT,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:s[t].stats.rejected,value:String(E),change:"-2.1%",icon:qT,color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/20"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:s[t].overview}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:s[t].track})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{value:d,onChange:I=>h(I.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-xl px-4 py-2.5 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 font-medium cursor-pointer hover:border-teal-500 transition-colors",children:[o.jsx("option",{value:"last7",children:s[t].filters.last7}),o.jsx("option",{value:"last30",children:s[t].filters.last30}),o.jsx("option",{value:"year",children:s[t].filters.year})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:A.map((I,R)=>{const S=I.icon;return o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:R*.1},children:o.jsx(Ye,{className:"hover:shadow-lg transition-all duration-300 border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl overflow-hidden group",children:o.jsxs(Qe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`p-3 rounded-2xl ${I.bg} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(S,{className:`w-6 h-6 ${I.color}`})}),o.jsxs("div",{className:`flex items-center text-xs font-bold px-2 py-1 rounded-full ${I.change.startsWith("+")?"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400"}`,children:[I.change.startsWith("+")?o.jsx(nO,{className:"w-3 h-3 mr-1"}):o.jsx(aO,{className:"w-3 h-3 mr-1 rotate-180"}),I.change]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:I.title}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:I.value})]})]})})},R)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(Ye,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl",children:[o.jsx(wt,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(_t,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].revAnalytics})}),o.jsxs(Qe,{children:[o.jsx("div",{className:"h-[300px] flex items-end justify-between gap-3 pt-8",children:(()=>{const I=new Date,R=Array.from({length:12},(P,M)=>new Date(I.getFullYear(),M,1)),C=[0,1,2,3,4,5,6,7,8,9,10,11].map(P=>{const M=R[P].getTime(),k=new Date(R[P].getFullYear(),R[P].getMonth()+1,1).getTime();return y.filter(z=>z.status==="Delivered"||z.status==="Completed").filter(z=>{const V=typeof z._createdAtRaw=="number"?z._createdAtRaw:0;return V>=M&&V<k}).reduce((z,V)=>z+m(V.total),0)}).map(P=>Number.isFinite(P)?P:0),j=Math.max(1,...C);return C.map(P=>Math.round(P/j*100))})().map((I,R)=>o.jsx("div",{className:"w-full flex flex-col justify-end group h-full gap-2",children:o.jsx("div",{className:"w-full bg-slate-50 dark:bg-slate-800 rounded-t-lg relative overflow-hidden flex-1",children:o.jsx(oe.div,{initial:{height:0},animate:{height:`${I}%`},transition:{duration:.8,delay:.5+R*.05},className:"absolute bottom-0 w-full bg-gradient-to-t from-teal-500 to-teal-400 group-hover:from-teal-600 group-hover:to-teal-500 transition-all rounded-t-lg"})})},R))}),o.jsx("div",{className:"flex justify-between mt-4 text-xs font-medium text-slate-400 px-1",children:s[t].months.map((I,R)=>R%2===0?o.jsx("span",{children:I},I):null)})]})]})}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(Ye,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-xl shadow-slate-200/60 dark:shadow-black/20 rounded-2xl",children:[o.jsx(wt,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(_t,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].storesSummary})}),o.jsxs(Qe,{className:"pt-6",children:[o.jsx("div",{className:"space-y-6",children:b.length===0?o.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:s[t].noStoresData}):b.map((I,R)=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-slate-400 font-bold text-sm group-hover:bg-teal-50 dark:group-hover:bg-teal-900/20 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:I.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:I.name}),o.jsx("p",{className:"text-xs text-slate-400",children:I.id})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-slate-400 font-medium mb-0.5",children:s[t].revenue}),o.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:ct(I.revenue,t==="ar"?"ar-EG":"en-EG")})]})]},R))}),o.jsx(H,{className:"w-full mt-8 bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl font-medium",onClick:()=>{var R;const I=l||((R=b[0])==null?void 0:R.id)||"";i(I?`/dashboard/orders?store=${I}`:"/dashboard/orders")},children:s[t].viewAll})]})]})})]})]})},dfe=()=>{const t=nn(),{toast:e}=Ut(),[n,s]=p.useState([]),[r,i]=p.useState(!0),[a,l]=p.useState({}),[c,u]=p.useState(null),[d,h]=p.useState(!1),[m,g]=p.useState(!1);typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const{language:y="en"}=rr()||{},b={en:{title:"My Stores",subtitle:"Manage your online stores.",create:"Create New Store",statusActive:"Active",planStarter:"Starter",orders:"Orders",revenue:"Revenue",settings:"Settings",viewStore:"View Store",addProducts:"Add Products",dashboard:"Dashboard",emptyTitle:"Add New Store",emptySubtitle:"Launch your next business idea",deleteTitle:"Delete Store",deleteDesc:"Are you sure you want to delete this store? This action cannot be undone.",deleteConfirm:"Delete",cancel:"Cancel",deleteSuccess:"Store deleted successfully",deleteError:"Failed to delete store"},ar:{title:"",subtitle:"  .",create:"  ",statusActive:"",planStarter:"",orders:"",revenue:"",settings:"",viewStore:" ",addProducts:" ",dashboard:" ",emptyTitle:"  ",emptySubtitle:"  ",deleteTitle:" ",deleteDesc:"            .",deleteConfirm:"",cancel:"",deleteSuccess:"   ",deleteError:"  "}},_=async()=>{if(c){g(!0);try{await vv(Ke(ue,"stores",c)),e({title:b[y].deleteSuccess,variant:"success"}),h(!1)}catch(v){console.error(v),e({title:b[y].deleteError,description:v.message,variant:"destructive"})}finally{g(!1),u(null)}}};return p.useEffect(()=>{let v;const x=zi(jt,E=>{if(!E){s([]),i(!1);return}const A=os(tt(ue,"stores"),ws("ownerUid","==",E.uid));v=Bt(A,I=>{const R=I.docs.map(S=>{const T=S.data();return T.logo&&T.logo.includes("supabase")&&(T.logo=""),T.image&&T.image.includes("supabase")&&(T.image=""),{id:S.id,...T}});s(R),i(!1),(async()=>{try{const S=await Promise.all(R.map(async T=>{try{const C=d6(r6(hS,"orders"),h6("storeSubdomain","==",T.id)),j=await m6(C);let P=0,M=0;return j.docs.forEach(k=>{const $=k.data();P+=1,M+=Number(($==null?void 0:$.total)??0)}),[T.id,{orders:P,revenue:M}]}catch{return[T.id,{orders:Number(T.orders||0),revenue:Number(T.revenue||0)}]}}));l(Object.fromEntries(S))}catch{}})()},()=>{i(!1)})});return()=>{x(),v&&v()}},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:b[y].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:b[y].subtitle})]}),o.jsxs(H,{onClick:()=>t("/dashboard/stores/new"),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," ",b[y].create]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.map((v,x)=>{var E,A;return o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:x*.1},children:o.jsxs(Ye,{className:"overflow-hidden hover:shadow-lg transition-shadow border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 group",children:[o.jsxs("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 relative",children:[o.jsx("img",{src:v.logo||v.image||"https://placehold.co/600x400?text=Store",alt:v.name,className:"w-full h-full object-cover opacity-90",onError:I=>{I.target.onerror=null,I.target.src="https://placehold.co/600x400?text=Store"}}),o.jsx(H,{variant:"destructive",size:"icon",className:"absolute top-4 left-4 w-8 h-8 rounded-full shadow-sm opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:I=>{I.stopPropagation(),u(v.id),h(!0)},children:o.jsx(rd,{className:"w-4 h-4"})}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(xn,{variant:(v.status||"Active")==="Active"?"success":"warning",className:"shadow-sm",children:y==="ar"?v.status==="Active"?b.ar.statusActive:v.status:v.status||"Active"})})]}),o.jsx(wt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(_t,{className:"text-xl mb-1 dark:text-white",children:v.name}),o.jsxs(ln,{className:"flex items-center gap-1 text-teal-600 dark:text-teal-400 cursor-pointer",onClick:()=>{if(!v.subdomain)return;const I=window.location.protocol,R=window.location.hostname,S=window.location.port?`:${window.location.port}`:"",T={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):R.includes("localhost")?`localhost${S}`:R.replace(/^www\./,""),C=`${I}//${v.subdomain}.${T}`;window.location.href=C},children:[v.subdomain?(()=>{const I=window.location.hostname,R=window.location.port?`:${window.location.port}`:"",S={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):I.includes("localhost")?`localhost${R}`:I.replace(/^www\./,"");return`${v.subdomain}.${S}`})():""," ",o.jsx(d0,{className:"w-3 h-3"})]})]}),o.jsx(xn,{variant:"outline",className:"dark:text-slate-300 dark:border-slate-700",children:y==="ar"?v.plan==="Starter"?b.ar.planStarter:v.plan:v.plan||"Starter"})]})}),o.jsx(Qe,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:b[y].orders}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((E=a[v.id])==null?void 0:E.orders)??v.orders??0})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:b[y].revenue}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:ct((((A=a[v.id])==null?void 0:A.revenue)??Number(String(v.revenue).replace(/[^0-9.]/g,"")||0))||0)})]})]})}),o.jsxs(dN,{className:"flex gap-2 bg-slate-50/50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 p-4",children:[o.jsxs(H,{variant:"outline",className:"flex-1 gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>v.subdomain&&t(`/dashboard/settings?store=${v.subdomain}`),children:[o.jsx(Fy,{className:"w-4 h-4"})," ",b[y].settings]}),o.jsxs(H,{variant:"outline",className:"flex-1 gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{if(!v.subdomain)return;const I=window.location.protocol,R=window.location.hostname,S=window.location.port?`:${window.location.port}`:"",T={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):R.includes("localhost")?`localhost${S}`:R.replace(/^www\./,""),C=`${I}//${v.subdomain}.${T}`;window.location.href=C},children:[o.jsx(d0,{className:"w-4 h-4"})," ",b[y].viewStore]}),o.jsxs(H,{variant:"default",className:"flex-1 gap-2 bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>v.subdomain&&t(`/dashboard/products?store=${v.subdomain}&add=1`),children:[o.jsx(Oa,{className:"w-4 h-4"})," ",b[y].addProducts]}),o.jsxs(H,{className:"flex-1 gap-2 bg-slate-900 dark:bg-slate-700 text-white hover:bg-slate-800 dark:hover:bg-slate-600",onClick:()=>v.subdomain&&t(`/dashboard?store=${v.subdomain}`),children:[o.jsx(gG,{className:"w-4 h-4"})," ",b[y].dashboard]})]})]})},v.id)}),!r&&n.length===0&&o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center justify-center h-full min-h-[300px] border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-teal-400 dark:hover:border-teal-400 transition-all cursor-pointer group",onClick:()=>t("/dashboard/stores/new"),children:[o.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-700 rounded-full flex items-center justify-center shadow-sm mb-4 group-hover:scale-110 transition-transform",children:o.jsx(Oa,{className:"w-8 h-8 text-teal-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:b[y].emptyTitle}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:b[y].emptySubtitle})]})]}),o.jsx(Sl,{open:d,onOpenChange:h,children:o.jsxs(io,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsxs(ao,{children:[o.jsx(oo,{className:"dark:text-white",children:b[y].deleteTitle}),o.jsx(Gu,{children:b[y].deleteDesc})]}),o.jsxs(Nl,{children:[o.jsx(H,{variant:"outline",onClick:()=>h(!1),disabled:m,className:"dark:bg-slate-800 dark:text-white dark:hover:bg-slate-700",children:b[y].cancel}),o.jsx(H,{variant:"destructive",onClick:_,disabled:m,children:m?"...":b[y].deleteConfirm})]})]})})]})},hfe=()=>{var P;const{toast:t}=Ut(),e=nn(),{language:n="en"}=rr()||{},s={en:{title:"Create Your Store",subtitle:"Follow the steps to launch your new online business.",storeName:"Store Name",storeNamePlaceholder:"e.g. My Awesome Shop",subdomain:"Subdomain Name",subdomainPlaceholder:"e.g. ahmed",check:"Check",available:"Available",activityType:"Activity Type",types:{Retail:"Retail",Digital:"Digital Products",Services:"Services",Food:"Food & Beverage"},uploadLogo:"Upload Logo",clickToUpload:"Click to upload or drag and drop",sizeLimit:"SVG, PNG, JPG (max 2MB)",selectTemplate:"Select Template",ready:"Ready to Launch!",readyDesc:"You are about to create",accessibleAt:"Your store will be accessible at",type:"Type:",template:"Template:",back:"Back",cancel:"Cancel",next:"Next Step",create:"Create Store",creating:"Creating...",templateNames:{default:"Modern Minimal",mobile:"Mobile & Electronics",restaurant:"Restaurant & Cafe",digital:"Digital Products",spare_parts:"Spare Parts"},toasts:{invalidSub:"Invalid subdomain",invalidSubDesc:"Use letters and numbers only.",notAvailable:"Not available",taken:"is already taken.",avail:"Domain Available!",loginReq:"Login required",loginReqDesc:"Please log in to create a store.",success:"Success!",successDesc:"Store created successfully.",error:"Error",errorDesc:"Failed to create store.",fileLarge:"File too large",fileLargeDesc:"Max size is 5MB.",logoUp:"Logo uploaded",logoUpDesc:"Logo processed successfully.",upFail:"Upload failed",setSubFirst:"Set a valid subdomain first."}},ar:{title:" ",subtitle:"     .",storeName:" ",storeNamePlaceholder:":  ",subdomain:"  ",subdomainPlaceholder:": ahmed",check:"",available:"",activityType:" ",types:{Retail:" ",Digital:" ",Services:"",Food:" "},uploadLogo:" ",clickToUpload:"    ",sizeLimit:"SVG, PNG, JPG (  2 )",selectTemplate:" ",ready:" !",readyDesc:"   ",accessibleAt:"   ",type:":",template:":",back:"",cancel:"",next:" ",create:" ",creating:" ...",templateNames:{default:" ",mobile:"  ",restaurant:" ",digital:"  ",spare_parts:"  "},toasts:{invalidSub:"   ",invalidSubDesc:"   .",notAvailable:" ",taken:" .",avail:" !",loginReq:"  ",loginReqDesc:"    .",success:" !",successDesc:"   .",error:"",errorDesc:"  .",fileLarge:"  ",fileLargeDesc:"  5 .",logoUp:"  ",logoUpDesc:"   .",upFail:" ",setSubFirst:"    ."}}},r=s[n]||s.en,[i,a]=p.useState(!1),[l,c]=p.useState(null),[u,d]=p.useState(1),[h,m]=p.useState(!1),[g,y]=p.useState(""),[b,_]=p.useState(0),[v,x]=p.useState(!1),E=p.useRef(null);p.useRef(null);const[A,I]=p.useState([]),[R,S]=p.useState({name:"",subdomain:"",type:"Retail",template:""});typeof window<"u"&&window.location.host.replace(/^www\./,""),p.useEffect(()=>{(async()=>{try{const k=await Cm(tt(ue,"templates"));if(k.empty)I([{id:"default",name:r.templateNames.default,image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=300"},{id:"mobile",name:r.templateNames.mobile,image:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&q=80&w=300"},{id:"restaurant",name:r.templateNames.restaurant,image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=300"},{id:"digital",name:r.templateNames.digital,image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=300"},{id:"spare_parts",name:r.templateNames.spare_parts,image:"https://images.unsplash.com/photo-1486262715619-01b8c2297615?auto=format&fit=crop&q=80&w=300"}]);else{const $=k.docs.map(z=>({id:z.id,...z.data()}));I($)}}catch(k){console.error("Error fetching templates:",k)}})()},[]),p.useEffect(()=>{const M=zi(jt,k=>{k||e("/login")});return()=>M()},[e]);const T=async()=>{if(!R.subdomain)return;const M=R.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(M)){c(!1),t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}a(!0),c(null);try{const k=Ke(ue,"stores",M);if((await sr(k)).exists())c(!1),t({title:r.toasts.notAvailable,description:`${M} ${r.toasts.taken}`,variant:"destructive"});else{c(!0);const z=window.location.hostname,V=window.location.port?`:${window.location.port}`:"",q={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):z.includes("localhost")?`localhost${V}`:z.replace(/^www\./,"");t({title:r.toasts.avail,description:`${M}.${q}`,variant:"success"})}}finally{a(!1)}},C=async M=>{var z;const k=(z=M.target.files)==null?void 0:z[0];if(!k)return;const $=R.subdomain.trim().toLowerCase();if(!$||!/^[a-z0-9]+$/.test($)){t({title:r.toasts.invalidSub,description:r.toasts.setSubFirst,variant:"destructive"});return}if(k.size>5*1024*1024){t({title:r.toasts.fileLarge,description:r.toasts.fileLargeDesc,variant:"destructive"});return}m(!0),_(0);try{console.log("Starting logo conversion...");const V=await yf(k);console.log("Logo conversion successful"),y(V),t({title:r.toasts.logoUp,description:r.toasts.logoUpDesc,variant:"success"})}catch(V){console.error("Logo Upload Error:",V),t({title:r.toasts.upFail,description:`Error: ${(V==null?void 0:V.message)||String(V)}`,variant:"destructive"})}finally{m(!1),M.target.value=""}},j=async()=>{if(!R.name||!R.subdomain)return;const M=R.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(M)){t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}x(!0);try{const k=Ke(ue,"stores",M);if((await sr(k)).exists()){t({title:r.toasts.notAvailable,description:`${M} ${r.toasts.taken}`,variant:"destructive"}),x(!1);return}const z=jt.currentUser;if(!z){t({title:r.toasts.loginReq,description:r.toasts.loginReqDesc,variant:"destructive"}),x(!1);return}const V={name:R.name,subdomain:M,logo:g||"",category:R.type,theme:"default",ownerUid:z.uid,orders:0,revenue:0,createdAt:Df()};await Ll(k,V),t({title:r.toasts.success,description:r.toasts.successDesc,variant:"success"}),e(`/dashboard/stores?store=${M}`)}catch{t({title:r.toasts.error,description:r.toasts.errorDesc,variant:"destructive"})}finally{x(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r.subtitle})]}),o.jsxs("div",{className:"flex items-center justify-center mb-10",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=1?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"1"}),o.jsx("div",{className:`w-16 h-1 ${u>=2?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=2?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"2"}),o.jsx("div",{className:`w-16 h-1 ${u>=3?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=3?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"3"})]}),o.jsx(oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.jsx(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Qe,{className:"p-8",children:[u===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.storeName}),o.jsxs("div",{className:"relative",children:[o.jsx(zy,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:r.storeNamePlaceholder,className:"pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white",value:R.name,onChange:M=>S({...R,name:M.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.subdomain}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(xf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ce,{placeholder:r.subdomainPlaceholder,className:`pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white ${l===!0?"border-green-500 focus-visible:ring-green-500":""}`,value:R.subdomain,onChange:M=>{S({...R,subdomain:M.target.value}),c(null)}})]}),o.jsx(H,{variant:"outline",onClick:T,disabled:i||!R.subdomain,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:i?o.jsx(tb,{className:"w-4 h-4 animate-spin"}):r.check})]}),l&&o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[o.jsx(sd,{className:"w-3 h-3 mr-1"})," ",r.available]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.activityType}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:R.type,onChange:M=>S({...R,type:M.target.value}),children:[o.jsx("option",{value:"Retail",children:r.types.Retail}),o.jsx("option",{value:"Digital",children:r.types.Digital}),o.jsx("option",{value:"Services",children:r.types.Services}),o.jsx("option",{value:"Food",children:r.types.Food})]})]})]}),u===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.uploadLogo}),o.jsxs("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-8 text-center hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>{var M;return(M=E.current)==null?void 0:M.click()},children:[h?o.jsxs("div",{className:"mx-auto mb-2",children:[o.jsx(tb,{className:"w-10 h-10 text-slate-400 animate-spin mx-auto"}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[b,"%"]})]}):o.jsx(jG,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium",children:r.clickToUpload}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:r.sizeLimit}),g&&!g.includes("supabase")&&o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("img",{src:g,alt:"Logo",className:"h-16 w-16 object-contain"})}),o.jsx("input",{ref:E,type:"file",accept:"image/*",className:"hidden",onChange:C})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(re,{className:"dark:text-slate-200",children:r.selectTemplate}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:A.map(M=>o.jsxs("div",{className:`border rounded-lg overflow-hidden cursor-pointer transition-all ${R.template===M.id?"ring-2 ring-teal-500 border-teal-500":"border-slate-200 dark:border-slate-700 hover:border-teal-300 dark:hover:border-teal-400"}`,onClick:()=>S({...R,template:M.id}),children:[o.jsx("div",{className:"h-24 bg-slate-100 dark:bg-slate-800",children:o.jsx("img",{src:M.image,alt:M.name,className:"w-full h-full object-cover opacity-90"})}),o.jsx("div",{className:"p-3 text-center dark:bg-slate-800",children:o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:M.name})})]},M.id))})]})]}),u===3&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-teal-100 dark:bg-teal-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(zT,{className:"w-10 h-10 text-teal-600 dark:text-teal-400"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:r.ready}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8",children:[r.readyDesc," ",o.jsx("strong",{className:"text-slate-900 dark:text-white",children:R.name}),". ",r.accessibleAt," ",o.jsx("strong",{className:"text-slate-900 dark:text-white",children:(()=>{const M=window.location.hostname,k=window.location.port?`:${window.location.port}`:"",$={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):M.includes("localhost")?`localhost${k}`:M.replace(/^www\./,"");return`${R.subdomain}.${$}`})()}),"."]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg max-w-sm mx-auto text-left text-sm space-y-2 mb-6 border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.type}),o.jsx("span",{className:"font-medium dark:text-white",children:R.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.template}),o.jsx("span",{className:"font-medium dark:text-white",children:((P=A.find(M=>M.id===R.template))==null?void 0:P.name)||"Default"})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-slate-100 dark:border-slate-800",children:[u>1?o.jsx(H,{variant:"outline",onClick:()=>d(u-1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:r.back}):o.jsx(H,{variant:"ghost",onClick:()=>e("/dashboard/stores"),className:"dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-800",children:r.cancel}),u<3?o.jsxs(H,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>d(u+1),disabled:u===1&&(!R.name||!R.subdomain),children:[r.next," ",o.jsx(OT,{className:"w-4 h-4 ml-2"})]}):o.jsxs(H,{className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[140px]",onClick:j,disabled:v||!jt.currentUser,children:[v?o.jsx(tb,{className:"w-4 h-4 animate-spin mr-2"}):null,v?r.creating:r.create]})]})]})})},u)]})},ffe=()=>{const{toast:t}=Ut(),e=fs(),n=nn(),{language:s="en"}=rr()||{},r={en:{title:"Products",subtitle:"Manage your store's inventory.",selectStore:"Select Store",addProduct:"Add Product",searchPlaceholder:"Search products...",allCategories:"All Categories",categories:["Electronics","Apparel","Home","Accessories","Sports"],table:{name:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No products found",addModal:{title:"Add New Product",desc:"Enter product details below.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Product"},editModal:{title:"Edit Product",desc:"Update product details.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Changes"},status:{in:"In Stock",low:"Low Stock",out:"Out of Stock"},change:"Change",toast:{productDeleted:"Product Deleted",productDeletedDesc:"Product has been removed successfully.",deleteFailed:"Delete Failed",deleteFailedDesc:"Could not delete product.",saved:"Saved",statusUpdated:"Status updated",updateFailed:"Update Failed",statusUpdateFailed:"Could not update status",productUpdated:"Product updated successfully.",productUpdateFailed:"Could not update product.",success:"Success",productAdded:"Product added successfully.",addFailed:"Add Failed",productAddFailed:"Could not add product.",selectStore:"Select Store",selectStoreDesc:"Please choose a store first.",fileTooLarge:"File too large",fileTooLargeDesc:"Max size is 5MB.",imageUploaded:"Image uploaded",imageSaved:"Product image saved.",imageUpdated:"Product image updated.",uploadFailed:"Upload failed"}},ar:{title:"",subtitle:"  .",selectStore:" ",addProduct:" ",searchPlaceholder:"  ...",allCategories:" ",categories:["","","","",""],table:{name:" ",category:"",price:"",stock:"",status:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",desc:"   .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},editModal:{title:" ",desc:"  .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},status:{in:"",low:" ",out:" "},change:"",toast:{productDeleted:"  ",productDeletedDesc:"   .",deleteFailed:" ",deleteFailedDesc:"  .",saved:" ",statusUpdated:"  ",updateFailed:" ",statusUpdateFailed:"  ",productUpdated:"   .",productUpdateFailed:"  .",success:"",productAdded:"   .",addFailed:" ",productAddFailed:"  .",selectStore:" ",selectStoreDesc:"   .",fileTooLarge:"  ",fileTooLargeDesc:"   5 .",imageUploaded:"  ",imageSaved:"   .",imageUpdated:"   .",uploadFailed:" "}}},i=new URLSearchParams(e.search),a=i.get("store"),l=i.get("add")==="1",[c,u]=p.useState([]),[d,h]=p.useState(!1),[m,g]=p.useState(""),{products:y,loadingProducts:b}=yN(),[_,v]=p.useState(!1),[x,E]=p.useState(null),[A,I]=p.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[R,S]=p.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[T,C]=p.useState(!1),[j,P]=p.useState(!1),[M,k]=p.useState([]),$=["S","M","L","XL","XXL","XXXL"],z=["20/21","22/23","24/25","26/27","28/29","30/31","32/33","34/35","36/37","38/39","40/41","42/43","44/45"];p.useEffect(()=>{if(!a)return;const O=tt(ue,"stores",a,"categories"),Q=Bt(O,_e=>{const X=_e.docs.map(G=>G.data().name);k(X.length>0?X:["General"])});return()=>Q()},[a]),p.useEffect(()=>{let O;const Q=zi(jt,async _e=>{if(_e)try{const X=os(tt(ue,"stores"),ws("ownerUid","==",_e.uid));return O=Bt(X,G=>{const Z=G.docs[0],fe=G.docs.map(ye=>{var Oe;return{id:ye.id,name:((Oe=ye.data())==null?void 0:Oe.name)||ye.id}});u(fe),Z!=null&&Z.id&&!a&&n(`/dashboard/products?store=${Z.id}`,{replace:!0})}),()=>O()}catch(X){console.error("Failed to load stores:",X)}});return()=>{Q&&Q()}},[t,a]),p.useEffect(()=>{l&&h(!0)},[l]);const V=O=>{const Q=O.target.value;n(`/dashboard/products?store=${Q}${l?"&add=1":""}`)},q=async O=>{try{const Q=jt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=os(tt(ue,"stores"),ws("ownerUid","==",Q.uid));let X;if(await new Promise((G,Z)=>{const fe=Bt(_e,ye=>{var Oe;X=(Oe=ye.docs[0])==null?void 0:Oe.id,fe(),G()},Z)}),X=a||X,!X)throw new Error("No store");await vv(Ke(ue,"stores",X,"products",String(O))),t({title:"Product Deleted",description:"Product has been removed successfully.",variant:"destructive"})}catch{t({title:"Delete Failed",description:"Could not delete product.",variant:"destructive"})}},F=async(O,Q)=>{try{const _e=jt.currentUser;if(!_e)throw new Error("Not authenticated");const X=os(tt(ue,"stores"),ws("ownerUid","==",_e.uid));let G;if(await new Promise((Z,fe)=>{const ye=Bt(X,Oe=>{var te;G=(te=Oe.docs[0])==null?void 0:te.id,ye(),Z()},fe)}),G=a||G,!G)throw new Error("No store");await Za(Ke(ue,"stores",G,"products",String(O)),{status:Q}),setProducts(Z=>Z.map(fe=>String(fe.id)===String(O)?{...fe,status:Q}:fe)),t({title:s==="ar"?" ":"Saved",description:s==="ar"?"  ":"Status updated",variant:"success"})}catch{t({title:s==="ar"?" ":"Update Failed",description:s==="ar"?"  ":"Could not update status",variant:"destructive"})}},W=O=>{E(O.id);let Q=[];O.sizes&&Array.isArray(O.sizes)?Q=O.sizes:O.size&&(Q=[O.size]),I({name:O.name||"",price:O.price||"",stock:O.stock??0,category:O.category||"Electronics",status:O.status||"In Stock",image:O.image&&!O.image.includes("supabase")?O.image:"",color:O.color||"",sizes:Q,discount:Number(O.discount??0)}),v(!0)},ae=async O=>{if(O.preventDefault(),!!x)try{const Q=jt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=os(tt(ue,"stores"),ws("ownerUid","==",Q.uid));let X;if(await new Promise((Z,fe)=>{const ye=Bt(_e,Oe=>{var te;X=(te=Oe.docs[0])==null?void 0:te.id,ye(),Z()},fe)}),X=a||X,!X)throw new Error("No store");const G=Ke(ue,"stores",X,"products",String(x));await Za(G,{...A}),v(!1),t({title:"Saved",description:"Product updated successfully.",variant:"success"})}catch{t({title:"Update Failed",description:"Could not update product.",variant:"destructive"})}},ge=async O=>{O.preventDefault();try{const Q=jt.currentUser;if(!Q)throw new Error("Not authenticated");const _e=os(tt(ue,"stores"),ws("ownerUid","==",Q.uid));let X;if(await new Promise((G,Z)=>{const fe=Bt(_e,ye=>{var Oe;X=(Oe=ye.docs[0])==null?void 0:Oe.id,fe(),G()},Z)}),X=a||X,!X)throw new Error("No store");await Lu(tt(ue,"stores",X,"products"),{...R,storeSubdomain:X}),h(!1),S({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),t({title:"Success",description:"Product added successfully.",variant:"success"})}catch{t({title:"Add Failed",description:"Could not add product.",variant:"destructive"})}},ze=async O=>{var X,G;const Q=(X=O.target.files)==null?void 0:X[0];if(!Q)return;if(!(a||((G=c[0])==null?void 0:G.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),O.target.value="";return}if(Q.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),O.target.value="";return}C(!0);try{console.log("Starting image conversion...");const Z=await yf(Q);console.log("Image conversion successful"),S(fe=>({...fe,image:Z})),t({title:"Image uploaded",description:"Product image saved.",variant:"success"})}catch(Z){console.error("Image Upload Error:",Z),t({title:"Upload failed",description:`Error: ${(Z==null?void 0:Z.message)||String(Z)}`,variant:"destructive"})}finally{C(!1),O.target.value=""}},Ze=async O=>{var X,G;const Q=(X=O.target.files)==null?void 0:X[0];if(!Q)return;if(!(a||((G=c[0])==null?void 0:G.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),O.target.value="";return}if(Q.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),O.target.value="";return}P(!0);try{console.log("Starting edit image conversion...");const Z=await yf(Q);console.log("Edit image conversion successful"),I(fe=>({...fe,image:Z})),t({title:"Image uploaded",description:"Product image updated.",variant:"success"})}catch(Z){console.error("Edit Image Upload Error:",Z),t({title:"Upload failed",description:`Error: ${(Z==null?void 0:Z.message)||String(Z)}`,variant:"destructive"})}finally{P(!1),O.target.value=""}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r[s].subtitle})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("select",{value:a||"",onChange:V,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-teal-500 focus:border-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:r[s].selectStore}),c.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]}),o.jsxs(H,{onClick:()=>h(!0),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," ",r[s].addProduct]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-900 p-4 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Qo,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500 dark:text-slate-400"}),o.jsx(ce,{placeholder:r[s].searchPlaceholder,className:"pl-9 bg-slate-50 dark:bg-slate-800 dark:text-white border-slate-200 dark:border-slate-700",value:m,onChange:O=>g(O.target.value)})]}),o.jsx("div",{className:"ml-auto flex gap-2",children:o.jsxs("select",{className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:r[s].allCategories}),r[s].categories.slice(0,3).map(O=>o.jsx("option",{children:O},O))]})})]}),o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.category}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.price}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.stock}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.status}),o.jsx(Ue,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsxs(ql,{children:[(b?[]:y.filter(O=>{var Q;return(Q=O.name)==null?void 0:Q.toLowerCase().includes(m.toLowerCase())})).map(O=>o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(ke,{className:"font-medium text-slate-900 dark:text-slate-100",children:O.name}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:O.category}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:O.price}),o.jsx(ke,{className:"text-slate-600 dark:text-slate-400",children:O.stock}),o.jsx(ke,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{variant:O.status==="In Stock"?"success":O.status==="Low Stock"?"warning":"destructive",children:s==="ar"?O.status==="In Stock"?r.ar.status.in:O.status==="Low Stock"?r.ar.status.low:O.status==="Out of Stock"?r.ar.status.out:O.status:O.status}),o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsx(H,{variant:"outline",size:"sm",className:"h-7 px-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300",children:s==="ar"?"":"Change"})}),o.jsxs(za,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>F(O.id,"In Stock"),children:s==="ar"?r.ar.status.in:r.en.status.in}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>F(O.id,"Low Stock"),children:s==="ar"?r.ar.status.low:r.en.status.low}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>F(O.id,"Out of Stock"),children:s==="ar"?r.ar.status.out:r.en.status.out})]})]})]})}),o.jsx(ke,{className:"text-right",children:o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsx(H,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(rO,{className:"h-4 w-4"})})}),o.jsxs(za,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs(Ot,{className:"cursor-pointer gap-2 dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>W(O),children:[o.jsx($T,{className:"w-4 h-4"})," ",r[s].actions.edit]}),o.jsxs(Ot,{className:"cursor-pointer text-red-600 dark:text-red-400 gap-2 dark:focus:bg-slate-700",onClick:()=>q(O.id),children:[o.jsx(rd,{className:"w-4 h-4"})," ",r[s].actions.delete]})]})]})})]},O.id)),!b&&y.filter(O=>{var Q;return(Q=O.name)==null?void 0:Q.toLowerCase().includes(m.toLowerCase())}).length===0&&o.jsx(Qn,{children:o.jsx(ke,{colSpan:6,className:"text-center text-slate-500 dark:text-slate-400",children:r[s].empty})})]})]})}),o.jsx(Sl,{open:d,onOpenChange:h,children:o.jsxs(io,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:O=>{T&&O.preventDefault()},onEscapeKeyDown:O=>{T&&O.preventDefault()},children:[o.jsxs(ao,{children:[o.jsx(oo,{className:"dark:text-white",children:r[s].addModal.title}),o.jsx(Gu,{children:r[s].addModal.desc})]}),o.jsxs("form",{onSubmit:ge,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"name",children:r[s].addModal.name}),o.jsx(ce,{id:"name",placeholder:s==="ar"?":   ":"e.g. Blue Denim Jeans",value:R.name,onChange:O=>S(Q=>({...Q,name:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"price",children:"Price"}),o.jsx(ce,{id:"price",placeholder:"EGP 0.00",value:R.price,onChange:O=>S(Q=>({...Q,price:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"stock",children:r[s].addModal.stock}),o.jsx(ce,{id:"stock",type:"number",placeholder:"0",value:R.stock,onChange:O=>S(Q=>({...Q,stock:Number(O.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"discount",children:r[s].addModal.discount}),o.jsx(ce,{id:"discount",type:"number",min:"0",max:"100",placeholder:"0",value:R.discount,onChange:O=>S(Q=>({...Q,discount:Number(O.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"image",children:r[s].addModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:ze,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].addModal.imageSizeHint}),T?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].addModal.uploading}):null,R.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:R.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover"}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:"Image selected (Base64)"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"color",children:r[s].addModal.color}),o.jsx(ce,{id:"color",placeholder:": ",value:R.color,onChange:O=>S(Q=>({...Q,color:O.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"size",children:r[s].addModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(O=>o.jsx("div",{onClick:()=>{S(Q=>{const _e=Q.sizes.includes(O)?Q.sizes.filter(X=>X!==O):[...Q.sizes,O];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${R.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.map(O=>o.jsx("div",{onClick:()=>{S(Q=>{const _e=Q.sizes.includes(O)?Q.sizes.filter(X=>X!==O):[...Q.sizes,O];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${R.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"category",children:r[s].addModal.category}),o.jsx("select",{id:"category",value:R.category,onChange:O=>S(Q=>({...Q,category:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:(s==="ar"?r.ar.categories:r.en.categories).map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"status",children:r[s].addModal.status}),o.jsx("select",{id:"status",value:R.status,onChange:O=>S(Q=>({...Q,status:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Nl,{children:o.jsx(H,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})})]})]})}),o.jsx(Sl,{open:_,onOpenChange:v,children:o.jsxs(io,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:O=>{j&&O.preventDefault()},onEscapeKeyDown:O=>{j&&O.preventDefault()},children:[o.jsxs(ao,{children:[o.jsx(oo,{children:r[s].editModal.title}),o.jsx(Gu,{children:r[s].editModal.desc})]}),o.jsxs("form",{onSubmit:ae,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-name",children:r[s].editModal.name}),o.jsx(ce,{id:"edit-name",value:A.name,onChange:O=>I(Q=>({...Q,name:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-price",children:"Price"}),o.jsx(ce,{id:"edit-price",placeholder:"EGP 0.00",value:A.price,onChange:O=>I(Q=>({...Q,price:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-stock",children:r[s].editModal.stock}),o.jsx(ce,{id:"edit-stock",type:"number",value:A.stock,onChange:O=>I(Q=>({...Q,stock:Number(O.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-discount",children:r[s].editModal.discount}),o.jsx(ce,{id:"edit-discount",type:"number",min:"0",max:"100",value:A.discount,onChange:O=>I(Q=>({...Q,discount:Number(O.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-image",children:r[s].editModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"edit-image",type:"file",accept:"image/*",onChange:Ze,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].editModal.imageSizeHint}),j?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].editModal.uploading}):null,A.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:A.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover",onError:O=>{O.target.src="https://placehold.co/100x100?text=Broken+Image"}}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:A.image.startsWith("data:")?"New Image (Base64)":"Existing Image"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-color",children:r[s].editModal.color}),o.jsx(ce,{id:"edit-color",value:A.color,onChange:O=>I(Q=>({...Q,color:O.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-size",children:r[s].editModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(O=>o.jsx("div",{onClick:()=>{I(Q=>{const _e=Q.sizes.includes(O)?Q.sizes.filter(X=>X!==O):[...Q.sizes,O];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${A.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:z.map(O=>o.jsx("div",{onClick:()=>{I(Q=>{const _e=Q.sizes.includes(O)?Q.sizes.filter(X=>X!==O):[...Q.sizes,O];return{...Q,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${A.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-category",children:r[s].editModal.category}),o.jsx("select",{id:"edit-category",value:A.category,onChange:O=>I(Q=>({...Q,category:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:M.map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{htmlFor:"edit-status",children:r[s].editModal.status}),o.jsx("select",{id:"edit-status",value:A.status,onChange:O=>I(Q=>({...Q,status:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Nl,{children:o.jsx(H,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})})]})]})})]})},mfe=()=>{const{toast:t}=Ut(),{orders:e,loadingOrders:n,setOrders:s}=yN(),[r,i]=p.useState(!1),[a,l]=p.useState([]),c=fs(),d=new URLSearchParams(c.search).get("store")||"",{language:h="en"}=rr()||{},m={en:{title:"Orders",subtitle:"Track and manage customer orders.",filter:"Filter",table:{id:"Order ID",customer:"Customer",date:"Date",phone:"Phone",address:"Address",status:"Status",items:"Items",total:"Total",actions:"Actions"},status:{delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected",pending:"Pending",processing:"Processing",shipped:"Shipped"},changeStatus:"Change Status",actions:{processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected"},modal:{title:"Selected Items",close:"Close",empty:"No items in this order",noImage:"No Image",quantity:"Qty:"},toast:{success:"Success",statusUpdated:"Status updated",failed:"Failed",updateFailed:"Could not update status",error:"Error",saveError:"An error occurred while saving"}},ar:{title:"",subtitle:"   .",filter:"",table:{id:" ",customer:"",date:"",phone:"",address:"",status:"",items:"",total:"",actions:""},status:{delivered:" ",cancelled:"",rejected:"",pending:" ",processing:" ",shipped:" "},changeStatus:" ",actions:{processing:" ",shipped:" ",delivered:" ",cancelled:"",rejected:""},modal:{title:" ",close:"",empty:"     ",noImage:" ",quantity:":"},toast:{success:"",statusUpdated:"  ",failed:"",updateFailed:"  ",error:"",saveError:"   "}}},g=async(y,b)=>{let _=!1;try{const{db:v}=await X0(()=>Promise.resolve().then(()=>Ise),void 0),x=new Set([y.id]);y.rootOrderId&&x.add(y.rootOrderId);const E=[];x.forEach(I=>{E.push(Za(Ke(v,"orders",I),{status:b}).then(()=>{_=!0}).catch(()=>{}))}),new Set([d,y._storeId,y.storeSubdomain,y.storeId,y.store].map(I=>String(I||"").trim()).filter(Boolean)).forEach(I=>{x.forEach(R=>{E.push(Za(Ke(v,"stores",I,"orders",R),{status:b}).then(()=>{_=!0}).catch(()=>{}))})}),await Promise.all(E),_?(s(I=>I.map(R=>R.id===y.id||R.rootOrderId&&R.rootOrderId===y.id||y.rootOrderId&&R.id===y.rootOrderId?{...R,status:b}:R)),t({title:m[h].toast.success,description:m[h].toast.statusUpdated,variant:"success"})):t({title:m[h].toast.failed,description:m[h].toast.updateFailed,variant:"destructive"})}catch(v){console.error(v),t({title:m[h].toast.error,description:m[h].toast.saveError,variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:m[h].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:m[h].subtitle})]}),o.jsxs(H,{variant:"outline",className:"gap-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:[o.jsx(vf,{className:"w-4 h-4"})," ",m[h].filter]})]}),o.jsxs(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"bg-slate-50 dark:bg-slate-900/50 hover:bg-slate-50 dark:hover:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.id}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.customer}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.date}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.phone}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.address}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.status}),o.jsx(Ue,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.items}),o.jsx(Ue,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.total}),o.jsx(Ue,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.actions})]})}),o.jsx(ql,{children:e.map(y=>{var b;return o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx(ke,{className:"font-bold text-teal-600 dark:text-teal-400 whitespace-nowrap",children:y.displayId||y.id.replace(/\D/g,"")||y.id}),o.jsx(ke,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:y.customer}),o.jsx(ke,{className:"text-slate-500 dark:text-slate-400 whitespace-nowrap",children:y.date}),o.jsx(ke,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:y.phone}),o.jsx(ke,{className:"max-w-[220px] truncate text-red-600 dark:text-red-400",children:y.address}),o.jsx(ke,{className:"whitespace-nowrap",children:o.jsx(xn,{variant:y.status==="Delivered"?"success":y.status==="Cancelled"||y.status==="Rejected"?"destructive":y.status==="Pending"||y.status==="Processing"?"warning":(y.status==="Shipped","secondary"),children:m[h].status[(b=y.status)==null?void 0:b.toLowerCase()]||y.status})}),o.jsx(ke,{className:"max-w-[260px] truncate whitespace-nowrap",children:o.jsx(H,{variant:"ghost",size:"sm",className:"h-8 px-2 dark:text-slate-300 dark:hover:text-white dark:hover:bg-slate-800",onClick:()=>{l(y.items||[]),i(!0)},children:o.jsx(s1,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})})}),o.jsx(ke,{className:"text-right font-medium text-red-600 dark:text-red-400 whitespace-nowrap",children:y.total}),o.jsx(ke,{className:"text-right whitespace-nowrap",children:o.jsxs(nl,{children:[o.jsx(sl,{asChild:!0,children:o.jsx(H,{variant:"outline",size:"sm",className:"h-8 px-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:m[h].changeStatus})}),o.jsxs(za,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(y,"Processing")},children:m[h].actions.processing}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(y,"Shipped")},children:m[h].actions.shipped}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(y,"Delivered")},children:m[h].actions.delivered}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(y,"Cancelled")},children:m[h].actions.cancelled}),o.jsx(Ot,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await g(y,"Rejected")},children:m[h].actions.rejected})]})]})})]},y.id)})})]})}),r&&o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>i(!1)}),o.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-3xl bg-white dark:bg-slate-900 rounded-2xl shadow-xl border dark:border-slate-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b dark:border-slate-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold dark:text-white",children:m[h].modal.title}),o.jsx(H,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"dark:text-slate-400 dark:hover:text-white",children:m[h].modal.close})]}),o.jsx("div",{className:"p-6 max-h-[65vh] overflow-y-auto space-y-4",children:a.length===0?o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:m[h].modal.empty}):a.map((y,b)=>o.jsxs("div",{className:"flex items-center gap-6 border dark:border-slate-800 rounded-xl p-4 dark:bg-slate-900/50",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden border dark:border-slate-700",children:y.image?o.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:m[h].modal.noImage})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-base font-semibold dark:text-white",children:y.name||""}),o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[m[h].modal.quantity," ",y.quantity??1]})]}),o.jsx("div",{className:"text-base font-medium dark:text-white",children:y.price||""})]},b))})]})]})]})]})};var Wv="Tabs",[pfe,Qme]=Kr(Wv,[Ov]),jF=Ov(),[gfe,vN]=pfe(Wv),RF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Rv(l),[h,m]=kl({prop:s,onChange:r,defaultProp:i??"",caller:Wv});return o.jsx(gfe,{scope:n,baseId:tl(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(Me.div,{dir:d,"data-orientation":a,...u,ref:e})})});RF.displayName=Wv;var PF="TabsList",kF=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=vN(PF,n),a=jF(n);return o.jsx(KU,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:o.jsx(Me.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});kF.displayName=PF;var DF="TabsTrigger",MF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,a=vN(DF,n),l=jF(n),c=LF(a.baseId,s),u=UF(a.baseId,s),d=s===a.value;return o.jsx(WU,{asChild:!0,...l,focusable:!r,active:d,children:o.jsx(Me.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:de(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?a.onValueChange(s):h.preventDefault()}),onKeyDown:de(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(s)}),onFocus:de(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!r&&h&&a.onValueChange(s)})})})});MF.displayName=DF;var OF="TabsContent",VF=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...a}=t,l=vN(OF,n),c=LF(l.baseId,s),u=UF(l.baseId,s),d=s===l.value,h=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(vr,{present:r||d,children:({present:m})=>o.jsx(Me.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});VF.displayName=OF;function LF(t,e){return`${t}-trigger-${e}`}function UF(t,e){return`${t}-content-${e}`}var yfe=RF,FF=kF,zF=MF,BF=VF;const xN=yfe,Yv=p.forwardRef(({className:t,...e},n)=>o.jsx(FF,{ref:n,className:me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Yv.displayName=FF.displayName;const cr=p.forwardRef(({className:t,...e},n)=>o.jsx(zF,{ref:n,className:me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));cr.displayName=zF.displayName;const ur=p.forwardRef(({className:t,...e},n)=>o.jsx(BF,{ref:n,className:me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ur.displayName=BF.displayName;const vfe=()=>{const{toast:t}=Ut(),{language:e="en",currentUser:n}=rr()||{},s=fs(),i=new URLSearchParams(s.search).get("store"),[a,l]=p.useState(""),[c,u]=p.useState("en"),[d,h]=p.useState(""),[m,g]=p.useState("default"),[y,b]=p.useState(""),[_,v]=p.useState(!1);p.useEffect(()=>{i&&sr(Ke(ue,"stores",i)).then(I=>{if(I.exists()){const R=I.data();l(R.whatsappNumber||""),u(R.storeLanguage||"en"),h(R.name||""),g(R.template||"default"),b(R.customDomain||"")}})},[i]);const x={en:{title:"Store Settings",subtitle:"Configure your store's payment and shipping methods.",tabs:{general:"General",payment:"Payment Methods",shipping:"Shipping Options",contact:"Contact Info",domain:"Domain"},general:{title:"General Settings",desc:"Basic configuration for your store.",email:"Email Address",language:"Store Language",name:"Store Name",template:"Store Template",templates:{default:"Default Standard",mobile:"Mobile Services & Digital",spare_parts:"Spare Parts & Hardware",restaurant:"Restaurant & Cafe",digital:"Digital Products"},ar:"Arabic",en:"English"},domain:{title:"Custom Domain",desc:"Connect your own domain to your store.",label:"Domain Name",placeholder:"e.g. example.com",instructions:"Instructions",dnsStep:"Add a CNAME record in your DNS settings:",host:"Host",value:"Value",save:"Save Domain"},acceptPayments:{title:"Accept Payments",desc:"Setup how you want to receive money from customers."},paymob:{title:"Paymob Integration",desc:"Credit cards, wallets, and installments.",connect:"Connect"},stripe:{title:"Stripe",desc:"Accept international payments securely.",connect:"Connect"},cod:{title:"Cash on Delivery (COD)",desc:"Allow customers to pay when they receive the order.",fee:"Additional Fee (Optional)"},shippingMethods:{title:"Shipping Methods",desc:"Define how you deliver products."},flatRate:{label:"Flat Rate Shipping",hint:"Standard fee for all orders."},freeThreshold:{label:"Free Shipping Threshold",hint:"Free shipping for orders above this amount."},integrations:{title:"Integrations",bosta:{title:"Bosta Shipping",desc:"Automated shipping and tracking.",configure:"Configure"}},contact:{title:"Contact Information",desc:"Manage how customers can reach you.",whatsapp:"WhatsApp Number"},save:"Save Changes",toastSaved:{title:"Settings Saved",desc:"Your store settings have been updated."}},ar:{title:" ",subtitle:"    .",tabs:{payment:" ",shipping:" ",contact:" ",general:"",domain:""},general:{title:" ",desc:"  .",email:" ",language:" ",name:" ",template:" ",templates:{default:" ",mobile:"  ",spare_parts:"  ",restaurant:" ",digital:"  "},ar:"",en:""},domain:{title:" ",desc:"   .",label:" ",placeholder:": example.com",instructions:" ",dnsStep:"  CNAME   DNS  :",host:" (Host)",value:" (Value)",save:" "},acceptPayments:{title:" ",desc:"     ."},paymob:{title:" Paymob",desc:"   .",connect:""},stripe:{title:"Stripe",desc:"   .",connect:""},cod:{title:"  ",desc:"     .",fee:"  ()"},shippingMethods:{title:" ",desc:"   ."},flatRate:{label:"  ",hint:"   ."},freeThreshold:{label:"  ",hint:"     ."},integrations:{title:"",bosta:{title:"Bosta ",desc:"  .",configure:""}},contact:{title:" ",desc:"     .",whatsapp:" "},save:" ",toastSaved:{title:"  ",desc:"   ."}}},E=async()=>{if(i){v(!0);try{await Za(Ke(ue,"stores",i),{whatsappNumber:a,storeLanguage:c,name:d,template:m,customDomain:y.trim().toLowerCase()}),t({title:x[e].toastSaved.title,description:x[e].toastSaved.desc,variant:"success"})}catch(I){console.error("Error saving settings:",I),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{v(!1)}}},A={}.VITE_MAIN_DOMAIN||"naweshop.com";return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:x[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:x[e].subtitle})]}),o.jsxs(xN,{defaultValue:"general",className:"w-full",children:[o.jsxs(Yv,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 h-auto gap-2 max-w-[900px] mb-8 dark:bg-slate-800 p-1",children:[o.jsx(cr,{value:"general",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:x[e].tabs.general}),o.jsx(cr,{value:"domain",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:x[e].tabs.domain}),o.jsx(cr,{value:"payment",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:x[e].tabs.payment}),o.jsx(cr,{value:"shipping",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:x[e].tabs.shipping}),o.jsx(cr,{value:"contact",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:x[e].tabs.contact})]}),o.jsx(ur,{value:"general",className:"space-y-6",children:o.jsxs(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg",children:o.jsx(a1,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),o.jsxs("div",{children:[o.jsx(_t,{className:"dark:text-white",children:x[e].general.title}),o.jsx(ln,{className:"dark:text-slate-400",children:x[e].general.desc})]})]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].general.email}),o.jsx(ce,{value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-slate-100 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-400 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].general.name}),o.jsx(ce,{value:d,onChange:I=>h(I.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].general.template}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:m,onChange:I=>g(I.target.value),children:[o.jsx("option",{value:"default",children:x[e].general.templates.default}),o.jsx("option",{value:"mobile",children:x[e].general.templates.mobile}),o.jsx("option",{value:"spare_parts",children:x[e].general.templates.spare_parts}),o.jsx("option",{value:"restaurant",children:x[e].general.templates.restaurant}),o.jsx("option",{value:"digital",children:x[e].general.templates.digital})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].general.language}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:c,onChange:I=>u(I.target.value),children:[o.jsx("option",{value:"en",children:x[e].general.en}),o.jsx("option",{value:"ar",children:x[e].general.ar})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(H,{onClick:E,disabled:_,className:"bg-teal-600 hover:bg-teal-700 text-white",children:_?"Saving...":x[e].general.title===" "?" ":"Save Changes"})})]})]})}),o.jsx(ur,{value:"domain",className:"space-y-6",children:o.jsxs(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg",children:o.jsx(Wa,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),o.jsxs("div",{children:[o.jsx(_t,{className:"dark:text-white",children:x[e].domain.title}),o.jsx(ln,{className:"dark:text-slate-400",children:x[e].domain.desc})]})]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].domain.label}),o.jsx(ce,{value:y,onChange:I=>b(I.target.value),placeholder:x[e].domain.placeholder,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e==="ar"?"   http://  https://":"Enter domain without http:// or https://"})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:x[e].domain.instructions}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:x[e].domain.dnsStep}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"p-2 bg-white dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"block text-xs text-slate-500",children:x[e].domain.host}),o.jsx("code",{className:"font-mono text-slate-800 dark:text-slate-200",children:"@"})]}),o.jsxs("div",{className:"p-2 bg-white dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"block text-xs text-slate-500",children:x[e].domain.value}),o.jsx("code",{className:"font-mono text-slate-800 dark:text-slate-200",children:A})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(H,{onClick:E,disabled:_,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:_?"Saving...":x[e].domain.save})})]})]})}),o.jsx(ur,{value:"contact",className:"space-y-6",children:o.jsxs(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:o.jsx(BT,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx(_t,{className:"dark:text-white",children:x[e].contact.title}),o.jsx(ln,{className:"dark:text-slate-400",children:x[e].contact.desc})]})]})}),o.jsx(Qe,{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].contact.whatsapp}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(ce,{placeholder:"e.g. +201xxxxxxxxx",value:a,onChange:I=>l(I.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e==="ar"?"      (: +20...)":"Enter full number with country code (e.g. +20...)"})]})})]})}),o.jsx(ur,{value:"payment",className:"space-y-6",children:o.jsxs(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/20 rounded-lg",children:o.jsx(PG,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),o.jsxs("div",{children:[o.jsx(_t,{className:"dark:text-white",children:x[e].acceptPayments.title}),o.jsx(ln,{className:"dark:text-slate-400",children:x[e].acceptPayments.desc})]})]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-100 dark:bg-slate-800 rounded flex items-center justify-center font-bold text-slate-600 dark:text-slate-400",children:"Pay"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:x[e].paymob.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:x[e].paymob.desc})]})]}),o.jsx(H,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:x[e].paymob.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded flex items-center justify-center font-bold text-blue-600 dark:text-blue-400",children:"S"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:x[e].stripe.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:x[e].stripe.desc})]})]}),o.jsx(H,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:x[e].stripe.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded flex items-center justify-center font-bold text-green-600 dark:text-green-400",children:"$"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:x[e].cod.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:x[e].cod.desc})]})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 text-teal-600 rounded border-gray-300 dark:border-slate-600 focus:ring-teal-500 dark:bg-slate-700",defaultChecked:!0})})]}),o.jsxs("div",{className:"pl-14",children:[o.jsx(re,{className:"text-xs dark:text-slate-400",children:x[e].cod.fee}),o.jsx(ce,{className:"max-w-[150px] mt-1 dark:bg-slate-800 dark:border-slate-700 dark:text-white",placeholder:"e.g. 10 EGP"})]})]})]})]})}),o.jsx(ur,{value:"shipping",className:"space-y-6",children:o.jsxs(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(wt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:o.jsx(Wa,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),o.jsxs("div",{children:[o.jsx(_t,{className:"dark:text-white",children:x[e].shippingMethods.title}),o.jsx(ln,{className:"dark:text-slate-400",children:x[e].shippingMethods.desc})]})]})}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].flatRate.label}),o.jsx(ce,{placeholder:"e.g. 50.00",defaultValue:"50.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:x[e].flatRate.hint})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:x[e].freeThreshold.label}),o.jsx(ce,{placeholder:"e.g. 1000.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:x[e].freeThreshold.hint})]})]}),o.jsxs("div",{className:"border-t dark:border-slate-800 pt-6",children:[o.jsx("h4",{className:"font-medium mb-4 dark:text-white",children:x[e].integrations.title}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-50 dark:bg-red-900/20 rounded flex items-center justify-center font-bold text-red-600 dark:text-red-400",children:"B"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:x[e].integrations.bosta.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:x[e].integrations.bosta.desc})]})]}),o.jsx(H,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:x[e].integrations.bosta.configure})]})]})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(H,{onClick:E,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[o.jsx(a1,{className:"w-4 h-4 mr-2"})," ",x[e].save]})})]})},xfe=()=>{const{toast:t}=Ut(),{language:e="en"}=rr()||{},n={en:{title:"Banners",subtitle:"Edit the storefront banners and popups.",tabs:{hero:"Hero Banner",popup:"Welcome Popup"},form:{title:"Title",subtitle:"Subtitle",cta:"CTA Text",bgUrl:"Banner Images",uploadBtn:"Add Image",uploading:"Uploading...",save:"Save Changes",saving:"Saving...",sizeHint:"Recommended size: 1920720 (10MB)",popupEnabled:"Enable Welcome Popup",popupTitle:"Popup Title",popupText:"Popup Message",popupImage:"Popup Image",popupSizeHint:"Recommended size: 800x600 (10MB)",popupDesc:"Show a popup to visitors when they first visit your store",popupTitlePh:"e.g. Welcome to our Store!",popupTextPh:"e.g. Sign up for our newsletter to get 10% off."},toast:{saveOk:"Settings saved successfully",saveErr:"Failed to save settings",uploadOk:"Image uploaded successfully",uploadErr:"Image upload failed. Check Storage config.",sizeWarn:"Image resolution is low. Use ~1920720 for best quality.",noStore:"No store selected. Please create a store first."},preview:{title:"Preview Title",subtitle:"Preview subtitle",cta:"CTA",welcome:"Welcome!",previewMsg:"This is a preview of your popup message.",gotIt:"Got it",disabled:"Popup is disabled",enableToSee:"Enable it to see a preview",noImg:"No Img"}},ar:{title:"",subtitle:"     .",tabs:{hero:" ",popup:" "},form:{title:"",subtitle:"",cta:"  ",bgUrl:" ",uploadBtn:" ",uploading:" ...",save:" ",saving:" ...",sizeHint:"  : 1920720 (10MB)",popupEnabled:"  ",popupTitle:" ",popupText:" ",popupImage:" ",popupSizeHint:"  : 800x600 (10MB)",popupDesc:"       ",popupTitlePh:":    !",popupTextPh:":        10%."},toast:{saveOk:"   ",saveErr:"  ",uploadOk:"   ",uploadErr:"  .    .",sizeWarn:"  .   1920720  .",noStore:"   .    ."},preview:{title:" ",subtitle:" ",cta:"",welcome:"!",previewMsg:"   .",gotIt:"",disabled:" ",enableToSee:"  ",noImg:" "}}},[s,r]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(""),[u,d]=p.useState([]),[h,m]=p.useState({x:50,y:50}),[g,y]=p.useState(0);p.useEffect(()=>{if(u.length<=1)return;const X=setInterval(()=>{y(G=>(G+1)%u.length)},1e3);return()=>clearInterval(X)},[u]);const[b,_]=p.useState(!1),[v,x]=p.useState(""),[E,A]=p.useState(""),[I,R]=p.useState(""),[S,T]=p.useState(!1),[C,j]=p.useState(!1),P=p.useRef(null),M=p.useRef(null),k=fs(),$=p.useMemo(()=>new URLSearchParams(k.search),[k.search]),[z,V]=p.useState($.get("store")||"");p.useEffect(()=>{let X;const G=async Z=>{try{let fe=z;if(!fe&&Z){const te=os(tt(ue,"stores"),ws("ownerUid","==",Z)),Te=await Cm(te);Te.empty||(fe=Te.docs[0].id,V(fe))}if(!fe)return;const ye=Ke(ue,"stores",fe,"banners","default"),Oe=await sr(ye);if(Oe.exists()){const te=Oe.data();r(te.title||""),a(te.subtitle||""),c(te.ctaText||"");let Te=te.bannerImages||[];if(Te.length===0&&te.backgroundImageUrl){const Gt=te.backgroundImageUrl;Gt.includes("supabase")||(Te=[Gt])}d(Te),m(te.bannerPos||{x:50,y:50}),_(te.popupEnabled||!1),x(te.popupTitle||""),A(te.popupText||"");const We=te.popupImage||"";R(We.includes("supabase")?"":We)}else fe==="car"||(r("Summer Collection 2025"),a("Discover the latest trends in fashion and accessories. Quality that speaks for itself."),c("Shop Now"))}catch(fe){console.error("Load error:",fe)}};return X=zi(jt,Z=>{Z&&G(Z.uid)}),()=>X()},[z]);const q=async()=>{if(!z){t({title:n[e].toast.saveErr,description:n[e].toast.noStore});return}T(!0);try{const X=Ke(ue,"stores",z,"banners","default"),G={title:s||"",subtitle:i||"",ctaText:l||"",bannerImages:u,backgroundImageUrl:u[0]||"",bannerPos:h,popupEnabled:b||!1,popupTitle:v||"",popupText:E||"",popupImage:I||"",updatedAt:Date.now()};await Ll(X,G,{merge:!0}),t({title:n[e].toast.saveOk})}catch(X){console.error("Error saving banner:",X);let G=X.message;X.code==="permission-denied"&&(G=e==="ar"?"     .":"You do not have permission to edit this store."),t({title:n[e].toast.saveErr,description:G})}finally{T(!1)}},F=async(X,G)=>{var fe;const Z=(fe=X.target.files)==null?void 0:fe[0];if(Z){if(Z.size>10*1024*1024){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .      10 .":"Image too large. Must be under 10MB."});return}if(!z){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .":"No store selected."});return}j(!0);try{const ye=await yf(Z);G===d?d(Oe=>[...Oe,ye]):G(ye),t({title:n[e].toast.uploadOk})}catch(ye){console.error("Conversion error:",ye),t({title:n[e].toast.uploadErr,description:ye.message})}finally{j(!1),X.target.value=""}}},[W,ae]=p.useState(!1),ge=p.useRef({x:0,y:0}),ze=p.useRef({x:50,y:50}),Ze=p.useRef(null),O=X=>{X.preventDefault(),ae(!0),ge.current={x:X.clientX,y:X.clientY},ze.current={...h}},Q=X=>{if(!W)return;const G=Ze.current;if(!G)return;const Z=X.clientX-ge.current.x,fe=X.clientY-ge.current.y,ye=Z/G.offsetWidth*100,Oe=fe/G.offsetHeight*100;let te=ze.current.x-ye,Te=ze.current.y-Oe;te=Math.max(0,Math.min(100,te)),Te=Math.max(0,Math.min(100,Te)),m({x:te,y:Te})},_e=()=>{ae(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:n[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:n[e].subtitle})]}),o.jsx(H,{onClick:q,disabled:S,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[120px]",children:S?n[e].form.saving:n[e].form.save})]}),o.jsxs(xN,{defaultValue:"hero",className:"w-full",children:[o.jsxs(Yv,{className:"grid w-full grid-cols-2 max-w-[400px] dark:bg-slate-800",children:[o.jsx(cr,{value:"hero",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.hero}),o.jsx(cr,{value:"popup",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.popup})]}),o.jsx(ur,{value:"hero",className:"space-y-6 mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.title}),o.jsx(ce,{value:s,onChange:X=>r(X.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.subtitle}),o.jsx(ce,{value:i,onChange:X=>a(X.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.cta}),o.jsx(ce,{value:l,onChange:X=>c(X.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.bgUrl}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 mt-2",children:[u.map((X,G)=>o.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 group",children:[o.jsx("img",{src:X,alt:`Banner ${G}`,className:"w-full h-full object-cover"}),o.jsxs(H,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(Z=>Z.filter((fe,ye)=>ye!==G)),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 6h18"}),o.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),o.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]})]},G)),o.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-lg aspect-video cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",onClick:()=>{var X;return(X=P.current)==null?void 0:X.click()},children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400 dark:text-slate-500 mb-2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:C?n[e].form.uploading:n[e].form.uploadBtn})]})]}),o.jsx("div",{className:"hidden",children:o.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:X=>F(X,d)})}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n[e].form.sizeHint})]})]})}),o.jsxs(oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx("div",{className:"rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{ref:Ze,onMouseDown:O,onMouseMove:Q,onMouseUp:_e,onMouseLeave:_e,className:"relative p-8 md:p-12 text-white transition-all duration-1000 ease-in-out",style:{backgroundImage:u.length>0?`url(${u[g]})`:"linear-gradient(to left, rgba(13,148,136,0.2), transparent)",backgroundSize:"cover",backgroundPosition:`${h.x}% ${h.y}%`,minHeight:220,cursor:W?"grabbing":"grab"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg pointer-events-none",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-md",children:s||n[e].preview.title}),o.jsx("p",{className:"text-slate-100 mb-6 text-lg font-medium drop-shadow-sm",children:i||n[e].preview.subtitle}),o.jsx(H,{className:"bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-400 hover:to-emerald-500 text-white px-6 py-2 h-auto rounded-full shadow-lg border border-white/20",children:l||n[e].preview.cta})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-slate-900/70 to-transparent pointer-events-none"})]})}),o.jsx("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500 mt-2",children:e==="ar"?"    ":"Drag image to adjust position"})]})]})}),o.jsx(ur,{value:"popup",className:"mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Ye,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Qe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-slate-50 dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-base font-medium dark:text-slate-200",children:n[e].form.popupEnabled}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n[e].form.popupDesc})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",checked:b,onChange:X=>_(X.target.checked),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 border-gray-300 dark:border-slate-600 dark:bg-slate-700"})})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupTitle}),o.jsx(ce,{value:v,onChange:X=>x(X.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700",placeholder:n[e].form.popupTitlePh})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupText}),o.jsx("textarea",{value:E,onChange:X=>A(X.target.value),className:"flex min-h-[80px] w-full rounded-md border border-input bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700",placeholder:n[e].form.popupTextPh})]}),o.jsxs("div",{children:[o.jsx(re,{className:"dark:text-slate-200",children:n[e].form.popupImage}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-md overflow-hidden border dark:border-slate-700",children:I?o.jsx("img",{src:I,alt:"Popup",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:n[e].preview.noImg})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:X=>F(X,R),className:"hidden"}),o.jsx(H,{disabled:C,variant:"outline",size:"sm",onClick:()=>{var X;return(X=M.current)==null?void 0:X.click()},className:"w-full dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:C?n[e].form.uploading:n[e].form.uploadBtn}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1",children:n[e].form.popupSizeHint})]})]})]})]})}),o.jsx("div",{className:"flex items-center justify-center bg-slate-100/50 rounded-xl border border-dashed border-slate-300 p-6 min-h-[400px]",children:b?o.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-2xl overflow-hidden max-w-sm w-full",children:[I&&o.jsx("div",{className:"h-40 w-full bg-slate-100 relative",children:o.jsx("img",{src:I,alt:"Popup",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:v||n[e].preview.welcome}),o.jsx("p",{className:"text-slate-600 text-sm mb-6",children:E||n[e].preview.previewMsg}),o.jsx(H,{className:"w-full bg-teal-600 text-white",children:n[e].preview.gotIt})]})]}):o.jsxs("div",{className:"text-center text-slate-400",children:[o.jsx("p",{children:n[e].preview.disabled}),o.jsx("p",{className:"text-sm",children:n[e].preview.enableToSee})]})})]})})]})]})},bfe=()=>{const{toast:t}=Ut(),e=fs(),n=nn(),{language:s="en"}=rr()||{},r={en:{title:"Categories",subtitle:"Manage your store's product categories.",addCategory:"Add Category",table:{name:"Name",image:"Image",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No categories found",addModal:{title:"Add New Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Category"},editModal:{title:"Edit Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Changes"}},ar:{title:"",subtitle:"   .",addCategory:" ",table:{name:"",image:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",name:" ",image:"  ()",uploading:" ...",save:" "},editModal:{title:" ",name:" ",image:"  ()",uploading:" ...",save:" "}}},a=new URLSearchParams(e.search).get("store"),[l,c]=p.useState([]),[u,d]=p.useState(!0),[h,m]=p.useState(!1),[g,y]=p.useState(!1),[b,_]=p.useState(null),[v,x]=p.useState({name:"",image:""}),[E,A]=p.useState(!1);p.useEffect(()=>{let j;return zi(jt,async P=>{if(!P)return;const M=os(tt(ue,"stores"),ws("ownerUid","==",P.uid));Bt(M,k=>{const $=k.docs[0];if($!=null&&$.id&&!a){n(`/dashboard/categories?store=${$.id}`,{replace:!0});return}if(a){const z=tt(ue,"stores",a,"categories");j=Bt(z,V=>{const q=V.docs.map(F=>({id:F.id,...F.data()}));c(q),d(!1)})}})}),()=>{j&&j()}},[a,n]);const I=async j=>{const P=j.target.files[0];if(P){if(P.size>2*1024*1024){t({title:"Error",description:"Image too large (max 2MB)",variant:"destructive"});return}A(!0);try{const M=await yf(P);x(k=>({...k,image:M}))}catch{t({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{A(!1)}}},R=async()=>{var j;if(!(!((j=v.name)!=null&&j.trim())||!a))try{await Lu(tt(ue,"stores",a,"categories"),{name:v.name.trim(),image:v.image,createdAt:Date.now()}),m(!1),x({name:"",image:""}),t({title:r[s].addModal.save,description:"Success"})}catch(P){t({title:"Error",description:P.message,variant:"destructive"})}},S=async()=>{if(!(!b||!a))try{await Za(Ke(ue,"stores",a,"categories",b),{name:v.name.trim(),image:v.image}),y(!1),_(null),x({name:"",image:""}),t({title:r[s].editModal.save,description:"Success"})}catch(j){t({title:"Error",description:j.message,variant:"destructive"})}},T=async j=>{if(a&&window.confirm("Are you sure?"))try{await vv(Ke(ue,"stores",a,"categories",j)),t({title:"Deleted",description:"Category removed"})}catch(P){t({title:"Error",description:P.message,variant:"destructive"})}},C=j=>{_(j.id),x({name:j.name,image:j.image||""}),y(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r[s].subtitle})]}),o.jsxs(H,{onClick:()=>{x({name:"",image:""}),m(!0)},className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"}),r[s].addCategory]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:o.jsxs(Bl,{children:[o.jsx($l,{children:o.jsxs(Qn,{className:"border-b border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.image}),o.jsx(Ue,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Ue,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsx(ql,{children:l.length===0?o.jsx(Qn,{children:o.jsx(ke,{colSpan:3,className:"text-center py-12 text-slate-500 dark:text-slate-400",children:r[s].empty})}):l.map(j=>o.jsxs(Qn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(ke,{children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 overflow-hidden",children:j.image?o.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs",children:"IMG"})})}),o.jsx(ke,{className:"font-medium text-slate-900 dark:text-slate-100",children:j.name||o.jsx("span",{className:"text-red-500 italic",children:"No Name"})}),o.jsx(ke,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>C(j),className:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx($T,{className:"w-4 h-4"})}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>T(j.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:o.jsx(rd,{className:"w-4 h-4"})})]})})]},j.id))})]})}),o.jsx(Sl,{open:h,onOpenChange:m,children:o.jsxs(io,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(ao,{children:o.jsx(oo,{className:"dark:text-white",children:r[s].addModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].addModal.name}),o.jsx(ce,{value:v.name,onChange:j=>x(P=>({...P,name:j.target.value})),placeholder:"e.g. Electronics",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].addModal.image}),o.jsx(ce,{type:"file",accept:"image/*",onChange:I,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),E&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].addModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Nl,{children:[o.jsx(H,{variant:"outline",onClick:()=>m(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(H,{onClick:R,disabled:!v.name||E,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})]})]})}),o.jsx(Sl,{open:g,onOpenChange:y,children:o.jsxs(io,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(ao,{children:o.jsx(oo,{className:"dark:text-white",children:r[s].editModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].editModal.name}),o.jsx(ce,{value:v.name,onChange:j=>x(P=>({...P,name:j.target.value})),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"dark:text-slate-200",children:r[s].editModal.image}),o.jsx(ce,{type:"file",accept:"image/*",onChange:I,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),E&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].editModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Nl,{children:[o.jsx(H,{variant:"outline",onClick:()=>y(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(H,{onClick:S,disabled:!v.name||E,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})]})]})})]})},wfe=()=>{var u;const[t,e]=p.useState(null),[n,s]=p.useState(null),[r,i]=p.useState(!0);if(p.useEffect(()=>{const d=jt.onAuthStateChanged(h=>{if(h){console.log("Current User ID:",h.uid);const m=Bt(Ke(ue,"users",h.uid),g=>{g.exists()?(console.log("Full user data:",g.data()),s(g.data()),e(g.data().subscription)):(console.log("User document does not exist! Creating default..."),Ll(Ke(ue,"users",h.uid),{uid:h.uid,email:h.email,name:h.displayName||"User",role:"user",status:"pending",createdAt:Df(),subscription:{plan:"free",isActive:!1,startDate:null,endDate:null}},{merge:!0}).then(()=>console.log("Default user document created")).catch(y=>console.error("Error creating default doc:",y)),s(null)),i(!1)});return()=>m()}else i(!1)});return()=>d()},[]),r)return o.jsx("div",{className:"p-8",children:"Loading..."});if(!t||!t.isActive)return o.jsx("div",{className:"p-8",children:o.jsx(Ye,{className:"max-w-md mx-auto",children:o.jsxs(wt,{children:[o.jsx(_t,{className:"text-red-600",children:"   "}),o.jsx(ln,{children:"     ."}),o.jsxs("div",{className:"text-xs text-gray-500 mt-2 p-2 bg-gray-100 rounded text-left",dir:"ltr",children:[o.jsx("p",{className:"font-bold border-b pb-1 mb-1",children:"Debug Info:"}),o.jsxs("p",{children:[o.jsx("span",{className:"font-semibold",children:"User ID:"})," ",(u=jt.currentUser)==null?void 0:u.uid]}),o.jsx("p",{className:"mt-1",children:o.jsx("span",{className:"font-semibold",children:"Full Document Data:"})}),o.jsx("pre",{className:"whitespace-pre-wrap break-all bg-white p-1 rounded border mt-1 max-h-40 overflow-auto",children:JSON.stringify(n||"No document found",null,2)})]})]})})});const a={monthly:" ",quarterly:"  ",yearly:" ",lifetime:"  "},l=d=>d?(d.seconds?new Date(d.seconds*1e3):new Date(d)).toLocaleDateString("ar-EG"):" ",c=()=>{if(t.plan==="lifetime")return" ";if(!t.endDate)return" ";const d=t.endDate.seconds?new Date(t.endDate.seconds*1e3):new Date(t.endDate),h=new Date,m=d-h,g=Math.ceil(m/(1e3*60*60*24));return h>d?"":`${g} `};return o.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:" "}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Ye,{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white border-none shadow-lg",children:[o.jsx(wt,{children:o.jsxs(_t,{className:"flex items-center gap-2",children:[o.jsx(vu,{className:"w-6 h-6"})," "]})}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:a[t.plan]||t.plan}),o.jsx("div",{className:"mt-2 opacity-90",children:" : "})]})]}),o.jsxs(Ye,{children:[o.jsx(wt,{children:o.jsxs(_t,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(VT,{className:"w-5 h-5"})," "]})}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:c()}),o.jsxs("div",{className:"mt-2 text-slate-500",children:[" : ",l(t.endDate)]})]})]}),o.jsxs(Ye,{children:[o.jsx(wt,{children:o.jsxs(_t,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(pG,{className:"w-5 h-5"})," "]})}),o.jsxs(Qe,{children:[o.jsx("div",{className:"text-3xl font-bold text-slate-900",children:l(t.startDate)}),o.jsx("div",{className:"mt-2 text-slate-500",children:"  "})]})]})]})]})};function $F(t,[e,n]){return Math.min(n,Math.max(e,t))}var qF=["PageUp","PageDown"],HF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],GF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yd="Slider",[E_,_fe,Tfe]=Oy(yd),[KF,Xme]=Kr(yd,[Tfe]),[Efe,Qv]=KF(yd),WF=p.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:y,...b}=t,_=p.useRef(new Set),v=p.useRef(0),E=a==="horizontal"?Sfe:Nfe,[A=[],I]=kl({prop:d,defaultProp:u,onChange:P=>{var k;(k=[..._.current][v.current])==null||k.focus(),h(P)}}),R=p.useRef(A);function S(P){const M=Rfe(A,P);j(P,M)}function T(P){j(P,v.current)}function C(){const P=R.current[v.current];A[v.current]!==P&&m(A)}function j(P,M,{commit:k}={commit:!1}){const $=Mfe(i),z=Ofe(Math.round((P-s)/i)*i+s,$),V=$F(z,[s,r]);I((q=[])=>{const F=Cfe(q,V,M);if(Dfe(F,c*i)){v.current=F.indexOf(V);const W=String(F)!==String(q);return W&&k&&m(F),W?F:q}else return q})}return o.jsx(Efe,{scope:t.__scopeSlider,name:n,disabled:l,min:s,max:r,valueIndexToChangeRef:v,thumbs:_.current,values:A,orientation:a,form:y,children:o.jsx(E_.Provider,{scope:t.__scopeSlider,children:o.jsx(E_.Slot,{scope:t.__scopeSlider,children:o.jsx(E,{"aria-disabled":l,"data-disabled":l?"":void 0,...b,ref:e,onPointerDown:de(b.onPointerDown,()=>{l||(R.current=A)}),min:s,max:r,inverted:g,onSlideStart:l?void 0:S,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&j(s,0,{commit:!0}),onEndKeyDown:()=>!l&&j(r,A.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const z=qF.includes(P.key)||P.shiftKey&&HF.includes(P.key)?10:1,V=v.current,q=A[V],F=i*z*M;j(q+F,V,{commit:!0})}}})})})})});WF.displayName=yd;var[YF,QF]=KF(yd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Sfe=p.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,m]=p.useState(null),g=ft(e,E=>m(E)),y=p.useRef(void 0),b=Rv(r),_=b==="ltr",v=_&&!i||!_&&i;function x(E){const A=y.current||h.getBoundingClientRect(),I=[0,A.width],S=bN(I,v?[n,s]:[s,n]);return y.current=A,S(E-A.left)}return o.jsx(YF,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(XF,{dir:b,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const A=x(E.clientX);a==null||a(A)},onSlideMove:E=>{const A=x(E.clientX);l==null||l(A)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:E=>{const I=GF[v?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:I?-1:1})}})})}),Nfe=p.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=p.useRef(null),h=ft(e,d),m=p.useRef(void 0),g=!r;function y(b){const _=m.current||d.current.getBoundingClientRect(),v=[0,_.height],E=bN(v,g?[s,n]:[n,s]);return m.current=_,E(b-_.top)}return o.jsx(YF,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:o.jsx(XF,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:b=>{const _=y(b.clientY);i==null||i(_)},onSlideMove:b=>{const _=y(b.clientY);a==null||a(_)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:b=>{const v=GF[g?"from-bottom":"from-top"].includes(b.key);c==null||c({event:b,direction:v?-1:1})}})})}),XF=p.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=Qv(yd,n);return o.jsx(Me.span,{...u,ref:e,onKeyDown:de(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):qF.concat(HF).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:de(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():s(h)}),onPointerMove:de(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:de(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),JF="SliderTrack",ZF=p.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Qv(JF,n);return o.jsx(Me.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});ZF.displayName=JF;var S_="SliderRange",e8=p.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Qv(S_,n),i=QF(S_,n),a=p.useRef(null),l=ft(e,a),c=r.values.length,u=r.values.map(m=>s8(m,r.min,r.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(Me.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});e8.displayName=S_;var N_="SliderThumb",t8=p.forwardRef((t,e)=>{const n=_fe(t.__scopeSlider),[s,r]=p.useState(null),i=ft(e,l=>r(l)),a=p.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return o.jsx(Afe,{...t,ref:i,index:a})}),Afe=p.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,a=Qv(N_,n),l=QF(N_,n),[c,u]=p.useState(null),d=ft(e,x=>u(x)),h=c?a.form||!!c.closest("form"):!0,m=tN(c),g=a.values[s],y=g===void 0?0:s8(g,a.min,a.max),b=jfe(s,a.values.length),_=m==null?void 0:m[l.size],v=_?Pfe(_,y,l.direction):0;return p.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[o.jsx(E_.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Me.span,{role:"slider","aria-label":t["aria-label"]||b,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:de(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),h&&o.jsx(n8,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},s)]})});t8.displayName=N_;var Ife="RadioBubbleInput",n8=p.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=p.useRef(null),i=ft(r,s),a=Z9(e);return p.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),o.jsx(Me.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});n8.displayName=Ife;function Cfe(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function s8(t,e,n){const i=100/(n-e)*(t-e);return $F(i,[0,100])}function jfe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Rfe(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function Pfe(t,e,n){const s=t/2,i=bN([0,50],[0,s]);return(s-i(e)*n)*n}function kfe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Dfe(t,e){if(e>0){const n=kfe(t);return Math.min(...n)>=e}return!0}function bN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function Mfe(t){return(String(t).split(".")[1]||"").length}function Ofe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var r8=WF,Vfe=ZF,Lfe=e8,Ufe=t8;const i8=p.forwardRef(({className:t,...e},n)=>o.jsxs(r8,{ref:n,className:me("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(Vfe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(Lfe,{className:"absolute h-full bg-primary"})}),o.jsx(Ufe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));i8.displayName=r8.displayName;const Ffe=()=>{const{toast:t}=Ut(),{language:e}=rr()||{language:"en"},n={en:{title:"Product Tools",subtitle:"Optimize your product images easily",tabs:{resize:"Image Resizer",bgRemove:"Background Tool",upscale:"Image Enhancer"},resize:{title:"Resize Image",desc:"Upload an image and set custom dimensions.",upload:"Upload Image",width:"Width (px)",height:"Height (px)",action:"Create / Resize",download:"Download",success:"Image resized successfully!"},bg:{title:"Background Tool (AI Powered)",desc:"Automatically remove background using AI and add custom background.",upload:"Upload Image",transparent:"Transparent Background",color:"Background Color",process:"Process Image",processing:"Processing...",download:"Download Result",success:"Background removed using AI model!",error:"Failed to remove background."},upscale:{title:"Image Enhancer (AI Powered)",desc:"Upscale and enhance low-resolution images using AI.",upload:"Upload Image",info:"This tool uses AI to upscale your image by 2x while reducing noise and enhancing details. It runs entirely in your browser.",action:"Enhance Image",enhancing:"Enhancing...",download:"Download Enhanced Image",success:"Image enhanced and upscaled (2x) successfully!",fallback:"Completed (Fallback)",fallbackDesc:"Image upscaled using high-quality algorithm (AI unavailable).",error:"Failed to upscale image."}},ar:{title:" ",subtitle:"   ",tabs:{resize:"  ",bgRemove:" ",upscale:" "},resize:{title:"  ",desc:"    .",upload:" ",width:" (px)",height:" (px)",action:" /  ",download:"",success:"    !"},bg:{title:"  ( )",desc:"        .",upload:" ",transparent:" ",color:" ",process:" ",processing:" ...",download:" ",success:"   !",error:"  ."},upscale:{title:"  ( )",desc:"       .",upload:" ",info:"        2x     .    .",action:" ",enhancing:" ...",download:"  ",success:"    (2x) !",fallback:" ()",fallbackDesc:"       (   ).",error:"  ."}}},s=n[e]||n.en,[r,i]=p.useState(null),[a,l]=p.useState(null),[c,u]=p.useState(0),[d,h]=p.useState(0),[m,g]=p.useState(1),y=p.useRef(null),[b,_]=p.useState(null),[v,x]=p.useState(null),[E,A]=p.useState(null),[I,R]=p.useState(null),[S,T]=p.useState("#ffffff"),[C,j]=p.useState(!0),[P,M]=p.useState(!1),k=p.useRef(null),[$,z]=p.useState(null),[V,q]=p.useState(null),[F,W]=p.useState(null),[ae,ge]=p.useState(null),[ze,Ze]=p.useState(!1),O=te=>{const Te=te.target.files[0];if(Te){const We=new FileReader;We.onload=Gt=>{const ot=new Image;ot.onload=()=>{i(ot),u(ot.width),h(ot.height),g(ot.width/ot.height),l(ot.src)},ot.src=Gt.target.result},We.readAsDataURL(Te)}},Q=()=>{if(!r||!y.current)return;const te=y.current;te.width=c,te.height=d,te.getContext("2d").drawImage(r,0,0,c,d),l(te.toDataURL("image/png")),t({title:"Success",description:s.resize.success,variant:"default"})},_e=()=>{if(!y.current)return;const te=document.createElement("a");te.download="resized-image.png",te.href=y.current.toDataURL("image/png"),te.click()},X=te=>{const Te=te.target.files[0];if(Te){x(Te);const We=new FileReader;We.onload=Gt=>{const ot=new Image;ot.onload=()=>{_(ot),A(ot.src),R(null)},ot.src=Gt.target.result},We.readAsDataURL(Te)}},G=async()=>{if(v){M(!0);try{console.log("Starting BG removal for:",v.name);const Te=await(()=>new Promise((hn,Ft)=>{if(window.imglyRemoveBackground||window.removeBackground){hn(window.imglyRemoveBackground||window.removeBackground);return}const gt="https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.7.0/dist/imgly-background-removal.min.js",sn=document.querySelector(`script[src="${gt}"]`);if(sn){if(window.imglyRemoveBackground||window.removeBackground){hn(window.imglyRemoveBackground||window.removeBackground);return}sn.addEventListener("load",()=>{hn(window.imglyRemoveBackground||window.removeBackground)}),sn.addEventListener("error",()=>Ft(new Error("Failed to load script")));return}const wr=document.createElement("script");wr.src=gt,wr.crossOrigin="anonymous",wr.onload=()=>{const Bm=window.imglyRemoveBackground||window.removeBackground;Bm?hn(Bm):Ft(new Error("Library loaded but global object not found"))},wr.onerror=()=>Ft(new Error("Failed to load background removal script from CDN")),document.head.appendChild(wr)}))(),We=typeof Te=="function"?Te:Te.default||Te.removeBackground;if(typeof We!="function")throw new Error("Invalid library format: removeBackground is not a function");const Gt=await We(v,{progress:(hn,Ft,gt)=>{console.log(`Downloading ${hn}: ${Ft} of ${gt}`)},publicPath:"https://staticimgly.com/@imgly/background-removal-data/1.7.0/dist/",debug:!0,model:"isnet"}),ot=URL.createObjectURL(Gt);if(C)R(ot),M(!1);else{const hn=new Image;hn.onload=()=>{const Ft=document.createElement("canvas");Ft.width=hn.width,Ft.height=hn.height;const gt=Ft.getContext("2d");gt.fillStyle=S,gt.fillRect(0,0,Ft.width,Ft.height),gt.drawImage(hn,0,0),R(Ft.toDataURL("image/png")),M(!1)},hn.src=ot}t({title:"Success",description:s.bg.success,variant:"default"})}catch(te){console.error("BG Removal Error:",te),t({title:"Error",description:s.bg.error+" "+te.message,variant:"destructive"}),M(!1)}finally{}}},Z=()=>{if(!I)return;const te=document.createElement("a");te.download="processed-image.png",te.href=I,te.click()},fe=te=>{const Te=te.target.files[0];if(Te){q(Te);const We=new FileReader;We.onload=Gt=>{const ot=new Image;ot.onload=()=>{z(ot),W(ot.src),ge(null)},ot.src=Gt.target.result},We.readAsDataURL(Te)}},ye=async()=>{if(V){Ze(!0);try{await X0(()=>import("https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"),[]);const{default:te}=await X0(()=>import("https://cdn.jsdelivr.net/npm/upscaler@latest/dist/browser/esm/upscaler.min.js"),[]),We=await new te({model:{path:"https://unpkg.com/@upscalerjs/default-model@latest/models/model.json",scale:2}}).upscale(F,{patchSize:64,padding:2,progress:Gt=>{console.log(`Upscaling: ${Math.round(Gt*100)}%`)}});ge(We),Ze(!1),t({title:"Success",description:s.upscale.success,variant:"default"})}catch(te){console.error("Upscaling Error:",te);try{console.log("Falling back to canvas sharpening...");const Te=new Image;Te.onload=()=>{const We=document.createElement("canvas");We.width=Te.width*2,We.height=Te.height*2;const Gt=We.getContext("2d");Gt.imageSmoothingEnabled=!0,Gt.imageSmoothingQuality="high",Gt.drawImage(Te,0,0,We.width,We.height),ge(We.toDataURL("image/png")),Ze(!1),t({title:s.upscale.fallback,description:s.upscale.fallbackDesc})},Te.src=F}catch{t({title:"Error",description:s.upscale.error,variant:"destructive"}),Ze(!1)}}}},Oe=()=>{if(!ae)return;const te=document.createElement("a");te.download="enhanced-image.png",te.href=ae,te.click()};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:s.title}),o.jsx("p",{className:"text-sm text-slate-500",children:s.subtitle})]}),o.jsxs(xN,{defaultValue:"resize",className:"w-full",children:[o.jsxs(Yv,{className:"grid w-full grid-cols-3 lg:w-[600px]",children:[o.jsxs(cr,{value:"resize",className:"gap-2",children:[o.jsx(i1,{className:"h-4 w-4"})," ",s.tabs.resize]}),o.jsxs(cr,{value:"bg-remove",className:"gap-2",children:[o.jsx(p2,{className:"h-4 w-4"})," ",s.tabs.bgRemove]}),o.jsxs(cr,{value:"upscale",className:"gap-2",children:[o.jsx(b2,{className:"h-4 w-4"})," ",s.tabs.upscale]})]}),o.jsx(ur,{value:"resize",children:o.jsxs(Ye,{children:[o.jsxs(wt,{children:[o.jsx(_t,{children:s.resize.title}),o.jsx(ln,{children:s.resize.desc})]}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center",children:a?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:a,alt:"Preview",className:"max-h-[300px] object-contain"}),o.jsx(H,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{i(null),l(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(i1,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(re,{htmlFor:"resize-upload",className:"cursor-pointer bg-slate-900 text-white px-4 py-2 rounded hover:bg-slate-800 transition",children:s.resize.upload}),o.jsx(ce,{id:"resize-upload",type:"file",className:"hidden",accept:"image/*",onChange:O})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.resize.width}),o.jsx(ce,{type:"number",value:c,onChange:te=>u(Number(te.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.resize.height}),o.jsx(ce,{type:"number",value:d,onChange:te=>h(Number(te.target.value))})]})]}),o.jsx(H,{onClick:Q,disabled:!r,className:"w-full",children:s.resize.action}),a&&o.jsxs(H,{variant:"outline",onClick:_e,className:"w-full",children:[o.jsx(Hc,{className:"mr-2 h-4 w-4"})," ",s.resize.download]})]})]}),o.jsx("canvas",{ref:y,className:"hidden"})]})]})}),o.jsx(ur,{value:"bg-remove",children:o.jsxs(Ye,{children:[o.jsxs(wt,{children:[o.jsx(_t,{children:s.bg.title}),o.jsx(ln,{children:s.bg.desc})]}),o.jsxs(Qe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]",children:E?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:I||E,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(H,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{_(null),x(null),A(null),R(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(p2,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(re,{htmlFor:"bg-upload",className:"cursor-pointer bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition",children:s.bg.upload}),o.jsx(ce,{id:"bg-upload",type:"file",className:"hidden",accept:"image/*",onChange:X})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"transparent",checked:C,onChange:te=>j(te.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),o.jsx(re,{htmlFor:"transparent",children:s.bg.transparent})]})}),!C&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{children:s.bg.color}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ce,{type:"color",value:S,onChange:te=>T(te.target.value),className:"h-10 w-20 p-1 cursor-pointer"}),o.jsx("span",{className:"text-sm font-mono",children:S})]})]}),o.jsx(H,{onClick:G,disabled:!b||P,className:"w-full bg-teal-600 hover:bg-teal-700",children:P?s.bg.processing:s.bg.process}),I&&o.jsxs(H,{variant:"outline",onClick:Z,className:"w-full border-teal-200 text-teal-700 hover:bg-teal-50",children:[o.jsx(Hc,{className:"mr-2 h-4 w-4"})," ",s.bg.download]})]})]}),o.jsx("canvas",{ref:k,className:"hidden"})]})]})}),o.jsx(ur,{value:"upscale",children:o.jsxs(Ye,{children:[o.jsxs(wt,{children:[o.jsx(_t,{children:s.upscale.title}),o.jsx(ln,{children:s.upscale.desc})]}),o.jsx(Qe,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-slate-50 dark:bg-slate-900",children:F?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:ae||F,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(H,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{z(null),q(null),W(null),ge(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(b2,{className:"h-10 w-10 text-purple-400 mb-2"}),o.jsx(re,{htmlFor:"upscale-upload",className:"cursor-pointer bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition",children:s.upscale.upload}),o.jsx(ce,{id:"upscale-upload",type:"file",className:"hidden",accept:"image/*",onChange:fe})]})})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.upscale.info})}),o.jsx(H,{onClick:ye,disabled:!F||ze,className:"w-full h-12 text-lg bg-purple-600 hover:bg-purple-700",children:ze?o.jsx(o.Fragment,{children:s.upscale.enhancing}):o.jsx(o.Fragment,{children:s.upscale.action})}),ae&&o.jsxs(H,{onClick:Oe,variant:"outline",className:"w-full gap-2 border-purple-200 text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-900/20",children:[o.jsx(Hc,{className:"h-4 w-4"})," ",s.upscale.download]})]})]})})]})})]})]})},Ig=TF,Cg=Hhe,a8=({className:t,...e})=>o.jsx($v,{className:me(t),...e});a8.displayName=$v.displayName;const o8=p.forwardRef(({className:t,...e},n)=>o.jsx(qv,{className:me("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));o8.displayName=qv.displayName;const zfe=cm("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Qh=p.forwardRef(({side:t="right",className:e,children:n,...s},r)=>o.jsxs(a8,{children:[o.jsx(o8,{}),o.jsxs(Hv,{ref:r,className:me(zfe({side:t}),e),...s,children:[o.jsxs(EF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ni,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));Qh.displayName=Hv.displayName;const Xh=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col space-y-2 text-center sm:text-left",t),...e});Xh.displayName="SheetHeader";const l8=({className:t,...e})=>o.jsx("div",{className:me("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});l8.displayName="SheetFooter";const Jh=p.forwardRef(({className:t,...e},n)=>o.jsx(Gv,{ref:n,className:me("text-lg font-semibold text-foreground",t),...e}));Jh.displayName=Gv.displayName;const Bfe=p.forwardRef(({className:t,...e},n)=>o.jsx(Kv,{ref:n,className:me("text-sm text-muted-foreground",t),...e}));Bfe.displayName=Kv.displayName;const c8=p.createContext(),$fe=p.createContext(),qfe=()=>p.useContext(c8),XP=({resolvedStoreId:t})=>{const e=fs(),n=new URLSearchParams(e.search);let s=t||n.get("store")||null;const r=typeof window<"u"?window.location.hostname:"";if(!s&&r)if(r.includes("localhost")){const G=r.split(".");G.length>=2&&G[0]!=="www"&&(s=G[0])}else{const G=r.split(".");if(G.length>2){const Z=G[0];Z!=="www"&&(s=Z)}}const[i,a]=p.useState(null),[l,c]=p.useState(!!s),[u,d]=p.useState({name:"Storefront",logo:null}),[h,m]=p.useState(null),[g,y]=p.useState([]),[b,_]=p.useState(!1);p.useEffect(()=>{if(s){const G=tt(ue,"stores",s,"categories"),Z=Bt(G,fe=>{y(fe.docs.map(ye=>({id:ye.id,...ye.data()})))});return()=>Z()}},[s]),p.useEffect(()=>{let G=!1;return(async()=>{if(c(!0),!s){a(null),d({name:"Storefront",logo:null}),c(!1);return}try{const fe=Ke(ue,"stores",s),ye=await sr(fe);if(!G)if(ye.exists()){const Oe=ye.data();Oe.logo&&Oe.logo.includes("supabase")&&(Oe.logo=null),a({id:s,...Oe}),d({name:Oe.name||s,logo:Oe.logo||null});try{const te=Ke(ue,"stores",s,"banners","default"),Te=await sr(te);if(Te.exists()){const We=Te.data();We.backgroundImageUrl&&We.backgroundImageUrl.includes("supabase")&&(We.backgroundImageUrl=""),m(We)}else m(null)}catch{m(null)}}else a(null),d({name:s,logo:null}),m(null)}catch{G||(a(null),d({name:s,logo:null}),m(null))}finally{G||c(!1)}})(),()=>{G=!0}},[s]);const[v,x]=p.useState(!1),[E,A]=p.useState([]),[I,R]=p.useState(()=>{if(typeof window<"u"){const G=localStorage.getItem("wishlistItems");return G?JSON.parse(G):[]}return[]}),[S,T]=p.useState(!1),[C,j]=p.useState(!1),[P,M]=p.useState(""),[k,$]=p.useState(!1),[z,V]=p.useState(!1),q=(i==null?void 0:i.storeLanguage)||n.get("lang")||"en",F={en:{searchPlaceholder:"Search products...",home:"Home",newArrivals:"New Arrivals",collections:"Collections",sale:"Sale",menu:"Menu",categories:"Categories",allCategories:"All Categories",shoppingCart:"Shopping Cart",emptyCart:"Your cart is empty",startShopping:"Start Shopping",wishlist:"Wishlist",emptyWishlist:"Your wishlist is empty",continueShopping:"Continue Shopping",addToCart:"Add to Cart",remove:"Remove",total:"Total",checkoutNow:"Checkout Now",footer:{storefront:"Storefront",storefrontDesc:"Premium products curated just for you. Quality and satisfaction guaranteed.",shop:"Shop",allProducts:"All Products",featured:"Featured",newArrivals:"New Arrivals",support:"Support",contactUs:"Contact Us",faqs:"FAQs",shippingReturns:"Shipping & Returns",newsletter:"Newsletter",subscribe:"Subscribe to get special offers, free giveaways, and unique deals.",emailPlaceholder:"Email address",join:"Join"}},ar:{searchPlaceholder:"  ...",home:"",newArrivals:" ",collections:"",sale:"",menu:"",categories:"",allCategories:" ",shoppingCart:" ",emptyCart:"  ",startShopping:" ",wishlist:"",emptyWishlist:"  ",continueShopping:" ",addToCart:" ",remove:"",total:"",checkoutNow:" ",footer:{storefront:"",storefrontDesc:"     .   .",shop:"",allProducts:" ",featured:"",newArrivals:" ",support:"",contactUs:" ",faqs:" ",shippingReturns:" ",newsletter:" ",subscribe:"        .",emailPlaceholder:"  ",join:""}}},[W,ae]=p.useState(!1);p.useEffect(()=>{if(h!=null&&h.popupEnabled&&s&&!sessionStorage.getItem(`popupShown_${s}`)){const Z=setTimeout(()=>ae(!0),2e3);return()=>clearTimeout(Z)}},[h,s]);const ge=()=>{ae(!1),sessionStorage.setItem(`popupShown_${s}`,"true")};p.useEffect(()=>{const G=()=>{T(window.scrollY>20)};return window.addEventListener("scroll",G),()=>window.removeEventListener("scroll",G)},[]);const ze=(G,Z=!0)=>{A(fe=>{const ye=G.selectedSize?`${G.id}-${G.selectedSize}`:String(G.id);return fe.find(te=>(te.cartItemId||String(te.id))===ye)?fe.map(te=>(te.cartItemId||String(te.id))===ye?{...te,quantity:te.quantity+(G.quantity||1)}:te):[...fe,{...G,cartItemId:ye,quantity:G.quantity||1}]}),Z&&x(!0)},Ze=G=>{A(Z=>Z.filter(fe=>(fe.cartItemId||String(fe.id))!==G))},O=(G,Z)=>{A(fe=>fe.map(ye=>{if((ye.cartItemId||String(ye.id))===G){const Oe=Math.max(1,ye.quantity+Z);return{...ye,quantity:Oe}}return ye}))},Q=E.reduce((G,Z)=>G+rs(Z.price)*Z.quantity,0);p.useEffect(()=>{localStorage.setItem("wishlistItems",JSON.stringify(I))},[I]);const _e=G=>{R(Z=>Z.find(ye=>ye.id===G.id)?Z.filter(ye=>ye.id!==G.id):[...Z,G])},X=G=>I.some(Z=>Z.id===G);return!l&&!i&&s?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:o.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Kc,{className:"w-10 h-10 text-slate-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Store Not Found"}),o.jsxs("p",{className:"text-slate-500",children:["The store you are looking for (",s,") does not exist."]}),o.jsx(H,{onClick:()=>window.location.href="/",variant:"outline",children:"Go to Home"})]})}):o.jsx(c8.Provider,{value:{cartItems:E,addToCart:ze,removeFromCart:Ze,updateQuantity:O,cartTotal:Q,setCartOpen:x},children:o.jsx($fe.Provider,{value:{wishlistItems:I,toggleWishlist:_e,isInWishlist:X},children:o.jsxs("div",{className:`min-h-screen bg-white font-sans text-slate-900 overflow-x-hidden ${q==="ar"?"font-cairo":""}`,dir:q==="ar"?"rtl":"ltr",children:[o.jsx("header",{className:`fixed top-0 w-full z-40 transition-all duration-300 ${S?"bg-white/90 backdrop-blur-md shadow-lg shadow-slate-200/40 py-2":"bg-white/50 backdrop-blur-sm py-2 md:py-5"}`,children:o.jsx("div",{className:"container mx-auto px-4 flex items-center justify-between h-14 md:h-auto",children:k?o.jsxs("div",{className:"flex items-center w-full gap-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qo,{className:"w-5 h-5 absolute left-3 top-2.5 text-slate-400"}),o.jsx(ce,{type:"text",placeholder:F[q].searchPlaceholder,value:P,onChange:G=>M(G.target.value),className:"pl-10 bg-white border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all rounded-2xl h-11 w-full text-base shadow-sm",autoFocus:!0})]}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>{$(!1),M("")},className:"shrink-0 w-11 h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Ni,{className:"w-6 h-6 text-slate-600"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4 max-w-[60%] md:max-w-none",children:[o.jsxs(rt,{to:"/store",className:"text-lg md:text-2xl font-bold tracking-tighter flex items-center gap-3 truncate group",children:[o.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 bg-gradient-to-tr from-teal-500 to-emerald-500 rounded-xl flex items-center justify-center text-white overflow-hidden shrink-0 shadow-lg shadow-teal-500/20 group-hover:scale-105 transition-transform duration-300",children:u.logo?o.jsx("img",{src:u.logo,alt:"logo",className:"w-full h-full object-contain"}):o.jsx("span",{className:"font-bold text-lg",children:"S"})}),o.jsx("span",{className:"truncate text-xl md:text-2xl text-slate-900",children:u.name})]}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8 ml-10 text-sm font-semibold text-slate-500",children:[o.jsx(rt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:F[q].home}),o.jsx(rt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:F[q].newArrivals}),o.jsx(rt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:F[q].collections}),o.jsx(rt,{to:"/store",className:"hover:text-teal-600 transition-colors",children:F[q].sale})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[o.jsxs("div",{className:"relative hidden md:block w-72",children:[o.jsx(ce,{type:"text",placeholder:F[q].searchPlaceholder,value:P,onChange:G=>M(G.target.value),className:"pl-10 bg-slate-50 border-slate-200 focus:bg-white focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all rounded-2xl h-10 shadow-sm"}),o.jsx(Qo,{className:"w-4 h-4 absolute left-3.5 top-3 text-slate-400"})]}),o.jsx(H,{variant:"ghost",size:"icon",onClick:()=>$(!0),className:"md:hidden w-10 h-10 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Qo,{className:"w-6 h-6 text-slate-600"})}),o.jsxs(Ig,{open:b,onOpenChange:_,children:[o.jsx(Cg,{asChild:!0,children:o.jsx(H,{variant:"ghost",size:"icon",className:"w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(UT,{className:"w-6 h-6 text-slate-600"})})}),o.jsxs(Qh,{side:"left",className:"w-[300px] sm:w-[400px]",children:[o.jsx(Xh,{children:o.jsx(Jh,{className:`text-left font-bold text-xl ${q==="ar"?"text-right":""}`,children:F[q].menu})}),o.jsxs("div",{className:"flex flex-col gap-6 py-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-lg text-slate-900",children:F[q].categories}),o.jsxs("div",{className:"flex flex-col gap-3 pl-2",children:[o.jsx(rt,{to:"/store",onClick:()=>_(!1),className:"text-slate-600 hover:text-teal-600 font-medium transition-colors",children:F[q].allCategories}),g.map(G=>o.jsx(rt,{to:`/store?category=${encodeURIComponent(G.name)}`,onClick:()=>_(!1),className:"text-slate-600 hover:text-teal-600 font-medium transition-colors",children:G.name},G.id))]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx("nav",{className:"flex flex-col gap-4",children:o.jsx(rt,{to:"/store",onClick:()=>_(!1),className:"font-bold hover:text-teal-600",children:F[q].home})})})]})]})]}),o.jsxs(Ig,{open:z,onOpenChange:V,children:[o.jsx(Cg,{asChild:!0,children:o.jsxs(H,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(cl,{className:"w-6 h-6 text-slate-600"}),I.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-600 text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:I.length})]})}),o.jsxs(Qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Xh,{children:o.jsxs(Jh,{className:"font-bold text-xl",children:[F[q].wishlist," (",I.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:I.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(cl,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:F[q].emptyWishlist}),o.jsx(H,{onClick:()=>V(!1),className:"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white rounded-xl px-8 font-bold shadow-lg shadow-teal-600/20",children:F[q].continueShopping})]}):o.jsx("div",{className:"space-y-6",children:I.map(G=>o.jsxs(oe.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:G.name}),o.jsx("p",{className:"text-sm font-bold text-teal-600",children:ct(rs(G.price))})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx(H,{size:"sm",className:"h-8 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded-lg shadow-sm shadow-teal-600/20",onClick:()=>{ze(G),_e(G)},children:F[q].addToCart}),o.jsx("button",{onClick:()=>_e(G),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:F[q].remove})]})]})]},G.id))})})]})]}),o.jsxs(Ig,{open:v,onOpenChange:x,children:[o.jsx(Cg,{asChild:!0,children:o.jsxs(H,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(Kc,{className:"w-6 h-6 text-slate-600"}),E.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-600 text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:E.length})]})}),o.jsxs(Qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Xh,{children:o.jsxs(Jh,{className:"font-bold text-xl",children:[F[q].shoppingCart," (",E.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:E.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(Kc,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:F[q].emptyCart}),o.jsx(H,{onClick:()=>x(!1),className:"bg-slate-900 text-white rounded-xl px-8",children:F[q].startShopping})]}):o.jsx("div",{className:"space-y-6",children:E.map(G=>o.jsxs(oe.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:G.image,alt:G.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:G.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-bold text-teal-600",children:ct(rs(G.price))}),G.selectedSize&&o.jsx(xn,{variant:"outline",className:"text-xs h-5 px-1.5 bg-white border-slate-200 text-slate-600",children:G.selectedSize})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1 border bg-white rounded-lg p-0.5 shadow-sm",children:[o.jsx("button",{onClick:()=>O(G.cartItemId,-1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"-"}),o.jsx("span",{className:"text-xs w-6 text-center font-bold text-slate-900",children:G.quantity}),o.jsx("button",{onClick:()=>O(G.cartItemId,1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"+"})]}),o.jsx("button",{onClick:()=>Ze(G.cartItemId),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:F[q].remove})]})]})]},G.cartItemId||G.id))})}),E.length>0&&o.jsxs(l8,{className:"flex-col sm:flex-col space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between font-medium text-lg",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:ct(Q)})]}),o.jsx(rt,{to:"/store/checkout",onClick:()=>x(!1),className:"w-full",children:o.jsx(H,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-12 text-base",children:"Checkout Now"})})]})]})]})]})]})})}),o.jsx("main",{className:"pt-20 pb-16 min-h-[80vh]",children:o.jsx(CT,{context:{addToCart:ze,filtersOpen:C,setFiltersOpen:j,storeSubdomain:s,store:i,banner:h,searchQuery:P,categories:g,wishlistItems:I,toggleWishlist:_e,isInWishlist:X,lang:q}})}),o.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12 border-t border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 text-sm",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"Storefront"}),o.jsx("p",{className:"mb-4 max-w-xs",children:"Premium products curated just for you. Quality and satisfaction guaranteed."}),o.jsx("div",{className:"flex gap-4"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Shop"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"All Products"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Featured"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"New Arrivals"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Contact Us"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"FAQs"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Shipping & Returns"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Newsletter"}),o.jsx("p",{className:"mb-4",children:"Subscribe to get special offers, free giveaways, and unique deals."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ce,{placeholder:"Email address",className:"bg-slate-800 border-slate-700"}),o.jsx(H,{className:"bg-teal-600 hover:bg-teal-700",children:"Join"})]})]})]})}),o.jsx(Gse,{children:W&&o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:ge,children:o.jsxs(oe.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full relative",onClick:G=>G.stopPropagation(),children:[o.jsx("button",{onClick:ge,className:"absolute top-3 right-3 p-1.5 bg-black/10 hover:bg-black/20 rounded-full transition-colors z-10",children:o.jsx(Ni,{className:"w-5 h-5 text-slate-700"})}),(h==null?void 0:h.popupImage)&&o.jsx("div",{className:"h-48 w-full bg-slate-100 relative",children:o.jsx("img",{src:h.popupImage,alt:"Welcome",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 md:p-8 text-center",children:[(h==null?void 0:h.popupTitle)&&o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:h.popupTitle}),(h==null?void 0:h.popupText)&&o.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed text-sm md:text-base",children:h.popupText}),o.jsx(H,{onClick:ge,className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-11 text-base rounded-xl shadow-lg shadow-teal-600/20",children:"Start Shopping"})]})]})})}),(i==null?void 0:i.whatsappNumber)&&o.jsx("a",{href:`https://wa.me/${i.whatsappNumber.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110","aria-label":"Chat on WhatsApp",children:o.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})]})})})},JP=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l})=>{nn();const c=l(t.price),u=Number(t.discount)||0,d=u>0,h=a(c*(1-u/100));return o.jsxs(oe.div,{whileHover:{y:-5},className:"bg-white dark:bg-slate-900 rounded-2xl md:rounded-3xl overflow-hidden border border-slate-100 dark:border-slate-800 shadow-lg shadow-blue-900/5 group relative",children:[o.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-50 dark:bg-slate-800",children:[d&&o.jsxs("div",{className:"absolute top-2 right-2 md:top-3 md:right-3 z-10 bg-blue-600 text-white text-[10px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1 rounded-full shadow-lg shadow-blue-600/20",children:[u,"% OFF"]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),n(t)},className:`absolute top-2 left-2 md:top-3 md:left-3 z-10 p-1.5 md:p-2 rounded-full backdrop-blur-md transition-colors ${s?"bg-rose-500/10 text-rose-500":"bg-white/30 text-slate-600 hover:bg-white/50"}`,children:o.jsx(cl,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"fill-current":""}`})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-gradient-to-t from-slate-900/80 to-transparent flex gap-2 justify-center",children:o.jsxs(H,{onClick:()=>e({...t,price:d?h:a(c)}),size:"sm",className:"bg-white text-slate-900 hover:bg-blue-50 hover:text-blue-600 rounded-full font-bold shadow-lg",children:[o.jsx(bu,{className:"w-4 h-4 mr-2"})," ",r[i].addToCart]})})]}),o.jsxs("div",{className:"p-3 md:p-5",children:[o.jsxs("div",{className:"mb-1 md:mb-2 flex items-center gap-1",children:[o.jsx(fa,{className:"w-3 h-3 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"4.8"})]}),o.jsx(rt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-sm md:text-base text-slate-900 dark:text-white mb-1 md:mb-2 line-clamp-2 hover:text-blue-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-1 md:gap-2",children:[o.jsx("span",{className:"text-base md:text-xl font-extrabold text-blue-600",children:d?h:a(c)}),d&&o.jsx("span",{className:"text-xs md:text-sm text-slate-400 line-through",children:a(c)})]})]})]})},Hfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{var y,b;const[d,h]=p.useState(null),m=d?t.filter(_=>_.category===d):t,g=t.filter(_=>Number(_.discount)>0).slice(0,4);return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans",children:[o.jsxs("div",{className:"relative overflow-hidden bg-slate-900 text-white min-h-[500px] flex items-center",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[n.backgroundImageUrl||(y=n.bannerImages)!=null&&y[0]?o.jsx("img",{src:n.backgroundImageUrl||((b=n.bannerImages)==null?void 0:b[0]),alt:"Hero",className:"w-full h-full object-cover opacity-40"}):o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900 via-indigo-900 to-slate-900"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10 grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs(oe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[o.jsxs(xn,{className:"mb-4 bg-blue-600/20 text-blue-400 border-blue-500/30 px-3 py-1 text-sm",children:[o.jsx(bf,{className:"w-3 h-3 mr-1"})," New Collection"]}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight tracking-tight",children:n.title||(r==="ar"?"   ":"Next Gen Tech is Here")}),o.jsx("p",{className:"text-lg text-slate-300 mb-8 max-w-lg leading-relaxed",children:n.subtitle||(r==="ar"?"        .":"Discover our premium collection of smartphones and accessories at the best prices.")}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(H,{className:"bg-blue-600 hover:bg-blue-700 text-white rounded-full px-8 h-12 text-lg shadow-lg shadow-blue-600/25",children:n.ctaText||s[r].shopNow}),o.jsx(H,{variant:"outline",className:"border-slate-700 text-white hover:bg-slate-800 rounded-full px-8 h-12 text-lg",children:r==="ar"?" ":"View Offers"})]})]}),o.jsx(oe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"hidden md:block relative",children:o.jsx("div",{className:"relative z-10 bg-gradient-to-tr from-slate-800 to-slate-700 rounded-[2.5rem] p-4 shadow-2xl border border-slate-600 rotate-[-6deg] w-[300px] mx-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-[2rem] h-[550px] overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center text-slate-600",children:o.jsx(o1,{className:"w-16 h-16 opacity-20"})}),g[0]&&o.jsx("img",{src:g[0].image,className:"w-full h-full object-cover",alt:""})]})})})]})]}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:r==="ar"?"  ":"Browse by Category"}),o.jsx("div",{className:"w-20 h-1 bg-blue-600 mx-auto rounded-full"})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx("button",{onClick:()=>h(null),className:`px-6 py-3 rounded-2xl transition-all ${d?"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700":"bg-blue-600 text-white shadow-lg shadow-blue-600/25 scale-105"}`,children:s[r].allCategories}),e.map(_=>o.jsx("button",{onClick:()=>h(_),className:`px-6 py-3 rounded-2xl transition-all ${d===_?"bg-blue-600 text-white shadow-lg shadow-blue-600/25 scale-105":"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:_},_))]})]}),g.length>0&&!d&&o.jsx("div",{className:"py-12 bg-slate-900 text-white overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(bf,{className:"text-yellow-400"}),r==="ar"?" ":"Special Offers"]}),o.jsxs(rt,{to:"/store",className:"text-sm text-blue-400 hover:text-blue-300 flex items-center gap-1",children:[r==="ar"?" ":"View All"," ",o.jsx(OT,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:g.map(_=>o.jsx(JP,{product:_,onAdd:i,onToggleWishlist:a,isWishlisted:l(_.id),t:s,lang:r,formatCurrency:c,parsePrice:u},_.id))})]})}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-8",children:d||(r==="ar"?" ":"All Products")}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:m.map(_=>o.jsx(JP,{product:_,onAdd:i,onToggleWishlist:a,isWishlisted:l(_.id),t:s,lang:r,formatCurrency:c,parsePrice:u},_.id))}),m.length===0&&o.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700",children:o.jsx("p",{className:"text-slate-500",children:s[r].noProducts.default})})]})]})},Gfe=({product:t,viewMode:e,onAdd:n,onToggleWishlist:s,isWishlisted:r,t:i,lang:a,formatCurrency:l,parsePrice:c})=>{const u=c(t.price),d=Number(t.discount)||0,h=d>0,m=l(u*(1-d/100));return e==="list"?o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg p-4 flex items-center gap-4 transition-all hover:shadow-md",children:[o.jsx("div",{className:"w-24 h-24 shrink-0 bg-slate-100 rounded-md overflow-hidden relative",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(xn,{variant:"outline",className:"rounded-sm text-[10px] uppercase tracking-wider text-slate-500",children:t.category||"Part"}),t.stock>0?o.jsxs("span",{className:"text-[10px] text-green-600 font-medium flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"})," In Stock"]}):o.jsx("span",{className:"text-[10px] text-red-600 font-medium",children:"Out of Stock"})]}),o.jsx(rt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 text-lg hover:text-orange-600 truncate",children:t.name})}),o.jsxs("p",{className:"text-sm text-slate-500 line-clamp-1 mt-1",children:["Part No: ",t.id.substring(0,8).toUpperCase()]})]}),o.jsxs("div",{className:"text-right shrink-0",children:[o.jsx("div",{className:"text-xl font-bold text-slate-900 mb-2",children:h?m:l(u)}),o.jsx(H,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",className:"bg-slate-900 hover:bg-orange-600 text-white w-full",children:i[a].addToCart})]})]}):o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg overflow-hidden transition-all hover:shadow-lg",children:[o.jsxs("div",{className:"aspect-[4/3] bg-slate-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("button",{onClick:g=>{g.stopPropagation(),s(t)},className:`p-1.5 rounded-md ${r?"bg-rose-50 text-rose-500":"bg-white/80 text-slate-400 hover:text-rose-500"}`,children:o.jsx(cl,{className:`w-4 h-4 ${r?"fill-current":""}`})})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h&&o.jsxs("div",{className:"absolute bottom-0 left-0 bg-orange-600 text-white text-xs font-bold px-2 py-1",children:["SAVE ",d,"%"]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-2",children:o.jsx(xn,{variant:"secondary",className:"rounded-sm text-[10px] bg-slate-100 text-slate-600",children:t.category||"General"})}),o.jsx(rt,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 mb-2 line-clamp-2 hover:text-orange-600 h-10 leading-tight",children:t.name})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("span",{className:"font-bold text-lg text-slate-900",children:h?m:l(u)}),o.jsx(H,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",variant:"ghost",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-0 h-auto font-bold",children:i[a].addToCart})]})]})]})},Kfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{const[d,h]=p.useState(null),[m,g]=p.useState("grid"),[y,b]=p.useState(""),_=t.filter(v=>{const x=d?v.category===d:!0,E=y?v.name.toLowerCase().includes(y.toLowerCase()):!0;return x&&E});return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[o.jsx("div",{className:"bg-slate-900 text-white py-12 border-b-4 border-orange-500",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-bold tracking-widest text-sm mb-2",children:[o.jsx(Fy,{className:"w-4 h-4 animate-spin-slow"}),r==="ar"?"  ":"GENUINE SPARE PARTS"]}),o.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-4 uppercase",children:n.title||(r==="ar"?"  ":"Parts Center")}),o.jsx("p",{className:"text-slate-400 max-w-lg",children:n.subtitle||(r==="ar"?"     .":"Find the exact part you need for your device repair.")})]}),o.jsxs("div",{className:"w-full md:w-auto bg-white p-4 rounded-lg shadow-xl md:min-w-[400px]",children:[o.jsx("label",{className:"text-slate-900 text-sm font-bold mb-2 block",children:r==="ar"?" ":"Quick Part Search"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Qo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),o.jsx(ce,{placeholder:r==="ar"?"   ...":"Part Name or Model...",className:"pl-9 bg-slate-50 border-slate-200 text-slate-900",value:y,onChange:v=>b(v.target.value)})]}),o.jsx(H,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:r==="ar"?"":"Search"})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8",children:[o.jsx("aside",{className:"w-full md:w-64 shrink-0",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden sticky top-24",children:[o.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 font-bold text-slate-800 flex items-center gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," ",s[r].categories]}),o.jsxs("div",{className:"divide-y divide-slate-100",children:[o.jsx("button",{onClick:()=>h(null),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d?"text-slate-600":"font-bold text-orange-700 bg-orange-50"}`,children:s[r].allCategories}),e.map(v=>o.jsxs("button",{onClick:()=>h(v),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d===v?"font-bold text-orange-700 bg-orange-50":"text-slate-600"}`,children:[v,o.jsx("span",{className:"bg-slate-100 text-slate-500 text-[10px] px-1.5 py-0.5 rounded-full",children:t.filter(x=>x.category===v).length})]},v))]})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-3 rounded-lg border border-slate-200",children:[o.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing ",o.jsx("span",{className:"text-slate-900 font-bold",children:_.length})," parts"]}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-md",children:[o.jsx("button",{onClick:()=>g("grid"),className:`p-1.5 rounded ${m==="grid"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(wG,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>g("list"),className:`p-1.5 rounded ${m==="list"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(TG,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:m==="grid"?"grid grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:_.map(v=>o.jsx(Gfe,{product:v,viewMode:m,onAdd:i,onToggleWishlist:a,isWishlisted:l(v.id),t:s,lang:r,formatCurrency:c,parsePrice:u},v.id))}),_.length===0&&o.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-slate-200 rounded-lg",children:[o.jsx(DG,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No parts found"}),o.jsx("p",{className:"text-slate-500",children:"Try adjusting your search or category."})]})]})]})]})},Wfe=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l})=>{nn();const c=l(t.price),u=Number(t.discount)||0,d=u>0,h=a(c*(1-u/100));return o.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white dark:bg-zinc-900 rounded-3xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{className:"relative h-36 md:h-48 overflow-hidden",children:[d&&o.jsxs("div",{className:"absolute top-2 left-2 md:top-3 md:left-3 z-10 bg-red-500 text-white text-[10px] md:text-xs font-bold px-2 py-0.5 md:px-3 md:py-1 rounded-full shadow-lg",children:[u,"% OFF"]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),n(t)},className:`absolute top-2 right-2 md:top-3 md:right-3 z-10 p-1.5 md:p-2 rounded-full backdrop-blur-md transition-colors ${s?"bg-red-50 text-red-500":"bg-black/20 text-white hover:bg-white hover:text-red-500"}`,children:o.jsx(cl,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"fill-current":""}`})}),o.jsx(rt,{to:`/store/product/${t.id}`,className:"block h-full",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})})]}),o.jsxs("div",{className:"p-3 md:p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 gap-2",children:[o.jsx(rt,{to:`/store/product/${t.id}`,className:"block flex-1",children:o.jsx("h3",{className:"font-bold text-sm md:text-lg text-zinc-900 dark:text-white line-clamp-1 group-hover:text-orange-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-[10px] md:text-sm font-medium bg-yellow-50 dark:bg-yellow-900/20 px-1.5 py-0.5 md:px-2 rounded-lg shrink-0",children:[o.jsx(fa,{className:"w-3 h-3 md:w-3.5 md:h-3.5 fill-current"}),o.jsx("span",{children:"4.9"})]})]}),o.jsx("p",{className:"text-zinc-500 text-xs md:text-sm mb-3 md:mb-4 line-clamp-2 min-h-[32px] md:min-h-[40px]",children:t.description||(i==="ar"?"   ...":"A delicious meal description...")}),o.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-base md:text-xl font-black text-zinc-900 dark:text-white",children:d?h:a(c)}),d&&o.jsx("span",{className:"text-[10px] md:text-xs text-zinc-400 line-through",children:a(c)})]}),o.jsxs(H,{onClick:()=>e({...t,price:d?h:a(c)}),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white rounded-xl px-3 md:px-4 h-8 md:h-9 text-xs md:text-sm font-bold shadow-lg shadow-orange-600/20 transition-transform active:scale-95 shrink-0",children:[o.jsx(Oa,{className:"w-4 h-4 md:w-5 md:h-5 md:mr-1"}),o.jsx("span",{className:"hidden md:inline",children:i==="ar"?"":"Order"}),o.jsx("span",{className:"md:hidden",children:i==="ar"?"":"Add"})]})]})]})]})},Yfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{var g;const[d,h]=p.useState(null),m=d?t.filter(y=>y.category===d):t;return o.jsxs("div",{className:"min-h-screen bg-orange-50/30 dark:bg-zinc-950 font-sans",children:[o.jsxs("div",{className:"relative h-[60vh] min-h-[500px] overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:n.backgroundImageUrl||((g=n.bannerImages)==null?void 0:g[0])||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=1200",alt:"Hero",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/30"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center p-4",children:o.jsxs(oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"max-w-3xl",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-500/20 backdrop-blur-sm border border-orange-500/30 text-orange-100 px-4 py-1.5 rounded-full mb-6",children:[o.jsx(h2,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:r==="ar"?" ":"Premium Quality Food"})]}),o.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 drop-shadow-lg leading-tight",children:n.title||(r==="ar"?"  ":"Taste the Authentic")}),o.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-10 font-medium",children:n.subtitle||(r==="ar"?"   ":"Fresh ingredients delivered daily")}),o.jsx(H,{className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full px-10 py-6 text-xl font-bold shadow-xl shadow-orange-600/30 border-2 border-orange-400/20",children:n.ctaText||(r==="ar"?" ":"Order Now")})]})})]}),o.jsx("div",{className:"sticky top-0 z-30 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800 py-4 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 overflow-x-auto no-scrollbar",children:o.jsxs("div",{className:"flex items-center gap-3 min-w-max pb-2 md:pb-0 justify-center",children:[o.jsxs("button",{onClick:()=>h(null),className:`flex items-center gap-2 px-6 py-2.5 rounded-full font-bold transition-all ${d?"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700":"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900 shadow-lg scale-105"}`,children:[o.jsx(RG,{className:"w-4 h-4"}),s[r].allCategories]}),e.map(y=>o.jsx("button",{onClick:()=>h(y),className:`px-6 py-2.5 rounded-full font-bold transition-all ${d===y?"bg-orange-600 text-white shadow-lg shadow-orange-600/25 scale-105":"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700"}`,children:y},y))]})})}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-10",children:[o.jsxs("h2",{className:"text-3xl font-black text-zinc-900 dark:text-white flex items-center gap-3",children:[o.jsx("span",{className:"w-2 h-10 bg-orange-600 rounded-full d-block"}),d||(r==="ar"?" ":"Our Menu")]}),o.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 text-sm",children:[o.jsx(VT,{className:"w-4 h-4"}),o.jsx("span",{children:r==="ar"?" : 20-30 ":"Prep time: 20-30 mins"})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:m.map(y=>o.jsx(Wfe,{product:y,onAdd:i,onToggleWishlist:a,isWishlisted:l(y.id),t:s,lang:r,formatCurrency:c,parsePrice:u},y.id))}),m.length===0&&o.jsxs("div",{className:"text-center py-24 bg-white dark:bg-zinc-900 rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-800",children:[o.jsx(h2,{className:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-500 font-medium text-lg",children:s[r].noProducts.default})]})]})]})},Qfe=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l})=>{nn();const c=l(t.price),u=Number(t.discount)||0,d=u>0,h=a(c*(1-u/100));return o.jsxs(oe.div,{whileHover:{y:-8},className:"group bg-slate-900 rounded-2xl overflow-hidden border border-slate-800 hover:border-indigo-500/50 transition-all duration-300 relative",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500/5 to-purple-500/5 opacity-0 group-hover:opacity-100 transition-opacity"}),o.jsx("div",{className:"p-1",children:o.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden rounded-xl bg-slate-950",children:[d&&o.jsxs("div",{className:"absolute top-2 right-2 z-10 bg-indigo-600 text-white text-[10px] md:text-xs font-bold px-1.5 py-0.5 md:px-2 md:py-0.5 rounded border border-indigo-400/30",children:[u,"% OFF"]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),n(t)},className:`absolute top-2 left-2 z-10 p-1.5 md:p-2 rounded-lg backdrop-blur-md transition-colors ${s?"bg-rose-500/10 text-rose-500":"bg-slate-900/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:o.jsx(cl,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${s?"fill-current":""}`})}),o.jsx(rt,{to:`/store/product/${t.id}`,className:"block h-full",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"})})]})}),o.jsxs("div",{className:"p-3 md:p-5 relative",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 md:mb-3",children:[o.jsx(xn,{variant:"outline",className:"border-slate-700 text-slate-400 text-[9px] md:text-[10px] uppercase tracking-wider px-1 py-0 h-5",children:t.category||"Digital"}),o.jsxs("div",{className:"flex items-center gap-1 text-indigo-400 text-[10px] md:text-xs font-medium",children:[o.jsx(fa,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-current"}),o.jsx("span",{children:"5.0"})]})]}),o.jsx(rt,{to:`/store/product/${t.id}`,className:"block mb-1 md:mb-2",children:o.jsx("h3",{className:"font-bold text-sm md:text-lg text-white group-hover:text-indigo-400 transition-colors line-clamp-1",children:t.name})}),o.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-3 md:mb-6 line-clamp-2 min-h-[32px] md:min-h-[40px]",children:t.description||(i==="ar"?"     ...":"High quality digital asset ready for download...")}),o.jsxs("div",{className:"flex items-center justify-between border-t border-slate-800 pt-3 md:pt-4 gap-2",children:[o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"text-base md:text-xl font-bold text-white",children:d?h:a(c)})}),o.jsxs(H,{onClick:()=>e({...t,price:d?h:a(c)}),size:"sm",className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg px-3 md:px-4 h-8 md:h-9 text-xs md:text-sm font-medium shadow-lg shadow-indigo-600/20 shrink-0",children:[o.jsx(Hc,{className:"w-3.5 h-3.5 md:w-4 md:h-4 md:mr-2"}),o.jsx("span",{className:"hidden md:inline",children:i==="ar"?"":"Get It"}),o.jsx("span",{className:"md:hidden",children:i==="ar"?"":"Get"})]})]})]})]})},Xfe=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{const[d,h]=p.useState(null),m=d?t.filter(g=>g.category===d):t;return o.jsxs("div",{className:"min-h-screen bg-slate-950 font-sans text-slate-200",children:[o.jsxs("div",{className:"relative py-24 lg:py-32 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),o.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-indigo-600/20 rounded-full blur-[120px]"}),o.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] bg-purple-600/10 rounded-full blur-[100px]"}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 border border-slate-700 bg-slate-900/50 backdrop-blur-md px-4 py-1.5 rounded-full mb-8 text-indigo-400 text-sm font-medium",children:[o.jsx(bf,{className:"w-4 h-4"}),o.jsx("span",{children:r==="ar"?"  ":"Premium Digital Assets"})]}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight leading-tight",children:n.title||(r==="ar"?"  ":"Elevate Your Next Project")}),o.jsx("p",{className:"text-xl text-slate-400 mb-10 max-w-2xl mx-auto",children:n.subtitle||(r==="ar"?"       .":"Curated library of high-quality digital tools and templates.")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(H,{className:"bg-indigo-600 hover:bg-indigo-500 text-white px-8 h-12 text-lg rounded-xl",children:n.ctaText||(r==="ar"?" ":"Browse Library")}),o.jsx(H,{variant:"outline",className:"border-slate-700 text-slate-300 hover:bg-slate-800 hover:text-white px-8 h-12 text-lg rounded-xl",children:r==="ar"?" ":"How it works?"})]})]})})]}),o.jsx("div",{className:"border-y border-slate-800/50 bg-slate-900/30 backdrop-blur-sm sticky top-0 z-30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center gap-8 overflow-x-auto no-scrollbar py-4 justify-center min-w-max",children:[o.jsxs("button",{onClick:()=>h(null),className:`text-sm font-medium transition-colors relative ${d?"text-slate-500 hover:text-slate-300":"text-white"}`,children:[s[r].allCategories,!d&&o.jsx(oe.div,{layoutId:"activeTab",className:"absolute -bottom-[17px] left-0 right-0 h-0.5 bg-indigo-500"})]}),e.map(g=>o.jsxs("button",{onClick:()=>h(g),className:`text-sm font-medium transition-colors relative ${d===g?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[g,d===g&&o.jsx(oe.div,{layoutId:"activeTab",className:"absolute -bottom-[17px] left-0 right-0 h-0.5 bg-indigo-500"})]},g))]})})}),o.jsxs("div",{className:"py-20 container mx-auto px-4",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:m.map(g=>o.jsx(Qfe,{product:g,onAdd:i,onToggleWishlist:a,isWishlisted:l(g.id),t:s,lang:r,formatCurrency:c,parsePrice:u},g.id))}),m.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 border border-slate-800",children:o.jsx(mG,{className:"w-10 h-10 text-slate-600"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s[r].noProducts.default}),o.jsx("p",{className:"text-slate-500 max-w-sm",children:"Try selecting a different category or check back later for new releases."})]})]})]})},Jfe=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i})=>{const a=nn(),l=rs(t.price),c=Number(t.discount)||0,u=c>0,d=ct(l*(1-c/100)),h=()=>{e({...t,price:u?d:ct(l)},!1),a("/store/checkout")},m=()=>{e({...t,price:u?d:ct(l)})};return o.jsxs(oe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group flex flex-col h-full bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/60 border border-slate-100 hover:-translate-y-1 transition-all duration-300",children:[o.jsxs("div",{className:"relative aspect-[4/5] mb-0 overflow-hidden bg-slate-100",children:[u&&o.jsxs("div",{className:`absolute top-3 ${i==="ar"?"right-3":"left-3"} z-10 bg-gradient-to-r from-rose-500 to-pink-500 text-white text-xs font-bold px-3 py-1.5 rounded-xl shadow-lg shadow-rose-500/20`,children:["-",c,"%"]}),o.jsx("button",{onClick:g=>{g.preventDefault(),g.stopPropagation(),n&&n(t)},className:`absolute top-3 ${i==="ar"?"left-3":"right-3"} z-20 w-9 h-9 flex items-center justify-center rounded-xl shadow-lg transition-all duration-300 ${s?"bg-rose-50 text-rose-500":"bg-white/90 backdrop-blur-sm text-slate-400 hover:bg-white hover:text-rose-500 hover:scale-110"}`,children:o.jsx(cl,{className:`w-5 h-5 ${s?"fill-current":""}`})}),o.jsx(rt,{to:`/store/product/${t.id}`,className:"block h-full w-full",children:o.jsx("img",{src:t.image,alt:t.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 hidden md:flex gap-3 z-10 items-center",children:[o.jsx(H,{onClick:m,className:"w-11 h-11 shrink-0 bg-white/95 backdrop-blur-sm text-slate-900 hover:bg-teal-50 hover:text-teal-700 shadow-xl shadow-slate-900/10 rounded-full flex items-center justify-center transition-all hover:scale-110",children:o.jsx(bu,{className:"w-5 h-5"})}),o.jsx(H,{onClick:h,className:"flex-1 bg-slate-900/95 backdrop-blur-sm text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 text-sm h-11 rounded-xl font-bold transition-all hover:scale-105",children:r[i].buyNow})]})]}),o.jsxs("div",{className:"flex flex-col flex-1 p-3",children:[o.jsx(rt,{to:`/store/product/${t.id}`,className:"block mb-1",children:o.jsx("h3",{className:"text-sm font-bold text-slate-900 line-clamp-2 leading-tight group-hover:text-teal-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"mt-auto",children:[u?o.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-0 mb-1",children:[o.jsx("span",{className:"text-lg font-extrabold text-teal-600",children:d}),o.jsx("span",{className:"text-xs text-slate-400 line-through decoration-slate-400/50 font-medium",children:ct(l)})]}):o.jsx("p",{className:"text-lg font-extrabold text-slate-900 mb-1",children:ct(l)}),o.jsxs("div",{className:"flex items-center gap-3 mt-1 md:hidden",children:[o.jsx("button",{onClick:m,className:"text-slate-400 hover:text-teal-600 transition-colors p-1",children:o.jsx(bu,{className:"w-6 h-6"})}),o.jsx(H,{onClick:h,className:"flex-1 bg-gradient-to-r from-teal-500 to-emerald-500 text-white hover:from-teal-600 hover:to-emerald-600 text-xs h-8 font-bold rounded-lg gap-1 shadow-lg shadow-teal-500/20 active:scale-95 transition-all p-0",children:r[i].buyNow})]})]})]})]})},ZP=()=>{var k,$;const{addToCart:t,filtersOpen:e,store:n,banner:s,searchQuery:r,categories:i,toggleWishlist:a,isInWishlist:l,lang:c}=rr(),u=c||"en",d={en:{filters:"Filters",categories:"Categories",allCategories:"All Categories",priceRange:"Price Range",sortBy:"Sort By",sort:{featured:"Sort: Featured",lowHigh:"Price: Low to High",highLow:"Price: High to Low"},addToCart:"Add to Cart",noProducts:{search:"No products found matching",category:"No products found in",default:"No products available yet."},welcome:"Welcome",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",shopNow:"Shop Now",buyNow:"Buy Now"},ar:{filters:"",categories:"",allCategories:" ",priceRange:" ",sortBy:" ",sort:{featured:": ",lowHigh:":   ",highLow:":   "},addToCart:" ",noProducts:{search:"   ",category:"    ",default:"    ."},welcome:" ",subtitle:"    .    .",shopNow:" ",buyNow:" "}},h=fs(),m=nn(),y=new URLSearchParams(h.search).get("category"),[b,_]=p.useState([0,1e5]),[v,x]=p.useState(0),[E,A]=p.useState({title:"Summer Collection 2025",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",ctaText:"Shop Now",bannerImages:[],backgroundImageUrl:"",bannerPos:{x:50,y:50}});p.useEffect(()=>{if(x(0),E.bannerImages&&E.bannerImages.length>1){const z=setInterval(()=>{x(V=>(V+1)%E.bannerImages.length)},1e3);return()=>clearInterval(z)}},[E.bannerImages]),p.useEffect(()=>{s&&A(z=>({...z,...s,bannerImages:s.bannerImages||z.bannerImages,backgroundImageUrl:s.backgroundImageUrl&&!s.backgroundImageUrl.includes("supabase")?s.backgroundImageUrl:z.backgroundImageUrl,bannerPos:s.bannerPos||z.bannerPos}))},[s]),p.useEffect(()=>{if(s)return;(async()=>{try{const V=Ke(ue,"banners","default"),q=await sr(V);if(q.exists()){const F=q.data();A(W=>({...W,title:F.title??W.title,subtitle:F.subtitle??W.subtitle,ctaText:F.ctaText??W.ctaText,bannerImages:F.bannerImages||W.bannerImages,backgroundImageUrl:F.backgroundImageUrl&&!F.backgroundImageUrl.includes("supabase")?F.backgroundImageUrl:W.backgroundImageUrl,bannerPos:F.bannerPos||W.bannerPos}))}}catch{}})()},[s]);const[I,R]=p.useState([]);p.useEffect(()=>{if(!(n!=null&&n.id))return;const z=tt(ue,"stores",n.id,"categories"),V=Bt(z,q=>{R(q.docs.map(F=>F.data().name))});return()=>V()},[n==null?void 0:n.id]);const[S,T]=p.useState([]);p.useEffect(()=>{if(!(n!=null&&n.id)){T([]);return}(async()=>{try{await Lu(tt(ue,"store_visits"),{storeId:n.id,createdAt:Date.now()})}catch{}})();const z=tt(ue,"stores",n.id,"products"),V=Bt(z,q=>{const F=q.docs.map(W=>{const ae=W.data();return ae.image&&ae.image.includes("supabase")&&(ae.image=""),{id:W.id,...ae}});T(F)});return()=>V()},[n==null?void 0:n.id]);const C=()=>o.jsxs("div",{className:"space-y-8 bg-white p-6 rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:d[u].categories}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tl,{id:"all",checked:!y,onCheckedChange:()=>m(h.pathname),className:"border-slate-300 data-[state=checked]:bg-teal-600 data-[state=checked]:border-teal-600"}),o.jsx(re,{htmlFor:"all",className:`text-sm cursor-pointer transition-colors ${y?"text-slate-600 hover:text-slate-900":"font-bold text-teal-600"}`,onClick:()=>m(h.pathname),children:d[u].allCategories})]}),I.map(z=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tl,{id:z,checked:y===z,onCheckedChange:()=>m(`${h.pathname}?category=${encodeURIComponent(z)}`),className:"border-slate-300 data-[state=checked]:bg-teal-600 data-[state=checked]:border-teal-600"}),o.jsx(re,{htmlFor:z,className:`text-sm cursor-pointer transition-colors ${y===z?"font-bold text-teal-600":"text-slate-600 hover:text-slate-900"}`,onClick:()=>m(`${h.pathname}?category=${encodeURIComponent(z)}`),children:z})]},z))]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:d[u].priceRange}),o.jsx(i8,{defaultValue:[0,1e5],max:1e5,step:50,value:b,onValueChange:_,className:"mb-6"}),o.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-slate-600",children:[o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:ct(b[0])}),o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:ct(b[1])})]})]})]}),[j,P]=p.useState("featured"),M=S.filter(z=>{if(r&&!z.name.toLowerCase().includes(r.toLowerCase())||y&&z.category!==y)return!1;const V=rs(z.price);return!(V<b[0]||V>b[1])}).sort((z,V)=>j==="lowHigh"?rs(z.price)-rs(V.price):j==="highLow"?rs(V.price)-rs(z.price):0);return(n==null?void 0:n.template)==="mobile"?o.jsx(Hfe,{products:S,categories:I,banner:E,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ct,parsePrice:rs}):(n==null?void 0:n.template)==="spare_parts"?o.jsx(Kfe,{products:S,categories:I,banner:E,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ct,parsePrice:rs}):(n==null?void 0:n.template)==="restaurant"?o.jsx(Yfe,{products:S,categories:I,banner:E,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ct,parsePrice:rs}):(n==null?void 0:n.template)==="digital"?o.jsx(Xfe,{products:S,categories:I,banner:E,t:d,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ct,parsePrice:rs}):o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 pt-4 md:pt-8",children:[o.jsx("aside",{className:`hidden ${e?"md:block":"md:hidden"} w-64 shrink-0`,children:o.jsxs("div",{className:"sticky top-24",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(x2,{className:"w-5 h-5"}),o.jsx("span",{className:"font-bold text-lg",children:d[u].filters})]}),o.jsx(C,{})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(oe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-2xl text-white p-8 md:p-12 mb-8 relative overflow-hidden min-h-[250px] md:min-h-[400px] flex flex-col justify-center w-full transition-all duration-1000 ease-in-out",style:{backgroundImage:E.bannerImages&&E.bannerImages.length>0?`url(${E.bannerImages[v]})`:E.backgroundImageUrl?`url(${E.backgroundImageUrl})`:void 0,backgroundSize:"cover",backgroundPosition:`${((k=E.bannerPos)==null?void 0:k.x)??50}% ${(($=E.bannerPos)==null?void 0:$.y)??50}%`,backgroundColor:E.bannerImages&&E.bannerImages.length>0||E.backgroundImageUrl?void 0:"#0f172a"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg w-full mx-auto md:mx-0 text-center md:text-left",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-4 md:mb-6 leading-tight break-words drop-shadow-md",children:E.title||(n==null?void 0:n.name)||d[u].welcome}),o.jsx("p",{className:"text-slate-100 mb-8 md:mb-10 text-lg md:text-xl font-medium line-clamp-3 break-words drop-shadow-sm",children:E.subtitle||d[u].subtitle}),o.jsx(H,{className:"bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-400 hover:to-emerald-500 text-white px-6 py-2 text-base font-bold h-auto w-full md:w-auto rounded-full shadow-[0_0_20px_rgba(20,184,166,0.5)] hover:shadow-[0_0_30px_rgba(20,184,166,0.7)] hover:scale-105 transition-all duration-300 border border-white/20",children:E.ctaText||d[u].shopNow})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t md:bg-gradient-to-r from-slate-900/90 via-slate-900/50 to-transparent"})]}),o.jsx("div",{className:"flex justify-end mb-6 md:hidden",children:o.jsxs(Ig,{children:[o.jsx(Cg,{asChild:!0,children:o.jsx(H,{variant:"outline",size:"icon",className:"w-10 h-10 rounded-full bg-white border-slate-200 shadow-sm text-slate-700 hover:bg-slate-50",children:o.jsx(x2,{className:"w-5 h-5"})})}),o.jsxs(Qh,{side:u==="ar"?"right":"left",className:"overflow-y-auto",children:[o.jsx(Xh,{className:"mb-6 text-left rtl:text-right",children:o.jsx(Jh,{children:d[u].filters})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-slate-900",children:d[u].sortBy}),o.jsx("div",{className:"space-y-2",children:[{id:"featured",label:d[u].sort.featured},{id:"lowHigh",label:d[u].sort.lowHigh},{id:"highLow",label:d[u].sort.highLow}].map(z=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${j===z.id?"bg-teal-50 border border-teal-200":"bg-slate-50 border border-transparent hover:bg-slate-100"}`,onClick:()=>P(z.id),children:[o.jsx("span",{className:`text-sm ${j===z.id?"font-bold text-teal-700":"text-slate-700"}`,children:z.label}),j===z.id&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-teal-600"})]},z.id))})]}),o.jsx("div",{className:"border-t border-slate-100 pt-6",children:o.jsx(C,{})})]})]})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-6",children:M.length===0?o.jsx("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 text-center py-12 text-slate-500 bg-slate-50 rounded-lg",children:o.jsx("p",{children:r?`${d[u].noProducts.search} "${r}"`:y?`${d[u].noProducts.category} "${y}"`:d[u].noProducts.default})}):M.map(z=>o.jsx(Jfe,{product:{id:z.id,name:z.name||"Product",price:z.price||"EGP 0.00",image:z.image||"https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&q=80&w=600",discount:typeof z.discount=="number"?z.discount:0},onAdd:t,onToggleWishlist:a,isWishlisted:l(z.id),t:d,lang:u},z.id))})]})]})})},ek=()=>{const{id:t}=sq(),{addToCart:e,lang:n,storeSubdomain:s}=rr(),{toast:r}=Ut(),[i,a]=p.useState(1),[l,c]=p.useState(0),[u,d]=p.useState(null),[h,m]=p.useState(null),[g,y]=p.useState(!0);p.useEffect(()=>{(async()=>{if(t)if(s){y(!0);try{const R=Ke(ue,"stores",s,"products",t),S=await sr(R);if(S.exists()){const T=S.data();m({id:S.id,...T,images:T.images||(T.image?[T.image]:[]),sizes:Array.isArray(T.sizes)?T.sizes:T.size?[T.size]:[]})}}catch(R){console.error("Error fetching product:",R)}finally{y(!1)}}else m({id:parseInt(t)||1,name:"Classic White Sneakers",price:89,discount:0,description:"Experience ultimate comfort and style with these premium classic white sneakers.",images:["https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1560769629-975ec94e6a86?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?auto=format&fit=crop&q=80&w=800"],sizes:["US 7","US 8","US 9","US 10","US 11"],reviews:124,rating:4.8}),y(!1)})()},[t,s]);const b={en:{backToShop:"Back to Shop",reviews:"reviews",save:"Save",addToCart:"Add to Cart",addedToCart:"Added to Cart",addedToCartDesc:"has been added to your cart.",freeShipping:"Free Shipping",freeShippingDesc:"On orders over 1000 EGP",securePayment:"Secure Payment",securePaymentDesc:"100% protected payments",sizeSelection:"Select Size",selectSizeError:"Please select a size"},ar:{backToShop:" ",reviews:"",save:"",addToCart:" ",addedToCart:"  ",addedToCartDesc:"    .",freeShipping:" ",freeShippingDesc:"   1000 ",securePayment:" ",securePaymentDesc:"  100%",sizeSelection:" ",selectSizeError:"  "}};if(g||!h)return o.jsx("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-[50vh]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})});const _=Number(h.price)||0,v=Number(h.discount)||0,x=v>0,E=ct(_*(1-v/100)),A=()=>{if(h.sizes&&h.sizes.length>0&&!u){r({title:b[n].selectSizeError,description:b[n].selectSizeError,variant:"destructive"});return}e({...h,image:h.images[0],price:x?E:ct(_),selectedSize:u,quantity:i}),r({title:b[n].addedToCart,description:`${h.name} ${b[n].addedToCartDesc}`,variant:"success"})};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs(rt,{to:"/store",className:"inline-flex items-center text-sm text-slate-500 hover:text-teal-600 mb-8 transition-colors",children:[o.jsx(hG,{className:"w-4 h-4 mr-2"})," Back to Shop"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"aspect-square bg-slate-100 rounded-2xl overflow-hidden relative",children:o.jsx("img",{src:h.images[l],alt:h.name,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-700"})},l),o.jsx("div",{className:"grid grid-cols-4 gap-4",children:h.images.map((I,R)=>o.jsx("button",{onClick:()=>c(R),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${l===R?"border-teal-600 ring-2 ring-teal-600/20":"border-transparent hover:border-slate-300"}`,children:o.jsx("img",{src:I,alt:"",className:"w-full h-full object-cover"})},R))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-yellow-400",children:[o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"})]}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",h.reviews," reviews)"]})]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-4 tracking-tight",children:h.name}),x?o.jsxs("div",{className:"mb-6 flex items-baseline gap-3",children:[o.jsx("span",{className:"text-3xl font-extrabold text-teal-600",children:E}),o.jsx("span",{className:"text-lg text-slate-400 line-through decoration-slate-400/50",children:ct(_)}),o.jsxs("span",{className:"bg-rose-100 text-rose-600 text-xs font-bold px-2 py-1 rounded-lg",children:["Save ",v,"%"]})]}):o.jsx("div",{className:"mb-6",children:o.jsx("span",{className:"text-3xl font-extrabold text-slate-900",children:ct(_)})}),o.jsx("p",{className:"text-slate-600 leading-relaxed mb-8 text-lg",children:h.description}),o.jsxs("div",{className:"space-y-6 border-t border-slate-100 pt-8",children:[h.sizes&&h.sizes.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-bold text-lg text-slate-900",children:b[n].sizeSelection}),o.jsx("div",{className:"flex flex-wrap gap-3",children:h.sizes.map(I=>o.jsx("button",{onClick:()=>d(I),className:`px-4 py-2 border rounded-md text-sm font-medium transition-colors ${u===I?"bg-teal-600 text-white border-teal-600":"bg-white text-slate-700 border-slate-300 hover:border-teal-500"}`,children:I},I))}),!u&&o.jsx("p",{className:"text-rose-500 text-sm animate-pulse",children:b[n].selectSizeError})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center border border-slate-200 rounded-xl bg-white shadow-sm",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-l-xl transition-colors",children:o.jsx(NG,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-12 text-center font-bold text-lg",children:i}),o.jsx("button",{onClick:()=>a(i+1),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-r-xl transition-colors",children:o.jsx(Oa,{className:"w-4 h-4"})})]}),o.jsx(H,{onClick:A,className:"flex-1 h-12 bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-teal-600/20 transition-all hover:-translate-y-0.5 active:translate-y-0",children:b[n].addToCart})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx(Wa,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:b[n].freeShipping}),o.jsx("p",{className:"text-xs text-slate-500",children:b[n].freeShippingDesc})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx(IG,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:b[n].securePayment}),o.jsx("p",{className:"text-xs text-slate-500",children:b[n].securePaymentDesc})]})]})]})]})]})]})]})},tk=()=>{const{storeSubdomain:t,store:e,lang:n}=rr()||{},{cartItems:s,cartTotal:r}=qfe(),{toast:i}=Ut(),a=nn(),[l,c]=p.useState(1),[u,d]=p.useState(!1),[h,m]=p.useState(""),[g,y]=p.useState(""),[b,_]=p.useState(""),[v,x]=p.useState(""),[E,A]=p.useState(""),I={en:{checkoutTitle:"Checkout",orderSent:"Order Sent",orderSentDesc:"Sales department will contact you soon to confirm the order.",backToStore:"Back to Store",contactInfo:"Contact Information",fullName:"Full Name",fullNamePlaceholder:"Enter your name",phone:"Phone Number",phonePlaceholder:"05xxxxxxxx",altPhone:"Alternative Phone",altPhonePlaceholder:"Alternative contact number",address:"Address",addressPlaceholder:"Enter your address",notes:"Notes",notesPlaceholder:"Any additional details",orderSummary:"Order Summary",qty:"Qty",subtotal:"Subtotal",shipping:"Shipping",free:"Free",total:"Total",placeOrder:"Place Order",sending:"Sending...",secureCheckout:"Secure Checkout",emptyCart:"Your cart is empty",returnToShop:"Return to Shop",orderSuccessTitle:"Order Placed Successfully",errorTitle:"Error sending order",errorDesc:"Please try again later or contact support."},ar:{checkoutTitle:" ",orderSent:"  ",orderSentDesc:"      .",backToStore:" ",contactInfo:" ",fullName:" ",fullNamePlaceholder:" ",phone:" ",phonePlaceholder:"05xxxxxxxx",altPhone:" ",altPhonePlaceholder:"  ",address:"",addressPlaceholder:" ",notes:"",notesPlaceholder:"   ",orderSummary:" ",qty:"",subtotal:" ",shipping:"",free:"",total:"",placeOrder:" ",sending:" ...",secureCheckout:" ",emptyCart:"  ",returnToShop:" ",orderSuccessTitle:"  ",errorTitle:"   ",errorDesc:"        ."}},R=S=>{S.preventDefault(),d(!0),(async()=>{try{const T=s.map(P=>({id:P.id||"unknown",name:P.name||"Unknown Product",quantity:P.quantity||1,price:P.price||"0",image:P.image||"",selectedSize:P.selectedSize||null})),C={customerName:h,phone:g,altPhone:b,address:v,notes:E,items:T,total:r,status:"Pending",createdAt:Date.now(),storeSubdomain:t||null,storeId:(e==null?void 0:e.id)||t||null,store:t||null,storeName:(e==null?void 0:e.name)||t||null};let j=null;for(let P=0;P<3&&!j;P++)try{j=await Lu(tt(ue,"orders"),C)}catch(M){console.error("Order submission error:",M),await new Promise(k=>setTimeout(k,500*(P+1)))}if(j){if(t){try{await Za(Ke(ue,"stores",t),{orders:bj(1),revenue:bj(r)})}catch{}try{await Ll(Ke(ue,"stores",t,"orders",j.id),{...C,rootOrderId:j.id})}catch{}}c(3),i({title:I[n].orderSuccessTitle,description:I[n].orderSentDesc,variant:"success"})}else i({title:"Error sending order",description:"Please try again later or contact support.",variant:"destructive"})}catch(T){console.error("Final order submission error:",T),i({title:"Error sending order",description:T.message||"Unknown error occurred",variant:"destructive"})}finally{d(!1)}})()};return s.length===0&&l!==3?o.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Wa,{className:"w-12 h-12 text-slate-400"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4 text-slate-900",children:"Your cart is empty"}),o.jsx(rt,{to:"/store",children:o.jsx(H,{className:"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white px-8 py-6 rounded-xl text-lg font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",children:"Return to Shop"})})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[l<3&&o.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center text-slate-900",children:"  "}),l===3?o.jsxs(oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto text-center py-12 bg-white rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100 p-8",children:[o.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:o.jsx(Ka,{className:"w-12 h-12 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-900",children:"  "}),o.jsx("p",{className:"text-slate-500 mb-8 text-lg",children:"       ."}),o.jsx(H,{onClick:()=>a("/store"),className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20",children:"  "})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center mb-8 justify-center lg:justify-start",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=1?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-200"} font-bold text-lg`,children:"1"}),o.jsx("div",{className:"h-1 w-16 bg-slate-200 mx-2 rounded-full"}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=2?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-100 text-slate-400"} font-bold text-lg border-2 border-slate-200`,children:"2"})]}),o.jsx("form",{id:"checkout-form",onSubmit:R,className:"space-y-6",children:o.jsxs(oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white p-8 rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/60",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-slate-900",children:[o.jsx("div",{className:"p-2 bg-teal-50 rounded-lg text-teal-600",children:o.jsx(Wa,{className:"w-6 h-6"})})," "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{required:!0,placeholder:" ",value:h,onChange:S=>m(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{required:!0,placeholder:"05xxxxxxxx",value:g,onChange:S=>y(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ce,{placeholder:"  ",value:b,onChange:S=>_(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ce,{required:!0,placeholder:" ",value:v,onChange:S=>x(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(re,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ce,{placeholder:"   ",value:E,onChange:S=>A(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]})]})]})})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-24",children:o.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 shadow-inner",children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-900",children:I[n].orderSummary}),o.jsx("div",{className:"space-y-4 mb-6 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:s.map(S=>o.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm",children:[o.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-lg overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-bold text-slate-900 line-clamp-1",children:S.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[I[n].qty,": ",S.quantity]}),S.selectedSize&&o.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 bg-slate-100 text-slate-600 rounded border border-slate-200",children:S.selectedSize})]})]}),o.jsx("div",{className:"text-sm font-bold text-teal-600",children:ct(rs(S.price)*S.quantity)})]},S.cartItemId||S.id))}),o.jsxs("div",{className:"space-y-3 border-t border-slate-200 pt-6 mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:I[n].subtotal}),o.jsx("span",{className:"font-bold text-slate-900",children:ct(r)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:I[n].shipping}),o.jsx("span",{className:"font-bold text-teal-600",children:I[n].free})]}),o.jsxs("div",{className:"flex justify-between text-xl font-extrabold pt-2 text-slate-900",children:[o.jsx("span",{children:I[n].total}),o.jsx("span",{children:ct(r)})]})]}),o.jsx(H,{type:"submit",form:"checkout-form",className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",disabled:u,children:u?I[n].sending:I[n].placeOrder}),o.jsxs("p",{className:"text-center text-xs text-slate-400 mt-4 flex items-center justify-center gap-1",children:[o.jsx(Ka,{className:"w-3 h-3"})," ",I[n].secureCheckout]})]})})})]})]})},nk=({language:t="ar"})=>{const[e,n]=p.useState(""),[s,r]=p.useState(""),[i,a]=p.useState(!1),l=nn(),{toast:c}=Ut(),u={ar:{title:" ",email:" ",password:" ",submit:""},en:{title:"Login",email:"Email",password:"Password",submit:"Sign in"}},d=async m=>{m.preventDefault(),a(!0);try{const y=(await tV(jt,e,s)).user,b=await sr(Ke(ue,"users",y.uid));if(b.exists()&&b.data().status==="pending"){await tE(jt),l("/activation-pending");return}c({title:t==="ar"?"   ":"Logged in successfully"}),l("/dashboard")}catch(g){const y=(g==null?void 0:g.code)||"";let b=t==="ar"?"  ":"Login failed";y==="auth/user-not-found"?b=t==="ar"?"    ":"No user found for this email":y==="auth/wrong-password"?b=t==="ar"?"   ":"Incorrect password":y==="auth/too-many-requests"&&(b=t==="ar"?"    ":"Too many attempts, please try again later"),c({title:b})}finally{a(!1)}},h=u[t]||u.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Ye,{className:"bg-slate-800/50 backdrop-blur-xl border-slate-700/50 text-white shadow-2xl",children:o.jsxs(Qe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(md,{size:"large"}),o.jsx("h1",{className:"text-2xl font-bold mt-6 text-slate-100",children:h.title})]}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:h.email}),o.jsx(ce,{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:h.password}),o.jsx(ce,{type:"password",value:s,onChange:m=>r(m.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(H,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:i?"...":h.submit}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-600"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-slate-800 px-2 text-slate-400",children:t==="ar"?"":"Or"})})]}),o.jsx(H,{type:"button",variant:"outline",onClick:()=>l("/signup"),className:"w-full border-slate-600 text-slate-200 hover:bg-slate-700 hover:text-white",children:t==="ar"?"  ":"Create New Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-slate-400 text-sm",children:[t==="ar"?"  ":"Don't have an account?",o.jsx(rt,{to:"/signup",className:"text-teal-400 hover:text-teal-300 mx-1 font-semibold transition-colors",children:t==="ar"?"  ":"Sign up"})]})})]})})})})},Zfe=({language:t="ar"})=>{const[e,n]=p.useState(""),[s,r]=p.useState(""),[i,a]=p.useState(""),[l,c]=p.useState(!1),u=nn(),{toast:d}=Ut(),h={ar:{title:" ",name:"",email:" ",password:" ",submit:""},en:{title:"Sign Up",name:"Name",email:"Email",password:"Password",submit:"Create account"}},m=async y=>{y.preventDefault(),c(!0);try{const b=await xY(jt,s,i);e&&await wY(b.user,{displayName:e});const _={uid:b.user.uid,email:s,name:e||"",createdAt:Df(),role:"user",status:"pending"};let v=!1;for(let x=0;x<3&&!v;x++)try{await Ll(Ke(ue,"users",b.user.uid),_),v=!0}catch{await new Promise(A=>setTimeout(A,400*(x+1)))}d(v?{title:t==="ar"?"   ":"Account created successfully"}:{title:t==="ar"?"       ":"Account created, but saving user data failed temporarily"}),u("/activation-pending")}catch(b){const _=(b==null?void 0:b.code)||"";let v=t==="ar"?"   ":"Sign up failed";_==="auth/email-already-in-use"?v=t==="ar"?"   ":"Email already in use":_==="auth/invalid-email"?v=t==="ar"?"   ":"Invalid email address":_==="auth/weak-password"?v=t==="ar"?"  ":"Weak password":_==="auth/operation-not-allowed"&&(v=t==="ar"?"   ":"Sign-up method not enabled"),d({title:v})}finally{c(!1)}},g=h[t]||h.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Ye,{className:"bg-slate-800/50 backdrop-blur-xl border-slate-700/50 text-white shadow-2xl",children:o.jsxs(Qe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(md,{size:"large"}),o.jsx("h1",{className:"text-2xl font-bold mt-6 text-slate-100",children:g.title})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.name}),o.jsx(ce,{value:e,onChange:y=>n(y.target.value),placeholder:g.name,className:"bg-slate-700 border-slate-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.email}),o.jsx(ce,{type:"email",value:s,onChange:y=>r(y.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(re,{className:"text-slate-300",children:g.password}),o.jsx(ce,{type:"password",value:i,onChange:y=>a(y.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(H,{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:l?"...":g.submit})]})]})})})})},eme=({language:t="ar"})=>{const e=nn(),[n,s]=p.useState(""),[r,i]=p.useState(!0);p.useEffect(()=>{const h=zi(jt,m=>{if(m){const g=Bt(Ke(ue,"users",m.uid),y=>{y.exists()&&y.data().status==="active"&&e("/dashboard")});return()=>g()}else e("/login")});return()=>h()},[e]),p.useEffect(()=>{(async()=>{try{const m=Ke(ue,"settings","platform"),g=await sr(m);g.exists()&&s(g.data().whatsappNumber||"")}catch(m){console.error("Error fetching settings:",m)}finally{i(!1)}})()},[]);const a=async()=>{await tE(jt),e("/login")},l=()=>{if(!n)return;const h=t==="ar"?"        .":"Hello, I just created a new account and I would like to activate it.",m=`https://wa.me/${n.replace("+","")}?text=${encodeURIComponent(h)}`;window.open(m,"_blank")},d={ar:{title:"  ",description:"        .",message:"           .",button:"   ",logout:" ",loading:" ..."},en:{title:"Account Pending Activation",description:"Your account has been created successfully but requires administrator approval.",message:"Please contact the administrator via WhatsApp to activate your account and start using the platform.",button:"Contact Admin to Activate",logout:"Logout",loading:"Loading..."}}["ar"];return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",dir:"rtl",children:o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsxs(Ye,{className:"border-t-4 border-t-yellow-500 shadow-xl",children:[o.jsxs(wt,{className:"text-center pb-2",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(VT,{className:"w-8 h-8 text-yellow-600"})}),o.jsx(_t,{className:"text-2xl font-bold text-slate-900",children:d.title}),o.jsx(ln,{className:"text-base mt-2",children:d.description})]}),o.jsxs(Qe,{className:"text-center space-y-6 pt-4",children:[o.jsx("p",{className:"text-slate-600",children:d.message}),r?o.jsx("p",{className:"text-sm text-slate-400",children:d.loading}):n?o.jsxs(H,{onClick:l,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold h-12 text-lg shadow-lg shadow-green-500/20",children:[o.jsx(SG,{className:"w-5 h-5 mr-2"}),d.button]}):o.jsx("p",{className:"text-sm text-red-400",children:"     ."}),o.jsxs(H,{variant:"ghost",onClick:a,className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100",children:[o.jsx(LT,{className:"w-4 h-4 mr-2"}),d.logout]})]})]})})})},tme=()=>{const[t,e]=p.useState(""),[n,s]=p.useState(""),[r,i]=p.useState(!1),a=nn(),{toast:l}=Ut(),c=async u=>{if(u.preventDefault(),i(!0),t.toLowerCase()!=="alkaptin7878@mail.ru"){l({title:"Access Denied",description:"This account is not authorized for admin access.",variant:"destructive"}),i(!1);return}try{await tV(jt,t,n),l({title:"Admin Login Successful",variant:"success"}),a("/admin")}catch(d){console.error(d),l({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}finally{i(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 font-sans",dir:"ltr",children:o.jsx(oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Ye,{className:"bg-slate-800 border-slate-700 text-white shadow-2xl",children:o.jsxs(Qe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20",children:o.jsx(xu,{className:"w-8 h-8 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Portal"}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Restricted Access Only"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-slate-300",children:"Admin Email"}),o.jsx(ce,{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"admin@example.com",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(re,{className:"text-slate-300",children:"Password"}),o.jsx(ce,{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsx(H,{type:"submit",disabled:r,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-6",children:r?"Authenticating...":"Access Dashboard"})]})]})})})})};function nme(){const[t,e]=p.useState("ar"),[n,s]=p.useState(!1),[r,i]=p.useState(null),[a,l]=p.useState(!0);p.useEffect(()=>{Q0.isNativePlatform()&&(uR.hide().catch(u=>console.log("StatusBar hide error:",u)),uR.setOverlaysWebView({overlay:!1}).catch(()=>{}),zse.requestPermissions().catch(()=>{}))},[]),p.useEffect(()=>{(async()=>{if(typeof window>"u")return;if(window.STORE_ID){s(!0),i(window.STORE_ID),l(!1);return}const d=window.location.hostname,h={}.VITE_MAIN_DOMAIN||"naweshop.com";if(d.includes("localhost")){const m=d.split(".");m.length>=2&&m[0]!=="www"&&(s(!0),i(m[0])),l(!1);return}if(d===h||d===`www.${h}`){s(!1),l(!1);return}if(d.endsWith(`.${h}`)){const m=d.replace(`.${h}`,"");m!=="www"&&(s(!0),i(m)),l(!1);return}try{const m=os(tt(ue,"stores"),ws("customDomain","==",d)),g=await Cm(m);if(g.empty)s(!1);else{const y=g.docs[0];s(!0),i(y.id)}}catch(m){console.error("Error resolving custom domain:",m),s(!1)}finally{l(!1)}})()},[]);const c=()=>{e(u=>u==="en"?"ar":"en")};return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsxs(Aq,{children:[o.jsxs(a0,{children:[o.jsx("title",{children:"StoreBuilder - Create Your Online Store in Minutes"}),o.jsx("meta",{name:"description",content:"Build your professional e-commerce store with ease. No coding required. Start selling online today with our powerful store builder platform."}),o.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),o.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Cairo:wght@400;600;700&display=swap",rel:"stylesheet"})]}),o.jsxs(xq,{children:[n?o.jsxs(Be,{path:"/",element:o.jsx(XP,{resolvedStoreId:r}),children:[o.jsx(Be,{index:!0,element:o.jsx(ZP,{})}),o.jsx(Be,{path:"product/:id",element:o.jsx(ek,{})}),o.jsx(Be,{path:"checkout",element:o.jsx(tk,{})})]}):o.jsx(Be,{path:"/",element:o.jsx(nk,{language:t})}),o.jsx(Be,{path:"/landing",element:o.jsx(Cle,{language:t,toggleLanguage:c})}),o.jsx(Be,{path:"/login",element:o.jsx(nk,{language:t})}),o.jsx(Be,{path:"/signup",element:o.jsx(Zfe,{language:t})}),o.jsx(Be,{path:"/activation-pending",element:o.jsx(eme,{language:t})}),o.jsx(Be,{path:"/privacy-policy",element:o.jsx(jle,{language:t,toggleLanguage:c})}),o.jsx(Be,{path:"/admin/login",element:o.jsx(tme,{})}),o.jsxs(Be,{path:"/admin",element:o.jsx(Ehe,{}),children:[o.jsx(Be,{index:!0,element:o.jsx(She,{})}),o.jsx(Be,{path:"users",element:o.jsx(Jhe,{})}),o.jsx(Be,{path:"stores",element:o.jsx(Zhe,{})}),o.jsx(Be,{path:"pricing",element:o.jsx(efe,{})}),o.jsx(Be,{path:"templates",element:o.jsx(ofe,{})}),o.jsx(Be,{path:"settings",element:o.jsx(ife,{})}),o.jsx(Be,{path:"logs",element:o.jsx(afe,{})})]}),o.jsxs(Be,{path:"/dashboard",element:o.jsx(cfe,{}),children:[o.jsx(Be,{index:!0,element:o.jsx(ufe,{})}),o.jsx(Be,{path:"stores",element:o.jsx(dfe,{})}),o.jsx(Be,{path:"stores/new",element:o.jsx(hfe,{})}),o.jsx(Be,{path:"products",element:o.jsx(ffe,{})}),o.jsx(Be,{path:"orders",element:o.jsx(mfe,{})}),o.jsx(Be,{path:"settings",element:o.jsx(vfe,{})}),o.jsx(Be,{path:"banners",element:o.jsx(xfe,{})}),o.jsx(Be,{path:"categories",element:o.jsx(bfe,{})}),o.jsx(Be,{path:"tools",element:o.jsx(Ffe,{})}),o.jsx(Be,{path:"subscription",element:o.jsx(wfe,{})})]}),o.jsxs(Be,{path:"/store",element:o.jsx(XP,{}),children:[o.jsx(Be,{index:!0,element:o.jsx(ZP,{})}),o.jsx(Be,{path:"product/:id",element:o.jsx(ek,{})}),o.jsx(Be,{path:"checkout",element:o.jsx(tk,{})})]})]}),o.jsx(zG,{})]})}k7.createRoot(document.getElementById("root")).render(o.jsx(nme,{}));export{fS as W};
