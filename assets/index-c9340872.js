function YF(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(s,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function Al(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dk={exports:{}},fy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QF=Symbol.for("react.transitional.element"),XF=Symbol.for("react.fragment");function hk(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:QF,type:t,key:s,ref:e!==void 0?e:null,props:n}}fy.Fragment=XF;fy.jsx=hk;fy.jsxs=hk;dk.exports=fy;var o=dk.exports,fk={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_=Symbol.for("react.transitional.element"),JF=Symbol.for("react.portal"),ZF=Symbol.for("react.fragment"),eB=Symbol.for("react.strict_mode"),tB=Symbol.for("react.profiler"),nB=Symbol.for("react.consumer"),sB=Symbol.for("react.context"),rB=Symbol.for("react.forward_ref"),iB=Symbol.for("react.suspense"),aB=Symbol.for("react.memo"),mk=Symbol.for("react.lazy"),oB=Symbol.for("react.activity"),xA=Symbol.iterator;function lB(t){return t===null||typeof t!="object"?null:(t=xA&&t[xA]||t["@@iterator"],typeof t=="function"?t:null)}var pk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gk=Object.assign,yk={};function Ku(t,e,n){this.props=t,this.context=e,this.refs=yk,this.updater=n||pk}Ku.prototype.isReactComponent={};Ku.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ku.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function vk(){}vk.prototype=Ku.prototype;function P_(t,e,n){this.props=t,this.context=e,this.refs=yk,this.updater=n||pk}var k_=P_.prototype=new vk;k_.constructor=P_;gk(k_,Ku.prototype);k_.isPureReactComponent=!0;var bA=Array.isArray;function Qb(){}var St={H:null,A:null,T:null,S:null},xk=Object.prototype.hasOwnProperty;function D_(t,e,n){var s=n.ref;return{$$typeof:R_,type:t,key:e,ref:s!==void 0?s:null,props:n}}function cB(t,e){return D_(t.type,e,t.props)}function M_(t){return typeof t=="object"&&t!==null&&t.$$typeof===R_}function uB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wA=/\/+/g;function px(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uB(""+t.key):e.toString(36)}function dB(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Qb,Qb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function ac(t,e,n,s,r){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(i){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case R_:case JF:a=!0;break;case mk:return a=t._init,ac(a(t._payload),e,n,s,r)}}if(a)return r=r(t),a=s===""?"."+px(t,0):s,bA(r)?(n="",a!=null&&(n=a.replace(wA,"$&/")+"/"),ac(r,e,n,"",function(u){return u})):r!=null&&(M_(r)&&(r=cB(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(wA,"$&/")+"/")+a)),e.push(r)),1;a=0;var l=s===""?".":s+":";if(bA(t))for(var c=0;c<t.length;c++)s=t[c],i=l+px(s,c),a+=ac(s,e,n,i,r);else if(c=lB(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,i=l+px(s,c++),a+=ac(s,e,n,i,r);else if(i==="object"){if(typeof t.then=="function")return ac(dB(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function ep(t,e,n){if(t==null)return t;var s=[],r=0;return ac(t,s,"","",function(i){return e.call(n,i,r++)}),s}function hB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _A=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fB={map:ep,forEach:function(t,e,n){ep(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ep(t,function(){e++}),e},toArray:function(t){return ep(t,function(e){return e})||[]},only:function(t){if(!M_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Activity=oB;Ae.Children=fB;Ae.Component=Ku;Ae.Fragment=ZF;Ae.Profiler=tB;Ae.PureComponent=P_;Ae.StrictMode=eB;Ae.Suspense=iB;Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=St;Ae.__COMPILER_RUNTIME={__proto__:null,c:function(t){return St.H.useMemoCache(t)}};Ae.cache=function(t){return function(){return t.apply(null,arguments)}};Ae.cacheSignal=function(){return null};Ae.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=gk({},t.props),r=t.key;if(e!=null)for(i in e.key!==void 0&&(r=""+e.key),e)!xk.call(e,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&e.ref===void 0||(s[i]=e[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var a=Array(i),l=0;l<i;l++)a[l]=arguments[l+2];s.children=a}return D_(t.type,r,s)};Ae.createContext=function(t){return t={$$typeof:sB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:nB,_context:t},t};Ae.createElement=function(t,e,n){var s,r={},i=null;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)xk.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)r[s]===void 0&&(r[s]=a[s]);return D_(t,i,r)};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:rB,render:t}};Ae.isValidElement=M_;Ae.lazy=function(t){return{$$typeof:mk,_payload:{_status:-1,_result:t},_init:hB}};Ae.memo=function(t,e){return{$$typeof:aB,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=St.T,n={};St.T=n;try{var s=t(),r=St.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Qb,_A)}catch(i){_A(i)}finally{e!==null&&n.types!==null&&(e.types=n.types),St.T=e}};Ae.unstable_useCacheRefresh=function(){return St.H.useCacheRefresh()};Ae.use=function(t){return St.H.use(t)};Ae.useActionState=function(t,e,n){return St.H.useActionState(t,e,n)};Ae.useCallback=function(t,e){return St.H.useCallback(t,e)};Ae.useContext=function(t){return St.H.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t,e){return St.H.useDeferredValue(t,e)};Ae.useEffect=function(t,e){return St.H.useEffect(t,e)};Ae.useEffectEvent=function(t){return St.H.useEffectEvent(t)};Ae.useId=function(){return St.H.useId()};Ae.useImperativeHandle=function(t,e,n){return St.H.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return St.H.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return St.H.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return St.H.useMemo(t,e)};Ae.useOptimistic=function(t,e){return St.H.useOptimistic(t,e)};Ae.useReducer=function(t,e,n){return St.H.useReducer(t,e,n)};Ae.useRef=function(t){return St.H.useRef(t)};Ae.useState=function(t){return St.H.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return St.H.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return St.H.useTransition()};Ae.version="19.2.0";fk.exports=Ae;var g=fk.exports;const Bt=Al(g),my=YF({__proto__:null,default:Bt},[g]);var bk={exports:{}},py={},wk={exports:{}},_k={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,H){var $=U.length;U.push(H);e:for(;0<$;){var K=$-1>>>1,ee=U[K];if(0<r(ee,H))U[K]=H,U[$]=ee,$=K;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var H=U[0],$=U.pop();if($!==H){U[0]=$;e:for(var K=0,ee=U.length,re=ee>>>1;K<re;){var ge=2*(K+1)-1,nt=U[ge],O=ge+1,Y=U[O];if(0>r(nt,$))O<ee&&0>r(Y,nt)?(U[K]=Y,U[O]=$,K=O):(U[K]=nt,U[ge]=$,K=ge);else if(O<ee&&0>r(Y,$))U[K]=Y,U[O]=$,K=O;else break e}}return H}function r(U,H){var $=U.sortIndex-H.sortIndex;return $!==0?$:U.id-H.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,m=3,p=!1,y=!1,x=!1,_=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function I(U){for(var H=n(u);H!==null;){if(H.callback===null)s(u);else if(H.startTime<=U)s(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(u)}}function A(U){if(x=!1,I(U),!y)if(n(c)!==null)y=!0,R||(R=!0,M());else{var H=n(u);H!==null&&X(A,H.startTime-U)}}var R=!1,S=-1,T=5,C=-1;function j(){return _?!0:!(t.unstable_now()-C<T)}function P(){if(_=!1,R){var U=t.unstable_now();C=U;var H=!0;try{e:{y=!1,x&&(x=!1,b(S),S=-1),p=!0;var $=m;try{t:{for(I(U),h=n(c);h!==null&&!(h.expirationTime>U&&j());){var K=h.callback;if(typeof K=="function"){h.callback=null,m=h.priorityLevel;var ee=K(h.expirationTime<=U);if(U=t.unstable_now(),typeof ee=="function"){h.callback=ee,I(U),H=!0;break t}h===n(c)&&s(c),I(U)}else s(c);h=n(c)}if(h!==null)H=!0;else{var re=n(u);re!==null&&X(A,re.startTime-U),H=!1}}break e}finally{h=null,m=$,p=!1}H=void 0}}finally{H?M():R=!1}}}var M;if(typeof E=="function")M=function(){E(P)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,F=k.port2;k.port1.onmessage=P,M=function(){F.postMessage(null)}}else M=function(){v(P,0)};function X(U,H){S=v(function(){U(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var $=m;m=H;try{return U()}finally{m=$}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(U,H){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=m;m=U;try{return H()}finally{m=$}},t.unstable_scheduleCallback=function(U,H,$){var K=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?K+$:K):$=K,U){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=$+ee,U={id:d++,callback:H,priorityLevel:U,startTime:$,expirationTime:ee,sortIndex:-1},$>K?(U.sortIndex=$,e(u,U),n(c)===null&&U===n(u)&&(x?(b(S),S=-1):x=!0,X(A,$-K))):(U.sortIndex=ee,e(c,U),y||p||(y=!0,R||(R=!0,M()))),U},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(U){var H=m;return function(){var $=m;m=H;try{return U.apply(this,arguments)}finally{m=$}}}})(_k);wk.exports=_k;var mB=wk.exports,Tk={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pB=g;function Ek(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qi(){}var Gn={d:{f:Qi,r:function(){throw Error(Ek(522))},D:Qi,C:Qi,L:Qi,m:Qi,X:Qi,S:Qi,M:Qi},p:0,findDOMNode:null},gB=Symbol.for("react.portal");function yB(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:gB,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var gh=pB.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function gy(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gn;Zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Ek(299));return yB(t,e,null,n)};Zn.flushSync=function(t){var e=gh.T,n=Gn.p;try{if(gh.T=null,Gn.p=2,t)return t()}finally{gh.T=e,Gn.p=n,Gn.d.f()}};Zn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Gn.d.C(t,e))};Zn.prefetchDNS=function(t){typeof t=="string"&&Gn.d.D(t)};Zn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=gy(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,i=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Gn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:i}):n==="script"&&Gn.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:i,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=gy(e.as,e.crossOrigin);Gn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Gn.d.M(t)};Zn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=gy(n,e.crossOrigin);Gn.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=gy(e.as,e.crossOrigin);Gn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Gn.d.m(t)};Zn.requestFormReset=function(t){Gn.d.r(t)};Zn.unstable_batchedUpdates=function(t,e){return t(e)};Zn.useFormState=function(t,e,n){return gh.H.useFormState(t,e,n)};Zn.useFormStatus=function(){return gh.H.useHostTransitionStatus()};Zn.version="19.2.0";function Sk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sk)}catch(t){console.error(t)}}Sk(),Tk.exports=Zn;var Yf=Tk.exports;const vB=Al(Yf);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var un=mB,Nk=g,xB=Yf;function W(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ak(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ik(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ck(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TA(t){if(Qf(t)!==t)throw Error(W(188))}function bB(t){var e=t.alternate;if(!e){if(e=Qf(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var i=r.alternate;if(i===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return TA(r),t;if(i===s)return TA(r),e;i=i.sibling}throw Error(W(188))}if(n.return!==s.return)n=r,s=i;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a)throw Error(W(189))}}if(n.alternate!==s)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function jk(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=jk(t),e!==null)return e;t=t.sibling}return null}var At=Object.assign,wB=Symbol.for("react.element"),tp=Symbol.for("react.transitional.element"),Jd=Symbol.for("react.portal"),yc=Symbol.for("react.fragment"),Rk=Symbol.for("react.strict_mode"),Xb=Symbol.for("react.profiler"),Pk=Symbol.for("react.consumer"),oi=Symbol.for("react.context"),O_=Symbol.for("react.forward_ref"),Jb=Symbol.for("react.suspense"),Zb=Symbol.for("react.suspense_list"),V_=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),ew=Symbol.for("react.activity"),_B=Symbol.for("react.memo_cache_sentinel"),EA=Symbol.iterator;function Dd(t){return t===null||typeof t!="object"?null:(t=EA&&t[EA]||t["@@iterator"],typeof t=="function"?t:null)}var TB=Symbol.for("react.client.reference");function tw(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===TB?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yc:return"Fragment";case Xb:return"Profiler";case Rk:return"StrictMode";case Jb:return"Suspense";case Zb:return"SuspenseList";case ew:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Jd:return"Portal";case oi:return t.displayName||"Context";case Pk:return(t._context.displayName||"Context")+".Consumer";case O_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V_:return e=t.displayName||null,e!==null?e:tw(t.type)||"Memo";case aa:e=t._payload,t=t._init;try{return tw(t(e))}catch{}}return null}var Zd=Array.isArray,Te=Nk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ze=xB.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ho={pending:!1,data:null,method:null,action:null},nw=[],vc=-1;function Hr(t){return{current:t}}function vn(t){0>vc||(t.current=nw[vc],nw[vc]=null,vc--)}function yt(t,e){vc++,nw[vc]=t.current,t.current=e}var Pr=Hr(null),Zh=Hr(null),Na=Hr(null),jg=Hr(null);function Rg(t,e){switch(yt(Na,e),yt(Zh,t),yt(Pr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?jI(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=jI(e),t=JM(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}vn(Pr),yt(Pr,t)}function au(){vn(Pr),vn(Zh),vn(Na)}function sw(t){t.memoizedState!==null&&yt(jg,t);var e=Pr.current,n=JM(e,t.type);e!==n&&(yt(Zh,t),yt(Pr,n))}function Pg(t){Zh.current===t&&(vn(Pr),vn(Zh)),jg.current===t&&(vn(jg),df._currentValue=Ho)}var gx,SA;function Ao(t){if(gx===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gx=e&&e[1]||"",SA=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gx+t+SA}var yx=!1;function vx(t,e){if(!t||yx)return"";yx=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(p){var m=p}Reflect.construct(t,[],h)}else{try{h.call()}catch(p){m=p}t.call(h.prototype)}}else{try{throw Error()}catch(p){m=p}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(p){if(p&&m&&typeof p.stack=="string")return[p.stack,m.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),a=i[0],l=i[1];if(a&&l){var c=a.split(`
`),u=l.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===u.length)for(s=c.length-1,r=u.length-1;1<=s&&0<=r&&c[s]!==u[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==u[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==u[r]){var d=`
`+c[s].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=s&&0<=r);break}}}finally{yx=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ao(n):""}function EB(t,e){switch(t.tag){case 26:case 27:case 5:return Ao(t.type);case 16:return Ao("Lazy");case 13:return t.child!==e&&e!==null?Ao("Suspense Fallback"):Ao("Suspense");case 19:return Ao("SuspenseList");case 0:case 15:return vx(t.type,!1);case 11:return vx(t.type.render,!1);case 1:return vx(t.type,!0);case 31:return Ao("Activity");default:return""}}function NA(t){try{var e="",n=null;do e+=EB(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var rw=Object.prototype.hasOwnProperty,L_=un.unstable_scheduleCallback,xx=un.unstable_cancelCallback,SB=un.unstable_shouldYield,NB=un.unstable_requestPaint,Es=un.unstable_now,AB=un.unstable_getCurrentPriorityLevel,kk=un.unstable_ImmediatePriority,Dk=un.unstable_UserBlockingPriority,kg=un.unstable_NormalPriority,IB=un.unstable_LowPriority,Mk=un.unstable_IdlePriority,CB=un.log,jB=un.unstable_setDisableYieldValue,Xf=null,Ss=null;function xa(t){if(typeof CB=="function"&&jB(t),Ss&&typeof Ss.setStrictMode=="function")try{Ss.setStrictMode(Xf,t)}catch{}}var Ns=Math.clz32?Math.clz32:kB,RB=Math.log,PB=Math.LN2;function kB(t){return t>>>=0,t===0?32:31-(RB(t)/PB|0)|0}var np=256,sp=262144,rp=4194304;function Io(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yy(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~i,s!==0?r=Io(s):(a&=l,a!==0?r=Io(a):n||(n=l&~t,n!==0&&(r=Io(n))))):(l=s&~i,l!==0?r=Io(l):a!==0?r=Io(a):n||(n=s&~t,n!==0&&(r=Io(n)))),r===0?0:e!==0&&e!==r&&!(e&i)&&(i=r&-r,n=e&-e,i>=n||i===32&&(n&4194048)!==0)?e:r}function Jf(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function DB(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ok(){var t=rp;return rp<<=1,!(rp&62914560)&&(rp=4194304),t}function bx(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zf(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function MB(t,e,n,s,r,i){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Ns(n),h=1<<d;l[d]=0,c[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var p=m[d];p!==null&&(p.lane&=-536870913)}n&=~h}s!==0&&Vk(t,s,0),i!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=i&~(a&~e))}function Vk(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Ns(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function Lk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Ns(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function Uk(t,e){var n=e&-e;return n=n&42?1:U_(n),n&(t.suspendedLanes|e)?0:n}function U_(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function F_(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Fk(){var t=Ze.p;return t!==0?t:(t=window.event,t===void 0?32:c4(t.type))}function AA(t,e){var n=Ze.p;try{return Ze.p=t,e()}finally{Ze.p=n}}var co=Math.random().toString(36).slice(2),En="__reactFiber$"+co,hs="__reactProps$"+co,Wu="__reactContainer$"+co,iw="__reactEvents$"+co,OB="__reactListeners$"+co,VB="__reactHandles$"+co,IA="__reactResources$"+co,em="__reactMarker$"+co;function B_(t){delete t[En],delete t[hs],delete t[iw],delete t[OB],delete t[VB]}function xc(t){var e=t[En];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wu]||n[En]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=MI(t);t!==null;){if(n=t[En])return n;t=MI(t)}return e}t=n,n=t.parentNode}return null}function Yu(t){if(t=t[En]||t[Wu]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function eh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(W(33))}function Oc(t){var e=t[IA];return e||(e=t[IA]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function gn(t){t[em]=!0}var Bk=new Set,zk={};function Il(t,e){ou(t,e),ou(t+"Capture",e)}function ou(t,e){for(zk[t]=e,t=0;t<e.length;t++)Bk.add(e[t])}var LB=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),CA={},jA={};function UB(t){return rw.call(jA,t)?!0:rw.call(CA,t)?!1:LB.test(t)?jA[t]=!0:(CA[t]=!0,!1)}function Fp(t,e,n){if(UB(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ip(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Qr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function Bs(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $k(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function FB(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,i=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function aw(t){if(!t._valueTracker){var e=$k(t)?"checked":"value";t._valueTracker=FB(t,e,""+t[e])}}function qk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=$k(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function Dg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var BB=/[\n"\\]/g;function qs(t){return t.replace(BB,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function ow(t,e,n,s,r,i,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Bs(e)):t.value!==""+Bs(e)&&(t.value=""+Bs(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?lw(t,a,Bs(e)):n!=null?lw(t,a,Bs(n)):s!=null&&t.removeAttribute("value"),r==null&&i!=null&&(t.defaultChecked=!!i),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+Bs(l):t.removeAttribute("name")}function Hk(t,e,n,s,r,i,a,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(t.type=i),e!=null||n!=null){if(!(i!=="submit"&&i!=="reset"||e!=null)){aw(t);return}n=n!=null?""+Bs(n):"",e=e!=null?""+Bs(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),aw(t)}function lw(t,e,n){e==="number"&&Dg(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Vc(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+Bs(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function Gk(t,e,n){if(e!=null&&(e=""+Bs(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Bs(n):""}function Kk(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(W(92));if(Zd(s)){if(1<s.length)throw Error(W(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=Bs(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),aw(t)}function lu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zB=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function RA(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||zB.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Wk(t,e,n){if(e!=null&&typeof e!="object")throw Error(W(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&RA(t,r,s)}else for(var i in e)e.hasOwnProperty(i)&&RA(t,i,e[i])}function z_(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $B=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qB=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bp(t){return qB.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function li(){}var cw=null;function $_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,Lc=null;function PA(t){var e=Yu(t);if(e&&(t=e.stateNode)){var n=t[hs]||null;e:switch(t=e.stateNode,e.type){case"input":if(ow(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qs(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[hs]||null;if(!r)throw Error(W(90));ow(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&qk(s)}break e;case"textarea":Gk(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Vc(t,!!n.multiple,e,!1)}}}var wx=!1;function Yk(t,e,n){if(wx)return t(e,n);wx=!0;try{var s=t(e);return s}finally{if(wx=!1,(bc!==null||Lc!==null)&&(Cy(),bc&&(e=bc,t=Lc,Lc=bc=null,PA(e),t)))for(e=0;e<t.length;e++)PA(t[e])}}function ef(t,e){var n=t.stateNode;if(n===null)return null;var s=n[hs]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uw=!1;if(bi)try{var Md={};Object.defineProperty(Md,"passive",{get:function(){uw=!0}}),window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{uw=!1}var ba=null,q_=null,zp=null;function Qk(){if(zp)return zp;var t,e=q_,n=e.length,s,r="value"in ba?ba.value:ba.textContent,i=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===r[i-s];s++);return zp=r.slice(t,1<s?1-s:void 0)}function $p(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ap(){return!0}function kA(){return!1}function fs(t){function e(n,s,r,i,a){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ap:kA,this.isPropagationStopped=kA,this}return At(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),e}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vy=fs(Cl),tm=At({},Cl,{view:0,detail:0}),HB=fs(tm),_x,Tx,Od,xy=At({},tm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Od&&(Od&&t.type==="mousemove"?(_x=t.screenX-Od.screenX,Tx=t.screenY-Od.screenY):Tx=_x=0,Od=t),_x)},movementY:function(t){return"movementY"in t?t.movementY:Tx}}),DA=fs(xy),GB=At({},xy,{dataTransfer:0}),KB=fs(GB),WB=At({},tm,{relatedTarget:0}),Ex=fs(WB),YB=At({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),QB=fs(YB),XB=At({},Cl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JB=fs(XB),ZB=At({},Cl,{data:0}),MA=fs(ZB),ez={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nz[t])?!!e[t]:!1}function H_(){return sz}var rz=At({},tm,{key:function(t){if(t.key){var e=ez[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$p(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H_,charCode:function(t){return t.type==="keypress"?$p(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$p(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),iz=fs(rz),az=At({},xy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OA=fs(az),oz=At({},tm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H_}),lz=fs(oz),cz=At({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),uz=fs(cz),dz=At({},xy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hz=fs(dz),fz=At({},Cl,{newState:0,oldState:0}),mz=fs(fz),pz=[9,13,27,32],G_=bi&&"CompositionEvent"in window,yh=null;bi&&"documentMode"in document&&(yh=document.documentMode);var gz=bi&&"TextEvent"in window&&!yh,Xk=bi&&(!G_||yh&&8<yh&&11>=yh),VA=String.fromCharCode(32),LA=!1;function Jk(t,e){switch(t){case"keyup":return pz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zk(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wc=!1;function yz(t,e){switch(t){case"compositionend":return Zk(e);case"keypress":return e.which!==32?null:(LA=!0,VA);case"textInput":return t=e.data,t===VA&&LA?null:t;default:return null}}function vz(t,e){if(wc)return t==="compositionend"||!G_&&Jk(t,e)?(t=Qk(),zp=q_=ba=null,wc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xk&&e.locale!=="ko"?null:e.data;default:return null}}var xz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function UA(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xz[t.type]:e==="textarea"}function eD(t,e,n,s){bc?Lc?Lc.push(s):Lc=[s]:bc=s,e=Jg(e,"onChange"),0<e.length&&(n=new vy("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var vh=null,tf=null;function bz(t){YM(t,0)}function by(t){var e=eh(t);if(qk(e))return t}function FA(t,e){if(t==="change")return e}var tD=!1;if(bi){var Sx;if(bi){var Nx="oninput"in document;if(!Nx){var BA=document.createElement("div");BA.setAttribute("oninput","return;"),Nx=typeof BA.oninput=="function"}Sx=Nx}else Sx=!1;tD=Sx&&(!document.documentMode||9<document.documentMode)}function zA(){vh&&(vh.detachEvent("onpropertychange",nD),tf=vh=null)}function nD(t){if(t.propertyName==="value"&&by(tf)){var e=[];eD(e,tf,t,$_(t)),Yk(bz,e)}}function wz(t,e,n){t==="focusin"?(zA(),vh=e,tf=n,vh.attachEvent("onpropertychange",nD)):t==="focusout"&&zA()}function _z(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return by(tf)}function Tz(t,e){if(t==="click")return by(e)}function Ez(t,e){if(t==="input"||t==="change")return by(e)}function Sz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rs=typeof Object.is=="function"?Object.is:Sz;function nf(t,e){if(Rs(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!rw.call(e,r)||!Rs(t[r],e[r]))return!1}return!0}function $A(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qA(t,e){var n=$A(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$A(n)}}function sD(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sD(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rD(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Dg(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Dg(t.document)}return e}function K_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var Nz=bi&&"documentMode"in document&&11>=document.documentMode,_c=null,dw=null,xh=null,hw=!1;function HA(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hw||_c==null||_c!==Dg(s)||(s=_c,"selectionStart"in s&&K_(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xh&&nf(xh,s)||(xh=s,s=Jg(dw,"onSelect"),0<s.length&&(e=new vy("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=_c)))}function Eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Tc={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionrun:Eo("Transition","TransitionRun"),transitionstart:Eo("Transition","TransitionStart"),transitioncancel:Eo("Transition","TransitionCancel"),transitionend:Eo("Transition","TransitionEnd")},Ax={},iD={};bi&&(iD=document.createElement("div").style,"AnimationEvent"in window||(delete Tc.animationend.animation,delete Tc.animationiteration.animation,delete Tc.animationstart.animation),"TransitionEvent"in window||delete Tc.transitionend.transition);function jl(t){if(Ax[t])return Ax[t];if(!Tc[t])return t;var e=Tc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iD)return Ax[t]=e[n];return t}var aD=jl("animationend"),oD=jl("animationiteration"),lD=jl("animationstart"),Az=jl("transitionrun"),Iz=jl("transitionstart"),Cz=jl("transitioncancel"),cD=jl("transitionend"),uD=new Map,fw="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fw.push("scrollEnd");function yr(t,e){uD.set(t,e),Il(e,[t])}var Mg=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fs=[],Ec=0,W_=0;function wy(){for(var t=Ec,e=W_=Ec=0;e<t;){var n=Fs[e];Fs[e++]=null;var s=Fs[e];Fs[e++]=null;var r=Fs[e];Fs[e++]=null;var i=Fs[e];if(Fs[e++]=null,s!==null&&r!==null){var a=s.pending;a===null?r.next=r:(r.next=a.next,a.next=r),s.pending=r}i!==0&&dD(n,r,i)}}function _y(t,e,n,s){Fs[Ec++]=t,Fs[Ec++]=e,Fs[Ec++]=n,Fs[Ec++]=s,W_|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Y_(t,e,n,s){return _y(t,e,n,s),Og(t)}function Rl(t,e){return _y(t,null,null,e),Og(t)}function dD(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,i=t.return;i!==null;)i.childLanes|=n,s=i.alternate,s!==null&&(s.childLanes|=n),i.tag===22&&(t=i.stateNode,t===null||t._visibility&1||(r=!0)),t=i,i=i.return;return t.tag===3?(i=t.stateNode,r&&e!==null&&(r=31-Ns(n),t=i.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),i):null}function Og(t){if(50<Ih)throw Ih=0,Dw=null,Error(W(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Sc={};function jz(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(t,e,n,s){return new jz(t,e,n,s)}function Q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fi(t,e){var n=t.alternate;return n===null?(n=xs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function hD(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function qp(t,e,n,s,r,i){var a=0;if(s=t,typeof t=="function")Q_(t)&&(a=1);else if(typeof t=="string")a=M7(t,n,Pr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ew:return t=xs(31,n,e,r),t.elementType=ew,t.lanes=i,t;case yc:return Go(n.children,r,i,e);case Rk:a=8,r|=24;break;case Xb:return t=xs(12,n,e,r|2),t.elementType=Xb,t.lanes=i,t;case Jb:return t=xs(13,n,e,r),t.elementType=Jb,t.lanes=i,t;case Zb:return t=xs(19,n,e,r),t.elementType=Zb,t.lanes=i,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oi:a=10;break e;case Pk:a=9;break e;case O_:a=11;break e;case V_:a=14;break e;case aa:a=16,s=null;break e}a=29,n=Error(W(130,t===null?"null":typeof t,"")),s=null}return e=xs(a,n,e,r),e.elementType=t,e.type=s,e.lanes=i,e}function Go(t,e,n,s){return t=xs(7,t,s,e),t.lanes=n,t}function Ix(t,e,n){return t=xs(6,t,null,e),t.lanes=n,t}function fD(t){var e=xs(18,null,null,0);return e.stateNode=t,e}function Cx(t,e,n){return e=xs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var GA=new WeakMap;function Hs(t,e){if(typeof t=="object"&&t!==null){var n=GA.get(t);return n!==void 0?n:(e={value:t,source:e,stack:NA(e)},GA.set(t,e),e)}return{value:t,source:e,stack:NA(e)}}var Nc=[],Ac=0,Vg=null,sf=0,zs=[],$s=0,$a=null,Nr=1,Ar="";function ri(t,e){Nc[Ac++]=sf,Nc[Ac++]=Vg,Vg=t,sf=e}function mD(t,e,n){zs[$s++]=Nr,zs[$s++]=Ar,zs[$s++]=$a,$a=t;var s=Nr;t=Ar;var r=32-Ns(s)-1;s&=~(1<<r),n+=1;var i=32-Ns(e)+r;if(30<i){var a=r-r%5;i=(s&(1<<a)-1).toString(32),s>>=a,r-=a,Nr=1<<32-Ns(e)+r|n<<r|s,Ar=i+t}else Nr=1<<i|n<<r|s,Ar=t}function X_(t){t.return!==null&&(ri(t,1),mD(t,1,0))}function J_(t){for(;t===Vg;)Vg=Nc[--Ac],Nc[Ac]=null,sf=Nc[--Ac],Nc[Ac]=null;for(;t===$a;)$a=zs[--$s],zs[$s]=null,Ar=zs[--$s],zs[$s]=null,Nr=zs[--$s],zs[$s]=null}function pD(t,e){zs[$s++]=Nr,zs[$s++]=Ar,zs[$s++]=$a,Nr=e.id,Ar=e.overflow,$a=t}var Sn=null,_t=null,He=!1,Aa=null,Gs=!1,mw=Error(W(519));function qa(t){var e=Error(W(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rf(Hs(e,t)),mw}function KA(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[En]=t,e[hs]=s,n){case"dialog":Ue("cancel",e),Ue("close",e);break;case"iframe":case"object":case"embed":Ue("load",e);break;case"video":case"audio":for(n=0;n<cf.length;n++)Ue(cf[n],e);break;case"source":Ue("error",e);break;case"img":case"image":case"link":Ue("error",e),Ue("load",e);break;case"details":Ue("toggle",e);break;case"input":Ue("invalid",e),Hk(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Ue("invalid",e);break;case"textarea":Ue("invalid",e),Kk(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||XM(e.textContent,n)?(s.popover!=null&&(Ue("beforetoggle",e),Ue("toggle",e)),s.onScroll!=null&&Ue("scroll",e),s.onScrollEnd!=null&&Ue("scrollend",e),s.onClick!=null&&(e.onclick=li),e=!0):e=!1,e||qa(t,!0)}function WA(t){for(Sn=t.return;Sn;)switch(Sn.tag){case 5:case 31:case 13:Gs=!1;return;case 27:case 3:Gs=!0;return;default:Sn=Sn.return}}function Wl(t){if(t!==Sn)return!1;if(!He)return WA(t),He=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Uw(t.type,t.memoizedProps)),n=!n),n&&_t&&qa(t),WA(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));_t=DI(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));_t=DI(t)}else e===27?(e=_t,uo(t.type)?(t=$w,$w=null,_t=t):_t=e):_t=Sn?Xs(t.stateNode.nextSibling):null;return!0}function il(){_t=Sn=null,He=!1}function jx(){var t=Aa;return t!==null&&(is===null?is=t:is.push.apply(is,t),Aa=null),t}function rf(t){Aa===null?Aa=[t]:Aa.push(t)}var pw=Hr(null),Pl=null,ci=null;function ca(t,e,n){yt(pw,e._currentValue),e._currentValue=n}function mi(t){t._currentValue=pw.current,vn(pw)}function gw(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function yw(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var i=r.dependencies;if(i!==null){var a=r.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=r;for(var c=0;c<e.length;c++)if(l.context===e[c]){i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),gw(i.return,n,t),s||(a=null);break e}i=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(W(341));a.lanes|=n,i=a.alternate,i!==null&&(i.lanes|=n),gw(a,n,t),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===t){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Qu(t,e,n,s){t=null;for(var r=e,i=!1;r!==null;){if(!i){if(r.flags&524288)i=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(W(387));if(a=a.memoizedProps,a!==null){var l=r.type;Rs(r.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(r===jg.current){if(a=r.alternate,a===null)throw Error(W(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(df):t=[df])}r=r.return}t!==null&&yw(e,t,n,s),e.flags|=262144}function Lg(t){for(t=t.firstContext;t!==null;){if(!Rs(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function al(t){Pl=t,ci=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Nn(t){return gD(Pl,t)}function op(t,e){return Pl===null&&al(t),gD(t,e)}function gD(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ci===null){if(t===null)throw Error(W(308));ci=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ci=ci.next=e;return n}var Rz=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Pz=un.unstable_scheduleCallback,kz=un.unstable_NormalPriority,tn={$$typeof:oi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Z_(){return{controller:new Rz,data:new Map,refCount:0}}function nm(t){t.refCount--,t.refCount===0&&Pz(kz,function(){t.controller.abort()})}var bh=null,vw=0,cu=0,Uc=null;function Dz(t,e){if(bh===null){var n=bh=[];vw=0,cu=ET(),Uc={status:"pending",value:void 0,then:function(s){n.push(s)}}}return vw++,e.then(YA,YA),e}function YA(){if(--vw===0&&bh!==null){Uc!==null&&(Uc.status="fulfilled");var t=bh;bh=null,cu=0,Uc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Mz(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var QA=Te.S;Te.S=function(t,e){jM=Es(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&Dz(t,e),QA!==null&&QA(t,e)};var Ko=Hr(null);function eT(){var t=Ko.current;return t!==null?t:pt.pooledCache}function Hp(t,e){e===null?yt(Ko,Ko.current):yt(Ko,e.pool)}function yD(){var t=eT();return t===null?null:{parent:tn._currentValue,pool:t}}var Xu=Error(W(460)),tT=Error(W(474)),Ty=Error(W(542)),Ug={then:function(){}};function XA(t){return t=t.status,t==="fulfilled"||t==="rejected"}function vD(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(li,li),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ZA(t),t;default:if(typeof e.status=="string")e.then(li,li);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(W(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ZA(t),t}throw Wo=e,Xu}}function Co(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Wo=n,Xu):n}}var Wo=null;function JA(){if(Wo===null)throw Error(W(459));var t=Wo;return Wo=null,t}function ZA(t){if(t===Xu||t===Ty)throw Error(W(483))}var Fc=null,af=0;function lp(t){var e=af;return af+=1,Fc===null&&(Fc=[]),vD(Fc,t,e)}function Vd(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function cp(t,e){throw e.$$typeof===wB?Error(W(525)):(t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function xD(t){function e(v,b){if(t){var E=v.deletions;E===null?(v.deletions=[b],v.flags|=16):E.push(b)}}function n(v,b){if(!t)return null;for(;b!==null;)e(v,b),b=b.sibling;return null}function s(v){for(var b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function r(v,b){return v=fi(v,b),v.index=0,v.sibling=null,v}function i(v,b,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<b?(v.flags|=67108866,b):E):(v.flags|=67108866,b)):(v.flags|=1048576,b)}function a(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function l(v,b,E,I){return b===null||b.tag!==6?(b=Ix(E,v.mode,I),b.return=v,b):(b=r(b,E),b.return=v,b)}function c(v,b,E,I){var A=E.type;return A===yc?d(v,b,E.props.children,I,E.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===aa&&Co(A)===b.type)?(b=r(b,E.props),Vd(b,E),b.return=v,b):(b=qp(E.type,E.key,E.props,null,v.mode,I),Vd(b,E),b.return=v,b)}function u(v,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=Cx(E,v.mode,I),b.return=v,b):(b=r(b,E.children||[]),b.return=v,b)}function d(v,b,E,I,A){return b===null||b.tag!==7?(b=Go(E,v.mode,I,A),b.return=v,b):(b=r(b,E),b.return=v,b)}function h(v,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Ix(""+b,v.mode,E),b.return=v,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tp:return E=qp(b.type,b.key,b.props,null,v.mode,E),Vd(E,b),E.return=v,E;case Jd:return b=Cx(b,v.mode,E),b.return=v,b;case aa:return b=Co(b),h(v,b,E)}if(Zd(b)||Dd(b))return b=Go(b,v.mode,E,null),b.return=v,b;if(typeof b.then=="function")return h(v,lp(b),E);if(b.$$typeof===oi)return h(v,op(v,b),E);cp(v,b)}return null}function m(v,b,E,I){var A=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return A!==null?null:l(v,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:return E.key===A?c(v,b,E,I):null;case Jd:return E.key===A?u(v,b,E,I):null;case aa:return E=Co(E),m(v,b,E,I)}if(Zd(E)||Dd(E))return A!==null?null:d(v,b,E,I,null);if(typeof E.then=="function")return m(v,b,lp(E),I);if(E.$$typeof===oi)return m(v,b,op(v,E),I);cp(v,E)}return null}function p(v,b,E,I,A){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return v=v.get(E)||null,l(b,v,""+I,A);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case tp:return v=v.get(I.key===null?E:I.key)||null,c(b,v,I,A);case Jd:return v=v.get(I.key===null?E:I.key)||null,u(b,v,I,A);case aa:return I=Co(I),p(v,b,E,I,A)}if(Zd(I)||Dd(I))return v=v.get(E)||null,d(b,v,I,A,null);if(typeof I.then=="function")return p(v,b,E,lp(I),A);if(I.$$typeof===oi)return p(v,b,E,op(b,I),A);cp(b,I)}return null}function y(v,b,E,I){for(var A=null,R=null,S=b,T=b=0,C=null;S!==null&&T<E.length;T++){S.index>T?(C=S,S=null):C=S.sibling;var j=m(v,S,E[T],I);if(j===null){S===null&&(S=C);break}t&&S&&j.alternate===null&&e(v,S),b=i(j,b,T),R===null?A=j:R.sibling=j,R=j,S=C}if(T===E.length)return n(v,S),He&&ri(v,T),A;if(S===null){for(;T<E.length;T++)S=h(v,E[T],I),S!==null&&(b=i(S,b,T),R===null?A=S:R.sibling=S,R=S);return He&&ri(v,T),A}for(S=s(S);T<E.length;T++)C=p(S,v,T,E[T],I),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?T:C.key),b=i(C,b,T),R===null?A=C:R.sibling=C,R=C);return t&&S.forEach(function(P){return e(v,P)}),He&&ri(v,T),A}function x(v,b,E,I){if(E==null)throw Error(W(151));for(var A=null,R=null,S=b,T=b=0,C=null,j=E.next();S!==null&&!j.done;T++,j=E.next()){S.index>T?(C=S,S=null):C=S.sibling;var P=m(v,S,j.value,I);if(P===null){S===null&&(S=C);break}t&&S&&P.alternate===null&&e(v,S),b=i(P,b,T),R===null?A=P:R.sibling=P,R=P,S=C}if(j.done)return n(v,S),He&&ri(v,T),A;if(S===null){for(;!j.done;T++,j=E.next())j=h(v,j.value,I),j!==null&&(b=i(j,b,T),R===null?A=j:R.sibling=j,R=j);return He&&ri(v,T),A}for(S=s(S);!j.done;T++,j=E.next())j=p(S,v,T,j.value,I),j!==null&&(t&&j.alternate!==null&&S.delete(j.key===null?T:j.key),b=i(j,b,T),R===null?A=j:R.sibling=j,R=j);return t&&S.forEach(function(M){return e(v,M)}),He&&ri(v,T),A}function _(v,b,E,I){if(typeof E=="object"&&E!==null&&E.type===yc&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case tp:e:{for(var A=E.key;b!==null;){if(b.key===A){if(A=E.type,A===yc){if(b.tag===7){n(v,b.sibling),I=r(b,E.props.children),I.return=v,v=I;break e}}else if(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===aa&&Co(A)===b.type){n(v,b.sibling),I=r(b,E.props),Vd(I,E),I.return=v,v=I;break e}n(v,b);break}else e(v,b);b=b.sibling}E.type===yc?(I=Go(E.props.children,v.mode,I,E.key),I.return=v,v=I):(I=qp(E.type,E.key,E.props,null,v.mode,I),Vd(I,E),I.return=v,v=I)}return a(v);case Jd:e:{for(A=E.key;b!==null;){if(b.key===A)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(v,b.sibling),I=r(b,E.children||[]),I.return=v,v=I;break e}else{n(v,b);break}else e(v,b);b=b.sibling}I=Cx(E,v.mode,I),I.return=v,v=I}return a(v);case aa:return E=Co(E),_(v,b,E,I)}if(Zd(E))return y(v,b,E,I);if(Dd(E)){if(A=Dd(E),typeof A!="function")throw Error(W(150));return E=A.call(E),x(v,b,E,I)}if(typeof E.then=="function")return _(v,b,lp(E),I);if(E.$$typeof===oi)return _(v,b,op(v,E),I);cp(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,b!==null&&b.tag===6?(n(v,b.sibling),I=r(b,E),I.return=v,v=I):(n(v,b),I=Ix(E,v.mode,I),I.return=v,v=I),a(v)):n(v,b)}return function(v,b,E,I){try{af=0;var A=_(v,b,E,I);return Fc=null,A}catch(S){if(S===Xu||S===Ty)throw S;var R=xs(29,S,null,v.mode);return R.lanes=I,R.return=v,R}finally{}}}var ol=xD(!0),bD=xD(!1),oa=!1;function nT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ia(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ca(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Je&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Og(t),dD(t,null,n),e}return _y(t,s,e,n),Og(t)}function wh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Lk(t,n)}}function Rx(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};i===null?r=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?r=i=e:i=i.next=e}else r=i=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var bw=!1;function _h(){if(bw){var t=Uc;if(t!==null)throw t}}function Th(t,e,n,s){bw=!1;var r=t.updateQueue;oa=!1;var i=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=r.baseState;a=0,d=u=c=null,l=i;do{var m=l.lane&-536870913,p=m!==l.lane;if(p?($e&m)===m:(s&m)===m){m!==0&&m===cu&&(bw=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var y=t,x=l;m=e;var _=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){h=y.call(_,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(_,h,m):y,m==null)break e;h=At({},h,m);break e;case 2:oa=!0}}m=l.callback,m!==null&&(t.flags|=64,p&&(t.flags|=8192),p=r.callbacks,p===null?r.callbacks=[m]:p.push(m))}else p={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;p=l,l=p.next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}while(1);d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,i===null&&(r.shared.lanes=0),Ga|=a,t.lanes=a,t.memoizedState=h}}function wD(t,e){if(typeof t!="function")throw Error(W(191,t));t.call(e)}function _D(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)wD(n[t],e)}var uu=Hr(null),Fg=Hr(0);function eI(t,e){t=Ei,yt(Fg,t),yt(uu,e),Ei=t|e.baseLanes}function ww(){yt(Fg,Ei),yt(uu,uu.current)}function sT(){Ei=Fg.current,vn(uu),vn(Fg)}var Ps=Hr(null),Qs=null;function ua(t){var e=t.alternate;yt(Kt,Kt.current&1),yt(Ps,t),Qs===null&&(e===null||uu.current!==null||e.memoizedState!==null)&&(Qs=t)}function _w(t){yt(Kt,Kt.current),yt(Ps,t),Qs===null&&(Qs=t)}function TD(t){t.tag===22?(yt(Kt,Kt.current),yt(Ps,t),Qs===null&&(Qs=t)):da()}function da(){yt(Kt,Kt.current),yt(Ps,Ps.current)}function ys(t){vn(Ps),Qs===t&&(Qs=null),vn(Kt)}var Kt=Hr(0);function Bg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Bw(n)||zw(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var wi=0,Ce=null,ut=null,Xt=null,zg=!1,Bc=!1,ll=!1,$g=0,of=0,zc=null,Oz=0;function Lt(){throw Error(W(321))}function rT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rs(t[n],e[n]))return!1;return!0}function iT(t,e,n,s,r,i){return wi=i,Ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Te.H=t===null||t.memoizedState===null?eM:gT,ll=!1,i=n(s,r),ll=!1,Bc&&(i=SD(e,n,s,r)),ED(t),i}function ED(t){Te.H=lf;var e=ut!==null&&ut.next!==null;if(wi=0,Xt=ut=Ce=null,zg=!1,of=0,zc=null,e)throw Error(W(300));t===null||nn||(t=t.dependencies,t!==null&&Lg(t)&&(nn=!0))}function SD(t,e,n,s){Ce=t;var r=0;do{if(Bc&&(zc=null),of=0,Bc=!1,25<=r)throw Error(W(301));if(r+=1,Xt=ut=null,t.updateQueue!=null){var i=t.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Te.H=tM,i=e(n,s)}while(Bc);return i}function Vz(){var t=Te.H,e=t.useState()[0];return e=typeof e.then=="function"?sm(e):e,t=t.useState()[0],(ut!==null?ut.memoizedState:null)!==t&&(Ce.flags|=1024),e}function aT(){var t=$g!==0;return $g=0,t}function oT(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function lT(t){if(zg){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}zg=!1}wi=0,Xt=ut=Ce=null,Bc=!1,of=$g=0,zc=null}function zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Ce.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function Wt(){if(ut===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=Xt===null?Ce.memoizedState:Xt.next;if(e!==null)Xt=e,ut=t;else{if(t===null)throw Ce.alternate===null?Error(W(467)):Error(W(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},Xt===null?Ce.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Ey(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sm(t){var e=of;return of+=1,zc===null&&(zc=[]),t=vD(zc,t,e),e=Ce,(Xt===null?e.memoizedState:Xt.next)===null&&(e=e.alternate,Te.H=e===null||e.memoizedState===null?eM:gT),t}function Sy(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sm(t);if(t.$$typeof===oi)return Nn(t)}throw Error(W(438,String(t)))}function cT(t){var e=null,n=Ce.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ey(),Ce.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=_B;return e.index++,n}function _i(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=Wt();return uT(e,ut,t)}function uT(t,e,n){var s=t.queue;if(s===null)throw Error(W(311));s.lastRenderedReducer=n;var r=t.baseQueue,i=s.pending;if(i!==null){if(r!==null){var a=r.next;r.next=i.next,i.next=a}e.baseQueue=r=i,s.pending=null}if(i=t.baseState,r===null)t.memoizedState=i;else{e=r.next;var l=a=null,c=null,u=e,d=!1;do{var h=u.lane&-536870913;if(h!==u.lane?($e&h)===h:(wi&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===cu&&(d=!0);else if((wi&m)===m){u=u.next,m===cu&&(d=!0);continue}else h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=h,a=i):c=c.next=h,Ce.lanes|=m,Ga|=m;h=u.action,ll&&n(i,h),i=u.hasEagerState?u.eagerState:n(i,h)}else m={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(l=c=m,a=i):c=c.next=m,Ce.lanes|=h,Ga|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=i:c.next=l,!Rs(i,t.memoizedState)&&(nn=!0,d&&(n=Uc,n!==null)))throw n;t.memoizedState=i,t.baseState=a,t.baseQueue=c,s.lastRenderedState=i}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Px(t){var e=Wt(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,i=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do i=t(i,a.action),a=a.next;while(a!==r);Rs(i,e.memoizedState)||(nn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,s]}function ND(t,e,n){var s=Ce,r=Wt(),i=He;if(i){if(n===void 0)throw Error(W(407));n=n()}else n=e();var a=!Rs((ut||r).memoizedState,n);if(a&&(r.memoizedState=n,nn=!0),r=r.queue,dT(CD.bind(null,s,r,t),[t]),r.getSnapshot!==e||a||Xt!==null&&Xt.memoizedState.tag&1){if(s.flags|=2048,du(9,{destroy:void 0},ID.bind(null,s,r,n,e),null),pt===null)throw Error(W(349));i||wi&127||AD(s,e,n)}return n}function AD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ce.updateQueue,e===null?(e=Ey(),Ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ID(t,e,n,s){e.value=n,e.getSnapshot=s,jD(e)&&RD(t)}function CD(t,e,n){return n(function(){jD(e)&&RD(t)})}function jD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rs(t,n)}catch{return!0}}function RD(t){var e=Rl(t,2);e!==null&&us(e,t,2)}function Tw(t){var e=zn();if(typeof t=="function"){var n=t;if(t=n(),ll){xa(!0);try{n()}finally{xa(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:t},e}function PD(t,e,n,s){return t.baseState=n,uT(t,ut,typeof s=="function"?s:_i)}function Lz(t,e,n,s,r){if(Ay(t))throw Error(W(485));if(t=e.action,t!==null){var i={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){i.listeners.push(a)}};Te.T!==null?n(!0):i.isTransition=!1,s(i),n=e.pending,n===null?(i.next=e.pending=i,kD(e,i)):(i.next=n.next,e.pending=n.next=i)}}function kD(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var i=Te.T,a={};Te.T=a;try{var l=n(r,s),c=Te.S;c!==null&&c(a,l),tI(t,e,l)}catch(u){Ew(t,e,u)}finally{i!==null&&a.types!==null&&(i.types=a.types),Te.T=i}}else try{i=n(r,s),tI(t,e,i)}catch(u){Ew(t,e,u)}}function tI(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){nI(t,e,s)},function(s){return Ew(t,e,s)}):nI(t,e,n)}function nI(t,e,n){e.status="fulfilled",e.value=n,DD(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,kD(t,n)))}function Ew(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,DD(e),e=e.next;while(e!==s)}t.action=null}function DD(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function MD(t,e){return e}function sI(t,e){if(He){var n=pt.formState;if(n!==null){e:{var s=Ce;if(He){if(_t){t:{for(var r=_t,i=Gs;r.nodeType!==8;){if(!i){r=null;break t}if(r=Xs(r.nextSibling),r===null){r=null;break t}}i=r.data,r=i==="F!"||i==="F"?r:null}if(r){_t=Xs(r.nextSibling),s=r.data==="F!";break e}}qa(s)}s=!1}s&&(e=n[0])}}return n=zn(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:MD,lastRenderedState:e},n.queue=s,n=XD.bind(null,Ce,s),s.dispatch=n,s=Tw(!1),i=pT.bind(null,Ce,!1,s.queue),s=zn(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=Lz.bind(null,Ce,r,i,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function rI(t){var e=Wt();return OD(e,ut,t)}function OD(t,e,n){if(e=uT(t,e,MD)[0],t=Gp(_i)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=sm(e)}catch(a){throw a===Xu?Ty:a}else s=e;e=Wt();var r=e.queue,i=r.dispatch;return n!==e.memoizedState&&(Ce.flags|=2048,du(9,{destroy:void 0},Uz.bind(null,r,n),null)),[s,i,t]}function Uz(t,e){t.action=e}function iI(t){var e=Wt(),n=ut;if(n!==null)return OD(e,n,t);Wt(),e=e.memoizedState,n=Wt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function du(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=Ce.updateQueue,e===null&&(e=Ey(),Ce.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function VD(){return Wt().memoizedState}function Kp(t,e,n,s){var r=zn();Ce.flags|=t,r.memoizedState=du(1|e,{destroy:void 0},n,s===void 0?null:s)}function Ny(t,e,n,s){var r=Wt();s=s===void 0?null:s;var i=r.memoizedState.inst;ut!==null&&s!==null&&rT(s,ut.memoizedState.deps)?r.memoizedState=du(e,i,n,s):(Ce.flags|=t,r.memoizedState=du(1|e,i,n,s))}function aI(t,e){Kp(8390656,8,t,e)}function dT(t,e){Ny(2048,8,t,e)}function Fz(t){Ce.flags|=4;var e=Ce.updateQueue;if(e===null)e=Ey(),Ce.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function LD(t){var e=Wt().memoizedState;return Fz({ref:e,nextImpl:t}),function(){if(Je&2)throw Error(W(440));return e.impl.apply(void 0,arguments)}}function UD(t,e){return Ny(4,2,t,e)}function FD(t,e){return Ny(4,4,t,e)}function BD(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zD(t,e,n){n=n!=null?n.concat([t]):null,Ny(4,4,BD.bind(null,e,t),n)}function hT(){}function $D(t,e){var n=Wt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&rT(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function qD(t,e){var n=Wt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&rT(e,s[1]))return s[0];if(s=t(),ll){xa(!0);try{t()}finally{xa(!1)}}return n.memoizedState=[s,e],s}function fT(t,e,n){return n===void 0||wi&1073741824&&!($e&261930)?t.memoizedState=e:(t.memoizedState=n,t=PM(),Ce.lanes|=t,Ga|=t,n)}function HD(t,e,n,s){return Rs(n,e)?n:uu.current!==null?(t=fT(t,n,s),Rs(t,e)||(nn=!0),t):!(wi&42)||wi&1073741824&&!($e&261930)?(nn=!0,t.memoizedState=n):(t=PM(),Ce.lanes|=t,Ga|=t,e)}function GD(t,e,n,s,r){var i=Ze.p;Ze.p=i!==0&&8>i?i:8;var a=Te.T,l={};Te.T=l,pT(t,!1,e,n);try{var c=r(),u=Te.S;if(u!==null&&u(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Mz(c,s);Eh(t,e,d,As(t))}else Eh(t,e,s,As(t))}catch(h){Eh(t,e,{then:function(){},status:"rejected",reason:h},As())}finally{Ze.p=i,a!==null&&l.types!==null&&(a.types=l.types),Te.T=a}}function Bz(){}function Sw(t,e,n,s){if(t.tag!==5)throw Error(W(476));var r=KD(t).queue;GD(t,r,e,Ho,n===null?Bz:function(){return WD(t),n(s)})}function KD(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ho,baseState:Ho,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ho},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function WD(t){var e=KD(t);e.next===null&&(e=t.alternate.memoizedState),Eh(t,e.next.queue,{},As())}function mT(){return Nn(df)}function YD(){return Wt().memoizedState}function QD(){return Wt().memoizedState}function zz(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=As();t=Ia(n);var s=Ca(e,t,n);s!==null&&(us(s,e,n),wh(s,e,n)),e={cache:Z_()},t.payload=e;return}e=e.return}}function $z(t,e,n){var s=As();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ay(t)?JD(e,n):(n=Y_(t,e,n,s),n!==null&&(us(n,t,s),ZD(n,e,s)))}function XD(t,e,n){var s=As();Eh(t,e,n,s)}function Eh(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ay(t))JD(e,r);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var a=e.lastRenderedState,l=i(a,n);if(r.hasEagerState=!0,r.eagerState=l,Rs(l,a))return _y(t,e,r,0),pt===null&&wy(),!1}catch{}finally{}if(n=Y_(t,e,r,s),n!==null)return us(n,t,s),ZD(n,e,s),!0}return!1}function pT(t,e,n,s){if(s={lane:2,revertLane:ET(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ay(t)){if(e)throw Error(W(479))}else e=Y_(t,n,s,2),e!==null&&us(e,t,2)}function Ay(t){var e=t.alternate;return t===Ce||e!==null&&e===Ce}function JD(t,e){Bc=zg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZD(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,Lk(t,n)}}var lf={readContext:Nn,use:Sy,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};lf.useEffectEvent=Lt;var eM={readContext:Nn,use:Sy,useCallback:function(t,e){return zn().memoizedState=[t,e===void 0?null:e],t},useContext:Nn,useEffect:aI,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Kp(4194308,4,BD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Kp(4194308,4,t,e)},useInsertionEffect:function(t,e){Kp(4,2,t,e)},useMemo:function(t,e){var n=zn();e=e===void 0?null:e;var s=t();if(ll){xa(!0);try{t()}finally{xa(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=zn();if(n!==void 0){var r=n(e);if(ll){xa(!0);try{n(e)}finally{xa(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=$z.bind(null,Ce,t),[s.memoizedState,t]},useRef:function(t){var e=zn();return t={current:t},e.memoizedState=t},useState:function(t){t=Tw(t);var e=t.queue,n=XD.bind(null,Ce,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:hT,useDeferredValue:function(t,e){var n=zn();return fT(n,t,e)},useTransition:function(){var t=Tw(!1);return t=GD.bind(null,Ce,t.queue,!0,!1),zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=Ce,r=zn();if(He){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),pt===null)throw Error(W(349));$e&127||AD(s,e,n)}r.memoizedState=n;var i={value:n,getSnapshot:e};return r.queue=i,aI(CD.bind(null,s,i,t),[t]),s.flags|=2048,du(9,{destroy:void 0},ID.bind(null,s,i,n,e),null),n},useId:function(){var t=zn(),e=pt.identifierPrefix;if(He){var n=Ar,s=Nr;n=(s&~(1<<32-Ns(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=$g++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=Oz++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:mT,useFormState:sI,useActionState:sI,useOptimistic:function(t){var e=zn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=pT.bind(null,Ce,!0,n),n.dispatch=e,[t,e]},useMemoCache:cT,useCacheRefresh:function(){return zn().memoizedState=zz.bind(null,Ce)},useEffectEvent:function(t){var e=zn(),n={impl:t};return e.memoizedState=n,function(){if(Je&2)throw Error(W(440));return n.impl.apply(void 0,arguments)}}},gT={readContext:Nn,use:Sy,useCallback:$D,useContext:Nn,useEffect:dT,useImperativeHandle:zD,useInsertionEffect:UD,useLayoutEffect:FD,useMemo:qD,useReducer:Gp,useRef:VD,useState:function(){return Gp(_i)},useDebugValue:hT,useDeferredValue:function(t,e){var n=Wt();return HD(n,ut.memoizedState,t,e)},useTransition:function(){var t=Gp(_i)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:sm(t),e]},useSyncExternalStore:ND,useId:YD,useHostTransitionStatus:mT,useFormState:rI,useActionState:rI,useOptimistic:function(t,e){var n=Wt();return PD(n,ut,t,e)},useMemoCache:cT,useCacheRefresh:QD};gT.useEffectEvent=LD;var tM={readContext:Nn,use:Sy,useCallback:$D,useContext:Nn,useEffect:dT,useImperativeHandle:zD,useInsertionEffect:UD,useLayoutEffect:FD,useMemo:qD,useReducer:Px,useRef:VD,useState:function(){return Px(_i)},useDebugValue:hT,useDeferredValue:function(t,e){var n=Wt();return ut===null?fT(n,t,e):HD(n,ut.memoizedState,t,e)},useTransition:function(){var t=Px(_i)[0],e=Wt().memoizedState;return[typeof t=="boolean"?t:sm(t),e]},useSyncExternalStore:ND,useId:YD,useHostTransitionStatus:mT,useFormState:iI,useActionState:iI,useOptimistic:function(t,e){var n=Wt();return ut!==null?PD(n,ut,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:cT,useCacheRefresh:QD};tM.useEffectEvent=LD;function kx(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:At({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nw={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=As(),r=Ia(s);r.payload=e,n!=null&&(r.callback=n),e=Ca(t,r,s),e!==null&&(us(e,t,s),wh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=As(),r=Ia(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Ca(t,r,s),e!==null&&(us(e,t,s),wh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=As(),s=Ia(n);s.tag=2,e!=null&&(s.callback=e),e=Ca(t,s,n),e!==null&&(us(e,t,n),wh(e,t,n))}};function oI(t,e,n,s,r,i,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,i,a):e.prototype&&e.prototype.isPureReactComponent?!nf(n,s)||!nf(r,i):!0}function lI(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&Nw.enqueueReplaceState(e,e.state,null)}function cl(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=At({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function nM(t){Mg(t)}function sM(t){console.error(t)}function rM(t){Mg(t)}function qg(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function cI(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Aw(t,e,n){return n=Ia(n),n.tag=3,n.payload={element:null},n.callback=function(){qg(t,e)},n}function iM(t){return t=Ia(t),t.tag=3,t}function aM(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=s.value;t.payload=function(){return r(i)},t.callback=function(){cI(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){cI(e,n,s),typeof r!="function"&&(ja===null?ja=new Set([this]):ja.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function qz(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&Qu(e,n,r,!0),n=Ps.current,n!==null){switch(n.tag){case 31:case 13:return Qs===null?Yg():n.alternate===null&&zt===0&&(zt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Ug?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),qx(t,s,r)),!1;case 22:return n.flags|=65536,s===Ug?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),qx(t,s,r)),!1}throw Error(W(435,n.tag))}return qx(t,s,r),Yg(),!1}if(He)return e=Ps.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==mw&&(t=Error(W(422),{cause:s}),rf(Hs(t,n)))):(s!==mw&&(e=Error(W(423),{cause:s}),rf(Hs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=Hs(s,n),r=Aw(t.stateNode,s,r),Rx(t,r),zt!==4&&(zt=2)),!1;var i=Error(W(520),{cause:s});if(i=Hs(i,n),Ah===null?Ah=[i]:Ah.push(i),zt!==4&&(zt=2),e===null)return!0;s=Hs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=Aw(n.stateNode,s,t),Rx(n,t),!1;case 1:if(e=n.type,i=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ja===null||!ja.has(i))))return n.flags|=65536,r&=-r,n.lanes|=r,r=iM(r),aM(r,t,n,s),Rx(n,r),!1}n=n.return}while(n!==null);return!1}var yT=Error(W(461)),nn=!1;function wn(t,e,n,s){e.child=t===null?bD(e,null,n,s):ol(e,t.child,n,s)}function uI(t,e,n,s,r){n=n.render;var i=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return al(e),s=iT(t,e,n,a,i,r),l=aT(),t!==null&&!nn?(oT(t,e,r),Ti(t,e,r)):(He&&l&&X_(e),e.flags|=1,wn(t,e,s,r),e.child)}function dI(t,e,n,s,r){if(t===null){var i=n.type;return typeof i=="function"&&!Q_(i)&&i.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=i,oM(t,e,i,s,r)):(t=qp(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!vT(t,r)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:nf,n(a,s)&&t.ref===e.ref)return Ti(t,e,r)}return e.flags|=1,t=fi(i,s),t.ref=e.ref,t.return=e,e.child=t}function oM(t,e,n,s,r){if(t!==null){var i=t.memoizedProps;if(nf(i,s)&&t.ref===e.ref)if(nn=!1,e.pendingProps=s=i,vT(t,r))t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,Ti(t,e,r)}return Iw(t,e,n,s,r)}function lM(t,e,n,s){var r=s.children,i=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(i=i!==null?i.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~i}else s=0,e.child=null;return hI(t,e,i,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Hp(e,i!==null?i.cachePool:null),i!==null?eI(e,i):ww(),TD(e);else return s=e.lanes=536870912,hI(t,e,i!==null?i.baseLanes|n:n,n,s)}else i!==null?(Hp(e,i.cachePool),eI(e,i),da(),e.memoizedState=null):(t!==null&&Hp(e,null),ww(),da());return wn(t,e,r,n),e.child}function th(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function hI(t,e,n,s,r){var i=eT();return i=i===null?null:{parent:tn._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Hp(e,null),ww(),TD(e),t!==null&&Qu(t,e,s,!0),e.childLanes=r,null}function Wp(t,e){return e=Hg({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function fI(t,e,n){return ol(e,t.child,null,n),t=Wp(e,e.pendingProps),t.flags|=2,ys(e),e.memoizedState=null,t}function Hz(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(He){if(s.mode==="hidden")return t=Wp(e,s),e.lanes=536870912,th(null,t);if(_w(e),(t=_t)?(t=e4(t,Gs),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Nr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},n=fD(t),n.return=e,e.child=n,Sn=e,_t=null)):t=null,t===null)throw qa(e);return e.lanes=536870912,null}return Wp(e,s)}var i=t.memoizedState;if(i!==null){var a=i.dehydrated;if(_w(e),r)if(e.flags&256)e.flags&=-257,e=fI(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(W(558));else if(nn||Qu(t,e,n,!1),r=(n&t.childLanes)!==0,nn||r){if(s=pt,s!==null&&(a=Uk(s,n),a!==0&&a!==i.retryLane))throw i.retryLane=a,Rl(t,a),us(s,t,a),yT;Yg(),e=fI(t,e,n)}else t=i.treeContext,_t=Xs(a.nextSibling),Sn=e,He=!0,Aa=null,Gs=!1,t!==null&&pD(e,t),e=Wp(e,s),e.flags|=4096;return e}return t=fi(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yp(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(W(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Iw(t,e,n,s,r){return al(e),n=iT(t,e,n,s,void 0,r),s=aT(),t!==null&&!nn?(oT(t,e,r),Ti(t,e,r)):(He&&s&&X_(e),e.flags|=1,wn(t,e,n,r),e.child)}function mI(t,e,n,s,r,i){return al(e),e.updateQueue=null,n=SD(e,s,n,r),ED(t),s=aT(),t!==null&&!nn?(oT(t,e,i),Ti(t,e,i)):(He&&s&&X_(e),e.flags|=1,wn(t,e,n,i),e.child)}function pI(t,e,n,s,r){if(al(e),e.stateNode===null){var i=Sc,a=n.contextType;typeof a=="object"&&a!==null&&(i=Nn(a)),i=new n(s,i),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Nw,e.stateNode=i,i._reactInternals=e,i=e.stateNode,i.props=s,i.state=e.memoizedState,i.refs={},nT(e),a=n.contextType,i.context=typeof a=="object"&&a!==null?Nn(a):Sc,i.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(kx(e,n,a,s),i.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(a=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),a!==i.state&&Nw.enqueueReplaceState(i,i.state,null),Th(e,s,i,r),_h(),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){i=e.stateNode;var l=e.memoizedProps,c=cl(n,l);i.props=c;var u=i.context,d=n.contextType;a=Sc,typeof d=="object"&&d!==null&&(a=Nn(d));var h=n.getDerivedStateFromProps;d=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==a)&&lI(e,i,s,a),oa=!1;var m=e.memoizedState;i.state=m,Th(e,s,i,r),_h(),u=e.memoizedState,l||m!==u||oa?(typeof h=="function"&&(kx(e,n,h,s),u=e.memoizedState),(c=oa||oI(e,n,c,s,m,u,a))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),i.props=s,i.state=u,i.context=a,s=c):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{i=e.stateNode,xw(t,e),a=e.memoizedProps,d=cl(n,a),i.props=d,h=e.pendingProps,m=i.context,u=n.contextType,c=Sc,typeof u=="object"&&u!==null&&(c=Nn(u)),l=n.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||m!==c)&&lI(e,i,s,c),oa=!1,m=e.memoizedState,i.state=m,Th(e,s,i,r),_h();var p=e.memoizedState;a!==h||m!==p||oa||t!==null&&t.dependencies!==null&&Lg(t.dependencies)?(typeof l=="function"&&(kx(e,n,l,s),p=e.memoizedState),(d=oa||oI(e,n,d,s,m,p,c)||t!==null&&t.dependencies!==null&&Lg(t.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,p,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,p,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),i.props=s,i.state=p,i.context=c,s=d):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),s=!1)}return i=s,Yp(t,e),s=(e.flags&128)!==0,i||s?(i=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:i.render(),e.flags|=1,t!==null&&s?(e.child=ol(e,t.child,null,r),e.child=ol(e,null,n,r)):wn(t,e,n,r),e.memoizedState=i.state,t=e.child):t=Ti(t,e,r),t}function gI(t,e,n,s){return il(),e.flags|=256,wn(t,e,n,s),e.child}var Dx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mx(t){return{baseLanes:t,cachePool:yD()}}function Ox(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=_s),t}function cM(t,e,n){var s=e.pendingProps,r=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(He){if(r?ua(e):da(),(t=_t)?(t=e4(t,Gs),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Nr,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},n=fD(t),n.return=e,e.child=n,Sn=e,_t=null)):t=null,t===null)throw qa(e);return zw(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,r?(da(),r=e.mode,l=Hg({mode:"hidden",children:l},r),s=Go(s,r,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=Mx(n),s.childLanes=Ox(t,a,n),e.memoizedState=Dx,th(null,s)):(ua(e),Cw(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(i)e.flags&256?(ua(e),e.flags&=-257,e=Vx(t,e,n)):e.memoizedState!==null?(da(),e.child=t.child,e.flags|=128,e=null):(da(),l=s.fallback,r=e.mode,s=Hg({mode:"visible",children:s.children},r),l=Go(l,r,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,ol(e,t.child,null,n),s=e.child,s.memoizedState=Mx(n),s.childLanes=Ox(t,a,n),e.memoizedState=Dx,e=th(null,s));else if(ua(e),zw(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var u=a.dgst;a=u,s=Error(W(419)),s.stack="",s.digest=a,rf({value:s,source:null,stack:null}),e=Vx(t,e,n)}else if(nn||Qu(t,e,n,!1),a=(n&t.childLanes)!==0,nn||a){if(a=pt,a!==null&&(s=Uk(a,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Rl(t,s),us(a,t,s),yT;Bw(l)||Yg(),e=Vx(t,e,n)}else Bw(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,_t=Xs(l.nextSibling),Sn=e,He=!0,Aa=null,Gs=!1,t!==null&&pD(e,t),e=Cw(e,s.children),e.flags|=4096);return e}return r?(da(),l=s.fallback,r=e.mode,c=t.child,u=c.sibling,s=fi(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?l=fi(u,l):(l=Go(l,r,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,th(null,s),s=e.child,l=t.child.memoizedState,l===null?l=Mx(n):(r=l.cachePool,r!==null?(c=tn._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=yD(),l={baseLanes:l.baseLanes|n,cachePool:r}),s.memoizedState=l,s.childLanes=Ox(t,a,n),e.memoizedState=Dx,th(t.child,s)):(ua(e),n=t.child,t=n.sibling,n=fi(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Cw(t,e){return e=Hg({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Hg(t,e){return t=xs(22,t,null,e),t.lanes=0,t}function Vx(t,e,n){return ol(e,t.child,null,n),t=Cw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yI(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),gw(t.return,e,n)}function Lx(t,e,n,s,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=r,a.treeForkCount=i)}function uM(t,e,n){var s=e.pendingProps,r=s.revealOrder,i=s.tail;s=s.children;var a=Kt.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,yt(Kt,a),wn(t,e,s,n),s=He?sf:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&yI(t,n,e);else if(t.tag===19)yI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),Lx(e,!1,r,n,i,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}Lx(e,!0,n,null,i,s);break;case"together":Lx(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ga|=e.lanes,!(n&e.childLanes))if(t!==null){if(Qu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=fi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function vT(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Lg(t)))}function Gz(t,e,n){switch(e.tag){case 3:Rg(e,e.stateNode.containerInfo),ca(e,tn,t.memoizedState.cache),il();break;case 27:case 5:sw(e);break;case 4:Rg(e,e.stateNode.containerInfo);break;case 10:ca(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,_w(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ua(e),e.flags|=128,null):n&e.child.childLanes?cM(t,e,n):(ua(e),t=Ti(t,e,n),t!==null?t.sibling:null);ua(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(Qu(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return uM(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),yt(Kt,Kt.current),s)break;return null;case 22:return e.lanes=0,lM(t,e,n,e.pendingProps);case 24:ca(e,tn,t.memoizedState.cache)}return Ti(t,e,n)}function dM(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)nn=!0;else{if(!vT(t,n)&&!(e.flags&128))return nn=!1,Gz(t,e,n);nn=!!(t.flags&131072)}else nn=!1,He&&e.flags&1048576&&mD(e,sf,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Co(e.elementType),e.type=t,typeof t=="function")Q_(t)?(s=cl(t,s),e.tag=1,e=pI(null,e,t,s,n)):(e.tag=0,e=Iw(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===O_){e.tag=11,e=uI(null,e,t,s,n);break e}else if(r===V_){e.tag=14,e=dI(null,e,t,s,n);break e}}throw e=tw(t)||t,Error(W(306,e,""))}}return e;case 0:return Iw(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=cl(s,e.pendingProps),pI(t,e,s,r,n);case 3:e:{if(Rg(e,e.stateNode.containerInfo),t===null)throw Error(W(387));s=e.pendingProps;var i=e.memoizedState;r=i.element,xw(t,e),Th(e,s,null,n);var a=e.memoizedState;if(s=a.cache,ca(e,tn,s),s!==i.cache&&yw(e,[tn],n,!0),_h(),s=a.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){e=gI(t,e,s,n);break e}else if(s!==r){r=Hs(Error(W(424)),e),rf(r),e=gI(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(_t=Xs(t.firstChild),Sn=e,He=!0,Aa=null,Gs=!0,n=bD(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(il(),s===r){e=Ti(t,e,n);break e}wn(t,e,s,n)}e=e.child}return e;case 26:return Yp(t,e),t===null?(n=VI(e.type,null,e.pendingProps,null))?e.memoizedState=n:He||(n=e.type,t=e.pendingProps,s=Zg(Na.current).createElement(n),s[En]=e,s[hs]=t,An(s,n,t),gn(s),e.stateNode=s):e.memoizedState=VI(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return sw(e),t===null&&He&&(s=e.stateNode=t4(e.type,e.pendingProps,Na.current),Sn=e,Gs=!0,r=_t,uo(e.type)?($w=r,_t=Xs(s.firstChild)):_t=r),wn(t,e,e.pendingProps.children,n),Yp(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&He&&((r=s=_t)&&(s=_7(s,e.type,e.pendingProps,Gs),s!==null?(e.stateNode=s,Sn=e,_t=Xs(s.firstChild),Gs=!1,r=!0):r=!1),r||qa(e)),sw(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,Uw(r,i)?s=null:a!==null&&Uw(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=iT(t,e,Vz,null,null,n),df._currentValue=r),Yp(t,e),wn(t,e,s,n),e.child;case 6:return t===null&&He&&((t=n=_t)&&(n=T7(n,e.pendingProps,Gs),n!==null?(e.stateNode=n,Sn=e,_t=null,t=!0):t=!1),t||qa(e)),null;case 13:return cM(t,e,n);case 4:return Rg(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=ol(e,null,s,n):wn(t,e,s,n),e.child;case 11:return uI(t,e,e.type,e.pendingProps,n);case 7:return wn(t,e,e.pendingProps,n),e.child;case 8:return wn(t,e,e.pendingProps.children,n),e.child;case 12:return wn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,ca(e,e.type,s.value),wn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,al(e),r=Nn(r),s=s(r),e.flags|=1,wn(t,e,s,n),e.child;case 14:return dI(t,e,e.type,e.pendingProps,n);case 15:return oM(t,e,e.type,e.pendingProps,n);case 19:return uM(t,e,n);case 31:return Hz(t,e,n);case 22:return lM(t,e,n,e.pendingProps);case 24:return al(e),s=Nn(tn),t===null?(r=eT(),r===null&&(r=pt,i=Z_(),r.pooledCache=i,i.refCount++,i!==null&&(r.pooledCacheLanes|=n),r=i),e.memoizedState={parent:s,cache:r},nT(e),ca(e,tn,r)):(t.lanes&n&&(xw(t,e),Th(e,null,null,n),_h()),r=t.memoizedState,i=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),ca(e,tn,s)):(s=i.cache,ca(e,tn,s),s!==r.cache&&yw(e,[tn],n,!0))),wn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(W(156,e.tag))}function Xr(t){t.flags|=4}function Ux(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(MM())t.flags|=8192;else throw Wo=Ug,tT}else t.flags&=-16777217}function vI(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!r4(e))if(MM())t.flags|=8192;else throw Wo=Ug,tT}function up(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Ok():536870912,t.lanes|=e,hu|=e)}function Ld(t,e){if(!He)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function Kz(t,e,n){var s=e.pendingProps;switch(J_(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(e),null;case 1:return bt(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),mi(tn),au(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wl(e)?Xr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,jx())),bt(e),null;case 26:var r=e.type,i=e.memoizedState;return t===null?(Xr(e),i!==null?(bt(e),vI(e,i)):(bt(e),Ux(e,r,null,s,n))):i?i!==t.memoizedState?(Xr(e),bt(e),vI(e,i)):(bt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Xr(e),bt(e),Ux(e,r,t,s,n)),null;case 27:if(Pg(e),n=Na.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(W(166));return bt(e),null}t=Pr.current,Wl(e)?KA(e):(t=t4(r,s,n),e.stateNode=t,Xr(e))}return bt(e),null;case 5:if(Pg(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(!s){if(e.stateNode===null)throw Error(W(166));return bt(e),null}if(i=Pr.current,Wl(e))KA(e);else{var a=Zg(Na.current);switch(i){case 1:i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":i=a.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":i=a.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":i=a.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?a.createElement(r,{is:s.is}):a.createElement(r)}}i[En]=e,i[hs]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)i.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=i;e:switch(An(i,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Xr(e)}}return bt(e),Ux(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Xr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(W(166));if(t=Na.current,Wl(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Sn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[En]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||XM(t.nodeValue,n)),t||qa(e,!0)}else t=Zg(t).createTextNode(s),t[En]=e,e.stateNode=t}return bt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=Wl(e),n!==null){if(t===null){if(!s)throw Error(W(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(557));t[En]=e}else il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),t=!1}else n=jx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(ys(e),e):(ys(e),null);if(e.flags&128)throw Error(W(558))}return bt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=Wl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(W(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(W(317));r[En]=e}else il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bt(e),r=!1}else r=jx(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(ys(e),e):(ys(e),null)}return ys(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),up(e,e.updateQueue),bt(e),null);case 4:return au(),t===null&&ST(e.stateNode.containerInfo),bt(e),null;case 10:return mi(e.type),bt(e),null;case 19:if(vn(Kt),s=e.memoizedState,s===null)return bt(e),null;if(r=(e.flags&128)!==0,i=s.rendering,i===null)if(r)Ld(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Bg(t),i!==null){for(e.flags|=128,Ld(s,!1),t=i.updateQueue,e.updateQueue=t,up(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)hD(n,t),n=n.sibling;return yt(Kt,Kt.current&1|2),He&&ri(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Es()>Kg&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304)}else{if(!r)if(t=Bg(i),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,up(e,t),Ld(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!He)return bt(e),null}else 2*Es()-s.renderingStartTime>Kg&&n!==536870912&&(e.flags|=128,r=!0,Ld(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(t=s.last,t!==null?t.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Es(),t.sibling=null,n=Kt.current,yt(Kt,r?n&1|2:n&1),He&&ri(e,s.treeForkCount),t):(bt(e),null);case 22:case 23:return ys(e),sT(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(bt(e),e.subtreeFlags&6&&(e.flags|=8192)):bt(e),n=e.updateQueue,n!==null&&up(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&vn(Ko),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),mi(tn),bt(e),null;case 25:return null;case 30:return null}throw Error(W(156,e.tag))}function Wz(t,e){switch(J_(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(tn),au(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Pg(e),null;case 31:if(e.memoizedState!==null){if(ys(e),e.alternate===null)throw Error(W(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(ys(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vn(Kt),null;case 4:return au(),null;case 10:return mi(e.type),null;case 22:case 23:return ys(e),sT(),t!==null&&vn(Ko),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return mi(tn),null;case 25:return null;default:return null}}function hM(t,e){switch(J_(e),e.tag){case 3:mi(tn),au();break;case 26:case 27:case 5:Pg(e);break;case 4:au();break;case 31:e.memoizedState!==null&&ys(e);break;case 13:ys(e);break;case 19:vn(Kt);break;case 10:mi(e.type);break;case 22:case 23:ys(e),sT(),t!==null&&vn(Ko);break;case 24:mi(tn)}}function rm(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var i=n.create,a=n.inst;s=i(),a.destroy=s}n=n.next}while(n!==r)}}catch(l){at(e,e.return,l)}}function Ha(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var i=r.next;s=i;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=e;var c=n,u=l;try{u()}catch(d){at(r,c,d)}}}s=s.next}while(s!==i)}}catch(d){at(e,e.return,d)}}function fM(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{_D(e,n)}catch(s){at(t,t.return,s)}}}function mM(t,e,n){n.props=cl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){at(t,e,s)}}function Sh(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){at(t,e,r)}}function Ir(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){at(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){at(t,e,r)}else n.current=null}function pM(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){at(t,t.return,r)}}function Fx(t,e,n){try{var s=t.stateNode;g7(s,t.type,n,e),s[hs]=e}catch(r){at(t,t.return,r)}}function gM(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&uo(t.type)||t.tag===4}function Bx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&uo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jw(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=li));else if(s!==4&&(s===27&&uo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(jw(t,e,n),t=t.sibling;t!==null;)jw(t,e,n),t=t.sibling}function Gg(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&uo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Gg(t,e,n),t=t.sibling;t!==null;)Gg(t,e,n),t=t.sibling}function yM(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);An(e,s,n),e[En]=t,e[hs]=n}catch(i){at(t,t.return,i)}}var ii=!1,Jt=!1,zx=!1,xI=typeof WeakSet=="function"?WeakSet:Set,pn=null;function Yz(t,e){if(t=t.containerInfo,Vw=s0,t=rD(t),K_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(l=a+r),h!==i||s!==0&&h.nodeType!==3||(c=a+s),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)m=h,h=p;for(;;){if(h===t)break t;if(m===n&&++u===r&&(l=a),m===i&&++d===s&&(c=a),(p=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lw={focusedElem:t,selectionRange:n},s0=!1,pn=e;pn!==null;)if(e=pn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pn=t;else for(;pn!==null;){switch(e=pn,i=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&i!==null){t=void 0,n=e,r=i.memoizedProps,i=i.memoizedState,s=n.stateNode;try{var y=cl(n.type,r);t=s.getSnapshotBeforeUpdate(y,i),s.__reactInternalSnapshotBeforeUpdate=t}catch(x){at(n,n.return,x)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Fw(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fw(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(W(163))}if(t=e.sibling,t!==null){t.return=e.return,pn=t;break}pn=e.return}}function vM(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Zr(t,n),s&4&&rm(5,n);break;case 1:if(Zr(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){at(n,n.return,a)}else{var r=cl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){at(n,n.return,a)}}s&64&&fM(n),s&512&&Sh(n,n.return);break;case 3:if(Zr(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{_D(t,e)}catch(a){at(n,n.return,a)}}break;case 27:e===null&&s&4&&yM(n);case 26:case 5:Zr(t,n),e===null&&s&4&&pM(n),s&512&&Sh(n,n.return);break;case 12:Zr(t,n);break;case 31:Zr(t,n),s&4&&wM(t,n);break;case 13:Zr(t,n),s&4&&_M(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=r7.bind(null,n),E7(t,n))));break;case 22:if(s=n.memoizedState!==null||ii,!s){e=e!==null&&e.memoizedState!==null||Jt,r=ii;var i=Jt;ii=s,(Jt=e)&&!i?ni(t,n,(n.subtreeFlags&8772)!==0):Zr(t,n),ii=r,Jt=i}break;case 30:break;default:Zr(t,n)}}function xM(t){var e=t.alternate;e!==null&&(t.alternate=null,xM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&B_(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var jt=null,rs=!1;function Jr(t,e,n){for(n=n.child;n!==null;)bM(t,e,n),n=n.sibling}function bM(t,e,n){if(Ss&&typeof Ss.onCommitFiberUnmount=="function")try{Ss.onCommitFiberUnmount(Xf,n)}catch{}switch(n.tag){case 26:Jt||Ir(n,e),Jr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Jt||Ir(n,e);var s=jt,r=rs;uo(n.type)&&(jt=n.stateNode,rs=!1),Jr(t,e,n),Ch(n.stateNode),jt=s,rs=r;break;case 5:Jt||Ir(n,e);case 6:if(s=jt,r=rs,jt=null,Jr(t,e,n),jt=s,rs=r,jt!==null)if(rs)try{(jt.nodeType===9?jt.body:jt.nodeName==="HTML"?jt.ownerDocument.body:jt).removeChild(n.stateNode)}catch(i){at(n,e,i)}else try{jt.removeChild(n.stateNode)}catch(i){at(n,e,i)}break;case 18:jt!==null&&(rs?(t=jt,PI(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),gu(t)):PI(jt,n.stateNode));break;case 4:s=jt,r=rs,jt=n.stateNode.containerInfo,rs=!0,Jr(t,e,n),jt=s,rs=r;break;case 0:case 11:case 14:case 15:Ha(2,n,e),Jt||Ha(4,n,e),Jr(t,e,n);break;case 1:Jt||(Ir(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&mM(n,e,s)),Jr(t,e,n);break;case 21:Jr(t,e,n);break;case 22:Jt=(s=Jt)||n.memoizedState!==null,Jr(t,e,n),Jt=s;break;default:Jr(t,e,n)}}function wM(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{gu(t)}catch(n){at(e,e.return,n)}}}function _M(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{gu(t)}catch(n){at(e,e.return,n)}}function Qz(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new xI),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new xI),e;default:throw Error(W(435,t.tag))}}function dp(t,e){var n=Qz(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=i7.bind(null,t,s);s.then(r,r)}})}function ts(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],i=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(uo(l.type)){jt=l.stateNode,rs=!1;break e}break;case 5:jt=l.stateNode,rs=!1;break e;case 3:case 4:jt=l.stateNode.containerInfo,rs=!0;break e}l=l.return}if(jt===null)throw Error(W(160));bM(i,a,r),jt=null,rs=!1,i=r.alternate,i!==null&&(i.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)TM(e,t),e=e.sibling}var or=null;function TM(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ts(e,t),ns(t),s&4&&(Ha(3,t,t.return),rm(3,t),Ha(5,t,t.return));break;case 1:ts(e,t),ns(t),s&512&&(Jt||n===null||Ir(n,n.return)),s&64&&ii&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=or;if(ts(e,t),ns(t),s&512&&(Jt||n===null||Ir(n,n.return)),s&4){var i=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":i=r.getElementsByTagName("title")[0],(!i||i[em]||i[En]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=r.createElement(s),r.head.insertBefore(i,r.querySelector("head > title"))),An(i,s,n),i[En]=t,gn(i),s=i;break e;case"link":var a=UI("link","href",r).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(i=a[l],i.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&i.getAttribute("rel")===(n.rel==null?null:n.rel)&&i.getAttribute("title")===(n.title==null?null:n.title)&&i.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}i=r.createElement(s),An(i,s,n),r.head.appendChild(i);break;case"meta":if(a=UI("meta","content",r).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(i=a[l],i.getAttribute("content")===(n.content==null?null:""+n.content)&&i.getAttribute("name")===(n.name==null?null:n.name)&&i.getAttribute("property")===(n.property==null?null:n.property)&&i.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&i.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}i=r.createElement(s),An(i,s,n),r.head.appendChild(i);break;default:throw Error(W(468,s))}i[En]=t,gn(i),s=i}t.stateNode=s}else FI(r,t.type,t.stateNode);else t.stateNode=LI(r,s,t.memoizedProps);else i!==s?(i===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):i.count--,s===null?FI(r,t.type,t.stateNode):LI(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Fx(t,t.memoizedProps,n.memoizedProps)}break;case 27:ts(e,t),ns(t),s&512&&(Jt||n===null||Ir(n,n.return)),n!==null&&s&4&&Fx(t,t.memoizedProps,n.memoizedProps);break;case 5:if(ts(e,t),ns(t),s&512&&(Jt||n===null||Ir(n,n.return)),t.flags&32){r=t.stateNode;try{lu(r,"")}catch(y){at(t,t.return,y)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,Fx(t,r,n!==null?n.memoizedProps:r)),s&1024&&(zx=!0);break;case 6:if(ts(e,t),ns(t),s&4){if(t.stateNode===null)throw Error(W(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(y){at(t,t.return,y)}}break;case 3:if(Jp=null,r=or,or=e0(e.containerInfo),ts(e,t),or=r,ns(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{gu(e.containerInfo)}catch(y){at(t,t.return,y)}zx&&(zx=!1,EM(t));break;case 4:s=or,or=e0(t.stateNode.containerInfo),ts(e,t),ns(t),or=s;break;case 12:ts(e,t),ns(t);break;case 31:ts(e,t),ns(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 13:ts(e,t),ns(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Iy=Es()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=ii,d=Jt;if(ii=u||r,Jt=d||c,ts(e,t),Jt=d,ii=u,ns(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||ii||Jt||jo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(i=c.stateNode,r)a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){at(c,c.return,y)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(y){at(c,c.return,y)}}}else if(e.tag===18){if(n===null){c=e;try{var p=c.stateNode;r?kI(p,!0):kI(c.stateNode,!1)}catch(y){at(c,c.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,dp(t,n))));break;case 19:ts(e,t),ns(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,dp(t,s)));break;case 30:break;case 21:break;default:ts(e,t),ns(t)}}function ns(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(gM(s)){n=s;break}s=s.return}if(n==null)throw Error(W(160));switch(n.tag){case 27:var r=n.stateNode,i=Bx(t);Gg(t,i,r);break;case 5:var a=n.stateNode;n.flags&32&&(lu(a,""),n.flags&=-33);var l=Bx(t);Gg(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Bx(t);jw(t,u,c);break;default:throw Error(W(161))}}catch(d){at(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function EM(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;EM(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Zr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)vM(t,e.alternate,e),e=e.sibling}function jo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ha(4,e,e.return),jo(e);break;case 1:Ir(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&mM(e,e.return,n),jo(e);break;case 27:Ch(e.stateNode);case 26:case 5:Ir(e,e.return),jo(e);break;case 22:e.memoizedState===null&&jo(e);break;case 30:jo(e);break;default:jo(e)}t=t.sibling}}function ni(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,i=e,a=i.flags;switch(i.tag){case 0:case 11:case 15:ni(r,i,n),rm(4,i);break;case 1:if(ni(r,i,n),s=i,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){at(s,s.return,u)}if(s=i,r=s.updateQueue,r!==null){var l=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)wD(c[r],l)}catch(u){at(s,s.return,u)}}n&&a&64&&fM(i),Sh(i,i.return);break;case 27:yM(i);case 26:case 5:ni(r,i,n),n&&s===null&&a&4&&pM(i),Sh(i,i.return);break;case 12:ni(r,i,n);break;case 31:ni(r,i,n),n&&a&4&&wM(r,i);break;case 13:ni(r,i,n),n&&a&4&&_M(r,i);break;case 22:i.memoizedState===null&&ni(r,i,n),Sh(i,i.return);break;case 30:break;default:ni(r,i,n)}e=e.sibling}}function xT(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&nm(n))}function bT(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nm(t))}function ir(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)SM(t,e,n,s),e=e.sibling}function SM(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ir(t,e,n,s),r&2048&&rm(9,e);break;case 1:ir(t,e,n,s);break;case 3:ir(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&nm(t)));break;case 12:if(r&2048){ir(t,e,n,s),t=e.stateNode;try{var i=e.memoizedProps,a=i.id,l=i.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){at(e,e.return,c)}}else ir(t,e,n,s);break;case 31:ir(t,e,n,s);break;case 13:ir(t,e,n,s);break;case 23:break;case 22:i=e.stateNode,a=e.alternate,e.memoizedState!==null?i._visibility&2?ir(t,e,n,s):Nh(t,e):i._visibility&2?ir(t,e,n,s):(i._visibility|=2,oc(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&xT(a,e);break;case 24:ir(t,e,n,s),r&2048&&bT(e.alternate,e);break;default:ir(t,e,n,s)}}function oc(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var i=t,a=e,l=n,c=s,u=a.flags;switch(a.tag){case 0:case 11:case 15:oc(i,a,l,c,r),rm(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?oc(i,a,l,c,r):Nh(i,a):(d._visibility|=2,oc(i,a,l,c,r)),r&&u&2048&&xT(a.alternate,a);break;case 24:oc(i,a,l,c,r),r&&u&2048&&bT(a.alternate,a);break;default:oc(i,a,l,c,r)}e=e.sibling}}function Nh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:Nh(n,s),r&2048&&xT(s.alternate,s);break;case 24:Nh(n,s),r&2048&&bT(s.alternate,s);break;default:Nh(n,s)}e=e.sibling}}var nh=8192;function Yl(t,e,n){if(t.subtreeFlags&nh)for(t=t.child;t!==null;)NM(t,e,n),t=t.sibling}function NM(t,e,n){switch(t.tag){case 26:Yl(t,e,n),t.flags&nh&&t.memoizedState!==null&&O7(n,or,t.memoizedState,t.memoizedProps);break;case 5:Yl(t,e,n);break;case 3:case 4:var s=or;or=e0(t.stateNode.containerInfo),Yl(t,e,n),or=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=nh,nh=16777216,Yl(t,e,n),nh=s):Yl(t,e,n));break;default:Yl(t,e,n)}}function AM(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Ud(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];pn=s,CM(s,t)}AM(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)IM(t),t=t.sibling}function IM(t){switch(t.tag){case 0:case 11:case 15:Ud(t),t.flags&2048&&Ha(9,t,t.return);break;case 3:Ud(t);break;case 12:Ud(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Qp(t)):Ud(t);break;default:Ud(t)}}function Qp(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];pn=s,CM(s,t)}AM(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ha(8,e,e.return),Qp(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Qp(e));break;default:Qp(e)}t=t.sibling}}function CM(t,e){for(;pn!==null;){var n=pn;switch(n.tag){case 0:case 11:case 15:Ha(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:nm(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,pn=s;else e:for(n=t;pn!==null;){s=pn;var r=s.sibling,i=s.return;if(xM(s),s===n){pn=null;break e}if(r!==null){r.return=i,pn=r;break e}pn=i}}}var Xz={getCacheForType:function(t){var e=Nn(tn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Nn(tn).controller.signal}},Jz=typeof WeakMap=="function"?WeakMap:Map,Je=0,pt=null,Fe=null,$e=0,rt=0,ps=null,wa=!1,Ju=!1,wT=!1,Ei=0,zt=0,Ga=0,Yo=0,_T=0,_s=0,hu=0,Ah=null,is=null,Rw=!1,Iy=0,jM=0,Kg=1/0,Wg=null,ja=null,ln=0,Ra=null,fu=null,pi=0,Pw=0,kw=null,RM=null,Ih=0,Dw=null;function As(){return Je&2&&$e!==0?$e&-$e:Te.T!==null?ET():Fk()}function PM(){if(_s===0)if(!($e&536870912)||He){var t=sp;sp<<=1,!(sp&3932160)&&(sp=262144),_s=t}else _s=536870912;return t=Ps.current,t!==null&&(t.flags|=32),_s}function us(t,e,n){(t===pt&&(rt===2||rt===9)||t.cancelPendingCommit!==null)&&(mu(t,0),_a(t,$e,_s,!1)),Zf(t,n),(!(Je&2)||t!==pt)&&(t===pt&&(!(Je&2)&&(Yo|=n),zt===4&&_a(t,$e,_s,!1)),Gr(t))}function kM(t,e,n){if(Je&6)throw Error(W(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Jf(t,e),r=s?t7(t,e):$x(t,e,!0),i=s;do{if(r===0){Ju&&!s&&_a(t,e,0,!1);break}else{if(n=t.current.alternate,i&&!Zz(n)){r=$x(t,e,!1),i=!1;continue}if(r===2){if(i=e,t.errorRecoveryDisabledLanes&i)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;r=Ah;var c=l.current.memoizedState.isDehydrated;if(c&&(mu(l,a).flags|=256),a=$x(l,a,!1),a!==2){if(wT&&!c){l.errorRecoveryDisabledLanes|=i,Yo|=i,r=4;break e}i=is,is=r,i!==null&&(is===null?is=i:is.push.apply(is,i))}r=a}if(i=!1,r!==2)continue}}if(r===1){mu(t,0),_a(t,e,0,!0);break}e:{switch(s=t,i=r,i){case 0:case 1:throw Error(W(345));case 4:if((e&4194048)!==e)break;case 6:_a(s,e,_s,!wa);break e;case 2:is=null;break;case 3:case 5:break;default:throw Error(W(329))}if((e&62914560)===e&&(r=Iy+300-Es(),10<r)){if(_a(s,e,_s,!wa),yy(s,0,!0)!==0)break e;pi=e,s.timeoutHandle=ZM(bI.bind(null,s,n,is,Wg,Rw,e,_s,Yo,hu,wa,i,"Throttled",-0,0),r);break e}bI(s,n,is,Wg,Rw,e,_s,Yo,hu,wa,i,null,-0,0)}}break}while(1);Gr(t)}function bI(t,e,n,s,r,i,a,l,c,u,d,h,m,p){if(t.timeoutHandle=-1,h=e.subtreeFlags,h&8192||(h&16785408)===16785408){h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},NM(e,i,h);var y=(i&62914560)===i?Iy-Es():(i&4194048)===i?jM-Es():0;if(y=V7(h,y),y!==null){pi=i,t.cancelPendingCommit=y(_I.bind(null,t,e,i,n,s,r,a,l,c,d,h,null,m,p)),_a(t,i,a,!u);return}}_I(t,e,i,n,s,r,a,l,c)}function Zz(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],i=r.getSnapshot;r=r.value;try{if(!Rs(i(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _a(t,e,n,s){e&=~_T,e&=~Yo,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var i=31-Ns(r),a=1<<i;s[i]=-1,r&=~a}n!==0&&Vk(t,n,e)}function Cy(){return Je&6?!0:(im(0,!1),!1)}function TT(){if(Fe!==null){if(rt===0)var t=Fe.return;else t=Fe,ci=Pl=null,lT(t),Fc=null,af=0,t=Fe;for(;t!==null;)hM(t.alternate,t),t=t.return;Fe=null}}function mu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,x7(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pi=0,TT(),pt=t,Fe=n=fi(t.current,null),$e=e,rt=0,ps=null,wa=!1,Ju=Jf(t,e),wT=!1,hu=_s=_T=Yo=Ga=zt=0,is=Ah=null,Rw=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Ns(s),i=1<<r;e|=t[r],s&=~i}return Ei=e,wy(),n}function DM(t,e){Ce=null,Te.H=lf,e===Xu||e===Ty?(e=JA(),rt=3):e===tT?(e=JA(),rt=4):rt=e===yT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,ps=e,Fe===null&&(zt=1,qg(t,Hs(e,t.current)))}function MM(){var t=Ps.current;return t===null?!0:($e&4194048)===$e?Qs===null:($e&62914560)===$e||$e&536870912?t===Qs:!1}function OM(){var t=Te.H;return Te.H=lf,t===null?lf:t}function VM(){var t=Te.A;return Te.A=Xz,t}function Yg(){zt=4,wa||($e&4194048)!==$e&&Ps.current!==null||(Ju=!0),!(Ga&134217727)&&!(Yo&134217727)||pt===null||_a(pt,$e,_s,!1)}function $x(t,e,n){var s=Je;Je|=2;var r=OM(),i=VM();(pt!==t||$e!==e)&&(Wg=null,mu(t,e)),e=!1;var a=zt;e:do try{if(rt!==0&&Fe!==null){var l=Fe,c=ps;switch(rt){case 8:TT(),a=6;break e;case 3:case 2:case 9:case 6:Ps.current===null&&(e=!0);var u=rt;if(rt=0,ps=null,Ic(t,l,c,u),n&&Ju){a=0;break e}break;default:u=rt,rt=0,ps=null,Ic(t,l,c,u)}}e7(),a=zt;break}catch(d){DM(t,d)}while(1);return e&&t.shellSuspendCounter++,ci=Pl=null,Je=s,Te.H=r,Te.A=i,Fe===null&&(pt=null,$e=0,wy()),a}function e7(){for(;Fe!==null;)LM(Fe)}function t7(t,e){var n=Je;Je|=2;var s=OM(),r=VM();pt!==t||$e!==e?(Wg=null,Kg=Es()+500,mu(t,e)):Ju=Jf(t,e);e:do try{if(rt!==0&&Fe!==null){e=Fe;var i=ps;t:switch(rt){case 1:rt=0,ps=null,Ic(t,e,i,1);break;case 2:case 9:if(XA(i)){rt=0,ps=null,wI(e);break}e=function(){rt!==2&&rt!==9||pt!==t||(rt=7),Gr(t)},i.then(e,e);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:XA(i)?(rt=0,ps=null,wI(e)):(rt=0,ps=null,Ic(t,e,i,7));break;case 5:var a=null;switch(Fe.tag){case 26:a=Fe.memoizedState;case 5:case 27:var l=Fe;if(a?r4(a):l.stateNode.complete){rt=0,ps=null;var c=l.sibling;if(c!==null)Fe=c;else{var u=l.return;u!==null?(Fe=u,jy(u)):Fe=null}break t}}rt=0,ps=null,Ic(t,e,i,5);break;case 6:rt=0,ps=null,Ic(t,e,i,6);break;case 8:TT(),zt=6;break e;default:throw Error(W(462))}}n7();break}catch(d){DM(t,d)}while(1);return ci=Pl=null,Te.H=s,Te.A=r,Je=n,Fe!==null?0:(pt=null,$e=0,wy(),zt)}function n7(){for(;Fe!==null&&!SB();)LM(Fe)}function LM(t){var e=dM(t.alternate,t,Ei);t.memoizedProps=t.pendingProps,e===null?jy(t):Fe=e}function wI(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=mI(n,e,e.pendingProps,e.type,void 0,$e);break;case 11:e=mI(n,e,e.pendingProps,e.type.render,e.ref,$e);break;case 5:lT(e);default:hM(n,e),e=Fe=hD(e,Ei),e=dM(n,e,Ei)}t.memoizedProps=t.pendingProps,e===null?jy(t):Fe=e}function Ic(t,e,n,s){ci=Pl=null,lT(e),Fc=null,af=0;var r=e.return;try{if(qz(t,r,e,n,$e)){zt=1,qg(t,Hs(n,t.current)),Fe=null;return}}catch(i){if(r!==null)throw Fe=r,i;zt=1,qg(t,Hs(n,t.current)),Fe=null;return}e.flags&32768?(He||s===1?t=!0:Ju||$e&536870912?t=!1:(wa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Ps.current,s!==null&&s.tag===13&&(s.flags|=16384))),UM(e,t)):jy(e)}function jy(t){var e=t;do{if(e.flags&32768){UM(e,wa);return}t=e.return;var n=Kz(e.alternate,e,Ei);if(n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);zt===0&&(zt=5)}function UM(t,e){do{var n=Wz(t.alternate,t);if(n!==null){n.flags&=32767,Fe=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Fe=t;return}Fe=t=n}while(t!==null);zt=6,Fe=null}function _I(t,e,n,s,r,i,a,l,c){t.cancelPendingCommit=null;do Ry();while(ln!==0);if(Je&6)throw Error(W(327));if(e!==null){if(e===t.current)throw Error(W(177));if(i=e.lanes|e.childLanes,i|=W_,MB(t,n,i,a,l,c),t===pt&&(Fe=pt=null,$e=0),fu=e,Ra=t,pi=n,Pw=i,kw=r,RM=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,a7(kg,function(){return qM(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Te.T,Te.T=null,r=Ze.p,Ze.p=2,a=Je,Je|=4;try{Yz(t,e,n)}finally{Je=a,Ze.p=r,Te.T=s}}ln=1,FM(),BM(),zM()}}function FM(){if(ln===1){ln=0;var t=Ra,e=fu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Te.T,Te.T=null;var s=Ze.p;Ze.p=2;var r=Je;Je|=4;try{TM(e,t);var i=Lw,a=rD(t.containerInfo),l=i.focusedElem,c=i.selectionRange;if(a!==l&&l&&l.ownerDocument&&sD(l.ownerDocument.documentElement,l)){if(c!==null&&K_(l)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var h=l.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var p=m.getSelection(),y=l.textContent.length,x=Math.min(c.start,y),_=c.end===void 0?x:Math.min(c.end,y);!p.extend&&x>_&&(a=_,_=x,x=a);var v=qA(l,x),b=qA(l,_);if(v&&b&&(p.rangeCount!==1||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==b.node||p.focusOffset!==b.offset)){var E=h.createRange();E.setStart(v.node,v.offset),p.removeAllRanges(),x>_?(p.addRange(E),p.extend(b.node,b.offset)):(E.setEnd(b.node,b.offset),p.addRange(E))}}}}for(h=[],p=l;p=p.parentNode;)p.nodeType===1&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<h.length;l++){var I=h[l];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}s0=!!Vw,Lw=Vw=null}finally{Je=r,Ze.p=s,Te.T=n}}t.current=e,ln=2}}function BM(){if(ln===2){ln=0;var t=Ra,e=fu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Te.T,Te.T=null;var s=Ze.p;Ze.p=2;var r=Je;Je|=4;try{vM(t,e.alternate,e)}finally{Je=r,Ze.p=s,Te.T=n}}ln=3}}function zM(){if(ln===4||ln===3){ln=0,NB();var t=Ra,e=fu,n=pi,s=RM;e.subtreeFlags&10256||e.flags&10256?ln=5:(ln=0,fu=Ra=null,$M(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ja=null),F_(n),e=e.stateNode,Ss&&typeof Ss.onCommitFiberRoot=="function")try{Ss.onCommitFiberRoot(Xf,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Te.T,r=Ze.p,Ze.p=2,Te.T=null;try{for(var i=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];i(l.value,{componentStack:l.stack})}}finally{Te.T=e,Ze.p=r}}pi&3&&Ry(),Gr(t),r=t.pendingLanes,n&261930&&r&42?t===Dw?Ih++:(Ih=0,Dw=t):Ih=0,im(0,!1)}}function $M(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,nm(e)))}function Ry(){return FM(),BM(),zM(),qM()}function qM(){if(ln!==5)return!1;var t=Ra,e=Pw;Pw=0;var n=F_(pi),s=Te.T,r=Ze.p;try{Ze.p=32>n?32:n,Te.T=null,n=kw,kw=null;var i=Ra,a=pi;if(ln=0,fu=Ra=null,pi=0,Je&6)throw Error(W(331));var l=Je;if(Je|=4,IM(i.current),SM(i,i.current,a,n),Je=l,im(0,!1),Ss&&typeof Ss.onPostCommitFiberRoot=="function")try{Ss.onPostCommitFiberRoot(Xf,i)}catch{}return!0}finally{Ze.p=r,Te.T=s,$M(t,e)}}function TI(t,e,n){e=Hs(n,e),e=Aw(t.stateNode,e,2),t=Ca(t,e,2),t!==null&&(Zf(t,2),Gr(t))}function at(t,e,n){if(t.tag===3)TI(t,t,n);else for(;e!==null;){if(e.tag===3){TI(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ja===null||!ja.has(s))){t=Hs(n,t),n=iM(2),s=Ca(e,n,2),s!==null&&(aM(n,s,e,t),Zf(s,2),Gr(s));break}}e=e.return}}function qx(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new Jz;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(wT=!0,r.add(n),t=s7.bind(null,t,e,n),e.then(t,t))}function s7(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,pt===t&&($e&n)===n&&(zt===4||zt===3&&($e&62914560)===$e&&300>Es()-Iy?!(Je&2)&&mu(t,0):_T|=n,hu===$e&&(hu=0)),Gr(t)}function HM(t,e){e===0&&(e=Ok()),t=Rl(t,e),t!==null&&(Zf(t,e),Gr(t))}function r7(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),HM(t,n)}function i7(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(W(314))}s!==null&&s.delete(e),HM(t,n)}function a7(t,e){return L_(t,e)}var Qg=null,lc=null,Mw=!1,Xg=!1,Hx=!1,Ta=0;function Gr(t){t!==lc&&t.next===null&&(lc===null?Qg=lc=t:lc=lc.next=t),Xg=!0,Mw||(Mw=!0,l7())}function im(t,e){if(!Hx&&Xg){Hx=!0;do for(var n=!1,s=Qg;s!==null;){if(!e)if(t!==0){var r=s.pendingLanes;if(r===0)var i=0;else{var a=s.suspendedLanes,l=s.pingedLanes;i=(1<<31-Ns(42|t)+1)-1,i&=r&~(a&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(n=!0,EI(s,i))}else i=$e,i=yy(s,s===pt?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(i&3)||Jf(s,i)||(n=!0,EI(s,i));s=s.next}while(n);Hx=!1}}function o7(){GM()}function GM(){Xg=Mw=!1;var t=0;Ta!==0&&v7()&&(t=Ta);for(var e=Es(),n=null,s=Qg;s!==null;){var r=s.next,i=KM(s,e);i===0?(s.next=null,n===null?Qg=r:n.next=r,r===null&&(lc=n)):(n=s,(t!==0||i&3)&&(Xg=!0)),s=r}ln!==0&&ln!==5||im(t,!1),Ta!==0&&(Ta=0)}function KM(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,i=t.pendingLanes&-62914561;0<i;){var a=31-Ns(i),l=1<<a,c=r[a];c===-1?(!(l&n)||l&s)&&(r[a]=DB(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}if(e=pt,n=$e,n=yy(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(rt===2||rt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&xx(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Jf(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&xx(s),F_(n)){case 2:case 8:n=Dk;break;case 32:n=kg;break;case 268435456:n=Mk;break;default:n=kg}return s=WM.bind(null,t),n=L_(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&xx(s),t.callbackPriority=2,t.callbackNode=null,2}function WM(t,e){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ry()&&t.callbackNode!==n)return null;var s=$e;return s=yy(t,t===pt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(kM(t,s,e),KM(t,Es()),t.callbackNode!=null&&t.callbackNode===n?WM.bind(null,t):null)}function EI(t,e){if(Ry())return null;kM(t,e,!0)}function l7(){b7(function(){Je&6?L_(kk,o7):GM()})}function ET(){if(Ta===0){var t=cu;t===0&&(t=np,np<<=1,!(np&261888)&&(np=256)),Ta=t}return Ta}function SI(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bp(""+t)}function NI(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function c7(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var i=SI((r[hs]||null).action),a=s.submitter;a&&(e=(e=a[hs]||null)?SI(e.formAction):a.getAttribute("formAction"),e!==null&&(i=e,a=null));var l=new vy("action","action",null,s,r);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ta!==0){var c=a?NI(r,a):new FormData(r);Sw(n,{pending:!0,data:c,method:r.method,action:i},null,c)}}else typeof i=="function"&&(l.preventDefault(),c=a?NI(r,a):new FormData(r),Sw(n,{pending:!0,data:c,method:r.method,action:i},i,c))},currentTarget:r}]})}}for(var Gx=0;Gx<fw.length;Gx++){var Kx=fw[Gx],u7=Kx.toLowerCase(),d7=Kx[0].toUpperCase()+Kx.slice(1);yr(u7,"on"+d7)}yr(aD,"onAnimationEnd");yr(oD,"onAnimationIteration");yr(lD,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(Az,"onTransitionRun");yr(Iz,"onTransitionStart");yr(Cz,"onTransitionCancel");yr(cD,"onTransitionEnd");ou("onMouseEnter",["mouseout","mouseover"]);ou("onMouseLeave",["mouseout","mouseover"]);ou("onPointerEnter",["pointerout","pointerover"]);ou("onPointerLeave",["pointerout","pointerover"]);Il("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Il("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Il("onBeforeInput",["compositionend","keypress","textInput","paste"]);Il("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Il("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function YM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var i=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mg(d)}r.currentTarget=null,i=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&r.isPropagationStopped())break e;i=l,r.currentTarget=u;try{i(r)}catch(d){Mg(d)}r.currentTarget=null,i=c}}}}function Ue(t,e){var n=e[iw];n===void 0&&(n=e[iw]=new Set);var s=t+"__bubble";n.has(s)||(QM(e,t,2,!1),n.add(s))}function Wx(t,e,n){var s=0;e&&(s|=4),QM(n,t,s,e)}var hp="_reactListening"+Math.random().toString(36).slice(2);function ST(t){if(!t[hp]){t[hp]=!0,Bk.forEach(function(n){n!=="selectionchange"&&(h7.has(n)||Wx(n,!1,t),Wx(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hp]||(e[hp]=!0,Wx("selectionchange",!1,e))}}function QM(t,e,n,s){switch(c4(e)){case 2:var r=F7;break;case 8:r=B7;break;default:r=CT}n=r.bind(null,e,n,t),r=void 0,!uw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function Yx(t,e,n,s,r){var i=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=xc(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=i=a;continue e}l=l.parentNode}}s=s.return}Yk(function(){var u=i,d=$_(n),h=[];e:{var m=uD.get(t);if(m!==void 0){var p=vy,y=t;switch(t){case"keypress":if($p(n)===0)break e;case"keydown":case"keyup":p=iz;break;case"focusin":y="focus",p=Ex;break;case"focusout":y="blur",p=Ex;break;case"beforeblur":case"afterblur":p=Ex;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=DA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=KB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=lz;break;case aD:case oD:case lD:p=QB;break;case cD:p=uz;break;case"scroll":case"scrollend":p=HB;break;case"wheel":p=hz;break;case"copy":case"cut":case"paste":p=JB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=OA;break;case"toggle":case"beforetoggle":p=mz}var x=(e&4)!==0,_=!x&&(t==="scroll"||t==="scrollend"),v=x?m!==null?m+"Capture":null:m;x=[];for(var b=u,E;b!==null;){var I=b;if(E=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||E===null||v===null||(I=ef(b,v),I!=null&&x.push(uf(b,I,E))),_)break;b=b.return}0<x.length&&(m=new p(m,y,null,n,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==cw&&(y=n.relatedTarget||n.fromElement)&&(xc(y)||y[Wu]))break e;if((p||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?xc(y):null,y!==null&&(_=Qf(y),x=y.tag,y!==_||x!==5&&x!==27&&x!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=DA,I="onMouseLeave",v="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(x=OA,I="onPointerLeave",v="onPointerEnter",b="pointer"),_=p==null?m:eh(p),E=y==null?m:eh(y),m=new x(I,b+"leave",p,n,d),m.target=_,m.relatedTarget=E,I=null,xc(d)===u&&(x=new x(v,b+"enter",y,n,d),x.target=E,x.relatedTarget=_,I=x),_=I,p&&y)t:{for(x=f7,v=p,b=y,E=0,I=v;I;I=x(I))E++;I=0;for(var A=b;A;A=x(A))I++;for(;0<E-I;)v=x(v),E--;for(;0<I-E;)b=x(b),I--;for(;E--;){if(v===b||b!==null&&v===b.alternate){x=v;break t}v=x(v),b=x(b)}x=null}else x=null;p!==null&&AI(h,m,p,x,!1),y!==null&&_!==null&&AI(h,_,y,x,!0)}}e:{if(m=u?eh(u):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var R=FA;else if(UA(m))if(tD)R=Ez;else{R=_z;var S=wz}else p=m.nodeName,!p||p.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&z_(u.elementType)&&(R=FA):R=Tz;if(R&&(R=R(t,u))){eD(h,R,n,d);break e}S&&S(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&lw(m,"number",m.value)}switch(S=u?eh(u):window,t){case"focusin":(UA(S)||S.contentEditable==="true")&&(_c=S,dw=u,xh=null);break;case"focusout":xh=dw=_c=null;break;case"mousedown":hw=!0;break;case"contextmenu":case"mouseup":case"dragend":hw=!1,HA(h,n,d);break;case"selectionchange":if(Nz)break;case"keydown":case"keyup":HA(h,n,d)}var T;if(G_)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else wc?Jk(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Xk&&n.locale!=="ko"&&(wc||C!=="onCompositionStart"?C==="onCompositionEnd"&&wc&&(T=Qk()):(ba=d,q_="value"in ba?ba.value:ba.textContent,wc=!0)),S=Jg(u,C),0<S.length&&(C=new MA(C,t,null,n,d),h.push({event:C,listeners:S}),T?C.data=T:(T=Zk(n),T!==null&&(C.data=T)))),(T=gz?yz(t,n):vz(t,n))&&(C=Jg(u,"onBeforeInput"),0<C.length&&(S=new MA("onBeforeInput","beforeinput",null,n,d),h.push({event:S,listeners:C}),S.data=T)),c7(h,t,u,n,d)}YM(h,e)})}function uf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jg(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,i=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||i===null||(r=ef(t,n),r!=null&&s.unshift(uf(t,r,i)),r=ef(t,e),r!=null&&s.push(uf(t,r,i))),t.tag===3)return s;t=t.return}return[]}function f7(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function AI(t,e,n,s,r){for(var i=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,u=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||u===null||(c=u,r?(u=ef(n,i),u!=null&&a.unshift(uf(n,u,c))):r||(u=ef(n,i),u!=null&&a.push(uf(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var m7=/\r\n?/g,p7=/\u0000|\uFFFD/g;function II(t){return(typeof t=="string"?t:""+t).replace(m7,`
`).replace(p7,"")}function XM(t,e){return e=II(e),II(t)===e}function lt(t,e,n,s,r,i){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||lu(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&lu(t,""+s);break;case"className":ip(t,"class",s);break;case"tabIndex":ip(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":ip(t,n,s);break;case"style":Wk(t,s,i);break;case"data":if(e!=="object"){ip(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Bp(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(n==="formAction"?(e!=="input"&&lt(t,e,"name",r.name,r,null),lt(t,e,"formEncType",r.formEncType,r,null),lt(t,e,"formMethod",r.formMethod,r,null),lt(t,e,"formTarget",r.formTarget,r,null)):(lt(t,e,"encType",r.encType,r,null),lt(t,e,"method",r.method,r,null),lt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Bp(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=li);break;case"onScroll":s!=null&&Ue("scroll",t);break;case"onScrollEnd":s!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(W(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(W(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Bp(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Fp(t,"popover",s);break;case"xlinkActuate":Qr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Qr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Qr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Qr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Qr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Qr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Qr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fp(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=$B.get(n)||n,Fp(t,n,s))}}function Ow(t,e,n,s,r,i){switch(n){case"style":Wk(t,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(W(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(W(60));t.innerHTML=n}}break;case"children":typeof s=="string"?lu(t,s):(typeof s=="number"||typeof s=="bigint")&&lu(t,""+s);break;case"onScroll":s!=null&&Ue("scroll",t);break;case"onScrollEnd":s!=null&&Ue("scrollend",t);break;case"onClick":s!=null&&(t.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zk.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),i=t[hs]||null,i=i!=null?i[n]:null,typeof i=="function"&&t.removeEventListener(e,i,r),typeof s=="function")){typeof i!="function"&&i!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Fp(t,n,s)}}}function An(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var s=!1,r=!1,i;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(a!=null)switch(i){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,e));default:lt(t,e,i,a,n,null)}}r&&lt(t,e,"srcSet",n.srcSet,n,null),s&&lt(t,e,"src",n.src,n,null);return;case"input":Ue("invalid",t);var l=i=a=r=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":r=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(W(137,e));break;default:lt(t,e,s,d,n,null)}}Hk(t,i,l,c,u,a,r,!1);return;case"select":Ue("invalid",t),s=a=i=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:lt(t,e,r,l,n,null)}e=i,n=a,t.multiple=!!s,e!=null?Vc(t,!!s,e,!1):n!=null&&Vc(t,!!s,n,!0);return;case"textarea":Ue("invalid",t),i=r=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":r=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(W(91));break;default:lt(t,e,a,l,n,null)}Kk(t,s,r,i);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:lt(t,e,c,s,n,null)}return;case"dialog":Ue("beforetoggle",t),Ue("toggle",t),Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(s=0;s<cf.length;s++)Ue(cf[s],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,e));default:lt(t,e,u,s,n,null)}return;default:if(z_(e)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&Ow(t,e,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&lt(t,e,l,s,n,null))}function g7(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,i=null,a=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&h!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=h;default:s.hasOwnProperty(p)||lt(t,e,p,null,s,h)}}for(var m in s){var p=s[m];if(h=n[m],s.hasOwnProperty(m)&&(p!=null||h!=null))switch(m){case"type":i=p;break;case"name":r=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(W(137,e));break;default:p!==h&&lt(t,e,m,p,s,h)}}ow(t,a,l,c,u,d,i,r);return;case"select":p=a=l=m=null;for(i in n)if(c=n[i],n.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(i)||lt(t,e,i,null,s,c)}for(r in s)if(i=s[r],c=n[r],s.hasOwnProperty(r)&&(i!=null||c!=null))switch(r){case"value":m=i;break;case"defaultValue":l=i;break;case"multiple":a=i;default:i!==c&&lt(t,e,r,i,s,c)}e=l,n=a,s=p,m!=null?Vc(t,!!n,m,!1):!!s!=!!n&&(e!=null?Vc(t,!!n,e,!0):Vc(t,!!n,n?[]:"",!1));return;case"textarea":p=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:lt(t,e,l,null,s,r)}for(a in s)if(r=s[a],i=n[a],s.hasOwnProperty(a)&&(r!=null||i!=null))switch(a){case"value":m=r;break;case"defaultValue":p=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(W(91));break;default:r!==i&&lt(t,e,a,r,s,i)}Gk(t,m,p);return;case"option":for(var y in n)if(m=n[y],n.hasOwnProperty(y)&&m!=null&&!s.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:lt(t,e,y,null,s,m)}for(c in s)if(m=s[c],p=n[c],s.hasOwnProperty(c)&&m!==p&&(m!=null||p!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:lt(t,e,c,m,s,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)m=n[x],n.hasOwnProperty(x)&&m!=null&&!s.hasOwnProperty(x)&&lt(t,e,x,null,s,m);for(u in s)if(m=s[u],p=n[u],s.hasOwnProperty(u)&&m!==p&&(m!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(W(137,e));break;default:lt(t,e,u,m,s,p)}return;default:if(z_(e)){for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!==void 0&&!s.hasOwnProperty(_)&&Ow(t,e,_,void 0,s,m);for(d in s)m=s[d],p=n[d],!s.hasOwnProperty(d)||m===p||m===void 0&&p===void 0||Ow(t,e,d,m,s,p);return}}for(var v in n)m=n[v],n.hasOwnProperty(v)&&m!=null&&!s.hasOwnProperty(v)&&lt(t,e,v,null,s,m);for(h in s)m=s[h],p=n[h],!s.hasOwnProperty(h)||m===p||m==null&&p==null||lt(t,e,h,m,s,p)}function CI(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y7(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],i=r.transferSize,a=r.initiatorType,l=r.duration;if(i&&l&&CI(a)){for(a=0,l=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],u=c.startTime;if(u>l)break;var d=c.transferSize,h=c.initiatorType;d&&CI(h)&&(c=c.responseEnd,a+=d*(c<l?1:(l-u)/(c-u)))}if(--s,e+=8*(i+a)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Vw=null,Lw=null;function Zg(t){return t.nodeType===9?t:t.ownerDocument}function jI(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function JM(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Uw(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qx=null;function v7(){var t=window.event;return t&&t.type==="popstate"?t===Qx?!1:(Qx=t,!0):(Qx=null,!1)}var ZM=typeof setTimeout=="function"?setTimeout:void 0,x7=typeof clearTimeout=="function"?clearTimeout:void 0,RI=typeof Promise=="function"?Promise:void 0,b7=typeof queueMicrotask=="function"?queueMicrotask:typeof RI<"u"?function(t){return RI.resolve(null).then(t).catch(w7)}:ZM;function w7(t){setTimeout(function(){throw t})}function uo(t){return t==="head"}function PI(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),gu(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")Ch(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Ch(n);for(var i=n.firstChild;i;){var a=i.nextSibling,l=i.nodeName;i[em]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=a}}else n==="body"&&Ch(t.ownerDocument.body);n=r}while(n);gu(e)}function kI(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function Fw(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Fw(n),B_(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function _7(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[em])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(i=t.getAttribute("rel"),i==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(i!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(i=t.getAttribute("src"),(i!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&i&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var i=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===i)return t}else return t;if(t=Xs(t.nextSibling),t===null)break}return null}function T7(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Xs(t.nextSibling),t===null))return null;return t}function e4(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=Xs(t.nextSibling),t===null))return null;return t}function Bw(t){return t.data==="$?"||t.data==="$~"}function zw(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function E7(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var $w=null;function DI(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return Xs(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function MI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function t4(t,e,n){switch(e=Zg(n),t){case"html":if(t=e.documentElement,!t)throw Error(W(452));return t;case"head":if(t=e.head,!t)throw Error(W(453));return t;case"body":if(t=e.body,!t)throw Error(W(454));return t;default:throw Error(W(451))}}function Ch(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);B_(t)}var tr=new Map,OI=new Set;function e0(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Oi=Ze.d;Ze.d={f:S7,r:N7,D:A7,C:I7,L:C7,m:j7,X:P7,S:R7,M:k7};function S7(){var t=Oi.f(),e=Cy();return t||e}function N7(t){var e=Yu(t);e!==null&&e.tag===5&&e.type==="form"?WD(e):Oi.r(t)}var Zu=typeof document>"u"?null:document;function n4(t,e,n){var s=Zu;if(s&&typeof e=="string"&&e){var r=qs(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),OI.has(r)||(OI.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),An(e,"link",t),gn(e),s.head.appendChild(e)))}}function A7(t){Oi.D(t),n4("dns-prefetch",t,null)}function I7(t,e){Oi.C(t,e),n4("preconnect",t,e)}function C7(t,e,n){Oi.L(t,e,n);var s=Zu;if(s&&t&&e){var r='link[rel="preload"][as="'+qs(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+qs(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+qs(n.imageSizes)+'"]')):r+='[href="'+qs(t)+'"]';var i=r;switch(e){case"style":i=pu(t);break;case"script":i=ed(t)}tr.has(i)||(t=At({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),tr.set(i,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(am(i))||e==="script"&&s.querySelector(om(i))||(e=s.createElement("link"),An(e,"link",t),gn(e),s.head.appendChild(e)))}}function j7(t,e){Oi.m(t,e);var n=Zu;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+qs(s)+'"][href="'+qs(t)+'"]',i=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=ed(t)}if(!tr.has(i)&&(t=At({rel:"modulepreload",href:t},e),tr.set(i,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(om(i)))return}s=n.createElement("link"),An(s,"link",t),gn(s),n.head.appendChild(s)}}}function R7(t,e,n){Oi.S(t,e,n);var s=Zu;if(s&&t){var r=Oc(s).hoistableStyles,i=pu(t);e=e||"default";var a=r.get(i);if(!a){var l={loading:0,preload:null};if(a=s.querySelector(am(i)))l.loading=5;else{t=At({rel:"stylesheet",href:t,"data-precedence":e},n),(n=tr.get(i))&&NT(t,n);var c=a=s.createElement("link");gn(c),An(c,"link",t),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Xp(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(i,a)}}}function P7(t,e){Oi.X(t,e);var n=Zu;if(n&&t){var s=Oc(n).hoistableScripts,r=ed(t),i=s.get(r);i||(i=n.querySelector(om(r)),i||(t=At({src:t,async:!0},e),(e=tr.get(r))&&AT(t,e),i=n.createElement("script"),gn(i),An(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function k7(t,e){Oi.M(t,e);var n=Zu;if(n&&t){var s=Oc(n).hoistableScripts,r=ed(t),i=s.get(r);i||(i=n.querySelector(om(r)),i||(t=At({src:t,async:!0,type:"module"},e),(e=tr.get(r))&&AT(t,e),i=n.createElement("script"),gn(i),An(i,"link",t),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(r,i))}}function VI(t,e,n,s){var r=(r=Na.current)?e0(r):null;if(!r)throw Error(W(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=pu(n.href),n=Oc(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=pu(n.href);var i=Oc(r).hoistableStyles,a=i.get(t);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(t,a),(i=r.querySelector(am(t)))&&!i._p&&(a.instance=i,a.state.loading=5),tr.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},tr.set(t,n),i||D7(r,t,n,a.state))),e&&s===null)throw Error(W(528,""));return a}if(e&&s!==null)throw Error(W(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ed(n),n=Oc(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,t))}}function pu(t){return'href="'+qs(t)+'"'}function am(t){return'link[rel="stylesheet"]['+t+"]"}function s4(t){return At({},t,{"data-precedence":t.precedence,precedence:null})}function D7(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),An(e,"link",n),gn(e),t.head.appendChild(e))}function ed(t){return'[src="'+qs(t)+'"]'}function om(t){return"script[async]"+t}function LI(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+qs(n.href)+'"]');if(s)return e.instance=s,gn(s),s;var r=At({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),gn(s),An(s,"style",r),Xp(s,n.precedence,t),e.instance=s;case"stylesheet":r=pu(n.href);var i=t.querySelector(am(r));if(i)return e.state.loading|=4,e.instance=i,gn(i),i;s=s4(n),(r=tr.get(r))&&NT(s,r),i=(t.ownerDocument||t).createElement("link"),gn(i);var a=i;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),An(i,"link",s),e.state.loading|=4,Xp(i,n.precedence,t),e.instance=i;case"script":return i=ed(n.src),(r=t.querySelector(om(i)))?(e.instance=r,gn(r),r):(s=n,(r=tr.get(i))&&(s=At({},n),AT(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),gn(r),An(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(W(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Xp(s,n.precedence,t));return e.instance}function Xp(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,i=r,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)i=l;else if(i!==r)break}i?i.parentNode.insertBefore(t,i.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function NT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function AT(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jp=null;function UI(t,e,n){if(Jp===null){var s=new Map,r=Jp=new Map;r.set(n,s)}else r=Jp,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var i=n[r];if(!(i[em]||i[En]||t==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var a=i.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(i):s.set(a,[i])}}return s}function FI(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function M7(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function r4(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function O7(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=pu(s.href),i=e.querySelector(am(r));if(i){e=i._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=t0.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=i,gn(i);return}i=e.ownerDocument||e,s=s4(s),(r=tr.get(r))&&NT(s,r),i=i.createElement("link"),gn(i);var a=i;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),An(i,"link",s),n.instance=i}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=t0.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var Xx=0;function V7(t,e){return t.stylesheets&&t.count===0&&Zp(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Zp(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4+e);0<t.imgBytes&&Xx===0&&(Xx=62500*y7());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zp(t,t.stylesheets),t.unsuspend)){var i=t.unsuspend;t.unsuspend=null,i()}},(t.imgBytes>Xx?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function t0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var n0=null;function Zp(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,n0=new Map,e.forEach(L7,t),n0=null,t0.call(t))}function L7(t,e){if(!(e.state.loading&4)){var n=n0.get(t);if(n)var s=n.get(null);else{n=new Map,n0.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<r.length;i++){var a=r[i];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}r=e.instance,a=r.getAttribute("data-precedence"),i=n.get(a)||s,i===s&&n.set(null,r),n.set(a,r),this.count++,s=t0.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),i?i.parentNode.insertBefore(r,i.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var df={$$typeof:oi,Provider:null,Consumer:null,_currentValue:Ho,_currentValue2:Ho,_threadCount:0};function U7(t,e,n,s,r,i,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bx(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bx(0),this.hiddenUpdates=bx(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function i4(t,e,n,s,r,i,a,l,c,u,d,h){return t=new U7(t,e,n,a,c,u,d,h,l),e=1,i===!0&&(e|=24),i=xs(3,null,null,e),t.current=i,i.stateNode=t,e=Z_(),e.refCount++,t.pooledCache=e,e.refCount++,i.memoizedState={element:s,isDehydrated:n,cache:e},nT(i),t}function a4(t){return t?(t=Sc,t):Sc}function o4(t,e,n,s,r,i){r=a4(r),s.context===null?s.context=r:s.pendingContext=r,s=Ia(e),s.payload={element:n},i=i===void 0?null:i,i!==null&&(s.callback=i),n=Ca(t,s,e),n!==null&&(us(n,t,e),wh(n,t,e))}function BI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IT(t,e){BI(t,e),(t=t.alternate)&&BI(t,e)}function l4(t){if(t.tag===13||t.tag===31){var e=Rl(t,67108864);e!==null&&us(e,t,67108864),IT(t,67108864)}}function zI(t){if(t.tag===13||t.tag===31){var e=As();e=U_(e);var n=Rl(t,e);n!==null&&us(n,t,e),IT(t,e)}}var s0=!0;function F7(t,e,n,s){var r=Te.T;Te.T=null;var i=Ze.p;try{Ze.p=2,CT(t,e,n,s)}finally{Ze.p=i,Te.T=r}}function B7(t,e,n,s){var r=Te.T;Te.T=null;var i=Ze.p;try{Ze.p=8,CT(t,e,n,s)}finally{Ze.p=i,Te.T=r}}function CT(t,e,n,s){if(s0){var r=qw(s);if(r===null)Yx(t,e,s,r0,n),$I(t,s);else if($7(r,t,e,n,s))s.stopPropagation();else if($I(t,s),e&4&&-1<z7.indexOf(t)){for(;r!==null;){var i=Yu(r);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var a=Io(i.pendingLanes);if(a!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-Ns(a);l.entanglements[1]|=c,a&=~c}Gr(i),!(Je&6)&&(Kg=Es()+500,im(0,!1))}}break;case 31:case 13:l=Rl(i,2),l!==null&&us(l,i,2),Cy(),IT(i,2)}if(i=qw(s),i===null&&Yx(t,e,s,r0,n),i===r)break;r=i}r!==null&&s.stopPropagation()}else Yx(t,e,s,null,n)}}function qw(t){return t=$_(t),jT(t)}var r0=null;function jT(t){if(r0=null,t=xc(t),t!==null){var e=Qf(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=Ik(e),t!==null)return t;t=null}else if(n===31){if(t=Ck(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return r0=t,null}function c4(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(AB()){case kk:return 2;case Dk:return 8;case kg:case IB:return 32;case Mk:return 268435456;default:return 32}default:return 32}}var Hw=!1,Pa=null,ka=null,Da=null,hf=new Map,ff=new Map,ha=[],z7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $I(t,e){switch(t){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":hf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ff.delete(e.pointerId)}}function Fd(t,e,n,s,r,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[r]},e!==null&&(e=Yu(e),e!==null&&l4(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function $7(t,e,n,s,r){switch(e){case"focusin":return Pa=Fd(Pa,t,e,n,s,r),!0;case"dragenter":return ka=Fd(ka,t,e,n,s,r),!0;case"mouseover":return Da=Fd(Da,t,e,n,s,r),!0;case"pointerover":var i=r.pointerId;return hf.set(i,Fd(hf.get(i)||null,t,e,n,s,r)),!0;case"gotpointercapture":return i=r.pointerId,ff.set(i,Fd(ff.get(i)||null,t,e,n,s,r)),!0}return!1}function u4(t){var e=xc(t.target);if(e!==null){var n=Qf(e);if(n!==null){if(e=n.tag,e===13){if(e=Ik(n),e!==null){t.blockedOn=e,AA(t.priority,function(){zI(n)});return}}else if(e===31){if(e=Ck(n),e!==null){t.blockedOn=e,AA(t.priority,function(){zI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eg(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qw(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);cw=s,n.target.dispatchEvent(s),cw=null}else return e=Yu(n),e!==null&&l4(e),t.blockedOn=n,!1;e.shift()}return!0}function qI(t,e,n){eg(t)&&n.delete(e)}function q7(){Hw=!1,Pa!==null&&eg(Pa)&&(Pa=null),ka!==null&&eg(ka)&&(ka=null),Da!==null&&eg(Da)&&(Da=null),hf.forEach(qI),ff.forEach(qI)}function fp(t,e){t.blockedOn===e&&(t.blockedOn=null,Hw||(Hw=!0,un.unstable_scheduleCallback(un.unstable_NormalPriority,q7)))}var mp=null;function HI(t){mp!==t&&(mp=t,un.unstable_scheduleCallback(un.unstable_NormalPriority,function(){mp===t&&(mp=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(jT(s||n)===null)continue;break}var i=Yu(n);i!==null&&(t.splice(e,3),e-=3,Sw(i,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function gu(t){function e(c){return fp(c,t)}Pa!==null&&fp(Pa,t),ka!==null&&fp(ka,t),Da!==null&&fp(Da,t),hf.forEach(e),ff.forEach(e);for(var n=0;n<ha.length;n++){var s=ha[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ha.length&&(n=ha[0],n.blockedOn===null);)u4(n),n.blockedOn===null&&ha.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],i=n[s+1],a=r[hs]||null;if(typeof i=="function")a||HI(n);else if(a){var l=null;if(i&&i.hasAttribute("formAction")){if(r=i,a=i[hs]||null)l=a.formAction;else if(jT(r)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),HI(n)}}}function d4(){function t(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(a){return r=a})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function RT(t){this._internalRoot=t}Py.prototype.render=RT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));var n=e.current,s=As();o4(n,s,t,e,null,null)};Py.prototype.unmount=RT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;o4(t.current,2,null,t,null,null),Cy(),e[Wu]=null}};function Py(t){this._internalRoot=t}Py.prototype.unstable_scheduleHydration=function(t){if(t){var e=Fk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ha.length&&e!==0&&e<ha[n].priority;n++);ha.splice(n,0,t),n===0&&u4(t)}};var GI=Nk.version;if(GI!=="19.2.0")throw Error(W(527,GI,"19.2.0"));Ze.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=bB(e),t=t!==null?jk(t):null,t=t===null?null:t.stateNode,t};var H7={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{Xf=pp.inject(H7),Ss=pp}catch{}}py.createRoot=function(t,e){if(!Ak(t))throw Error(W(299));var n=!1,s="",r=nM,i=sM,a=rM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(i=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=i4(t,1,!1,null,null,n,s,null,r,i,a,d4),t[Wu]=e.current,ST(t),new RT(e)};py.hydrateRoot=function(t,e,n){if(!Ak(t))throw Error(W(299));var s=!1,r="",i=nM,a=sM,l=rM,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(i=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=i4(t,1,!0,e,n??null,s,r,c,i,a,l,d4),e.context=a4(null),n=e.current,s=As(),s=U_(s),r=Ia(s),r.callback=null,Ca(n,r,s),n=s,e.current.lanes=n,Zf(e,n),Gr(e),t[Wu]=e.current,ST(t),new Py(e)};py.version="19.2.0";function h4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(h4)}catch(t){console.error(t)}}h4(),bk.exports=py;var G7=bk.exports;const K7=Al(G7);var f4={exports:{}},W7="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Y7=W7,Q7=Y7;function m4(){}function p4(){}p4.resetWarningCache=m4;var X7=function(){function t(s,r,i,a,l,c){if(c!==Q7){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:p4,resetWarningCache:m4};return n.PropTypes=n,n};f4.exports=X7();var J7=f4.exports;const Ct=Al(J7);function Z7(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var g4=g,e$=Z7(g4);function KI(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t$(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var n$=!!(typeof window<"u"&&window.document&&window.document.createElement);function s$(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function s(r){return r.displayName||r.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var a=[],l;function c(){l=t(a.map(function(d){return d.props})),u.canUseDOM?e(l):n&&(l=n(l))}var u=function(d){t$(h,d);function h(){return d.apply(this,arguments)||this}h.peek=function(){return l},h.rewind=function(){if(h.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var y=l;return l=void 0,a=[],y};var m=h.prototype;return m.UNSAFE_componentWillMount=function(){a.push(this),c()},m.componentDidUpdate=function(){c()},m.componentWillUnmount=function(){var y=a.indexOf(this);a.splice(y,1),c()},m.render=function(){return e$.createElement(i,this.props)},h}(g4.PureComponent);return KI(u,"displayName","SideEffect("+s(i)+")"),KI(u,"canUseDOM",n$),u}}var r$=s$;const i$=Al(r$);var a$=typeof Element<"u",o$=typeof Map=="function",l$=typeof Set=="function",c$=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function tg(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,s,r;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(!tg(t[s],e[s]))return!1;return!0}var i;if(o$&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;for(i=t.entries();!(s=i.next()).done;)if(!tg(s.value[1],e.get(s.value[0])))return!1;return!0}if(l$&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(i=t.entries();!(s=i.next()).done;)if(!e.has(s.value[0]))return!1;return!0}if(c$&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(s=n;s--!==0;)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(e,r[s]))return!1;if(a$&&t instanceof Element)return!1;for(s=n;s--!==0;)if(!((r[s]==="_owner"||r[s]==="__v"||r[s]==="__o")&&t.$$typeof)&&!tg(t[r[s]],e[r[s]]))return!1;return!0}return t!==t&&e!==e}var u$=function(e,n){try{return tg(e,n)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}};const d$=Al(u$);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var WI=Object.getOwnPropertySymbols,h$=Object.prototype.hasOwnProperty,f$=Object.prototype.propertyIsEnumerable;function m$(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function p$(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(e).map(function(i){return e[i]});if(s.join("")!=="0123456789")return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(i){r[i]=i}),Object.keys(Object.assign({},r)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var g$=p$()?Object.assign:function(t,e){for(var n,s=m$(t),r,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)h$.call(n,a)&&(s[a]=n[a]);if(WI){r=WI(n);for(var l=0;l<r.length;l++)f$.call(n,r[l])&&(s[r[l]]=n[r[l]])}}return s};const y$=Al(g$);var Qo={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ne={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ne).map(function(t){return Ne[t]});var Rt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},i0={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},mf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},v$=Object.keys(i0).reduce(function(t,e){return t[i0[e]]=e,t},{}),x$=[Ne.NOSCRIPT,Ne.SCRIPT,Ne.STYLE],dr="data-react-helmet",b$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w$=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},_$=function(){function t(e,n){for(var s=0;s<n.length;s++){var r=n[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e}}(),ss=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},T$=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},YI=function(t,e){var n={};for(var s in t)e.indexOf(s)>=0||Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n},E$=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Gw=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},S$=function(e){var n=$c(e,Ne.TITLE),s=$c(e,mf.TITLE_TEMPLATE);if(s&&n)return s.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var r=$c(e,mf.DEFAULT_TITLE);return n||r||void 0},N$=function(e){return $c(e,mf.ON_CHANGE_CLIENT_STATE)||function(){}},Jx=function(e,n){return n.filter(function(s){return typeof s[e]<"u"}).map(function(s){return s[e]}).reduce(function(s,r){return ss({},s,r)},{})},A$=function(e,n){return n.filter(function(s){return typeof s[Ne.BASE]<"u"}).map(function(s){return s[Ne.BASE]}).reverse().reduce(function(s,r){if(!s.length)for(var i=Object.keys(r),a=0;a<i.length;a++){var l=i[a],c=l.toLowerCase();if(e.indexOf(c)!==-1&&r[c])return s.concat(r)}return s},[])},Bd=function(e,n,s){var r={};return s.filter(function(i){return Array.isArray(i[e])?!0:(typeof i[e]<"u"&&R$("Helmet: "+e+' should be of type "Array". Instead found type "'+b$(i[e])+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,a){var l={};a.filter(function(m){for(var p=void 0,y=Object.keys(m),x=0;x<y.length;x++){var _=y[x],v=_.toLowerCase();n.indexOf(v)!==-1&&!(p===Rt.REL&&m[p].toLowerCase()==="canonical")&&!(v===Rt.REL&&m[v].toLowerCase()==="stylesheet")&&(p=v),n.indexOf(_)!==-1&&(_===Rt.INNER_HTML||_===Rt.CSS_TEXT||_===Rt.ITEM_PROP)&&(p=_)}if(!p||!m[p])return!1;var b=m[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][b]?!1:(l[p][b]=!0,!0)}).reverse().forEach(function(m){return i.push(m)});for(var c=Object.keys(l),u=0;u<c.length;u++){var d=c[u],h=y$({},r[d],l[d]);r[d]=h}return i},[]).reverse()},$c=function(e,n){for(var s=e.length-1;s>=0;s--){var r=e[s];if(r.hasOwnProperty(n))return r[n]}return null},I$=function(e){return{baseTag:A$([Rt.HREF,Rt.TARGET],e),bodyAttributes:Jx(Qo.BODY,e),defer:$c(e,mf.DEFER),encode:$c(e,mf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Jx(Qo.HTML,e),linkTags:Bd(Ne.LINK,[Rt.REL,Rt.HREF],e),metaTags:Bd(Ne.META,[Rt.NAME,Rt.CHARSET,Rt.HTTPEQUIV,Rt.PROPERTY,Rt.ITEM_PROP],e),noscriptTags:Bd(Ne.NOSCRIPT,[Rt.INNER_HTML],e),onChangeClientState:N$(e),scriptTags:Bd(Ne.SCRIPT,[Rt.SRC,Rt.INNER_HTML],e),styleTags:Bd(Ne.STYLE,[Rt.CSS_TEXT],e),title:S$(e),titleAttributes:Jx(Qo.TITLE,e)}},Kw=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Kw(e)},0)}}(),QI=function(e){return clearTimeout(e)},C$=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Kw:global.requestAnimationFrame||Kw,j$=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||QI:global.cancelAnimationFrame||QI,R$=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},zd=null,P$=function(e){zd&&j$(zd),e.defer?zd=C$(function(){XI(e,function(){zd=null})}):(XI(e),zd=null)},XI=function(e,n){var s=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.onChangeClientState,d=e.scriptTags,h=e.styleTags,m=e.title,p=e.titleAttributes;Ww(Ne.BODY,r),Ww(Ne.HTML,i),k$(m,p);var y={baseTag:Ql(Ne.BASE,s),linkTags:Ql(Ne.LINK,a),metaTags:Ql(Ne.META,l),noscriptTags:Ql(Ne.NOSCRIPT,c),scriptTags:Ql(Ne.SCRIPT,d),styleTags:Ql(Ne.STYLE,h)},x={},_={};Object.keys(y).forEach(function(v){var b=y[v],E=b.newTags,I=b.oldTags;E.length&&(x[v]=E),I.length&&(_[v]=y[v].oldTags)}),n&&n(),u(e,x,_)},y4=function(e){return Array.isArray(e)?e.join(""):e},k$=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=y4(e)),Ww(Ne.TITLE,n)},Ww=function(e,n){var s=document.getElementsByTagName(e)[0];if(s){for(var r=s.getAttribute(dr),i=r?r.split(","):[],a=[].concat(i),l=Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u]||"";s.getAttribute(u)!==d&&s.setAttribute(u,d),i.indexOf(u)===-1&&i.push(u);var h=a.indexOf(u);h!==-1&&a.splice(h,1)}for(var m=a.length-1;m>=0;m--)s.removeAttribute(a[m]);i.length===a.length?s.removeAttribute(dr):s.getAttribute(dr)!==l.join(",")&&s.setAttribute(dr,l.join(","))}},Ql=function(e,n){var s=document.head||document.querySelector(Ne.HEAD),r=s.querySelectorAll(e+"["+dr+"]"),i=Array.prototype.slice.call(r),a=[],l=void 0;return n&&n.length&&n.forEach(function(c){var u=document.createElement(e);for(var d in c)if(c.hasOwnProperty(d))if(d===Rt.INNER_HTML)u.innerHTML=c.innerHTML;else if(d===Rt.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=c.cssText:u.appendChild(document.createTextNode(c.cssText));else{var h=typeof c[d]>"u"?"":c[d];u.setAttribute(d,h)}u.setAttribute(dr,"true"),i.some(function(m,p){return l=p,u.isEqualNode(m)})?i.splice(l,1):a.push(u)}),i.forEach(function(c){return c.parentNode.removeChild(c)}),a.forEach(function(c){return s.appendChild(c)}),{oldTags:i,newTags:a}},v4=function(e){return Object.keys(e).reduce(function(n,s){var r=typeof e[s]<"u"?s+'="'+e[s]+'"':""+s;return n?n+" "+r:r},"")},D$=function(e,n,s,r){var i=v4(s),a=y4(n);return i?"<"+e+" "+dr+'="true" '+i+">"+Gw(a,r)+"</"+e+">":"<"+e+" "+dr+'="true">'+Gw(a,r)+"</"+e+">"},M$=function(e,n,s){return n.reduce(function(r,i){var a=Object.keys(i).filter(function(u){return!(u===Rt.INNER_HTML||u===Rt.CSS_TEXT)}).reduce(function(u,d){var h=typeof i[d]>"u"?d:d+'="'+Gw(i[d],s)+'"';return u?u+" "+h:h},""),l=i.innerHTML||i.cssText||"",c=x$.indexOf(e)===-1;return r+"<"+e+" "+dr+'="true" '+a+(c?"/>":">"+l+"</"+e+">")},"")},x4=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[i0[r]||r]=e[r],s},n)},O$=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(s,r){return s[v$[r]||r]=e[r],s},n)},V$=function(e,n,s){var r,i=(r={key:n},r[dr]=!0,r),a=x4(s,i);return[Bt.createElement(Ne.TITLE,a,n)]},L$=function(e,n){return n.map(function(s,r){var i,a=(i={key:r},i[dr]=!0,i);return Object.keys(s).forEach(function(l){var c=i0[l]||l;if(c===Rt.INNER_HTML||c===Rt.CSS_TEXT){var u=s.innerHTML||s.cssText;a.dangerouslySetInnerHTML={__html:u}}else a[c]=s[l]}),Bt.createElement(e,a)})},ei=function(e,n,s){switch(e){case Ne.TITLE:return{toComponent:function(){return V$(e,n.title,n.titleAttributes)},toString:function(){return D$(e,n.title,n.titleAttributes,s)}};case Qo.BODY:case Qo.HTML:return{toComponent:function(){return x4(n)},toString:function(){return v4(n)}};default:return{toComponent:function(){return L$(e,n)},toString:function(){return M$(e,n,s)}}}},b4=function(e){var n=e.baseTag,s=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,l=e.metaTags,c=e.noscriptTags,u=e.scriptTags,d=e.styleTags,h=e.title,m=h===void 0?"":h,p=e.titleAttributes;return{base:ei(Ne.BASE,n,r),bodyAttributes:ei(Qo.BODY,s,r),htmlAttributes:ei(Qo.HTML,i,r),link:ei(Ne.LINK,a,r),meta:ei(Ne.META,l,r),noscript:ei(Ne.NOSCRIPT,c,r),script:ei(Ne.SCRIPT,u,r),style:ei(Ne.STYLE,d,r),title:ei(Ne.TITLE,{title:m,titleAttributes:p},r)}},U$=function(e){var n,s;return s=n=function(r){T$(i,r);function i(){return w$(this,i),E$(this,r.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!d$(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,c){if(!c)return null;switch(l.type){case Ne.SCRIPT:case Ne.NOSCRIPT:return{innerHTML:c};case Ne.STYLE:return{cssText:c}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var c,u=l.child,d=l.arrayTypeChildren,h=l.newChildProps,m=l.nestedChildren;return ss({},d,(c={},c[u.type]=[].concat(d[u.type]||[],[ss({},h,this.mapNestedChildrenToProps(u,m))]),c))},i.prototype.mapObjectTypeChildren=function(l){var c,u,d=l.child,h=l.newProps,m=l.newChildProps,p=l.nestedChildren;switch(d.type){case Ne.TITLE:return ss({},h,(c={},c[d.type]=p,c.titleAttributes=ss({},m),c));case Ne.BODY:return ss({},h,{bodyAttributes:ss({},m)});case Ne.HTML:return ss({},h,{htmlAttributes:ss({},m)})}return ss({},h,(u={},u[d.type]=ss({},m),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,c){var u=ss({},c);return Object.keys(l).forEach(function(d){var h;u=ss({},u,(h={},h[d]=l[d],h))}),u},i.prototype.warnOnInvalidChildren=function(l,c){return!0},i.prototype.mapChildrenToProps=function(l,c){var u=this,d={};return Bt.Children.forEach(l,function(h){if(!(!h||!h.props)){var m=h.props,p=m.children,y=YI(m,["children"]),x=O$(y);switch(u.warnOnInvalidChildren(h,p),h.type){case Ne.LINK:case Ne.META:case Ne.NOSCRIPT:case Ne.SCRIPT:case Ne.STYLE:d=u.flattenArrayTypeChildren({child:h,arrayTypeChildren:d,newChildProps:x,nestedChildren:p});break;default:c=u.mapObjectTypeChildren({child:h,newProps:c,newChildProps:x,nestedChildren:p});break}}}),c=this.mapArrayTypeChildrenToProps(d,c),c},i.prototype.render=function(){var l=this.props,c=l.children,u=YI(l,["children"]),d=ss({},u);return c&&(d=this.mapChildrenToProps(c,d)),Bt.createElement(e,d)},_$(i,null,[{key:"canUseDOM",set:function(l){e.canUseDOM=l}}]),i}(Bt.Component),n.propTypes={base:Ct.object,bodyAttributes:Ct.object,children:Ct.oneOfType([Ct.arrayOf(Ct.node),Ct.node]),defaultTitle:Ct.string,defer:Ct.bool,encodeSpecialCharacters:Ct.bool,htmlAttributes:Ct.object,link:Ct.arrayOf(Ct.object),meta:Ct.arrayOf(Ct.object),noscript:Ct.arrayOf(Ct.object),onChangeClientState:Ct.func,script:Ct.arrayOf(Ct.object),style:Ct.arrayOf(Ct.object),title:Ct.string,titleAttributes:Ct.object,titleTemplate:Ct.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var r=e.rewind();return r||(r=b4({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),r},s},F$=function(){return null},B$=i$(I$,P$,b4)(F$),a0=U$(B$);a0.renderStatic=a0.rewind;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pf(){return pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pf.apply(this,arguments)}var Ea;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ea||(Ea={}));const JI="popstate";function z$(t){t===void 0&&(t={});function e(s,r){let{pathname:i,search:a,hash:l}=s.location;return Yw("",{pathname:i,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:o0(r)}return q$(e,n,null,t)}function $t(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $$(){return Math.random().toString(36).substr(2,8)}function ZI(t,e){return{usr:t.state,key:t.key,idx:e}}function Yw(t,e,n,s){return n===void 0&&(n=null),pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?td(e):e,{state:n,key:e&&e.key||s||$$()})}function o0(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function td(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function q$(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:i=!1}=s,a=r.history,l=Ea.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(pf({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){l=Ea.Pop;let _=d(),v=_==null?null:_-u;u=_,c&&c({action:l,location:x.location,delta:v})}function m(_,v){l=Ea.Push;let b=Yw(x.location,_,v);n&&n(b,_),u=d()+1;let E=ZI(b,u),I=x.createHref(b);try{a.pushState(E,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(I)}i&&c&&c({action:l,location:x.location,delta:1})}function p(_,v){l=Ea.Replace;let b=Yw(x.location,_,v);n&&n(b,_),u=d();let E=ZI(b,u),I=x.createHref(b);a.replaceState(E,"",I),i&&c&&c({action:l,location:x.location,delta:0})}function y(_){let v=r.location.origin!=="null"?r.location.origin:r.location.href,b=typeof _=="string"?_:o0(_);return b=b.replace(/ $/,"%20"),$t(v,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,v)}let x={get action(){return l},get location(){return t(r,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(JI,h),c=_,()=>{r.removeEventListener(JI,h),c=null}},createHref(_){return e(r,_)},createURL:y,encodeLocation(_){let v=y(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:p,go(_){return a.go(_)}};return x}var e2;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(e2||(e2={}));function H$(t,e,n){return n===void 0&&(n="/"),G$(t,e,n,!1)}function G$(t,e,n,s){let r=typeof e=="string"?td(e):e,i=yu(r.pathname||"/",n);if(i==null)return null;let a=w4(t);K$(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=rq(i);l=nq(a[c],u,s)}return l}function w4(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(i,a,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&($t(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Ma([s,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&($t(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w4(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:eq(u,i.index),routesMeta:d})};return t.forEach((i,a)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))r(i,a);else for(let c of _4(i.path))r(i,a,c)}),e}function _4(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return r?[i,""]:[i];let a=_4(s.join("/")),l=[];return l.push(...a.map(c=>c===""?i:[i,c].join("/"))),r&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function K$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tq(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const W$=/^:[\w-]+$/,Y$=3,Q$=2,X$=1,J$=10,Z$=-2,t2=t=>t==="*";function eq(t,e){let n=t.split("/"),s=n.length;return n.some(t2)&&(s+=Z$),e&&(s+=Q$),n.filter(r=>!t2(r)).reduce((r,i)=>r+(W$.test(i)?Y$:i===""?X$:J$),s)}function tq(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function nq(t,e,n){n===void 0&&(n=!1);let{routesMeta:s}=t,r={},i="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h&&u&&n&&!s[s.length-1].route.index&&(h=l0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),a.push({params:r,pathname:Ma([i,h.pathname]),pathnameBase:cq(Ma([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ma([i,h.pathnameBase]))}return a}function l0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=sq(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let i=r[0],a=i.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((u,d,h)=>{let{paramName:m,isOptional:p}=d;if(m==="*"){let x=l[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return p&&!y?u[m]=void 0:u[m]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:t}}function sq(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function rq(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const iq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aq=t=>iq.test(t);function oq(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?td(t):t,i;if(n)if(aq(n))i=n;else{if(n.includes("//")){let a=n;n=n.replace(/\/\/+/g,"/"),PT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+n))}n.startsWith("/")?i=n2(n.substring(1),"/"):i=n2(n,e)}else i=e;return{pathname:i,search:uq(s),hash:dq(r)}}function n2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Zx(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lq(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T4(t,e){let n=lq(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function E4(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=td(t):(r=pf({},t),$t(!r.pathname||!r.pathname.includes("?"),Zx("?","pathname","search",r)),$t(!r.pathname||!r.pathname.includes("#"),Zx("#","pathname","hash",r)),$t(!r.search||!r.search.includes("#"),Zx("#","search","hash",r)));let i=t===""||r.pathname==="",a=i?"/":r.pathname,l;if(a==null)l=n;else{let h=e.length-1;if(!s&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),h-=1;r.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=oq(r,l),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ma=t=>t.join("/").replace(/\/\/+/g,"/"),cq=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uq=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dq=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hq(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S4=["post","put","patch","delete"];new Set(S4);const fq=["get",...S4];new Set(fq);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},gf.apply(this,arguments)}const ky=g.createContext(null),N4=g.createContext(null),ho=g.createContext(null),Dy=g.createContext(null),Vi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),A4=g.createContext(null);function mq(t,e){let{relative:n}=e===void 0?{}:e;lm()||$t(!1);let{basename:s,navigator:r}=g.useContext(ho),{hash:i,pathname:a,search:l}=My(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:Ma([s,a])),r.createHref({pathname:c,search:l,hash:i})}function lm(){return g.useContext(Dy)!=null}function Fn(){return lm()||$t(!1),g.useContext(Dy).location}function I4(t){g.useContext(ho).static||g.useLayoutEffect(t)}function Ot(){let{isDataRoute:t}=g.useContext(Vi);return t?Iq():pq()}function pq(){lm()||$t(!1);let t=g.useContext(ky),{basename:e,future:n,navigator:s}=g.useContext(ho),{matches:r}=g.useContext(Vi),{pathname:i}=Fn(),a=JSON.stringify(T4(r,n.v7_relativeSplatPath)),l=g.useRef(!1);return I4(()=>{l.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){s.go(u);return}let h=E4(u,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ma([e,h.pathname])),(d.replace?s.replace:s.push)(h,d.state,d)},[e,s,a,i,t])}const C4=g.createContext(null);function rr(){return g.useContext(C4)}function gq(t){let e=g.useContext(Vi).outlet;return e&&g.createElement(C4.Provider,{value:t},e)}function j4(){let{matches:t}=g.useContext(Vi),e=t[t.length-1];return e?e.params:{}}function My(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=g.useContext(ho),{matches:r}=g.useContext(Vi),{pathname:i}=Fn(),a=JSON.stringify(T4(r,s.v7_relativeSplatPath));return g.useMemo(()=>E4(t,JSON.parse(a),i,n==="path"),[t,a,i,n])}function yq(t,e){return vq(t,e)}function vq(t,e,n,s){lm()||$t(!1);let{navigator:r}=g.useContext(ho),{matches:i}=g.useContext(Vi),a=i[i.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Fn(),d;if(e){var h;let _=typeof e=="string"?td(e):e;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||$t(!1),d=_}else d=u;let m=d.pathname||"/",p=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");p="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=H$(t,{pathname:p}),x=Tq(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Ma([c,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Ma([c,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,n,s);return e&&x?g.createElement(Dy.Provider,{value:{location:gf({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ea.Pop}},x):x}function xq(){let t=Aq(),e=hq(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:r},n):null,i)}const bq=g.createElement(xq,null);class wq extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Vi.Provider,{value:this.props.routeContext},g.createElement(A4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _q(t){let{routeContext:e,match:n,children:s}=t,r=g.useContext(ky);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Vi.Provider,{value:e},s)}function Tq(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let d=a.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||$t(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:p}=n,y=h.route.loader&&m[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,m)=>{let p,y=!1,x=null,_=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||bq,c&&(u<0&&m===0?(Cq("route-fallback",!1),y=!0,_=null):u===m&&(y=!0,_=h.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),b=()=>{let E;return p?E=x:y?E=_:h.route.Component?E=g.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=d,g.createElement(_q,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?g.createElement(wq,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:b(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):b()},null)}var R4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(R4||{}),c0=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(c0||{});function Eq(t){let e=g.useContext(ky);return e||$t(!1),e}function Sq(t){let e=g.useContext(N4);return e||$t(!1),e}function Nq(t){let e=g.useContext(Vi);return e||$t(!1),e}function P4(t){let e=Nq(),n=e.matches[e.matches.length-1];return n.route.id||$t(!1),n.route.id}function Aq(){var t;let e=g.useContext(A4),n=Sq(c0.UseRouteError),s=P4(c0.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function Iq(){let{router:t}=Eq(R4.UseNavigateStable),e=P4(c0.UseNavigateStable),n=g.useRef(!1);return I4(()=>{n.current=!0}),g.useCallback(function(r,i){i===void 0&&(i={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,gf({fromRouteId:e},i)))},[t,e])}const s2={};function Cq(t,e,n){!e&&!s2[t]&&(s2[t]=!0)}function jq(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function kT(t){return gq(t.context)}function ze(t){$t(!1)}function Rq(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Ea.Pop,navigator:i,static:a=!1,future:l}=t;lm()&&$t(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:i,static:a,future:gf({v7_relativeSplatPath:!1},l)}),[c,l,i,a]);typeof s=="string"&&(s=td(s));let{pathname:d="/",search:h="",hash:m="",state:p=null,key:y="default"}=s,x=g.useMemo(()=>{let _=yu(d,c);return _==null?null:{location:{pathname:_,search:h,hash:m,state:p,key:y},navigationType:r}},[c,d,h,m,p,y,r]);return x==null?null:g.createElement(ho.Provider,{value:u},g.createElement(Dy.Provider,{children:n,value:x}))}function Pq(t){let{children:e,location:n}=t;return yq(Qw(e),n)}new Promise(()=>{});function Qw(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(s,r)=>{if(!g.isValidElement(s))return;let i=[...e,r];if(s.type===g.Fragment){n.push.apply(n,Qw(s.props.children,i));return}s.type!==ze&&$t(!1),!s.props.index||!s.props.children||$t(!1);let a={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Qw(s.props.children,i)),n.push(a)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function u0(){return u0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},u0.apply(this,arguments)}function k4(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function kq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Dq(t,e){return t.button===0&&(!e||e==="_self")&&!kq(t)}function Xw(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let s=t[n];return e.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function Mq(t,e){let n=Xw(t);return e&&e.forEach((s,r)=>{n.has(r)||e.getAll(r).forEach(i=>{n.append(r,i)})}),n}const Oq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Vq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Lq="6";try{window.__reactRouterVersion=Lq}catch{}const Uq=g.createContext({isTransitioning:!1}),Fq="startTransition",r2=my[Fq];function Bq(t){let{basename:e,children:n,future:s,window:r}=t,i=g.useRef();i.current==null&&(i.current=z$({window:r,v5Compat:!0}));let a=i.current,[l,c]=g.useState({action:a.action,location:a.location}),{v7_startTransition:u}=s||{},d=g.useCallback(h=>{u&&r2?r2(()=>c(h)):c(h)},[c,u]);return g.useLayoutEffect(()=>a.listen(d),[a,d]),g.useEffect(()=>jq(s),[s]),g.createElement(Rq,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const zq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=g.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:i,replace:a,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=k4(e,Oq),{basename:p}=g.useContext(ho),y,x=!1;if(typeof u=="string"&&$q.test(u)&&(y=u,zq))try{let E=new URL(window.location.href),I=u.startsWith("//")?new URL(E.protocol+u):new URL(u),A=yu(I.pathname,p);I.origin===E.origin&&A!=null?u=A+I.search+I.hash:x=!0}catch{}let _=mq(u,{relative:r}),v=Hq(u,{replace:a,state:l,target:c,preventScrollReset:d,relative:r,viewTransition:h});function b(E){s&&s(E),E.defaultPrevented||v(E)}return g.createElement("a",u0({},m,{href:y||_,onClick:x||i?s:b,ref:n,target:c}))}),D4=g.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:u,children:d}=e,h=k4(e,Vq),m=My(c,{relative:h.relative}),p=Fn(),y=g.useContext(N4),{navigator:x,basename:_}=g.useContext(ho),v=y!=null&&Kq(m)&&u===!0,b=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,E=p.pathname,I=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(E=E.toLowerCase(),I=I?I.toLowerCase():null,b=b.toLowerCase()),I&&_&&(I=yu(I,_)||I);const A=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let R=E===b||!a&&E.startsWith(b)&&E.charAt(A)==="/",S=I!=null&&(I===b||!a&&I.startsWith(b)&&I.charAt(b.length)==="/"),T={isActive:R,isPending:S,isTransitioning:v},C=R?s:void 0,j;typeof i=="function"?j=i(T):j=[i,R?"active":null,S?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(T):l;return g.createElement(ct,u0({},h,{"aria-current":C,className:j,ref:n,style:P,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Jw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jw||(Jw={}));var i2;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i2||(i2={}));function qq(t){let e=g.useContext(ky);return e||$t(!1),e}function Hq(t,e){let{target:n,replace:s,state:r,preventScrollReset:i,relative:a,viewTransition:l}=e===void 0?{}:e,c=Ot(),u=Fn(),d=My(t,{relative:a});return g.useCallback(h=>{if(Dq(h,n)){h.preventDefault();let m=s!==void 0?s:o0(u)===o0(d);c(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[u,c,d,s,r,n,t,i,a,l])}function Gq(t){let e=g.useRef(Xw(t)),n=g.useRef(!1),s=Fn(),r=g.useMemo(()=>Mq(s.search,n.current?null:e.current),[s.search]),i=Ot(),a=g.useCallback((l,c)=>{const u=Xw(typeof l=="function"?l(r):l);n.current=!0,i("?"+u,c)},[i,r]);return[r,a]}function Kq(t,e){e===void 0&&(e={});let n=g.useContext(Uq);n==null&&$t(!1);let{basename:s}=qq(Jw.useViewTransitionState),r=My(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=yu(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=yu(n.nextLocation.pathname,s)||n.nextLocation.pathname;return l0(r.pathname,a)!=null||l0(r.pathname,i)!=null}function M4(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=M4(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function O4(){for(var t,e,n=0,s="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=M4(t))&&(s&&(s+=" "),s+=e);return s}const DT="-",Wq=t=>{const e=Qq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(DT);return l[0]===""&&l.length!==1&&l.shift(),V4(l,e)||Yq(a)},getConflictingClassGroupIds:(a,l)=>{const c=n[a]||[];return l&&s[a]?[...c,...s[a]]:c}}},V4=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),r=s?V4(t.slice(1),s):void 0;if(r)return r;if(e.validators.length===0)return;const i=t.join(DT);return(a=e.validators.find(({validator:l})=>l(i)))==null?void 0:a.classGroupId},a2=/^\[(.+)\]$/,Yq=t=>{if(a2.test(t)){const e=a2.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Qq=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return Jq(Object.entries(t.classGroups),n).forEach(([i,a])=>{Zw(a,s,i,e)}),s},Zw=(t,e,n,s)=>{t.forEach(r=>{if(typeof r=="string"){const i=r===""?e:o2(e,r);i.classGroupId=n;return}if(typeof r=="function"){if(Xq(r)){Zw(r(s),e,n,s);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([i,a])=>{Zw(a,o2(e,i),n,s)})})},o2=(t,e)=>{let n=t;return e.split(DT).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Xq=t=>t.isThemeGetter,Jq=(t,e)=>e?t.map(([n,s])=>{const r=s.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([a,l])=>[e+a,l])):i);return[n,r]}):t,Zq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const r=(i,a)=>{n.set(i,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(i){let a=n.get(i);if(a!==void 0)return a;if((a=s.get(i))!==void 0)return r(i,a),a},set(i,a){n.has(i)?n.set(i,a):r(i,a)}}},L4="!",eH=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,r=e[0],i=e.length,a=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let v=l[_];if(u===0){if(v===r&&(s||l.slice(_,_+i)===e)){c.push(l.slice(d,_)),d=_+i;continue}if(v==="/"){h=_;continue}}v==="["?u++:v==="]"&&u--}const m=c.length===0?l:l.substring(d),p=m.startsWith(L4),y=p?m.substring(1):m,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}};return n?l=>n({className:l,parseClassName:a}):a},tH=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},nH=t=>({cache:Zq(t.cacheSize),parseClassName:eH(t),...Wq(t)}),sH=/\s+/,rH=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r}=e,i=[],a=t.trim().split(sH);let l="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:d,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:p}=n(u);let y=!!p,x=s(y?m.substring(0,p):m);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=s(m),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const _=tH(d).join(":"),v=h?_+L4:_,b=v+x;if(i.includes(b))continue;i.push(b);const E=r(x,y);for(let I=0;I<E.length;++I){const A=E[I];i.push(v+A)}l=u+(l.length>0?" "+l:l)}return l};function iH(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=U4(e))&&(s&&(s+=" "),s+=n);return s}const U4=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=U4(t[s]))&&(n&&(n+=" "),n+=e);return n};function aH(t,...e){let n,s,r,i=a;function a(c){const u=e.reduce((d,h)=>h(d),t());return n=nH(u),s=n.cache.get,r=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const d=rH(c,n);return r(c,d),d}return function(){return i(iH.apply(null,arguments))}}const wt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},F4=/^\[(?:([a-z-]+):)?(.+)\]$/i,oH=/^\d+\/\d+$/,lH=new Set(["px","full","screen"]),cH=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uH=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dH=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,hH=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fH=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ti=t=>qc(t)||lH.has(t)||oH.test(t),Xi=t=>nd(t,"length",wH),qc=t=>!!t&&!Number.isNaN(Number(t)),eb=t=>nd(t,"number",qc),$d=t=>!!t&&Number.isInteger(Number(t)),mH=t=>t.endsWith("%")&&qc(t.slice(0,-1)),Re=t=>F4.test(t),Ji=t=>cH.test(t),pH=new Set(["length","size","percentage"]),gH=t=>nd(t,pH,B4),yH=t=>nd(t,"position",B4),vH=new Set(["image","url"]),xH=t=>nd(t,vH,TH),bH=t=>nd(t,"",_H),qd=()=>!0,nd=(t,e,n)=>{const s=F4.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},wH=t=>uH.test(t)&&!dH.test(t),B4=()=>!1,_H=t=>hH.test(t),TH=t=>fH.test(t),EH=()=>{const t=wt("colors"),e=wt("spacing"),n=wt("blur"),s=wt("brightness"),r=wt("borderColor"),i=wt("borderRadius"),a=wt("borderSpacing"),l=wt("borderWidth"),c=wt("contrast"),u=wt("grayscale"),d=wt("hueRotate"),h=wt("invert"),m=wt("gap"),p=wt("gradientColorStops"),y=wt("gradientColorStopPositions"),x=wt("inset"),_=wt("margin"),v=wt("opacity"),b=wt("padding"),E=wt("saturate"),I=wt("scale"),A=wt("sepia"),R=wt("skew"),S=wt("space"),T=wt("translate"),C=()=>["auto","contain","none"],j=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",Re,e],M=()=>[Re,e],k=()=>["",ti,Xi],F=()=>["auto",qc,Re],X=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",Re],ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],re=()=>[qc,Re];return{cacheSize:500,separator:":",theme:{colors:[qd],spacing:[ti,Xi],blur:["none","",Ji,Re],brightness:re(),borderColor:[t],borderRadius:["none","","full",Ji,Re],borderSpacing:M(),borderWidth:k(),contrast:re(),grayscale:K(),hueRotate:re(),invert:K(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[mH,Xi],inset:P(),margin:P(),opacity:re(),padding:M(),saturate:re(),scale:re(),sepia:K(),skew:re(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Re]}],container:["container"],columns:[{columns:[Ji]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...X(),Re]}],overflow:[{overflow:j()}],"overflow-x":[{"overflow-x":j()}],"overflow-y":[{"overflow-y":j()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$d,Re]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Re]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",$d,Re]}],"grid-cols":[{"grid-cols":[qd]}],"col-start-end":[{col:["auto",{span:["full",$d,Re]},Re]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[qd]}],"row-start-end":[{row:["auto",{span:[$d,Re]},Re]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Re]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Re]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Re,e]}],"min-w":[{"min-w":[Re,e,"min","max","fit"]}],"max-w":[{"max-w":[Re,e,"none","full","min","max","fit","prose",{screen:[Ji]},Ji]}],h:[{h:[Re,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Re,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Re,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ji,Xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",eb]}],"font-family":[{font:[qd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Re]}],"line-clamp":[{"line-clamp":["none",qc,eb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ti,Re]}],"list-image":[{"list-image":["none",Re]}],"list-style-type":[{list:["none","disc","decimal",Re]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ti,Xi]}],"underline-offset":[{"underline-offset":["auto",ti,Re]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Re]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Re]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...X(),yH]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",gH]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},xH]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:U()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[ti,Re]}],"outline-w":[{outline:[ti,Xi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[ti,Xi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ji,bH]}],"shadow-color":[{shadow:[qd]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ji,Re]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Re]}],duration:[{duration:re()}],ease:[{ease:["linear","in","out","in-out",Re]}],delay:[{delay:re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Re]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[$d,Re]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Re]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Re]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Re]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ti,Xi,eb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},SH=aH(EH);function pe(...t){return SH(O4(t))}function Mn(t){const e=String(t??"").replace(/[^0-9.,-]/g,"").replace(/,/g,""),n=parseFloat(e);return Number.isFinite(n)?n:0}function ot(t,e="en-EG"){try{return new Intl.NumberFormat(e,{style:"currency",currency:"EGP",minimumFractionDigits:2}).format(Number(t||0))}catch{return`EGP ${Number(t||0).toFixed(2)}`}}const yf=t=>new Promise((e,n)=>{const s=new FileReader;s.readAsDataURL(t),s.onload=r=>{const i=new Image;i.src=r.target.result,i.onload=()=>{const a=document.createElement("canvas"),l=800,c=800;let u=i.width,d=i.height;u>d?u>l&&(d*=l/u,u=l):d>c&&(u*=c/d,d=c),a.width=u,a.height=d,a.getContext("2d").drawImage(i,0,0,u,d),e(a.toDataURL("image/jpeg",.7))},i.onerror=a=>n(a)},s.onerror=r=>n(r)});function he(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function l2(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fo(...t){return e=>{let n=!1;const s=t.map(r=>{const i=l2(r,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():l2(t[r],null)}}}}function gt(...t){return g.useCallback(fo(...t),t)}function NH(t,e){const n=g.createContext(e),s=i=>{const{children:a,...l}=i,c=g.useMemo(()=>l,Object.values(l));return o.jsx(n.Provider,{value:c,children:a})};s.displayName=t+"Provider";function r(i){const a=g.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,r]}function Kr(t,e=[]){let n=[];function s(i,a){const l=g.createContext(a),c=n.length;n=[...n,a];const u=h=>{var v;const{scope:m,children:p,...y}=h,x=((v=m==null?void 0:m[t])==null?void 0:v[c])||l,_=g.useMemo(()=>y,Object.values(y));return o.jsx(x.Provider,{value:_,children:p})};u.displayName=i+"Provider";function d(h,m){var x;const p=((x=m==null?void 0:m[t])==null?void 0:x[c])||l,y=g.useContext(p);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const r=()=>{const i=n.map(a=>g.createContext(a));return function(l){const c=(l==null?void 0:l[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return r.scopeName=t,[s,AH(r,...e)]}function AH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=s.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function c2(t){const e=IH(t),n=g.forwardRef((s,r)=>{const{children:i,...a}=s,l=g.Children.toArray(i),c=l.find(jH);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function IH(t){const e=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const a=PH(r),l=RH(i,r.props);return r.type!==g.Fragment&&(l.ref=s?fo(s,a):a),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var CH=Symbol("radix.slottable");function jH(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===CH}function RH(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function PH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Oy(t){const e=t+"CollectionProvider",[n,s]=Kr(e),[r,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=x=>{const{scope:_,children:v}=x,b=Bt.useRef(null),E=Bt.useRef(new Map).current;return o.jsx(r,{scope:_,itemMap:E,collectionRef:b,children:v})};a.displayName=e;const l=t+"CollectionSlot",c=c2(l),u=Bt.forwardRef((x,_)=>{const{scope:v,children:b}=x,E=i(l,v),I=gt(_,E.collectionRef);return o.jsx(c,{ref:I,children:b})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=c2(d),p=Bt.forwardRef((x,_)=>{const{scope:v,children:b,...E}=x,I=Bt.useRef(null),A=gt(_,I),R=i(d,v);return Bt.useEffect(()=>(R.itemMap.set(I,{ref:I,...E}),()=>void R.itemMap.delete(I))),o.jsx(m,{[h]:"",ref:A,children:b})});p.displayName=d;function y(x){const _=i(t+"CollectionConsumer",x);return Bt.useCallback(()=>{const b=_.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((R,S)=>E.indexOf(R.ref.current)-E.indexOf(S.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:a,Slot:u,ItemSlot:p},y,s]}function kH(t){const e=DH(t),n=g.forwardRef((s,r)=>{const{children:i,...a}=s,l=g.Children.toArray(i),c=l.find(OH);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function DH(t){const e=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const a=LH(r),l=VH(i,r.props);return r.type!==g.Fragment&&(l.ref=s?fo(s,a):a),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var MH=Symbol("radix.slottable");function OH(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===MH}function VH(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function LH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var UH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Le=UH.reduce((t,e)=>{const n=kH(`Primitive.${e}`),s=g.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function MT(t,e){t&&Yf.flushSync(()=>t.dispatchEvent(e))}function ks(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function FH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t);g.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var BH="DismissableLayer",e1="dismissableLayer.update",zH="dismissableLayer.pointerDownOutside",$H="dismissableLayer.focusOutside",u2,z4=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vy=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:a,onDismiss:l,...c}=t,u=g.useContext(z4),[d,h]=g.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=g.useState({}),y=gt(e,S=>h(S)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=x.indexOf(_),b=d?x.indexOf(d):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,I=b>=v,A=HH(S=>{const T=S.target,C=[...u.branches].some(j=>j.contains(T));!I||C||(r==null||r(S),a==null||a(S),S.defaultPrevented||l==null||l())},m),R=GH(S=>{const T=S.target;[...u.branches].some(j=>j.contains(T))||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},m);return FH(S=>{b===u.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},m),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(u2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),d2(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=u2)}},[d,m,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),d2())},[d,u]),g.useEffect(()=>{const S=()=>p({});return document.addEventListener(e1,S),()=>document.removeEventListener(e1,S)},[]),o.jsx(Le.div,{...c,ref:y,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:he(t.onFocusCapture,R.onFocusCapture),onBlurCapture:he(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:he(t.onPointerDownCapture,A.onPointerDownCapture)})});Vy.displayName=BH;var qH="DismissableLayerBranch",$4=g.forwardRef((t,e)=>{const n=g.useContext(z4),s=g.useRef(null),r=gt(e,s);return g.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),o.jsx(Le.div,{...t,ref:r})});$4.displayName=qH;function HH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),s=g.useRef(!1),r=g.useRef(()=>{});return g.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){q4(zH,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=c,e.addEventListener("click",r.current,{once:!0})):c()}else e.removeEventListener("click",r.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",i),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function GH(t,e=globalThis==null?void 0:globalThis.document){const n=ks(t),s=g.useRef(!1);return g.useEffect(()=>{const r=i=>{i.target&&!s.current&&q4($H,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function d2(){const t=new CustomEvent(e1);document.dispatchEvent(t)}function q4(t,e,n,{discrete:s}){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?MT(r,i):r.dispatchEvent(i)}var KH=Vy,WH=$4,Si=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},YH="Portal",Ly=g.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[r,i]=g.useState(!1);Si(()=>i(!0),[]);const a=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?vB.createPortal(o.jsx(Le.div,{...s,ref:e}),a):null});Ly.displayName=YH;function QH(t,e){return g.useReducer((n,s)=>e[n][s]??n,t)}var vr=t=>{const{present:e,children:n}=t,s=XH(e),r=typeof n=="function"?n({present:s.isPresent}):g.Children.only(n),i=gt(s.ref,JH(r));return typeof n=="function"||s.isPresent?g.cloneElement(r,{ref:i}):null};vr.displayName="Presence";function XH(t){const[e,n]=g.useState(),s=g.useRef(null),r=g.useRef(t),i=g.useRef("none"),a=t?"mounted":"unmounted",[l,c]=QH(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=gp(s.current);i.current=l==="mounted"?u:"none"},[l]),Si(()=>{const u=s.current,d=r.current;if(d!==t){const m=i.current,p=gp(u);t?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&m!==p?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,c]),Si(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const x=gp(s.current).includes(CSS.escape(p.animationName));if(p.target===e&&x&&(c("ANIMATION_END"),!r.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},m=p=>{p.target===e&&(i.current=gp(s.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:g.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function gp(t){return(t==null?void 0:t.animationName)||"none"}function JH(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ZH=my[" useInsertionEffect ".trim().toString()]||Si;function kl({prop:t,defaultProp:e,onChange:n=()=>{},caller:s}){const[r,i,a]=eG({defaultProp:e,onChange:n}),l=t!==void 0,c=l?t:r;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${s} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,s])}const u=g.useCallback(d=>{var h;if(l){const m=tG(d)?d(t):d;m!==t&&((h=a.current)==null||h.call(a,m))}else i(d)},[l,t,i,a]);return[c,u]}function eG({defaultProp:t,onChange:e}){const[n,s]=g.useState(t),r=g.useRef(n),i=g.useRef(e);return ZH(()=>{i.current=e},[e]),g.useEffect(()=>{var a;r.current!==n&&((a=i.current)==null||a.call(i,n),r.current=n)},[n,r]),[n,s,i]}function tG(t){return typeof t=="function"}var nG=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sG="VisuallyHidden",OT=g.forwardRef((t,e)=>o.jsx(Le.span,{...t,ref:e,style:{...nG,...t.style}}));OT.displayName=sG;var VT="ToastProvider",[LT,rG,iG]=Oy("Toast"),[H4,pme]=Kr("Toast",[iG]),[aG,Uy]=H4(VT),G4=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:a}=t,[l,c]=g.useState(null),[u,d]=g.useState(0),h=g.useRef(!1),m=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${VT}\`. Expected non-empty \`string\`.`),o.jsx(LT.Provider,{scope:e,children:o.jsx(aG,{scope:e,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:g.useCallback(()=>d(p=>p+1),[]),onToastRemove:g.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:m,children:a})})};G4.displayName=VT;var K4="ToastViewport",oG=["F8"],t1="toast.viewportPause",n1="toast.viewportResume",W4=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=oG,label:r="Notifications ({hotkey})",...i}=t,a=Uy(K4,n),l=rG(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),h=g.useRef(null),m=gt(e,h,a.onViewportChange),p=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=a.toastCount>0;g.useEffect(()=>{const _=v=>{var E;s.length!==0&&s.every(I=>v[I]||v.code===I)&&((E=h.current)==null||E.focus())};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),g.useEffect(()=>{const _=c.current,v=h.current;if(y&&_&&v){const b=()=>{if(!a.isClosePausedRef.current){const R=new CustomEvent(t1);v.dispatchEvent(R),a.isClosePausedRef.current=!0}},E=()=>{if(a.isClosePausedRef.current){const R=new CustomEvent(n1);v.dispatchEvent(R),a.isClosePausedRef.current=!1}},I=R=>{!_.contains(R.relatedTarget)&&E()},A=()=>{_.contains(document.activeElement)||E()};return _.addEventListener("focusin",b),_.addEventListener("focusout",I),_.addEventListener("pointermove",b),_.addEventListener("pointerleave",A),window.addEventListener("blur",b),window.addEventListener("focus",E),()=>{_.removeEventListener("focusin",b),_.removeEventListener("focusout",I),_.removeEventListener("pointermove",b),_.removeEventListener("pointerleave",A),window.removeEventListener("blur",b),window.removeEventListener("focus",E)}}},[y,a.isClosePausedRef]);const x=g.useCallback(({tabbingDirection:_})=>{const b=l().map(E=>{const I=E.ref.current,A=[I,...bG(I)];return _==="forwards"?A:A.reverse()});return(_==="forwards"?b.reverse():b).flat()},[l]);return g.useEffect(()=>{const _=h.current;if(_){const v=b=>{var A,R,S;const E=b.altKey||b.ctrlKey||b.metaKey;if(b.key==="Tab"&&!E){const T=document.activeElement,C=b.shiftKey;if(b.target===_&&C){(A=u.current)==null||A.focus();return}const M=x({tabbingDirection:C?"backwards":"forwards"}),k=M.findIndex(F=>F===T);tb(M.slice(k+1))?b.preventDefault():C?(R=u.current)==null||R.focus():(S=d.current)==null||S.focus()}};return _.addEventListener("keydown",v),()=>_.removeEventListener("keydown",v)}},[l,x]),o.jsxs(WH,{ref:c,role:"region","aria-label":r.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&o.jsx(s1,{ref:u,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});tb(_)}}),o.jsx(LT.Slot,{scope:n,children:o.jsx(Le.ol,{tabIndex:-1,...i,ref:m})}),y&&o.jsx(s1,{ref:d,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});tb(_)}})]})});W4.displayName=K4;var Y4="ToastFocusProxy",s1=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=t,i=Uy(Y4,n);return o.jsx(OT,{tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const l=a.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&s()}})});s1.displayName=Y4;var cm="Toast",lG="toast.swipeStart",cG="toast.swipeMove",uG="toast.swipeCancel",dG="toast.swipeEnd",Q4=g.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...a}=t,[l,c]=kl({prop:s,defaultProp:r??!0,onChange:i,caller:cm});return o.jsx(vr,{present:n||l,children:o.jsx(mG,{open:l,...a,ref:e,onClose:()=>c(!1),onPause:ks(t.onPause),onResume:ks(t.onResume),onSwipeStart:he(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:he(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});Q4.displayName=cm;var[hG,fG]=H4(cm,{onClose(){}}),mG=g.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:a,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:m,onSwipeEnd:p,...y}=t,x=Uy(cm,n),[_,v]=g.useState(null),b=gt(e,F=>v(F)),E=g.useRef(null),I=g.useRef(null),A=r||x.duration,R=g.useRef(0),S=g.useRef(A),T=g.useRef(0),{onToastAdd:C,onToastRemove:j}=x,P=ks(()=>{var X;(_==null?void 0:_.contains(document.activeElement))&&((X=x.viewport)==null||X.focus()),a()}),M=g.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),R.current=new Date().getTime(),T.current=window.setTimeout(P,F))},[P]);g.useEffect(()=>{const F=x.viewport;if(F){const X=()=>{M(S.current),u==null||u()},U=()=>{const H=new Date().getTime()-R.current;S.current=S.current-H,window.clearTimeout(T.current),c==null||c()};return F.addEventListener(t1,U),F.addEventListener(n1,X),()=>{F.removeEventListener(t1,U),F.removeEventListener(n1,X)}}},[x.viewport,A,c,u,M]),g.useEffect(()=>{i&&!x.isClosePausedRef.current&&M(A)},[i,A,x.isClosePausedRef,M]),g.useEffect(()=>(C(),()=>j()),[C,j]);const k=g.useMemo(()=>_?sO(_):null,[_]);return x.viewport?o.jsxs(o.Fragment,{children:[k&&o.jsx(pG,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:k}),o.jsx(hG,{scope:n,onClose:P,children:Yf.createPortal(o.jsx(LT.ItemSlot,{scope:n,children:o.jsx(KH,{asChild:!0,onEscapeKeyDown:he(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(Le.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:b,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:he(t.onKeyDown,F=>{F.key==="Escape"&&(l==null||l(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:he(t.onPointerDown,F=>{F.button===0&&(E.current={x:F.clientX,y:F.clientY})}),onPointerMove:he(t.onPointerMove,F=>{if(!E.current)return;const X=F.clientX-E.current.x,U=F.clientY-E.current.y,H=!!I.current,$=["left","right"].includes(x.swipeDirection),K=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ee=$?K(0,X):0,re=$?0:K(0,U),ge=F.pointerType==="touch"?10:2,nt={x:ee,y:re},O={originalEvent:F,delta:nt};H?(I.current=nt,yp(cG,h,O,{discrete:!1})):h2(nt,x.swipeDirection,ge)?(I.current=nt,yp(lG,d,O,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>ge||Math.abs(U)>ge)&&(E.current=null)}),onPointerUp:he(t.onPointerUp,F=>{const X=I.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),I.current=null,E.current=null,X){const H=F.currentTarget,$={originalEvent:F,delta:X};h2(X,x.swipeDirection,x.swipeThreshold)?yp(dG,p,$,{discrete:!0}):yp(uG,m,$,{discrete:!0}),H.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),pG=t=>{const{__scopeToast:e,children:n,...s}=t,r=Uy(cm,e),[i,a]=g.useState(!1),[l,c]=g.useState(!1);return vG(()=>a(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:o.jsx(Ly,{asChild:!0,children:o.jsx(OT,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},gG="ToastTitle",X4=g.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Le.div,{...s,ref:e})});X4.displayName=gG;var yG="ToastDescription",J4=g.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return o.jsx(Le.div,{...s,ref:e})});J4.displayName=yG;var Z4="ToastAction",eO=g.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?o.jsx(nO,{altText:n,asChild:!0,children:o.jsx(UT,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Z4}\`. Expected non-empty \`string\`.`),null)});eO.displayName=Z4;var tO="ToastClose",UT=g.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,r=fG(tO,n);return o.jsx(nO,{asChild:!0,children:o.jsx(Le.button,{type:"button",...s,ref:e,onClick:he(t.onClick,r.onClose)})})});UT.displayName=tO;var nO=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...r}=t;return o.jsx(Le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:e})});function sO(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),xG(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...sO(s))}}),e}function yp(t,e,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),s?MT(r,i):r.dispatchEvent(i)}var h2=(t,e,n=0)=>{const s=Math.abs(t.x),r=Math.abs(t.y),i=s>r;return e==="left"||e==="right"?i&&s>n:!i&&r>n};function vG(t=()=>{}){const e=ks(t);Si(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function xG(t){return t.nodeType===t.ELEMENT_NODE}function bG(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function tb(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var wG=G4,rO=W4,iO=Q4,aO=X4,oO=J4,lO=eO,cO=UT;const f2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,m2=O4,um=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return m2(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:i}=e,a=Object.keys(r).map(u=>{const d=n==null?void 0:n[u],h=i==null?void 0:i[u];if(d===null)return null;const m=f2(d)||f2(h);return r[u][m]}),l=n&&Object.entries(n).reduce((u,d)=>{let[h,m]=d;return m===void 0||(u[h]=m),u},{}),c=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:h,className:m,...p}=d;return Object.entries(p).every(y=>{let[x,_]=y;return Array.isArray(_)?_.includes({...i,...l}[x]):{...i,...l}[x]===_})?[...u,h,m]:u},[]);return m2(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uO=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:i,iconNode:a,...l},c)=>g.createElement("svg",{ref:c,...TG,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:uO("lucide",r),...l},[...a.map(([u,d])=>g.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=(t,e)=>{const n=g.forwardRef(({className:s,...r},i)=>g.createElement(EG,{ref:i,iconNode:e,className:uO(`lucide-${_G(t)}`,s),...r}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=ne("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=ne("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=ne("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=ne("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=ne("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IG=ne("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=ne("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ne("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=ne("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ne("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ne("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=ne("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=ne("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=ne("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=ne("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=ne("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=ne("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=ne("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ne("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ne("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=ne("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=ne("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=ne("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=ne("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=ne("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ne("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=ne("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xf=ne("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=ne("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=ne("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=ne("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ne("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=ne("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=ne("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=ne("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=ne("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=ne("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=ne("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=ne("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=ne("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=ne("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FG=ne("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=ne("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=ne("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=ne("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=ne("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=ne("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=ne("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=ne("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=ne("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ne("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ne("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=ne("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $G=ne("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=ne("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=ne("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=ne("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ne("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=ne("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=ne("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=ne("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=ne("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qG=ne("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=ne("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=ne("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=ne("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=ne("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HG=ne("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=ne("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=ne("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KG=ne("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=ne("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=ne("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=ne("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=ne("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),QG=wG,gO=Bt.forwardRef(({className:t,...e},n)=>o.jsx(rO,{ref:n,className:pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));gO.displayName=rO.displayName;const XG=um("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground",success:"group border-teal-600 bg-teal-600 text-white"}},defaultVariants:{variant:"default"}}),yO=Bt.forwardRef(({className:t,variant:e,...n},s)=>o.jsx(iO,{ref:s,className:pe(XG({variant:e}),t),...n}));yO.displayName=iO.displayName;const JG=Bt.forwardRef(({className:t,...e},n)=>o.jsx(lO,{ref:n,className:pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));JG.displayName=lO.displayName;const vO=Bt.forwardRef(({className:t,...e},n)=>o.jsx(cO,{ref:n,className:pe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsx(Ni,{className:"h-4 w-4"})}));vO.displayName=cO.displayName;const xO=Bt.forwardRef(({className:t,...e},n)=>o.jsx(aO,{ref:n,className:pe("text-sm font-semibold",t),...e}));xO.displayName=aO.displayName;const bO=Bt.forwardRef(({className:t,...e},n)=>o.jsx(oO,{ref:n,className:pe("text-sm opacity-90",t),...e}));bO.displayName=oO.displayName;const ZG=1;let rb=0;function eK(){return rb=(rb+1)%Number.MAX_VALUE,rb.toString()}const $n={state:{toasts:[]},listeners:[],getState:()=>$n.state,setState:t=>{typeof t=="function"?$n.state=t($n.state):$n.state={...$n.state,...t},$n.listeners.forEach(e=>e($n.state))},subscribe:t=>($n.listeners.push(t),()=>{$n.listeners=$n.listeners.filter(e=>e!==t)})},tK=({...t})=>{const e=eK(),n=r=>$n.setState(i=>({...i,toasts:i.toasts.map(a=>a.id===e?{...a,...r}:a)})),s=()=>$n.setState(r=>({...r,toasts:r.toasts.filter(i=>i.id!==e)}));return $n.setState(r=>({...r,toasts:[{...t,id:e,dismiss:s},...r.toasts].slice(0,ZG)})),{id:e,dismiss:s,update:n}};function qt(){const[t,e]=g.useState($n.getState());return g.useEffect(()=>$n.subscribe(s=>{e(s)}),[]),g.useEffect(()=>{const n=[];return t.toasts.forEach(s=>{if(s.duration===1/0)return;const r=setTimeout(()=>{s.dismiss()},s.duration||5e3);n.push(r)}),()=>{n.forEach(s=>clearTimeout(s))}},[t.toasts]),{toast:tK,toasts:t.toasts}}function nK(){const{toasts:t}=qt();return o.jsxs(QG,{children:[t.map(({id:e,title:n,description:s,action:r,dismiss:i,...a})=>o.jsxs(yO,{...a,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(xO,{children:n}),s&&o.jsx(bO,{children:s})]}),r,o.jsx(vO,{})]},e)),o.jsx(gO,{})]})}const sK=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},rK=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],a=t[n++],l=t[n++],c=((r&7)<<18|(i&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],a=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|a&63)}}return e.join("")},_O={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],a=r+1<t.length,l=a?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=i>>2,h=(i&3)<<4|l>>4;let m=(l&15)<<2|u>>6,p=u&63;c||(p=64,a||(m=64)),s.push(n[d],n[h],n[m],n[p])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rK(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],l=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||l==null||u==null||h==null)throw new iK;const m=i<<2|l>>4;if(s.push(m),u!==64){const p=l<<4&240|u>>2;if(s.push(p),h!==64){const y=u<<6&192|h;s.push(y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aK=function(t){const e=wO(t);return _O.encodeByteArray(e,!0)},m0=function(t){return aK(t).replace(/\./g,"")},TO=function(t){try{return _O.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oK=()=>EO().__FIREBASE_DEFAULTS__,lK=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cK=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TO(t[1]);return e&&JSON.parse(e)},zy=()=>{try{return sK()||oK()||lK()||cK()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SO=t=>{var e,n;return(n=(e=zy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},NO=t=>{const e=SO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},AO=()=>{var t;return(t=zy())==null?void 0:t.config},IO=t=>{var e;return(e=zy())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uK{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $y(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t},l="";return[m0(JSON.stringify(n)),m0(JSON.stringify(a)),l].join(".")}const jh={};function dK(){const t={prod:[],emulator:[]};for(const e of Object.keys(jh))jh[e]?t.emulator.push(e):t.prod.push(e);return t}function hK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let N2=!1;function YT(t,e){if(typeof window>"u"||typeof document>"u"||!Li(window.location.host)||jh[t]===e||jh[t]||N2)return;jh[t]=e;function n(m){return`__firebase__banner__${m}`}const s="__firebase__banner",i=dK().prod.length>0;function a(){const m=document.getElementById(s);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{N2=!0,a()},m}function d(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=hK(s),p=n("text"),y=document.getElementById(p)||document.createElement("span"),x=n("learnmore"),_=document.getElementById(x)||document.createElement("a"),v=n("preprendIcon"),b=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;l(E),d(_,x);const I=u();c(b,v),E.append(b,y,_,I),document.body.appendChild(E)}i?(y.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function jO(){var e;const t=(e=zy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gK(){const t=dn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RO(){return!jO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PO(){return!jO()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function qy(){try{return typeof indexedDB=="object"}catch{return!1}}function XT(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function kO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK="FirebaseError";class Vs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=yK,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dl.prototype.create)}}class Dl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?vK(i,s):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new Vs(r,l,s)}}function vK(t,e){return t.replace(xK,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const xK=/\{\$([^}]+)}/g;function bK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ai(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],a=e[r];if(A2(i)&&A2(a)){if(!Ai(i,a))return!1}else if(i!==a)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function A2(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[r,i]=s.split("=");e[decodeURIComponent(r)]=decodeURIComponent(i)}}),e}function rh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wK(t,e){const n=new _K(t,e);return n.subscribe.bind(n)}class _K{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");TK(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=ib),r.error===void 0&&(r.error=ib),r.complete===void 0&&(r.complete=ib);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ib(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EK=1e3,SK=2,NK=4*60*60*1e3,AK=.5;function I2(t,e=EK,n=SK){const s=e*Math.pow(n,t),r=Math.round(AK*s*(Math.random()-.5)*2);return Math.min(NK,s+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class Ds{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IK{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new uK;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jK(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);s===l&&a.resolve(r)}return r}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const i=this.instances.get(s);return i&&e(i,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:CK(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CK(t){return t===Ro?void 0:t}function jK(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const PK={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},kK=Me.INFO,DK={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MK=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=DK[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hm{constructor(e){this.name=e,this._logLevel=kK,this._logHandler=MK,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const OK=(t,e)=>e.some(n=>t instanceof n);let C2,j2;function VK(){return C2||(C2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LK(){return j2||(j2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DO=new WeakMap,c1=new WeakMap,MO=new WeakMap,ab=new WeakMap,JT=new WeakMap;function UK(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",a)},i=()=>{n(Va(t.result)),r()},a=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&DO.set(n,t)}).catch(()=>{}),JT.set(e,t),e}function FK(t){if(c1.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",a),t.removeEventListener("abort",a)},i=()=>{n(),r()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",a),t.addEventListener("abort",a)});c1.set(t,e)}let u1={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return c1.get(t);if(e==="objectStoreNames")return t.objectStoreNames||MO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Va(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BK(t){u1=t(u1)}function zK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(ob(this),e,...n);return MO.set(s,e.sort?e.sort():[e]),Va(s)}:LK().includes(t)?function(...e){return t.apply(ob(this),e),Va(DO.get(this))}:function(...e){return Va(t.apply(ob(this),e))}}function $K(t){return typeof t=="function"?zK(t):(t instanceof IDBTransaction&&FK(t),OK(t,VK())?new Proxy(t,u1):t)}function Va(t){if(t instanceof IDBRequest)return UK(t);if(ab.has(t))return ab.get(t);const e=$K(t);return e!==t&&(ab.set(t,e),JT.set(e,t)),e}const ob=t=>JT.get(t);function OO(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const a=indexedDB.open(t,e),l=Va(a);return s&&a.addEventListener("upgradeneeded",c=>{s(Va(a.result),c.oldVersion,c.newVersion,Va(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const qK=["get","getKey","getAll","getAllKeys","count"],HK=["put","add","delete","clear"],lb=new Map;function R2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lb.get(e))return lb.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=HK.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||qK.includes(n)))return;const i=async function(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return s&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),r&&c.done]))[0]};return lb.set(e,i),i}BK(t=>({...t,get:(e,n,s)=>R2(e,n)||t.get(e,n,s),has:(e,n)=>!!R2(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(KK(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function KK(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const d1="@firebase/app",P2="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new hm("@firebase/app"),WK="@firebase/app-compat",YK="@firebase/analytics-compat",QK="@firebase/analytics",XK="@firebase/app-check-compat",JK="@firebase/app-check",ZK="@firebase/auth",eW="@firebase/auth-compat",tW="@firebase/database",nW="@firebase/data-connect",sW="@firebase/database-compat",rW="@firebase/functions",iW="@firebase/functions-compat",aW="@firebase/installations",oW="@firebase/installations-compat",lW="@firebase/messaging",cW="@firebase/messaging-compat",uW="@firebase/performance",dW="@firebase/performance-compat",hW="@firebase/remote-config",fW="@firebase/remote-config-compat",mW="@firebase/storage",pW="@firebase/storage-compat",gW="@firebase/firestore",yW="@firebase/ai",vW="@firebase/firestore-compat",xW="firebase",bW="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="[DEFAULT]",wW={[d1]:"fire-core",[WK]:"fire-core-compat",[QK]:"fire-analytics",[YK]:"fire-analytics-compat",[JK]:"fire-app-check",[XK]:"fire-app-check-compat",[ZK]:"fire-auth",[eW]:"fire-auth-compat",[tW]:"fire-rtdb",[nW]:"fire-data-connect",[sW]:"fire-rtdb-compat",[rW]:"fire-fn",[iW]:"fire-fn-compat",[aW]:"fire-iid",[oW]:"fire-iid-compat",[lW]:"fire-fcm",[cW]:"fire-fcm-compat",[uW]:"fire-perf",[dW]:"fire-perf-compat",[hW]:"fire-rc",[fW]:"fire-rc-compat",[mW]:"fire-gcs",[pW]:"fire-gcs-compat",[gW]:"fire-fst",[vW]:"fire-fst-compat",[yW]:"fire-vertex","fire-js":"fire-js",[xW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map,_W=new Map,f1=new Map;function k2(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nr(t){const e=t.name;if(f1.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;f1.set(e,t);for(const n of p0.values())k2(n,t);for(const n of _W.values())k2(n,t);return!0}function Ui(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function os(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},La=new Dl("app","Firebase",TW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw La.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=bW;function VO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:h1,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw La.create("bad-app-name",{appName:String(r)});if(n||(n=AO()),!n)throw La.create("no-options");const i=p0.get(r);if(i){if(Ai(n,i.options)&&Ai(s,i.config))return i;throw La.create("duplicate-app",{appName:r})}const a=new RK(r);for(const c of f1.values())a.addComponent(c);const l=new EW(n,s,a);return p0.set(r,l),l}function Hy(t=h1){const e=p0.get(t);if(!e&&t===h1&&AO())return VO();if(!e)throw La.create("no-app",{appName:t});return e}function Ln(t,e,n){let s=wW[t]??t;n&&(s+=`-${n}`);const r=s.match(/\s|\//),i=e.match(/\s|\//);if(r||i){const a=[`Unable to register library "${s}" with version "${e}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(a.join(" "));return}nr(new Ds(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SW="firebase-heartbeat-database",NW=1,wf="firebase-heartbeat-store";let cb=null;function LO(){return cb||(cb=OO(SW,NW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wf)}catch(n){console.warn(n)}}}}).catch(t=>{throw La.create("idb-open",{originalErrorMessage:t.message})})),cb}async function AW(t){try{const n=(await LO()).transaction(wf),s=await n.objectStore(wf).get(UO(t));return await n.done,s}catch(e){if(e instanceof Vs)Ii.warn(e.message);else{const n=La.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ii.warn(n.message)}}}async function D2(t,e){try{const s=(await LO()).transaction(wf,"readwrite");await s.objectStore(wf).put(e,UO(t)),await s.done}catch(n){if(n instanceof Vs)Ii.warn(n.message);else{const s=La.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ii.warn(s.message)}}}function UO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IW=1024,CW=30;class jW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PW(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=M2();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats.length>CW){const a=kW(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ii.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=M2(),{heartbeatsToSend:s,unsentEntries:r}=RW(this._heartbeatsCache.heartbeats),i=m0(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Ii.warn(n),""}}}function M2(){return new Date().toISOString().substring(0,10)}function RW(t,e=IW){const n=[];let s=t.slice();for(const r of t){const i=n.find(a=>a.agent===r.agent);if(i){if(i.dates.push(r.date),O2(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),O2(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class PW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qy()?XT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return D2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function O2(t){return m0(JSON.stringify({version:2,heartbeats:t})).length}function kW(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t){nr(new Ds("platform-logger",e=>new GK(e),"PRIVATE")),nr(new Ds("heartbeat",e=>new jW(e),"PRIVATE")),Ln(d1,P2,t),Ln(d1,P2,"esm2020"),Ln("fire-js","")}DW("");var MW="firebase",OW="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(MW,OW,"app");function FO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const VW=FO,BO=new Dl("auth","Firebase",FO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new hm("@firebase/auth");function LW(t,...e){g0.logLevel<=Me.WARN&&g0.warn(`Auth (${mo}): ${t}`,...e)}function ng(t,...e){g0.logLevel<=Me.ERROR&&g0.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(t,...e){throw ZT(t,...e)}function kr(t,...e){return ZT(t,...e)}function zO(t,e,n){const s={...VW(),[e]:n};return new Dl("auth","Firebase",s).create(e,{appName:t.name})}function gi(t){return zO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZT(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return BO.create(t,...e)}function we(t,e,...n){if(!t)throw ZT(e,...n)}function ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ng(e),new Error(e)}function Ci(t,e){t||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function UW(){return V2()==="http:"||V2()==="https:"}function V2(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UW()||QT()||"connection"in navigator)?navigator.onLine:!0}function BW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ci(n>e,"Short delay should be less than long delay!"),this.isMobile=fK()||pK()}get(){return FW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t,e){Ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $W=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qW=new fm(3e4,6e4);function po(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Fi(t,e,n,s,r={}){return qO(t,r,async()=>{let i={},a={};s&&(e==="GET"?a=s:i={body:JSON.stringify(s)});const l=dm({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...i};return mK()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Li(t.emulatorConfig.host)&&(u.credentials="include"),$O.fetch()(await HO(t,t.config.apiHost,n,l),u)})}async function qO(t,e,n){t._canInitEmulator=!1;const s={...zW,...e};try{const r=new GW(t),i=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw vp(t,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const l=i.ok?a.errorMessage:a.error.message,[c,u]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw vp(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw vp(t,"user-disabled",a);const d=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zO(t,d,u);mr(t,d)}}catch(r){if(r instanceof Vs)throw r;mr(t,"network-request-failed",{message:String(r)})}}async function mm(t,e,n,s,r={}){const i=await Fi(t,e,n,s,r);return"mfaPendingCredential"in i&&mr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HO(t,e,n,s){const r=`${e}${n}?${s}`,i=t,a=i.config.emulator?eE(t.config,r):`${t.config.apiScheme}://${r}`;return $W.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(a).toString():a}function HW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GW{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(kr(this.auth,"network-request-failed")),qW.get())})}}function vp(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=kr(t,e,s);return r.customData._tokenResponse=n,r}function L2(t){return t!==void 0&&t.enterprise!==void 0}class KW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WW(t,e){return Fi(t,"GET","/v2/recaptchaConfig",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e){return Fi(t,"POST","/v1/accounts:delete",e)}async function y0(t,e){return Fi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function QW(t,e=!1){const n=dt(t),s=await n.getIdToken(e),r=tE(s);we(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const i=typeof r.firebase=="object"?r.firebase:void 0,a=i==null?void 0:i.sign_in_provider;return{claims:r,token:s,authTime:Rh(ub(r.auth_time)),issuedAtTime:Rh(ub(r.iat)),expirationTime:Rh(ub(r.exp)),signInProvider:a||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function ub(t){return Number(t)*1e3}function tE(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const r=TO(n);return r?JSON.parse(r):(ng("Failed to decode base64 JWT payload"),null)}catch(r){return ng("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function U2(t){const e=tE(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Vs&&XW(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function XW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rh(this.lastLoginAt),this.creationTime=Rh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v0(t){var h;const e=t.auth,n=await t.getIdToken(),s=await wu(t,y0(e,{idToken:n}));we(s==null?void 0:s.users.length,e,"internal-error");const r=s.users[0];t._notifyReloadListener(r);const i=(h=r.providerUserInfo)!=null&&h.length?GO(r.providerUserInfo):[],a=eY(t.providerData,i),l=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new p1(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function ZW(t){const e=dt(t);await v0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eY(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function GO(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tY(t,e){const n=await qO(t,{},async()=>{const s=dm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,a=await HO(t,r,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Li(t.emulatorConfig.host)&&(c.credentials="include"),$O.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nY(t,e){return Fi(t,"POST","/v2/accounts:revokeToken",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=U2(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:i}=await tY(e,n);this.updateTokensAndExpiration(s,r,Number(i))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:i}=n,a=new Wc;return s&&(we(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),r&&(we(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),i&&(we(typeof i=="number","internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wc,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hr{constructor({uid:e,auth:n,stsTokenManager:s,...r}){this.providerId="firebase",this.proactiveRefresh=new JW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new p1(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await wu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return QW(this,e)}reload(){return ZW(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await v0(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(os(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await wu(this,YW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,r=n.email??void 0,i=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:p,providerData:y,stsTokenManager:x}=n;we(h&&x,e,"internal-error");const _=Wc.fromJSON(this.name,x);we(typeof h=="string",e,"internal-error"),Zi(s,e.name),Zi(r,e.name),we(typeof m=="boolean",e,"internal-error"),we(typeof p=="boolean",e,"internal-error"),Zi(i,e.name),Zi(a,e.name),Zi(l,e.name),Zi(c,e.name),Zi(u,e.name),Zi(d,e.name);const v=new hr({uid:h,auth:e,email:r,emailVerified:m,displayName:s,isAnonymous:p,photoURL:a,phoneNumber:i,tenantId:l,stsTokenManager:_,createdAt:u,lastLoginAt:d});return y&&Array.isArray(y)&&(v.providerData=y.map(b=>({...b}))),c&&(v._redirectEventId=c),v}static async _fromIdTokenResponse(e,n,s=!1){const r=new Wc;r.updateFromServerResponse(n);const i=new hr({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await v0(i),i}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];we(r.localId!==void 0,"internal-error");const i=r.providerUserInfo!==void 0?GO(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(i!=null&&i.length),l=new Wc;l.updateFromIdToken(s);const c=new hr({uid:r.localId,auth:e,stsTokenManager:l,isAnonymous:a}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new p1(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=new Map;function di(t){Ci(t instanceof Function,"Expected a class definition");let e=F2.get(t);return e?(Ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,F2.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}KO.type="NONE";const B2=KO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t,e,n){return`firebase:${t}:${e}:${n}`}class Yc{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:i}=this.auth;this.fullUserKey=sg(this.userKey,r.apiKey,i),this.fullPersistenceKey=sg("persistence",r.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await y0(this.auth,{idToken:e}).catch(()=>{});return n?hr._fromGetAccountInfoResponse(this.auth,n,e):null}return hr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Yc(di(B2),e,s);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=r[0]||di(B2);const a=sg(s,e.config.apiKey,e.name);let l=null;for(const u of n)try{const d=await u._get(a);if(d){let h;if(typeof d=="string"){const m=await y0(e,{idToken:d}).catch(()=>{});if(!m)break;h=await hr._fromGetAccountInfoResponse(e,m,d)}else h=hr._fromJSON(e,d);u!==i&&(l=h),i=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Yc(i,e,s):(i=c[0],l&&await i._set(a,l.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(a)}catch{}})),new Yc(i,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(XO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZO(e))return"Blackberry";if(eV(e))return"Webos";if(YO(e))return"Safari";if((e.includes("chrome/")||QO(e))&&!e.includes("edge/"))return"Chrome";if(JO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function WO(t=dn()){return/firefox\//i.test(t)}function YO(t=dn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QO(t=dn()){return/crios\//i.test(t)}function XO(t=dn()){return/iemobile/i.test(t)}function JO(t=dn()){return/android/i.test(t)}function ZO(t=dn()){return/blackberry/i.test(t)}function eV(t=dn()){return/webos/i.test(t)}function nE(t=dn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sY(t=dn()){var e;return nE(t)&&!!((e=window.navigator)!=null&&e.standalone)}function rY(){return gK()&&document.documentMode===10}function tV(t=dn()){return nE(t)||JO(t)||eV(t)||ZO(t)||/windows phone/i.test(t)||XO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(t,e=[]){let n;switch(t){case"Browser":n=z2(dn());break;case"Worker":n=`${z2(dn())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iY{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=i=>new Promise((a,l)=>{try{const c=e(i);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aY(t,e={}){return Fi(t,"GET","/v2/passwordPolicy",po(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oY=6;class lY{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oY,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cY{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $2(this),this.idTokenSubscription=new $2(this),this.beforeStateQueue=new iY(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=di(n)),this._initializationPromise=this.queue(async()=>{var s,r,i;if(!this._deleted&&(this.persistenceManager=await Yc.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await y0(this,{idToken:e}),s=await hr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(os(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(i=this.redirectUser)==null?void 0:i._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await v0(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(os(this.app))return Promise.reject(gi(this));const n=e?dt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return os(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return os(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aY(this),n=new lY(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nY(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&di(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Yc.create(this,[di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(l,this,"internal-error"),l.then(()=>{a||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nV(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&LW(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ml(t){return dt(t)}class $2{constructor(e){this.auth=e,this.observer=null,this.addObserver=wK(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uY(t){Gy=t}function sV(t){return Gy.loadJS(t)}function dY(){return Gy.recaptchaEnterpriseScript}function hY(){return Gy.gapiScript}function fY(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mY{constructor(){this.enterprise=new pY}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pY{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gY="recaptcha-enterprise",rV="NO_RECAPTCHA";class yY{constructor(e){this.type=gY,this.auth=Ml(e)}async verify(e="verify",n=!1){async function s(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(a,l)=>{WW(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const u=new KW(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,a(u.siteKey)}}).catch(c=>{l(c)})})}function r(i,a,l){const c=window.grecaptcha;L2(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{a(u)}).catch(()=>{a(rV)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mY().execute("siteKey",{action:"verify"}):new Promise((i,a)=>{s(this.auth).then(l=>{if(!n&&L2(window.grecaptcha))r(l,i,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dY();c.length!==0&&(c+=l),sV(c).then(()=>{r(l,i,a)}).catch(u=>{a(u)})}}).catch(l=>{a(l)})})}}async function Hd(t,e,n,s=!1,r=!1){const i=new yY(t);let a;if(r)a=rV;else try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,u=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function g1(t,e,n,s,r){var i,a;if(r==="EMAIL_PASSWORD_PROVIDER")if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Hd(t,e,n,n==="getOobCode");return s(t,l)}else return s(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hd(t,e,n,n==="getOobCode");return s(t,c)}else return Promise.reject(l)});else if(r==="PHONE_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const l=await Hd(t,e,n);return s(t,l).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await Hd(t,e,n,!1,!0);return s(t,d)}return Promise.reject(c)})}else{const l=await Hd(t,e,n,!1,!0);return s(t,l)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vY(t,e){const n=Ui(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),i=n.getOptions();if(Ai(i,e??{}))return r;mr(r,"already-initialized")}return n.initialize({options:e})}function xY(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bY(t,e,n){const s=Ml(t);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),i=iV(e),{host:a,port:l}=wY(e),c=l===null?"":`:${l}`,u={url:`${i}//${a}${c}/`},d=Object.freeze({host:a,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Ai(u,s.config.emulator)&&Ai(d,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=u,s.emulatorConfig=d,s.settings.appVerificationDisabledForTesting=!0,Li(a)?($y(`${i}//${a}${c}`),YT("Auth",!0)):r||_Y()}function iV(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wY(t){const e=iV(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(s);if(r){const i=r[1];return{host:i,port:q2(s.substr(i.length+1))}}else{const[i,a]=s.split(":");return{host:i,port:q2(a)}}}function q2(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function _Y(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,n){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}async function TY(t,e){return Fi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EY(t,e){return mm(t,"POST","/v1/accounts:signInWithPassword",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SY(t,e){return mm(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}async function NY(t,e){return mm(t,"POST","/v1/accounts:signInWithEmailLink",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends sE{constructor(e,n,s,r=null){super("password",s),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new _f(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new _f(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g1(e,n,"signInWithPassword",EY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return SY(e,{email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return g1(e,s,"signUpPassword",TY,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return NY(e,{idToken:n,email:this._email,oobCode:this._password});default:mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e){return mm(t,"POST","/v1/accounts:signInWithIdp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AY="http://localhost";class ul extends sE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:r,...i}=n;if(!s||!r)return null;const a=new ul(s,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Qc(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Qc(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Qc(e,n)}buildRequest(){const e={requestUri:AY,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IY(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CY(t){const e=sh(rh(t)).link,n=e?sh(rh(e)).deep_link_id:null,s=sh(rh(t)).deep_link_id;return(s?sh(rh(s)).link:null)||s||n||e||t}class rE{constructor(e){const n=sh(rh(e)),s=n.apiKey??null,r=n.oobCode??null,i=IY(n.mode??null);we(s&&r&&i,"argument-error"),this.apiKey=s,this.operation=i,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=CY(e);try{return new rE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.providerId=id.PROVIDER_ID}static credential(e,n){return _f._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=rE.parseLink(n);return we(s,"argument-error"),_f._fromEmailAndCode(e,s.code,s.tenantId)}}id.PROVIDER_ID="password";id.EMAIL_PASSWORD_SIGN_IN_METHOD="password";id.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm extends aV{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma extends pm{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:ma.PROVIDER_ID,signInMethod:ma.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ma.credentialFromTaggedObject(e)}static credentialFromError(e){return ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ma.credential(e.oauthAccessToken)}catch{return null}}}ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends pm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ul._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return pa.credential(n,s)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga extends pm{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:ga.PROVIDER_ID,signInMethod:ga.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ga.credentialFromTaggedObject(e)}static credentialFromError(e){return ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ga.credential(e.oauthAccessToken)}catch{return null}}}ga.GITHUB_SIGN_IN_METHOD="github.com";ga.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya extends pm{constructor(){super("twitter.com")}static credential(e,n){return ul._fromParams({providerId:ya.PROVIDER_ID,signInMethod:ya.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ya.credentialFromTaggedObject(e)}static credentialFromError(e){return ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ya.credential(n,s)}catch{return null}}}ya.TWITTER_SIGN_IN_METHOD="twitter.com";ya.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jY(t,e){return mm(t,"POST","/v1/accounts:signUp",po(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,r=!1){const i=await hr._fromIdTokenResponse(e,s,r),a=H2(s);return new dl({user:i,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const r=H2(s);return new dl({user:e,providerId:r,_tokenResponse:s,operationType:n})}}function H2(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends Vs{constructor(e,n,s,r){super(n.code,n.message),this.operationType=s,this.user=r,Object.setPrototypeOf(this,x0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,r){return new x0(e,n,s,r)}}function oV(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?x0._fromErrorAndOperation(t,i,e,s):i})}async function RY(t,e,n=!1){const s=await wu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return dl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PY(t,e,n=!1){const{auth:s}=t;if(os(s.app))return Promise.reject(gi(s));const r="reauthenticate";try{const i=await wu(t,oV(s,r,e,t),n);we(i.idToken,s,"internal-error");const a=tE(i.idToken);we(a,s,"internal-error");const{sub:l}=a;return we(t.uid===l,s,"user-mismatch"),dl._forOperation(t,r,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&mr(s,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e,n=!1){if(os(t.app))return Promise.reject(gi(t));const s="signIn",r=await oV(t,s,e),i=await dl._fromIdTokenResponse(t,s,r);return n||await t._updateCurrentUser(i.user),i}async function kY(t,e){return lV(Ml(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cV(t){const e=Ml(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DY(t,e,n){if(os(t.app))return Promise.reject(gi(t));const s=Ml(t),a=await g1(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jY,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&cV(t),c}),l=await dl._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function uV(t,e,n){return os(t.app)?Promise.reject(gi(t)):kY(dt(t),id.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&cV(t),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MY(t,e){return Fi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OY(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=dt(t),i={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await wu(s,MY(s.auth,i));s.displayName=a.displayName||null,s.photoURL=a.photoUrl||null;const l=s.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(a)}function VY(t,e,n,s){return dt(t).onIdTokenChanged(e,n,s)}function LY(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Bi(t,e,n,s){return dt(t).onAuthStateChanged(e,n,s)}function iE(t){return dt(t).signOut()}const b0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(b0,"1"),this.storage.removeItem(b0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=1e3,FY=10;class hV extends dV{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),r=this.localCache[n];s!==r&&e(n,r,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},i=this.storage.getItem(s);rY()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,FY):r()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},UY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hV.type="LOCAL";const BY=hV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV extends dV{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fV.type="SESSION";const mV=fV;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const s=new Ky(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:r,data:i}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});const l=Array.from(a).map(async u=>u(n.origin,i)),c=await zY(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ky.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((l,c)=>{const u=aE("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:r,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(m.data.response);break;default:clearTimeout(d),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function qY(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function HY(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GY(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function KY(){return pV()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="firebaseLocalStorageDb",WY=1,w0="firebaseLocalStorage",yV="fbase_key";class gm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wy(t,e){return t.transaction([w0],e?"readwrite":"readonly").objectStore(w0)}function YY(){const t=indexedDB.deleteDatabase(gV);return new gm(t).toPromise()}function y1(){const t=indexedDB.open(gV,WY);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(w0,{keyPath:yV})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(w0)?e(s):(s.close(),await YY(),e(await y1()))})})}async function G2(t,e,n){const s=Wy(t,!0).put({[yV]:e,value:n});return new gm(s).toPromise()}async function QY(t,e){const n=Wy(t,!1).get(e),s=await new gm(n).toPromise();return s===void 0?null:s.value}function K2(t,e){const n=Wy(t,!0).delete(e);return new gm(n).toPromise()}const XY=800,JY=3;class vV{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await y1(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>JY)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pV()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ky._getInstance(KY()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await HY(),!this.activeServiceWorker)return;this.sender=new $Y(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GY()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await y1();return await G2(e,b0,"1"),await K2(e,b0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>G2(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QY(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>K2(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const i=Wy(r,!1).getAll();return new gm(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:r,value:i}of e)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XY)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vV.type="LOCAL";const ZY=vV;new fm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eQ(t,e){return e?di(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE extends sE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tQ(t){return lV(t.auth,new oE(t),t.bypassAuthState)}function nQ(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),PY(n,new oE(t),t.bypassAuthState)}async function sQ(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),RY(n,new oE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,s,r,i=!1){this.auth=e,this.resolver=s,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:r,tenantId:i,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tQ;case"linkViaPopup":case"linkViaRedirect":return sQ;case"reauthViaPopup":case"reauthViaRedirect":return nQ;default:mr(this.auth,"internal-error")}}resolve(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ=new fm(2e3,1e4);class Cc extends xV{constructor(e,n,s,r,i){super(e,n,r,i),this.provider=s,this.authWindow=null,this.pollId=null,Cc.currentPopupAction&&Cc.currentPopupAction.cancel(),Cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Ci(this.filter.length===1,"Popup operations only handle one event");const e=aE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rQ.get())};e()}}Cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iQ="pendingRedirect",rg=new Map;class aQ extends xV{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=rg.get(this.auth._key());if(!e){try{const s=await oQ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}rg.set(this.auth._key(),e)}return this.bypassAuthState||rg.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oQ(t,e){const n=uQ(e),s=cQ(t);if(!await s._isAvailable())return!1;const r=await s._get(n)==="true";return await s._remove(n),r}function lQ(t,e){rg.set(t._key(),e)}function cQ(t){return di(t._redirectPersistence)}function uQ(t){return sg(iQ,t.config.apiKey,t.name)}async function dQ(t,e,n=!1){if(os(t.app))return Promise.reject(gi(t));const s=Ml(t),r=eQ(s,e),a=await new aQ(s,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hQ=10*60*1e3;class fQ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!mQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!bV(e)){const r=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(W2(e))}saveEventToCache(e){this.cachedEventUids.add(W2(e)),this.lastProcessedEventTime=Date.now()}}function W2(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bV({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function mQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bV(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pQ(t,e={}){return Fi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yQ=/^https?/;async function vQ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await pQ(t);for(const n of e)try{if(xQ(n))return}catch{}mr(t,"unauthorized-domain")}function xQ(t){const e=m1(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!yQ.test(n))return!1;if(gQ.test(t))return s===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ=new fm(3e4,6e4);function Y2(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wQ(t){return new Promise((e,n)=>{var r,i,a;function s(){Y2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Y2(),n(kr(t,"network-request-failed"))},timeout:bQ.get()})}if((i=(r=Dr().gapi)==null?void 0:r.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((a=Dr().gapi)!=null&&a.load)s();else{const l=fY("iframefcb");return Dr()[l]=()=>{gapi.load?s():n(kr(t,"network-request-failed"))},sV(`${hY()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ig=null,e})}let ig=null;function _Q(t){return ig=ig||wQ(t),ig}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TQ=new fm(5e3,15e3),EQ="__/auth/iframe",SQ="emulator/auth/iframe",NQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},AQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IQ(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?eE(e,SQ):`https://${t.config.authDomain}/${EQ}`,s={apiKey:e.apiKey,appName:t.name,v:mo},r=AQ.get(t.config.apiHost);r&&(s.eid=r);const i=t._getFrameworks();return i.length&&(s.fw=i.join(",")),`${n}?${dm(s).slice(1)}`}async function CQ(t){const e=await _Q(t),n=Dr().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:IQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NQ,dontclear:!0},s=>new Promise(async(r,i)=>{await s.restyle({setHideOnLeave:!1});const a=kr(t,"network-request-failed"),l=Dr().setTimeout(()=>{i(a)},TQ.get());function c(){Dr().clearTimeout(l),r(s)}s.ping(c).then(c,()=>{i(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RQ=500,PQ=600,kQ="_blank",DQ="http://localhost";class Q2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MQ(t,e,n,s=RQ,r=PQ){const i=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...jQ,width:s.toString(),height:r.toString(),top:i,left:a},u=dn().toLowerCase();n&&(l=QO(u)?kQ:n),WO(u)&&(e=e||DQ,c.scrollbars="yes");const d=Object.entries(c).reduce((m,[p,y])=>`${m}${p}=${y},`,"");if(sY(u)&&l!=="_self")return OQ(e||"",l),new Q2(null);const h=window.open(e||"",l,d);we(h,t,"popup-blocked");try{h.focus()}catch{}return new Q2(h)}function OQ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQ="__/auth/handler",LQ="emulator/auth/handler",UQ=encodeURIComponent("fac");async function X2(t,e,n,s,r,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:mo,eventId:r};if(e instanceof aV){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",bK(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))a[d]=h}if(e instanceof pm){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const c=await t._getAppCheckToken(),u=c?`#${UQ}=${encodeURIComponent(c)}`:"";return`${FQ(t)}?${dm(l).slice(1)}${u}`}function FQ({config:t}){return t.emulator?eE(t,LQ):`https://${t.authDomain}/${VQ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="webStorageSupport";class BQ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mV,this._completeRedirectFn=dQ,this._overrideRedirectResult=lQ}async _openPopup(e,n,s,r){var a;Ci((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const i=await X2(e,n,s,m1(),r);return MQ(e,i,aE())}async _openRedirect(e,n,s,r){await this._originValidation(e);const i=await X2(e,n,s,m1(),r);return qY(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:i}=this.eventManagers[n];return r?Promise.resolve(r):(Ci(i,"If manager is not set, promise should be"),i)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CQ(e),s=new fQ(e);return n.register("authEvent",r=>(we(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:s.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(db,{type:db},r=>{var a;const i=(a=r==null?void 0:r[0])==null?void 0:a[db];i!==void 0&&n(!!i),mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tV()||YO()||nE()}}const zQ=BQ;var J2="@firebase/auth",Z2="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HQ(t){nr(new Ds("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;we(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nV(t)},u=new cY(s,r,i,c);return xY(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),nr(new Ds("auth-internal",e=>{const n=Ml(e.getProvider("auth").getImmediate());return(s=>new $Q(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(J2,Z2,qQ(t)),Ln(J2,Z2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GQ=5*60,KQ=IO("authIdTokenMaxAge")||GQ;let eC=null;const WQ=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>KQ)return;const r=n==null?void 0:n.token;eC!==r&&(eC=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function YQ(t=Hy()){const e=Ui(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vY(t,{popupRedirectResolver:zQ,persistence:[ZY,BY,mV]}),s=IO("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(s,location.origin);if(location.origin===i.origin){const a=WQ(i.toString());LY(n,a,()=>a(n.currentUser)),VY(n,l=>a(l))}}const r=SO("auth");return r&&bY(n,`http://${r}`),n}function QQ(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}uY({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=r=>{const i=kr("internal-error");i.customData=r,n(i)},s.type="text/javascript",s.charset="UTF-8",QQ().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HQ("Browser");var tC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yi,wV;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,T){function C(){}C.prototype=T.prototype,S.F=T.prototype,S.prototype=new C,S.prototype.constructor=S,S.D=function(j,P,M){for(var k=Array(arguments.length-2),F=2;F<arguments.length;F++)k[F-2]=arguments[F];return T.prototype[P].apply(j,k)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(S,T,C){C||(C=0);const j=Array(16);if(typeof T=="string")for(var P=0;P<16;++P)j[P]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(P=0;P<16;++P)j[P]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=S.g[0],C=S.g[1],P=S.g[2];let M=S.g[3],k;k=T+(M^C&(P^M))+j[0]+3614090360&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[1]+3905402710&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[2]+606105819&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[3]+3250441966&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[4]+4118548399&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[5]+1200080426&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[6]+2821735955&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[7]+4249261313&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[8]+1770035416&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[9]+2336552879&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[10]+4294925233&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[11]+2304563134&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(M^C&(P^M))+j[12]+1804603682&4294967295,T=C+(k<<7&4294967295|k>>>25),k=M+(P^T&(C^P))+j[13]+4254626195&4294967295,M=T+(k<<12&4294967295|k>>>20),k=P+(C^M&(T^C))+j[14]+2792965006&4294967295,P=M+(k<<17&4294967295|k>>>15),k=C+(T^P&(M^T))+j[15]+1236535329&4294967295,C=P+(k<<22&4294967295|k>>>10),k=T+(P^M&(C^P))+j[1]+4129170786&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[6]+3225465664&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[11]+643717713&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[0]+3921069994&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[5]+3593408605&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[10]+38016083&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[15]+3634488961&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[4]+3889429448&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[9]+568446438&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[14]+3275163606&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[3]+4107603335&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[8]+1163531501&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(P^M&(C^P))+j[13]+2850285829&4294967295,T=C+(k<<5&4294967295|k>>>27),k=M+(C^P&(T^C))+j[2]+4243563512&4294967295,M=T+(k<<9&4294967295|k>>>23),k=P+(T^C&(M^T))+j[7]+1735328473&4294967295,P=M+(k<<14&4294967295|k>>>18),k=C+(M^T&(P^M))+j[12]+2368359562&4294967295,C=P+(k<<20&4294967295|k>>>12),k=T+(C^P^M)+j[5]+4294588738&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[8]+2272392833&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[11]+1839030562&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[14]+4259657740&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[1]+2763975236&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[4]+1272893353&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[7]+4139469664&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[10]+3200236656&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[13]+681279174&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[0]+3936430074&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[3]+3572445317&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[6]+76029189&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(C^P^M)+j[9]+3654602809&4294967295,T=C+(k<<4&4294967295|k>>>28),k=M+(T^C^P)+j[12]+3873151461&4294967295,M=T+(k<<11&4294967295|k>>>21),k=P+(M^T^C)+j[15]+530742520&4294967295,P=M+(k<<16&4294967295|k>>>16),k=C+(P^M^T)+j[2]+3299628645&4294967295,C=P+(k<<23&4294967295|k>>>9),k=T+(P^(C|~M))+j[0]+4096336452&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[7]+1126891415&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[14]+2878612391&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[5]+4237533241&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[12]+1700485571&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[3]+2399980690&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[10]+4293915773&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[1]+2240044497&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[8]+1873313359&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[15]+4264355552&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[6]+2734768916&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[13]+1309151649&4294967295,C=P+(k<<21&4294967295|k>>>11),k=T+(P^(C|~M))+j[4]+4149444226&4294967295,T=C+(k<<6&4294967295|k>>>26),k=M+(C^(T|~P))+j[11]+3174756917&4294967295,M=T+(k<<10&4294967295|k>>>22),k=P+(T^(M|~C))+j[2]+718787259&4294967295,P=M+(k<<15&4294967295|k>>>17),k=C+(M^(P|~T))+j[9]+3951481745&4294967295,S.g[0]=S.g[0]+T&4294967295,S.g[1]=S.g[1]+(P+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+M&4294967295}s.prototype.v=function(S,T){T===void 0&&(T=S.length);const C=T-this.blockSize,j=this.C;let P=this.h,M=0;for(;M<T;){if(P==0)for(;M<=C;)r(this,S,M),M+=this.blockSize;if(typeof S=="string"){for(;M<T;)if(j[P++]=S.charCodeAt(M++),P==this.blockSize){r(this,j),P=0;break}}else for(;M<T;)if(j[P++]=S[M++],P==this.blockSize){r(this,j),P=0;break}}this.h=P,this.o+=T},s.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var T=1;T<S.length-8;++T)S[T]=0;T=this.o*8;for(var C=S.length-8;C<S.length;++C)S[C]=T&255,T/=256;for(this.v(S),S=Array(16),T=0,C=0;C<4;++C)for(let j=0;j<32;j+=8)S[T++]=this.g[C]>>>j&255;return S};function i(S,T){var C=l;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=T(S)}function a(S,T){this.h=T;const C=[];let j=!0;for(let P=S.length-1;P>=0;P--){const M=S[P]|0;j&&M==T||(C[P]=M,j=!1)}this.g=C}var l={};function c(S){return-128<=S&&S<128?i(S,function(T){return new a([T|0],T<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return _(u(-S));const T=[];let C=1;for(let j=0;S>=C;j++)T[j]=S/C|0,C*=4294967296;return new a(T,0)}function d(S,T){if(S.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(S.charAt(0)=="-")return _(d(S.substring(1),T));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(T,8));let j=h;for(let M=0;M<S.length;M+=8){var P=Math.min(8,S.length-M);const k=parseInt(S.substring(M,M+P),T);P<8?(P=u(Math.pow(T,P)),j=j.j(P).add(u(k))):(j=j.j(C),j=j.add(u(k)))}return j}var h=c(0),m=c(1),p=c(16777216);t=a.prototype,t.m=function(){if(x(this))return-_(this).m();let S=0,T=1;for(let C=0;C<this.g.length;C++){const j=this.i(C);S+=(j>=0?j:4294967296+j)*T,T*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(y(this))return"0";if(x(this))return"-"+_(this).toString(S);const T=u(Math.pow(S,6));var C=this;let j="";for(;;){const P=I(C,T).g;C=v(C,P.j(T));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(S);if(C=P,y(C))return M+j;for(;M.length<6;)M="0"+M;j=M+j}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function y(S){if(S.h!=0)return!1;for(let T=0;T<S.g.length;T++)if(S.g[T]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=v(this,S),x(S)?-1:y(S)?0:1};function _(S){const T=S.g.length,C=[];for(let j=0;j<T;j++)C[j]=~S.g[j];return new a(C,~S.h).add(m)}t.abs=function(){return x(this)?_(this):this},t.add=function(S){const T=Math.max(this.g.length,S.g.length),C=[];let j=0;for(let P=0;P<=T;P++){let M=j+(this.i(P)&65535)+(S.i(P)&65535),k=(M>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);j=k>>>16,M&=65535,k&=65535,C[P]=k<<16|M}return new a(C,C[C.length-1]&-2147483648?-1:0)};function v(S,T){return S.add(_(T))}t.j=function(S){if(y(this)||y(S))return h;if(x(this))return x(S)?_(this).j(_(S)):_(_(this).j(S));if(x(S))return _(this.j(_(S)));if(this.l(p)<0&&S.l(p)<0)return u(this.m()*S.m());const T=this.g.length+S.g.length,C=[];for(var j=0;j<2*T;j++)C[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<S.g.length;P++){const M=this.i(j)>>>16,k=this.i(j)&65535,F=S.i(P)>>>16,X=S.i(P)&65535;C[2*j+2*P]+=k*X,b(C,2*j+2*P),C[2*j+2*P+1]+=M*X,b(C,2*j+2*P+1),C[2*j+2*P+1]+=k*F,b(C,2*j+2*P+1),C[2*j+2*P+2]+=M*F,b(C,2*j+2*P+2)}for(S=0;S<T;S++)C[S]=C[2*S+1]<<16|C[2*S];for(S=T;S<2*T;S++)C[S]=0;return new a(C,0)};function b(S,T){for(;(S[T]&65535)!=S[T];)S[T+1]+=S[T]>>>16,S[T]&=65535,T++}function E(S,T){this.g=S,this.h=T}function I(S,T){if(y(T))throw Error("division by zero");if(y(S))return new E(h,h);if(x(S))return T=I(_(S),T),new E(_(T.g),_(T.h));if(x(T))return T=I(S,_(T)),new E(_(T.g),T.h);if(S.g.length>30){if(x(S)||x(T))throw Error("slowDivide_ only works with positive integers.");for(var C=m,j=T;j.l(S)<=0;)C=A(C),j=A(j);var P=R(C,1),M=R(j,1);for(j=R(j,2),C=R(C,2);!y(j);){var k=M.add(j);k.l(S)<=0&&(P=P.add(C),M=k),j=R(j,1),C=R(C,1)}return T=v(S,P.j(T)),new E(P,T)}for(P=h;S.l(T)>=0;){for(C=Math.max(1,Math.floor(S.m()/T.m())),j=Math.ceil(Math.log(C)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),M=u(C),k=M.j(T);x(k)||k.l(S)>0;)C-=j,M=u(C),k=M.j(T);y(M)&&(M=m),P=P.add(M),S=v(S,k)}return new E(P,S)}t.B=function(S){return I(this,S).h},t.and=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)&S.i(j);return new a(C,this.h&S.h)},t.or=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)|S.i(j);return new a(C,this.h|S.h)},t.xor=function(S){const T=Math.max(this.g.length,S.g.length),C=[];for(let j=0;j<T;j++)C[j]=this.i(j)^S.i(j);return new a(C,this.h^S.h)};function A(S){const T=S.g.length+1,C=[];for(let j=0;j<T;j++)C[j]=S.i(j)<<1|S.i(j-1)>>>31;return new a(C,S.h)}function R(S,T){const C=T>>5;T%=32;const j=S.g.length-C,P=[];for(let M=0;M<j;M++)P[M]=T>0?S.i(M+C)>>>T|S.i(M+C+1)<<32-T:S.i(M+C);return new a(P,S.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wV=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,yi=a}).apply(typeof tC<"u"?tC:typeof self<"u"?self:typeof window<"u"?window:{});var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _V,ih,TV,ag,v1,EV,SV,NV;(function(){var t,e=Object.defineProperty;function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xp=="object"&&xp];for(var w=0;w<f.length;++w){var N=f[w];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var s=n(this);function r(f,w){if(w)e:{var N=s;f=f.split(".");for(var D=0;D<f.length-1;D++){var V=f[D];if(!(V in N))break e;N=N[V]}f=f[f.length-1],D=N[f],w=w(D),w!=D&&w!=null&&e(N,f,{configurable:!0,writable:!0,value:w})}}r("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(f){return f||function(w){var N=[],D;for(D in w)Object.prototype.hasOwnProperty.call(w,D)&&N.push([D,w[D]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(f){var w=typeof f;return w=="object"&&f!=null||w=="function"}function c(f,w,N){return f.call.apply(f.bind,arguments)}function u(f,w,N){return u=c,u.apply(null,arguments)}function d(f,w){var N=Array.prototype.slice.call(arguments,1);return function(){var D=N.slice();return D.push.apply(D,arguments),f.apply(this,D)}}function h(f,w){function N(){}N.prototype=w.prototype,f.Z=w.prototype,f.prototype=new N,f.prototype.constructor=f,f.Ob=function(D,V,z){for(var te=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)te[ke-2]=arguments[ke];return w.prototype[V].apply(D,te)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function p(f){const w=f.length;if(w>0){const N=Array(w);for(let D=0;D<w;D++)N[D]=f[D];return N}return[]}function y(f,w){for(let D=1;D<arguments.length;D++){const V=arguments[D];var N=typeof V;if(N=N!="object"?N:V?Array.isArray(V)?"array":N:"null",N=="array"||N=="object"&&typeof V.length=="number"){N=f.length||0;const z=V.length||0;f.length=N+z;for(let te=0;te<z;te++)f[N+te]=V[te]}else f.push(V)}}class x{constructor(w,N){this.i=w,this.j=N,this.h=0,this.g=null}get(){let w;return this.h>0?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function _(f){a.setTimeout(()=>{throw f},0)}function v(){var f=S;let w=null;return f.g&&(w=f.g,f.g=f.g.next,f.g||(f.h=null),w.next=null),w}class b{constructor(){this.h=this.g=null}add(w,N){const D=E.get();D.set(w,N),this.h?this.h.next=D:this.g=D,this.h=D}}var E=new x(()=>new I,f=>f.reset());class I{constructor(){this.next=this.g=this.h=null}set(w,N){this.h=w,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let A,R=!1,S=new b,T=()=>{const f=Promise.resolve(void 0);A=()=>{f.then(C)}};function C(){for(var f;f=v();){try{f.h.call(f.g)}catch(N){_(N)}var w=E;w.j(f),w.h<100&&(w.h++,f.next=w.g,w.g=f)}R=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(f,w){this.type=f,this.g=this.target=w,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var M=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,w=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const N=()=>{};a.addEventListener("test",N,w),a.removeEventListener("test",N,w)}catch{}return f}();function k(f){return/^[\s\xa0]*$/.test(f)}function F(f,w){P.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,w)}h(F,P),F.prototype.init=function(f,w){const N=this.type=f.type,D=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=w,w=f.relatedTarget,w||(N=="mouseover"?w=f.fromElement:N=="mouseout"&&(w=f.toElement)),this.relatedTarget=w,D?(this.clientX=D.clientX!==void 0?D.clientX:D.pageX,this.clientY=D.clientY!==void 0?D.clientY:D.pageY,this.screenX=D.screenX||0,this.screenY=D.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&F.Z.h.call(this)},F.prototype.h=function(){F.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),U=0;function H(f,w,N,D,V){this.listener=f,this.proxy=null,this.src=w,this.type=N,this.capture=!!D,this.ha=V,this.key=++U,this.da=this.fa=!1}function $(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function K(f,w,N){for(const D in f)w.call(N,f[D],D,f)}function ee(f,w){for(const N in f)w.call(void 0,f[N],N,f)}function re(f){const w={};for(const N in f)w[N]=f[N];return w}const ge="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(f,w){let N,D;for(let V=1;V<arguments.length;V++){D=arguments[V];for(N in D)f[N]=D[N];for(let z=0;z<ge.length;z++)N=ge[z],Object.prototype.hasOwnProperty.call(D,N)&&(f[N]=D[N])}}function O(f){this.src=f,this.g={},this.h=0}O.prototype.add=function(f,w,N,D,V){const z=f.toString();f=this.g[z],f||(f=this.g[z]=[],this.h++);const te=_e(f,w,D,V);return te>-1?(w=f[te],N||(w.fa=!1)):(w=new H(w,this.src,z,!!D,V),w.fa=N,f.push(w)),w};function Y(f,w){const N=w.type;if(N in f.g){var D=f.g[N],V=Array.prototype.indexOf.call(D,w,void 0),z;(z=V>=0)&&Array.prototype.splice.call(D,V,1),z&&($(w),f.g[N].length==0&&(delete f.g[N],f.h--))}}function _e(f,w,N,D){for(let V=0;V<f.length;++V){const z=f[V];if(!z.da&&z.listener==w&&z.capture==!!N&&z.ha==D)return V}return-1}var Q="closure_lm_"+(Math.random()*1e6|0),fe={};function oe(f,w,N,D,V){if(D&&D.once)return et(f,w,N,D,V);if(Array.isArray(w)){for(let z=0;z<w.length;z++)oe(f,w[z],N,D,V);return null}return N=It(N),f&&f[X]?f.J(w,N,l(D)?!!D.capture:!!D,V):ve(f,w,N,!1,D,V)}function ve(f,w,N,D,V,z){if(!w)throw Error("Invalid event type");const te=l(V)?!!V.capture:!!V;let ke=Pe(f);if(ke||(f[Q]=ke=new O(f)),N=ke.add(w,N,D,te,z),N.proxy)return N;if(D=qe(),N.proxy=D,D.src=f,D.listener=N,f.addEventListener)M||(V=te),V===void 0&&(V=!1),f.addEventListener(w.toString(),D,V);else if(f.attachEvent)f.attachEvent(Ie(w.toString()),D);else if(f.addListener&&f.removeListener)f.addListener(D);else throw Error("addEventListener and attachEvent are unavailable.");return N}function qe(){function f(N){return w.call(f.src,f.listener,N)}const w=De;return f}function et(f,w,N,D,V){if(Array.isArray(w)){for(let z=0;z<w.length;z++)et(f,w[z],N,D,V);return null}return N=It(N),f&&f[X]?f.K(w,N,l(D)?!!D.capture:!!D,V):ve(f,w,N,!0,D,V)}function B(f,w,N,D,V){if(Array.isArray(w))for(var z=0;z<w.length;z++)B(f,w[z],N,D,V);else D=l(D)?!!D.capture:!!D,N=It(N),f&&f[X]?(f=f.i,z=String(w).toString(),z in f.g&&(w=f.g[z],N=_e(w,N,D,V),N>-1&&($(w[N]),Array.prototype.splice.call(w,N,1),w.length==0&&(delete f.g[z],f.h--)))):f&&(f=Pe(f))&&(w=f.g[w.toString()],f=-1,w&&(f=_e(w,N,D,V)),(N=f>-1?w[f]:null)&&le(N))}function le(f){if(typeof f!="number"&&f&&!f.da){var w=f.src;if(w&&w[X])Y(w.i,f);else{var N=f.type,D=f.proxy;w.removeEventListener?w.removeEventListener(N,D,f.capture):w.detachEvent?w.detachEvent(Ie(N),D):w.addListener&&w.removeListener&&w.removeListener(D),(N=Pe(w))?(Y(N,f),N.h==0&&(N.src=null,w[Q]=null)):$(f)}}}function Ie(f){return f in fe?fe[f]:fe[f]="on"+f}function De(f,w){if(f.da)f=!0;else{w=new F(w,this);const N=f.listener,D=f.ha||f.src;f.fa&&le(f),f=N.call(D,w)}return f}function Pe(f){return f=f[Q],f instanceof O?f:null}var st="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(f){return typeof f=="function"?f:(f[st]||(f[st]=function(w){return f.handleEvent(w)}),f[st])}function tt(){j.call(this),this.i=new O(this),this.M=this,this.G=null}h(tt,j),tt.prototype[X]=!0,tt.prototype.removeEventListener=function(f,w,N,D){B(this,f,w,N,D)};function rn(f,w){var N,D=f.G;if(D)for(N=[];D;D=D.G)N.push(D);if(f=f.M,D=w.type||w,typeof w=="string")w=new P(w,f);else if(w instanceof P)w.target=w.target||f;else{var V=w;w=new P(D,f),nt(w,V)}V=!0;let z,te;if(N)for(te=N.length-1;te>=0;te--)z=w.g=N[te],V=wr(z,D,!0,w)&&V;if(z=w.g=f,V=wr(z,D,!0,w)&&V,V=wr(z,D,!1,w)&&V,N)for(te=0;te<N.length;te++)z=w.g=N[te],V=wr(z,D,!1,w)&&V}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var f=this.i;for(const w in f.g){const N=f.g[w];for(let D=0;D<N.length;D++)$(N[D]);delete f.g[w],f.h--}}this.G=null},tt.prototype.J=function(f,w,N,D){return this.i.add(String(f),w,!1,N,D)},tt.prototype.K=function(f,w,N,D){return this.i.add(String(f),w,!0,N,D)};function wr(f,w,N,D){if(w=f.i.g[String(w)],!w)return!0;w=w.concat();let V=!0;for(let z=0;z<w.length;++z){const te=w[z];if(te&&!te.da&&te.capture==N){const ke=te.listener,an=te.ha||te.src;te.fa&&Y(f.i,te),V=ke.call(an,D)!==!1&&V}}return V&&!D.defaultPrevented}function zm(f,w){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=u(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(w)>2147483647?-1:a.setTimeout(f,w||0)}function SN(f){f.g=zm(()=>{f.g=null,f.i&&(f.i=!1,SN(f))},f.l);const w=f.h;f.h=null,f.m.apply(null,w)}class EF extends j{constructor(w,N){super(),this.m=w,this.l=N,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:SN(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vd(f){j.call(this),this.h=f,this.g={}}h(vd,j);var NN=[];function AN(f){K(f.g,function(w,N){this.g.hasOwnProperty(N)&&le(w)},f),f.g={}}vd.prototype.N=function(){vd.Z.N.call(this),AN(this)},vd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jv=a.JSON.stringify,SF=a.JSON.parse,NF=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function IN(){}function CN(){}var xd={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Zv(){P.call(this,"d")}h(Zv,P);function ex(){P.call(this,"c")}h(ex,P);var xo={},jN=null;function $m(){return jN=jN||new tt}xo.Ia="serverreachability";function RN(f){P.call(this,xo.Ia,f)}h(RN,P);function bd(f){const w=$m();rn(w,new RN(w))}xo.STAT_EVENT="statevent";function PN(f,w){P.call(this,xo.STAT_EVENT,f),this.stat=w}h(PN,P);function Bn(f){const w=$m();rn(w,new PN(w,f))}xo.Ja="timingevent";function kN(f,w){P.call(this,xo.Ja,f),this.size=w}h(kN,P);function wd(f,w){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},w)}function _d(){this.g=!0}_d.prototype.ua=function(){this.g=!1};function AF(f,w,N,D,V,z){f.info(function(){if(f.g)if(z){var te="",ke=z.split("&");for(let ht=0;ht<ke.length;ht++){var an=ke[ht].split("=");if(an.length>1){const fn=an[0];an=an[1];const Tr=fn.split("_");te=Tr.length>=2&&Tr[1]=="type"?te+(fn+"="+an+"&"):te+(fn+"=redacted&")}}}else te=null;else te=z;return"XMLHTTP REQ ("+D+") [attempt "+V+"]: "+w+`
`+N+`
`+te})}function IF(f,w,N,D,V,z,te){f.info(function(){return"XMLHTTP RESP ("+D+") [ attempt "+V+"]: "+w+`
`+N+`
`+z+" "+te})}function Hl(f,w,N,D){f.info(function(){return"XMLHTTP TEXT ("+w+"): "+jF(f,N)+(D?" "+D:"")})}function CF(f,w){f.info(function(){return"TIMEOUT: "+w})}_d.prototype.info=function(){};function jF(f,w){if(!f.g)return w;if(!w)return null;try{const z=JSON.parse(w);if(z){for(f=0;f<z.length;f++)if(Array.isArray(z[f])){var N=z[f];if(!(N.length<2)){var D=N[1];if(Array.isArray(D)&&!(D.length<1)){var V=D[0];if(V!="noop"&&V!="stop"&&V!="close")for(let te=1;te<D.length;te++)D[te]=""}}}}return Jv(z)}catch{return w}}var qm={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},DN={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},MN;function tx(){}h(tx,IN),tx.prototype.g=function(){return new XMLHttpRequest},MN=new tx;function Td(f){return encodeURIComponent(String(f))}function RF(f){var w=1;f=f.split(":");const N=[];for(;w>0&&f.length;)N.push(f.shift()),w--;return f.length&&N.push(f.join(":")),N}function qi(f,w,N,D){this.j=f,this.i=w,this.l=N,this.S=D||1,this.V=new vd(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ON}function ON(){this.i=null,this.g="",this.h=!1}var VN={},nx={};function sx(f,w,N){f.M=1,f.A=Gm(_r(w)),f.u=N,f.R=!0,LN(f,null)}function LN(f,w){f.F=Date.now(),Hm(f),f.B=_r(f.A);var N=f.B,D=f.S;Array.isArray(D)||(D=[String(D)]),XN(N.i,"t",D),f.C=0,N=f.j.L,f.h=new ON,f.g=pA(f.j,N?w:null,!f.u),f.P>0&&(f.O=new EF(u(f.Y,f,f.g),f.P)),w=f.V,N=f.g,D=f.ba;var V="readystatechange";Array.isArray(V)||(V&&(NN[0]=V.toString()),V=NN);for(let z=0;z<V.length;z++){const te=oe(N,V[z],D||w.handleEvent,!1,w.h||w);if(!te)break;w.g[te.key]=te}w=f.J?re(f.J):{},f.u?(f.v||(f.v="POST"),w["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,w)):(f.v="GET",f.g.ea(f.B,f.v,null,w)),bd(),AF(f.i,f.v,f.B,f.l,f.S,f.u)}qi.prototype.ba=function(f){f=f.target;const w=this.O;w&&Ki(f)==3?w.j():this.Y(f)},qi.prototype.Y=function(f){try{if(f==this.g)e:{const ke=Ki(this.g),an=this.g.ya(),ht=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||rA(this.g)))){this.K||ke!=4||an==7||(an==8||ht<=0?bd(3):bd(2)),rx(this);var w=this.g.ca();this.X=w;var N=PF(this);if(this.o=w==200,IF(this.i,this.v,this.B,this.l,this.S,ke,w),this.o){if(this.U&&!this.L){t:{if(this.g){var D,V=this.g;if((D=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(D)){var z=D;break t}}z=null}if(f=z)Hl(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ix(this,f);else{this.o=!1,this.m=3,Bn(12),bo(this),Ed(this);break e}}if(this.R){f=!0;let fn;for(;!this.K&&this.C<N.length;)if(fn=kF(this,N),fn==nx){ke==4&&(this.m=4,Bn(14),f=!1),Hl(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==VN){this.m=4,Bn(15),Hl(this.i,this.l,N,"[Invalid Chunk]"),f=!1;break}else Hl(this.i,this.l,fn,null),ix(this,fn);if(UN(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||N.length!=0||this.h.h||(this.m=1,Bn(16),f=!1),this.o=this.o&&f,!f)Hl(this.i,this.l,N,"[Invalid Chunked Response]"),bo(this),Ed(this);else if(N.length>0&&!this.W){this.W=!0;var te=this.j;te.g==this&&te.aa&&!te.P&&(te.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),fx(te),te.P=!0,Bn(11))}}else Hl(this.i,this.l,N,null),ix(this,N);ke==4&&bo(this),this.o&&!this.K&&(ke==4?dA(this.j,this):(this.o=!1,Hm(this)))}else KF(this.g),w==400&&N.indexOf("Unknown SID")>0?(this.m=3,Bn(12)):(this.m=0,Bn(13)),bo(this),Ed(this)}}}catch{}finally{}};function PF(f){if(!UN(f))return f.g.la();const w=rA(f.g);if(w==="")return"";let N="";const D=w.length,V=Ki(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return bo(f),Ed(f),"";f.h.i=new a.TextDecoder}for(let z=0;z<D;z++)f.h.h=!0,N+=f.h.i.decode(w[z],{stream:!(V&&z==D-1)});return w.length=0,f.h.g+=N,f.C=0,f.h.g}function UN(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function kF(f,w){var N=f.C,D=w.indexOf(`
`,N);return D==-1?nx:(N=Number(w.substring(N,D)),isNaN(N)?VN:(D+=1,D+N>w.length?nx:(w=w.slice(D,D+N),f.C=D+N,w)))}qi.prototype.cancel=function(){this.K=!0,bo(this)};function Hm(f){f.T=Date.now()+f.H,FN(f,f.H)}function FN(f,w){if(f.D!=null)throw Error("WatchDog timer not null");f.D=wd(u(f.aa,f),w)}function rx(f){f.D&&(a.clearTimeout(f.D),f.D=null)}qi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(CF(this.i,this.B),this.M!=2&&(bd(),Bn(17)),bo(this),this.m=2,Ed(this)):FN(this,this.T-f)};function Ed(f){f.j.I==0||f.K||dA(f.j,f)}function bo(f){rx(f);var w=f.O;w&&typeof w.dispose=="function"&&w.dispose(),f.O=null,AN(f.V),f.g&&(w=f.g,f.g=null,w.abort(),w.dispose())}function ix(f,w){try{var N=f.j;if(N.I!=0&&(N.g==f||ax(N.h,f))){if(!f.L&&ax(N.h,f)&&N.I==3){try{var D=N.Ba.g.parse(w)}catch{D=null}if(Array.isArray(D)&&D.length==3){var V=D;if(V[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<f.F)Xm(N),Ym(N);else break e;hx(N),Bn(18)}}else N.xa=V[1],0<N.xa-N.K&&V[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=wd(u(N.Va,N),6e3));$N(N.h)<=1&&N.ta&&(N.ta=void 0)}else _o(N,11)}else if((f.L||N.g==f)&&Xm(N),!k(w))for(V=N.Ba.g.parse(w),w=0;w<V.length;w++){let ht=V[w];const fn=ht[0];if(!(fn<=N.K))if(N.K=fn,ht=ht[1],N.I==2)if(ht[0]=="c"){N.M=ht[1],N.ba=ht[2];const Tr=ht[3];Tr!=null&&(N.ka=Tr,N.j.info("VER="+N.ka));const To=ht[4];To!=null&&(N.za=To,N.j.info("SVER="+N.za));const Wi=ht[5];Wi!=null&&typeof Wi=="number"&&Wi>0&&(D=1.5*Wi,N.O=D,N.j.info("backChannelRequestTimeoutMs_="+D)),D=N;const Yi=f.g;if(Yi){const Zm=Yi.g?Yi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zm){var z=D.h;z.g||Zm.indexOf("spdy")==-1&&Zm.indexOf("quic")==-1&&Zm.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&(ox(z,z.h),z.h=null))}if(D.G){const mx=Yi.g?Yi.g.getResponseHeader("X-HTTP-Session-Id"):null;mx&&(D.wa=mx,xt(D.J,D.G,mx))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-f.F,N.j.info("Handshake RTT: "+N.T+"ms")),D=N;var te=f;if(D.na=mA(D,D.L?D.ba:null,D.W),te.L){qN(D.h,te);var ke=te,an=D.O;an&&(ke.H=an),ke.D&&(rx(ke),Hm(ke)),D.g=te}else cA(D);N.i.length>0&&Qm(N)}else ht[0]!="stop"&&ht[0]!="close"||_o(N,7);else N.I==3&&(ht[0]=="stop"||ht[0]=="close"?ht[0]=="stop"?_o(N,7):dx(N):ht[0]!="noop"&&N.l&&N.l.qa(ht),N.A=0)}}bd(4)}catch{}}var DF=class{constructor(f,w){this.g=f,this.map=w}};function BN(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zN(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function $N(f){return f.h?1:f.g?f.g.size:0}function ax(f,w){return f.h?f.h==w:f.g?f.g.has(w):!1}function ox(f,w){f.g?f.g.add(w):f.h=w}function qN(f,w){f.h&&f.h==w?f.h=null:f.g&&f.g.has(w)&&f.g.delete(w)}BN.prototype.cancel=function(){if(this.i=HN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function HN(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let w=f.i;for(const N of f.g.values())w=w.concat(N.G);return w}return p(f.i)}var GN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function MF(f,w){if(f){f=f.split("&");for(let N=0;N<f.length;N++){const D=f[N].indexOf("=");let V,z=null;D>=0?(V=f[N].substring(0,D),z=f[N].substring(D+1)):V=f[N],w(V,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Hi(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let w;f instanceof Hi?(this.l=f.l,Sd(this,f.j),this.o=f.o,this.g=f.g,Nd(this,f.u),this.h=f.h,lx(this,JN(f.i)),this.m=f.m):f&&(w=String(f).match(GN))?(this.l=!1,Sd(this,w[1]||"",!0),this.o=Ad(w[2]||""),this.g=Ad(w[3]||"",!0),Nd(this,w[4]),this.h=Ad(w[5]||"",!0),lx(this,w[6]||"",!0),this.m=Ad(w[7]||"")):(this.l=!1,this.i=new Cd(null,this.l))}Hi.prototype.toString=function(){const f=[];var w=this.j;w&&f.push(Id(w,KN,!0),":");var N=this.g;return(N||w=="file")&&(f.push("//"),(w=this.o)&&f.push(Id(w,KN,!0),"@"),f.push(Td(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&f.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&f.push("/"),f.push(Id(N,N.charAt(0)=="/"?LF:VF,!0))),(N=this.i.toString())&&f.push("?",N),(N=this.m)&&f.push("#",Id(N,FF)),f.join("")},Hi.prototype.resolve=function(f){const w=_r(this);let N=!!f.j;N?Sd(w,f.j):N=!!f.o,N?w.o=f.o:N=!!f.g,N?w.g=f.g:N=f.u!=null;var D=f.h;if(N)Nd(w,f.u);else if(N=!!f.h){if(D.charAt(0)!="/")if(this.g&&!this.h)D="/"+D;else{var V=w.h.lastIndexOf("/");V!=-1&&(D=w.h.slice(0,V+1)+D)}if(V=D,V==".."||V==".")D="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){D=V.lastIndexOf("/",0)==0,V=V.split("/");const z=[];for(let te=0;te<V.length;){const ke=V[te++];ke=="."?D&&te==V.length&&z.push(""):ke==".."?((z.length>1||z.length==1&&z[0]!="")&&z.pop(),D&&te==V.length&&z.push("")):(z.push(ke),D=!0)}D=z.join("/")}else D=V}return N?w.h=D:N=f.i.toString()!=="",N?lx(w,JN(f.i)):N=!!f.m,N&&(w.m=f.m),w};function _r(f){return new Hi(f)}function Sd(f,w,N){f.j=N?Ad(w,!0):w,f.j&&(f.j=f.j.replace(/:$/,""))}function Nd(f,w){if(w){if(w=Number(w),isNaN(w)||w<0)throw Error("Bad port number "+w);f.u=w}else f.u=null}function lx(f,w,N){w instanceof Cd?(f.i=w,BF(f.i,f.l)):(N||(w=Id(w,UF)),f.i=new Cd(w,f.l))}function xt(f,w,N){f.i.set(w,N)}function Gm(f){return xt(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ad(f,w){return f?w?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Id(f,w,N){return typeof f=="string"?(f=encodeURI(f).replace(w,OF),N&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function OF(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var KN=/[#\/\?@]/g,VF=/[#\?:]/g,LF=/[#\?]/g,UF=/[#\?@]/g,FF=/#/g;function Cd(f,w){this.h=this.g=null,this.i=f||null,this.j=!!w}function wo(f){f.g||(f.g=new Map,f.h=0,f.i&&MF(f.i,function(w,N){f.add(decodeURIComponent(w.replace(/\+/g," ")),N)}))}t=Cd.prototype,t.add=function(f,w){wo(this),this.i=null,f=Gl(this,f);let N=this.g.get(f);return N||this.g.set(f,N=[]),N.push(w),this.h+=1,this};function WN(f,w){wo(f),w=Gl(f,w),f.g.has(w)&&(f.i=null,f.h-=f.g.get(w).length,f.g.delete(w))}function YN(f,w){return wo(f),w=Gl(f,w),f.g.has(w)}t.forEach=function(f,w){wo(this),this.g.forEach(function(N,D){N.forEach(function(V){f.call(w,V,D,this)},this)},this)};function QN(f,w){wo(f);let N=[];if(typeof w=="string")YN(f,w)&&(N=N.concat(f.g.get(Gl(f,w))));else for(f=Array.from(f.g.values()),w=0;w<f.length;w++)N=N.concat(f[w]);return N}t.set=function(f,w){return wo(this),this.i=null,f=Gl(this,f),YN(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[w]),this.h+=1,this},t.get=function(f,w){return f?(f=QN(this,f),f.length>0?String(f[0]):w):w};function XN(f,w,N){WN(f,w),N.length>0&&(f.i=null,f.g.set(Gl(f,w),p(N)),f.h+=N.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],w=Array.from(this.g.keys());for(let D=0;D<w.length;D++){var N=w[D];const V=Td(N);N=QN(this,N);for(let z=0;z<N.length;z++){let te=V;N[z]!==""&&(te+="="+Td(N[z])),f.push(te)}}return this.i=f.join("&")};function JN(f){const w=new Cd;return w.i=f.i,f.g&&(w.g=new Map(f.g),w.h=f.h),w}function Gl(f,w){return w=String(w),f.j&&(w=w.toLowerCase()),w}function BF(f,w){w&&!f.j&&(wo(f),f.i=null,f.g.forEach(function(N,D){const V=D.toLowerCase();D!=V&&(WN(this,D),XN(this,V,N))},f)),f.j=w}function zF(f,w){const N=new _d;if(a.Image){const D=new Image;D.onload=d(Gi,N,"TestLoadImage: loaded",!0,w,D),D.onerror=d(Gi,N,"TestLoadImage: error",!1,w,D),D.onabort=d(Gi,N,"TestLoadImage: abort",!1,w,D),D.ontimeout=d(Gi,N,"TestLoadImage: timeout",!1,w,D),a.setTimeout(function(){D.ontimeout&&D.ontimeout()},1e4),D.src=f}else w(!1)}function $F(f,w){const N=new _d,D=new AbortController,V=setTimeout(()=>{D.abort(),Gi(N,"TestPingServer: timeout",!1,w)},1e4);fetch(f,{signal:D.signal}).then(z=>{clearTimeout(V),z.ok?Gi(N,"TestPingServer: ok",!0,w):Gi(N,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(V),Gi(N,"TestPingServer: error",!1,w)})}function Gi(f,w,N,D,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),D(N)}catch{}}function qF(){this.g=new NF}function cx(f){this.i=f.Sb||null,this.h=f.ab||!1}h(cx,IN),cx.prototype.g=function(){return new Km(this.i,this.h)};function Km(f,w){tt.call(this),this.H=f,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Km,tt),t=Km.prototype,t.open=function(f,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=w,this.readyState=1,Rd(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const w={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(w.body=f),(this.H||a).fetch(new Request(this.D,w)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jd(this)),this.readyState=0},t.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Rd(this)),this.g&&(this.readyState=3,Rd(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ZN(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ZN(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}t.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var w=f.value?f.value:new Uint8Array(0);(w=this.B.decode(w,{stream:!f.done}))&&(this.response=this.responseText+=w)}f.done?jd(this):Rd(this),this.readyState==3&&ZN(this)}},t.Oa=function(f){this.g&&(this.response=this.responseText=f,jd(this))},t.Na=function(f){this.g&&(this.response=f,jd(this))},t.ga=function(){this.g&&jd(this)};function jd(f){f.readyState=4,f.l=null,f.j=null,f.B=null,Rd(f)}t.setRequestHeader=function(f,w){this.A.append(f,w)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],w=this.h.entries();for(var N=w.next();!N.done;)N=N.value,f.push(N[0]+": "+N[1]),N=w.next();return f.join(`\r
`)};function Rd(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Km.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function eA(f){let w="";return K(f,function(N,D){w+=D,w+=":",w+=N,w+=`\r
`}),w}function ux(f,w,N){e:{for(D in N){var D=!1;break e}D=!0}D||(N=eA(N),typeof f=="string"?N!=null&&Td(N):xt(f,w,N))}function Vt(f){tt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Vt,tt);var HF=/^https?$/i,GF=["POST","PUT"];t=Vt.prototype,t.Fa=function(f){this.H=f},t.ea=function(f,w,N,D){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);w=w?w.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():MN.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(w,String(f),!0),this.B=!1}catch(z){tA(this,z);return}if(f=N||"",N=new Map(this.headers),D)if(Object.getPrototypeOf(D)===Object.prototype)for(var V in D)N.set(V,D[V]);else if(typeof D.keys=="function"&&typeof D.get=="function")for(const z of D.keys())N.set(z,D.get(z));else throw Error("Unknown input type for opt_headers: "+String(D));D=Array.from(N.keys()).find(z=>z.toLowerCase()=="content-type"),V=a.FormData&&f instanceof a.FormData,!(Array.prototype.indexOf.call(GF,w,void 0)>=0)||D||V||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,te]of N)this.g.setRequestHeader(z,te);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(z){tA(this,z)}};function tA(f,w){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=w,f.o=5,nA(f),Wm(f)}function nA(f){f.A||(f.A=!0,rn(f,"complete"),rn(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,rn(this,"complete"),rn(this,"abort"),Wm(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wm(this,!0)),Vt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?sA(this):this.Xa())},t.Xa=function(){sA(this)};function sA(f){if(f.h&&typeof i<"u"){if(f.v&&Ki(f)==4)setTimeout(f.Ca.bind(f),0);else if(rn(f,"readystatechange"),Ki(f)==4){f.h=!1;try{const z=f.ca();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break e;default:w=!1}var N;if(!(N=w)){var D;if(D=z===0){let te=String(f.D).match(GN)[1]||null;!te&&a.self&&a.self.location&&(te=a.self.location.protocol.slice(0,-1)),D=!HF.test(te?te.toLowerCase():"")}N=D}if(N)rn(f,"complete"),rn(f,"success");else{f.o=6;try{var V=Ki(f)>2?f.g.statusText:""}catch{V=""}f.l=V+" ["+f.ca()+"]",nA(f)}}finally{Wm(f)}}}}function Wm(f,w){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const N=f.g;f.g=null,w||rn(f,"ready");try{N.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ki(f){return f.g?f.g.readyState:0}t.ca=function(){try{return Ki(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(f){if(this.g){var w=this.g.responseText;return f&&w.indexOf(f)==0&&(w=w.substring(f.length)),SF(w)}};function rA(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function KF(f){const w={};f=(f.g&&Ki(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let D=0;D<f.length;D++){if(k(f[D]))continue;var N=RF(f[D]);const V=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const z=w[V]||[];w[V]=z,z.push(N)}ee(w,function(D){return D.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pd(f,w,N){return N&&N.internalChannelParams&&N.internalChannelParams[f]||w}function iA(f){this.za=0,this.i=[],this.j=new _d,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pd("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pd("baseRetryDelayMs",5e3,f),this.Za=Pd("retryDelaySeedMs",1e4,f),this.Ta=Pd("forwardChannelMaxRetries",2,f),this.va=Pd("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new BN(f&&f.concurrentRequestLimit),this.Ba=new qF,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=iA.prototype,t.ka=8,t.I=1,t.connect=function(f,w,N,D){Bn(0),this.W=f,this.H=w||{},N&&D!==void 0&&(this.H.OSID=N,this.H.OAID=D),this.F=this.X,this.J=mA(this,null,this.W),Qm(this)};function dx(f){if(aA(f),f.I==3){var w=f.V++,N=_r(f.J);if(xt(N,"SID",f.M),xt(N,"RID",w),xt(N,"TYPE","terminate"),kd(f,N),w=new qi(f,f.j,w),w.M=2,w.A=Gm(_r(N)),N=!1,a.navigator&&a.navigator.sendBeacon)try{N=a.navigator.sendBeacon(w.A.toString(),"")}catch{}!N&&a.Image&&(new Image().src=w.A,N=!0),N||(w.g=pA(w.j,null),w.g.ea(w.A)),w.F=Date.now(),Hm(w)}fA(f)}function Ym(f){f.g&&(fx(f),f.g.cancel(),f.g=null)}function aA(f){Ym(f),f.v&&(a.clearTimeout(f.v),f.v=null),Xm(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&a.clearTimeout(f.m),f.m=null)}function Qm(f){if(!zN(f.h)&&!f.m){f.m=!0;var w=f.Ea;A||T(),R||(A(),R=!0),S.add(w,f),f.D=0}}function WF(f,w){return $N(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=w.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=wd(u(f.Ea,f,w),hA(f,f.D)),f.D++,!0)}t.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const V=new qi(this,this.j,f);let z=this.o;if(this.U&&(z?(z=re(z),nt(z,this.U)):z=this.U),this.u!==null||this.R||(V.J=z,z=null),this.S)e:{for(var w=0,N=0;N<this.i.length;N++){t:{var D=this.i[N];if("__data__"in D.map&&(D=D.map.__data__,typeof D=="string")){D=D.length;break t}D=void 0}if(D===void 0)break;if(w+=D,w>4096){w=N;break e}if(w===4096||N===this.i.length-1){w=N+1;break e}}w=1e3}else w=1e3;w=lA(this,V,w),N=_r(this.J),xt(N,"RID",f),xt(N,"CVER",22),this.G&&xt(N,"X-HTTP-Session-Id",this.G),kd(this,N),z&&(this.R?w="headers="+Td(eA(z))+"&"+w:this.u&&ux(N,this.u,z)),ox(this.h,V),this.Ra&&xt(N,"TYPE","init"),this.S?(xt(N,"$req",w),xt(N,"SID","null"),V.U=!0,sx(V,N,null)):sx(V,N,w),this.I=2}}else this.I==3&&(f?oA(this,f):this.i.length==0||zN(this.h)||oA(this))};function oA(f,w){var N;w?N=w.l:N=f.V++;const D=_r(f.J);xt(D,"SID",f.M),xt(D,"RID",N),xt(D,"AID",f.K),kd(f,D),f.u&&f.o&&ux(D,f.u,f.o),N=new qi(f,f.j,N,f.D+1),f.u===null&&(N.J=f.o),w&&(f.i=w.G.concat(f.i)),w=lA(f,N,1e3),N.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),ox(f.h,N),sx(N,D,w)}function kd(f,w){f.H&&K(f.H,function(N,D){xt(w,D,N)}),f.l&&K({},function(N,D){xt(w,D,N)})}function lA(f,w,N){N=Math.min(f.i.length,N);const D=f.l?u(f.l.Ka,f.l,f):null;e:{var V=f.i;let ke=-1;for(;;){const an=["count="+N];ke==-1?N>0?(ke=V[0].g,an.push("ofs="+ke)):ke=0:an.push("ofs="+ke);let ht=!0;for(let fn=0;fn<N;fn++){var z=V[fn].g;const Tr=V[fn].map;if(z-=ke,z<0)ke=Math.max(0,V[fn].g-100),ht=!1;else try{z="req"+z+"_"||"";try{var te=Tr instanceof Map?Tr:Object.entries(Tr);for(const[To,Wi]of te){let Yi=Wi;l(Wi)&&(Yi=Jv(Wi)),an.push(z+To+"="+encodeURIComponent(Yi))}}catch(To){throw an.push(z+"type="+encodeURIComponent("_badmap")),To}}catch{D&&D(Tr)}}if(ht){te=an.join("&");break e}}te=void 0}return f=f.i.splice(0,N),w.G=f,te}function cA(f){if(!f.g&&!f.v){f.Y=1;var w=f.Da;A||T(),R||(A(),R=!0),S.add(w,f),f.A=0}}function hx(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=wd(u(f.Da,f),hA(f,f.A)),f.A++,!0)}t.Da=function(){if(this.v=null,uA(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=wd(u(this.Wa,this),f)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Bn(10),Ym(this),uA(this))};function fx(f){f.B!=null&&(a.clearTimeout(f.B),f.B=null)}function uA(f){f.g=new qi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var w=_r(f.na);xt(w,"RID","rpc"),xt(w,"SID",f.M),xt(w,"AID",f.K),xt(w,"CI",f.F?"0":"1"),!f.F&&f.ia&&xt(w,"TO",f.ia),xt(w,"TYPE","xmlhttp"),kd(f,w),f.u&&f.o&&ux(w,f.u,f.o),f.O&&(f.g.H=f.O);var N=f.g;f=f.ba,N.M=1,N.A=Gm(_r(w)),N.u=null,N.R=!0,LN(N,f)}t.Va=function(){this.C!=null&&(this.C=null,Ym(this),hx(this),Bn(19))};function Xm(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function dA(f,w){var N=null;if(f.g==w){Xm(f),fx(f),f.g=null;var D=2}else if(ax(f.h,w))N=w.G,qN(f.h,w),D=1;else return;if(f.I!=0){if(w.o)if(D==1){N=w.u?w.u.length:0,w=Date.now()-w.F;var V=f.D;D=$m(),rn(D,new kN(D,N)),Qm(f)}else cA(f);else if(V=w.m,V==3||V==0&&w.X>0||!(D==1&&WF(f,w)||D==2&&hx(f)))switch(N&&N.length>0&&(w=f.h,w.i=w.i.concat(N)),V){case 1:_o(f,5);break;case 4:_o(f,10);break;case 3:_o(f,6);break;default:_o(f,2)}}}function hA(f,w){let N=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(N*=2),N*w}function _o(f,w){if(f.j.info("Error code "+w),w==2){var N=u(f.bb,f),D=f.Ua;const V=!D;D=new Hi(D||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Sd(D,"https"),Gm(D),V?zF(D.toString(),N):$F(D.toString(),N)}else Bn(2);f.I=0,f.l&&f.l.pa(w),fA(f),aA(f)}t.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Bn(2)):(this.j.info("Failed to ping google.com"),Bn(1))};function fA(f){if(f.I=0,f.ja=[],f.l){const w=HN(f.h);(w.length!=0||f.i.length!=0)&&(y(f.ja,w),y(f.ja,f.i),f.h.i.length=0,p(f.i),f.i.length=0),f.l.oa()}}function mA(f,w,N){var D=N instanceof Hi?_r(N):new Hi(N);if(D.g!="")w&&(D.g=w+"."+D.g),Nd(D,D.u);else{var V=a.location;D=V.protocol,w=w?w+"."+V.hostname:V.hostname,V=+V.port;const z=new Hi(null);D&&Sd(z,D),w&&(z.g=w),V&&Nd(z,V),N&&(z.h=N),D=z}return N=f.G,w=f.wa,N&&w&&xt(D,N,w),xt(D,"VER",f.ka),kd(f,D),D}function pA(f,w,N){if(w&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return w=f.Aa&&!f.ma?new Vt(new cx({ab:N})):new Vt(f.ma),w.Fa(f.L),w}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function gA(){}t=gA.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Jm(){}Jm.prototype.g=function(f,w){return new ms(f,w)};function ms(f,w){tt.call(this),this.g=new iA(w),this.l=f,this.h=w&&w.messageUrlParams||null,f=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(f?f["X-WebChannel-Content-Type"]=w.messageContentType:f={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.sa&&(f?f["X-WebChannel-Client-Profile"]=w.sa:f={"X-WebChannel-Client-Profile":w.sa}),this.g.U=f,(f=w&&w.Qb)&&!k(f)&&(this.g.u=f),this.A=w&&w.supportsCrossDomainXhr||!1,this.v=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!k(w)&&(this.g.G=w,f=this.h,f!==null&&w in f&&(f=this.h,w in f&&delete f[w])),this.j=new Kl(this)}h(ms,tt),ms.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ms.prototype.close=function(){dx(this.g)},ms.prototype.o=function(f){var w=this.g;if(typeof f=="string"){var N={};N.__data__=f,f=N}else this.v&&(N={},N.__data__=Jv(f),f=N);w.i.push(new DF(w.Ya++,f)),w.I==3&&Qm(w)},ms.prototype.N=function(){this.g.l=null,delete this.j,dx(this.g),delete this.g,ms.Z.N.call(this)};function yA(f){Zv.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var w=f.__sm__;if(w){e:{for(const N in w){f=N;break e}f=void 0}(this.i=f)&&(f=this.i,w=w!==null&&f in w?w[f]:void 0),this.data=w}else this.data=f}h(yA,Zv);function vA(){ex.call(this),this.status=1}h(vA,ex);function Kl(f){this.g=f}h(Kl,gA),Kl.prototype.ra=function(){rn(this.g,"a")},Kl.prototype.qa=function(f){rn(this.g,new yA(f))},Kl.prototype.pa=function(f){rn(this.g,new vA)},Kl.prototype.oa=function(){rn(this.g,"b")},Jm.prototype.createWebChannel=Jm.prototype.g,ms.prototype.send=ms.prototype.o,ms.prototype.open=ms.prototype.m,ms.prototype.close=ms.prototype.close,NV=function(){return new Jm},SV=function(){return $m()},EV=xo,v1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},qm.NO_ERROR=0,qm.TIMEOUT=8,qm.HTTP_ERROR=6,ag=qm,DN.COMPLETE="complete",TV=DN,CN.EventType=xd,xd.OPEN="a",xd.CLOSE="b",xd.ERROR="c",xd.MESSAGE="d",tt.prototype.listen=tt.prototype.J,ih=CN,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,_V=Vt}).apply(typeof xp<"u"?xp:typeof self<"u"?self:typeof window<"u"?window:{});const nC="@firebase/firestore",sC="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ad="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=new hm("@firebase/firestore");function cc(){return hl.logLevel}function J(t,...e){if(hl.logLevel<=Me.DEBUG){const n=e.map(lE);hl.debug(`Firestore (${ad}): ${t}`,...n)}}function Hn(t,...e){if(hl.logLevel<=Me.ERROR){const n=e.map(lE);hl.error(`Firestore (${ad}): ${t}`,...n)}}function _u(t,...e){if(hl.logLevel<=Me.WARN){const n=e.map(lE);hl.warn(`Firestore (${ad}): ${t}`,...n)}}function lE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,AV(t,s,n)}function AV(t,e,n){let s=`FIRESTORE (${ad}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Hn(s),new Error(s)}function me(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||AV(e,r,s)}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Z=class extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XQ=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},JQ=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qn.UNAUTHENTICATED))}shutdown(){}};class ZQ{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){me(this.o===void 0,42304);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},l=c=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(me(typeof s.accessToken=="string",31837,{l:s}),new XQ(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return me(e===null||typeof e=="string",2055,{h:e}),new qn(e)}}let eX=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},tX=class{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new eX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}},rC=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class nX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){me(this.o===void 0,3512);const s=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const a=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?r(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new rC(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=sX(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%62))}return s}}function Ee(t,e){return t<e?-1:t>e?1:0}function x1(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return hb(r)===hb(i)?Ee(r,i):hb(r)?1:-1}return Ee(t.length,e.length)}const rX=55296,iX=57343;function hb(t){const e=t.charCodeAt(0);return e>=rX&&e<=iX}function Tu(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}function IV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="__name__";let CV=class sa{constructor(e,n,s){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof sa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=sa.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Ee(e.length,n.length)}static compareSegments(e,n){const s=sa.isNumericId(e),r=sa.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?sa.extractNumericId(e).compare(sa.extractNumericId(n)):x1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}},ft=class og extends CV{construct(e,n,s){return new og(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Z(G.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new og(n)}static emptyPath(){return new og([])}};const aX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let In=class uc extends CV{construct(e,n,s){return new uc(e,n,s)}static isValidIdentifier(e){return aX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),uc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iC}static keyField(){return new uc([iC])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new Z(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new Z(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Z(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new Z(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new uc(n)}static emptyPath(){return new uc([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ie=class ah{constructor(e){this.path=e}static fromPath(e){return new ah(ft.fromString(e))}static fromName(e){return new ah(ft.fromString(e).popFirst(5))}static empty(){return new ah(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ah(new ft(e.slice()))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t,e,n){if(!n)throw new Z(G.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oX(t,e,n,s){if(e===!0&&s===!0)throw new Z(G.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function aC(t){if(!ie.isDocumentKey(t))throw new Z(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function oC(t){if(ie.isDocumentKey(t))throw new Z(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function RV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function ds(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yy(t);throw new Z(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(t,e){const n={typeString:t};return e&&(n.value=e),n}function ym(t,e){if(!RV(t))throw new Z(G.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new Z(G.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=-62135596800,cC=1e6;let kt=class Po{static now(){return Po.fromMillis(Date.now())}static fromDate(e){return Po.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*cC);return new Po(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<lC)throw new Z(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cC}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Po._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ym(e,Po._jsonSchema))return new Po(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lC;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};kt._jsonSchemaVersion="firestore/timestamp/1.0",kt._jsonSchema={type:sn("string",kt._jsonSchemaVersion),seconds:sn("number"),nanoseconds:sn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let be=class lg{static fromTimestamp(e){return new lg(e)}static min(){return new lg(new kt(0,0))}static max(){return new lg(new kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf=-1;class _0{constructor(e,n,s,r){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=r}}function b1(t){return t.fields.find(e=>e.kind===2)}function ko(t){return t.fields.filter(e=>e.kind!==2)}_0.UNKNOWN_ID=-1;class cg{constructor(e,n){this.fieldPath=e,this.kind=n}}class Ef{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Ef(0,Ms.min())}}function lX(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=be.fromTimestamp(s===1e9?new kt(n+1,0):new kt(n,s));return new Ms(r,ie.empty(),e)}function PV(t){return new Ms(t.readTime,t.key,Tf)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(be.min(),ie.empty(),Tf)}static max(){return new Ms(be.max(),ie.empty(),Tf)}}function uE(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ol(t){if(t.code!==G.FAILED_PRECONDITION||t.message!==kV)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,s)=>{n(e)})}static reject(e){return new L((n,s)=>{s(e)})}static waitFor(e){return new L((n,s)=>{let r=0,i=0,a=!1;e.forEach(l=>{++r,l.next(()=>{++i,a&&i===r&&n()},c=>s(c))}),a=!0,i===r&&n()})}static or(e){let n=L.resolve(!1);for(const s of e)n=n.next(r=>r?L.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new L((s,r)=>{const i=e.length,a=new Array(i);let l=0;for(let c=0;c<i;c++){const u=c;n(e[u]).next(d=>{a[u]=d,++l,l===i&&s(a)},d=>r(d))}})}static doWhile(e,n){return new L((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="SimpleDb";class Qy{static open(e,n,s,r){try{return new Qy(n,e.transaction(r,s))}catch(i){throw new Ph(n,i)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Mr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Ph(e,n.error)):this.S.resolve()},this.transaction.onerror=s=>{const r=dE(s.target.error);this.S.reject(new Ph(e,r))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(J(gs,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uX(n)}}class Ua{static delete(e){return J(gs,"Removing database:",e),Lo(EO().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!qy())return!1;if(Ua.F())return!0;const e=dn(),n=Ua.M(e),s=0<n&&n<10,r=MV(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||i)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}constructor(e,n,s){this.name=e,this.version=n,this.N=s,this.B=null,Ua.M(dn())===12.2&&Hn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(J(gs,"Opening database:",this.name),this.db=await new Promise((n,s)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=i=>{const a=i.target.result;n(a)},r.onblocked=()=>{s(new Ph(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=i=>{const a=i.target.error;a.name==="VersionError"?s(new Z(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?s(new Z(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):s(new Ph(e,a))},r.onupgradeneeded=i=>{J(gs,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const a=i.target.result;this.N.k(a,r.transaction,i.oldVersion,this.version).next(()=>{J(gs,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,s,r){const i=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Qy.open(this.db,e,i?"readonly":"readwrite",s),c=r(l).next(u=>(l.C(),u)).catch(u=>(l.abort(u),L.reject(u))).toPromise();return c.catch(()=>{}),await l.D,c}catch(l){const c=l,u=c.name!=="FirebaseError"&&a<3;if(J(gs,"Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function MV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class cX{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Lo(this.U.delete())}}class Ph extends Z{constructor(e,n){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function go(t){return t.name==="IndexedDbTransactionError"}class uX{constructor(e){this.store=e}put(e,n){let s;return n!==void 0?(J(gs,"PUT",this.store.name,e,n),s=this.store.put(n,e)):(J(gs,"PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Lo(s)}add(e){return J(gs,"ADD",this.store.name,e,e),Lo(this.store.add(e))}get(e){return Lo(this.store.get(e)).next(n=>(n===void 0&&(n=null),J(gs,"GET",this.store.name,e,n),n))}delete(e){return J(gs,"DELETE",this.store.name,e),Lo(this.store.delete(e))}count(){return J(gs,"COUNT",this.store.name),Lo(this.store.count())}J(e,n){const s=this.options(e,n),r=s.index?this.store.index(s.index):this.store;if(typeof r.getAll=="function"){const i=r.getAll(s.range);return new L((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}})}{const i=this.cursor(s),a=[];return this.H(i,(l,c)=>{a.push(c)}).next(()=>a)}}Y(e,n){const s=this.store.getAll(e,n===null?void 0:n);return new L((r,i)=>{s.onerror=a=>{i(a.target.error)},s.onsuccess=a=>{r(a.target.result)}})}Z(e,n){J(gs,"DELETE ALL",this.store.name);const s=this.options(e,n);s.X=!1;const r=this.cursor(s);return this.H(r,(i,a,l)=>l.delete())}ee(e,n){let s;n?s=e:(s={},n=e);const r=this.cursor(s);return this.H(r,n)}te(e){const n=this.cursor({});return new L((s,r)=>{n.onerror=i=>{const a=dE(i.target.error);r(a)},n.onsuccess=i=>{const a=i.target.result;a?e(a.primaryKey,a.value).next(l=>{l?a.continue():s()}):s()}})}H(e,n){const s=[];return new L((r,i)=>{e.onerror=a=>{i(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void r();const c=new cX(l),u=n(l.primaryKey,l.value,c);if(u instanceof L){const d=u.catch(h=>(c.done(),L.reject(h)));s.push(d)}c.isDone?r():c.G===null?l.continue():l.continue(c.G)}}).next(()=>L.waitFor(s))}options(e,n){let s;return e!==void 0&&(typeof e=="string"?s=e:n=e),{index:s,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,n):s.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Lo(t){return new L((e,n)=>{t.onsuccess=s=>{const r=s.target.result;e(r)},t.onerror=s=>{const r=dE(s.target.error);n(r)}})}let uC=!1;function dE(t){const e=Ua.M(dn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const s=new Z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return uC||(uC=!0,setTimeout(()=>{throw s},0)),s}}return t}const kh="IndexBackfiller";class dX{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){J(kh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.ne.ie();J(kh,`Documents written: ${n}`)}catch(n){go(n)?J(kh,"Ignoring IndexedDB error during index backfill: ",n):await Ol(n)}await this.re(6e4)})}}class hX{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.se(n,e))}se(e,n){const s=new Set;let r=n,i=!0;return L.doWhile(()=>i===!0&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!s.has(a))return J(kh,`Processing collection: ${a}`),this.oe(e,a,r).next(l=>{r-=l,s.add(a)});i=!1})).next(()=>n-r)}oe(e,n,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,s).next(i=>{const a=i.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this._e(r,i)).next(l=>(J(kh,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l))).next(()=>a.size)}))}_e(e,n){let s=e;return n.changes.forEach((r,i)=>{const a=PV(i);uE(a,s)>0&&(s=a)}),new Ms(s.readTime,s.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ys.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=-1;function Xy(t){return t==null}function Sf(t){return t===0&&1/t==-1/0}function fX(t){return typeof t=="number"&&Number.isInteger(t)&&!Sf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="";function Un(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dC(e)),e=mX(t.get(n),e);return dC(e)}function mX(t,e){let n=e;const s=t.length;for(let r=0;r<s;r++){const i=t.charAt(r);switch(i){case"\0":n+="";break;case T0:n+="";break;default:n+=i}}return n}function dC(t){return t+T0+""}function Cr(t){const e=t.length;if(me(e>=2,64408,{path:t}),e===2)return me(t.charAt(0)===T0&&t.charAt(1)==="",56145,{path:t}),ft.emptyPath();const n=e-2,s=[];let r="";for(let i=0;i<e;){const a=t.indexOf(T0,i);switch((a<0||a>n)&&ce(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(i,a);let c;r.length===0?c=l:(r+=l,c=r,r=""),s.push(c);break;case"":r+=t.substring(i,a),r+="\0";break;case"":r+=t.substring(i,a+1);break;default:ce(61167,{path:t})}i=a+2}return new ft(s)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="remoteDocuments",vm="owner",Xl="owner",Nf="mutationQueues",pX="userId",lr="mutations",hC="batchId",zo="userMutationsIndex",fC=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t,e){return[t,Un(e)]}function OV(t,e,n){return[t,Un(e),n]}const gX={},Eu="documentMutations",E0="remoteDocumentsV14",yX=["prefixPath","collectionGroup","readTime","documentId"],dg="documentKeyIndex",vX=["prefixPath","collectionGroup","documentId"],VV="collectionGroupIndex",xX=["collectionGroup","readTime","prefixPath","documentId"],Af="remoteDocumentGlobal",w1="remoteDocumentGlobalKey",Su="targets",LV="queryTargetsIndex",bX=["canonicalId","targetId"],Nu="targetDocuments",wX=["targetId","path"],hE="documentTargetsIndex",_X=["path","targetId"],S0="targetGlobalKey",Zo="targetGlobal",If="collectionParents",TX=["collectionId","parent"],Au="clientMetadata",EX="clientId",Jy="bundles",SX="bundleId",Zy="namedQueries",NX="name",fE="indexConfiguration",AX="indexId",_1="collectionGroupIndex",IX="collectionGroup",Dh="indexState",CX=["indexId","uid"],UV="sequenceNumberIndex",jX=["uid","sequenceNumber"],Mh="indexEntries",RX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],FV="documentKeyIndex",PX=["indexId","uid","orderedDocumentKey"],ev="documentOverlays",kX=["userId","collectionPath","documentId"],T1="collectionPathOverlayIndex",DX=["userId","collectionPath","largestBatchId"],BV="collectionGroupOverlayIndex",MX=["userId","collectionGroup","largestBatchId"],mE="globals",OX="name",zV=[Nf,lr,Eu,Do,Su,vm,Zo,Nu,Au,Af,If,Jy,Zy],VX=[...zV,ev],$V=[Nf,lr,Eu,E0,Su,vm,Zo,Nu,Au,Af,If,Jy,Zy,ev],qV=$V,pE=[...qV,fE,Dh,Mh],LX=pE,HV=[...pE,mE],UX=HV;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends DV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function hn(t,e){const n=Se(t);return Ua.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yt=class S1{constructor(e,n){this.comparator=e,this.root=n||Fa.EMPTY}insert(e,n){return new S1(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fa.BLACK,null,null))}remove(e){return new S1(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fa.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bp(this.root,e,this.comparator,!1)}getReverseIterator(){return new bp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bp(this.root,e,this.comparator,!0)}},bp=class{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fa=class si{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??si.RED,this.left=r??si.EMPTY,this.right=i??si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new si(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return si.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}};Fa.EMPTY=null,Fa.RED=!0,Fa.BLACK=!1;Fa.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new Fa(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class N1{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pC(this.data.getIterator())}getIteratorFrom(e){return new pC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof N1)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new N1(this.comparator);return n.data=e,n}},pC=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function Jl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new cs([])}unionWith(e){let n=new vt(In.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new cs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tu(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KV=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jn=class A1{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new KV("Invalid base64 string: "+i):i}}(e);return new A1(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new A1(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};jn.EMPTY_BYTE_STRING=new jn("");const FX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ji(t){if(me(!!t,39018),typeof t=="string"){let e=0;const n=FX.exec(t);if(me(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Pt(t.seconds),nanos:Pt(t.nanos)}}function Pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?jn.fromBase64String(t):jn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV="server_timestamp",YV="__type__",QV="__previous_value__",XV="__local_write_time__";function gE(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[YV])==null?void 0:s.stringValue)===WV}function tv(t){const e=t.mapValue.fields[QV];return gE(e)?tv(e):e}function Cf(t){const e=ji(t.mapValue.fields[XV].timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BX=class{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}};const N0="(default)";let nv=class I1{constructor(e,n){this.projectId=e,this.database=n||N0}static empty(){return new I1("","")}get isDefaultDatabase(){return this.database===N0}isEqual(e){return e instanceof I1&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__type__",JV="__max__",Sa={mapValue:{fields:{__type__:{stringValue:JV}}}},vE="__vector__",Iu="value",hg={nullValue:"NULL_VALUE"};function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?gE(t)?4:ZV(t)?9007199254740991:sv(t)?10:11:ce(28295,{value:t})}function Br(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cf(t).isEqual(Cf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ji(r.timestampValue),l=ji(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ri(r.bytesValue).isEqual(Ri(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Pt(r.geoPointValue.latitude)===Pt(i.geoPointValue.latitude)&&Pt(r.geoPointValue.longitude)===Pt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Pt(r.integerValue)===Pt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Pt(r.doubleValue),l=Pt(i.doubleValue);return a===l?Sf(a)===Sf(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Tu(t.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(mC(a)!==mC(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Br(a[c],l[c])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function jf(t,e){return(t.values||[]).find(n=>Br(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Qa(t),s=Qa(e);if(n!==s)return Ee(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Pt(i.integerValue||i.doubleValue),c=Pt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return gC(t.timestampValue,e.timestampValue);case 4:return gC(Cf(t),Cf(e));case 5:return x1(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ri(i),c=Ri(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Ee(l[u],c[u]);if(d!==0)return d}return Ee(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Ee(Pt(i.latitude),Pt(a.latitude));return l!==0?l:Ee(Pt(i.longitude),Pt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yC(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,p,y,x;const l=i.fields||{},c=a.fields||{},u=(m=l[Iu])==null?void 0:m.arrayValue,d=(p=c[Iu])==null?void 0:p.arrayValue,h=Ee(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:yC(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Sa.mapValue&&a===Sa.mapValue)return 0;if(i===Sa.mapValue)return 1;if(a===Sa.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=x1(c[h],d[h]);if(m!==0)return m;const p=Xa(l[c[h]],u[d[h]]);if(p!==0)return p}return Ee(c.length,d.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function gC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ji(t),s=ji(e),r=Ee(n.seconds,s.seconds);return r!==0?r:Ee(n.nanos,s.nanos)}function yC(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=Xa(n[r],s[r]);if(i)return i}return Ee(n.length,s.length)}function Cu(t){return C1(t)}function C1(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=ji(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",r=!0;for(const i of n.values||[])r?r=!1:s+=",",s+=C1(i);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let r="{",i=!0;for(const a of s)i?i=!1:r+=",",r+=`${a}:${C1(n.fields[a])}`;return r+"}"}(t.mapValue):ce(61005,{value:t})}function fg(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tv(t);return e?16+fg(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((r,i)=>r+fg(i),0)}(t.arrayValue);case 10:case 11:return function(s){let r=0;return yo(s.fields,(i,a)=>{r+=i.length+fg(a)}),r}(t.mapValue);default:throw ce(13486,{value:t})}}function Rf(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function j1(t){return!!t&&"integerValue"in t}function Pf(t){return!!t&&"arrayValue"in t}function vC(t){return!!t&&"nullValue"in t}function xC(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function mg(t){return!!t&&"mapValue"in t}function sv(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[yE])==null?void 0:s.stringValue)===vE}function Oh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Oh(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oh(t.arrayValue.values[n]);return e}return{...t}}function ZV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JV}const e5={mapValue:{fields:{[yE]:{stringValue:vE},[Iu]:{arrayValue:{}}}}};function zX(t){return"nullValue"in t?hg:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Rf(nv.empty(),ie.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?sv(t)?e5:{mapValue:{}}:ce(35942,{value:t})}function $X(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Rf(nv.empty(),ie.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?e5:"mapValue"in t?sv(t)?{mapValue:{}}:Sa:ce(61959,{value:t})}function bC(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function wC(t,e){const n=Xa(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bs=class R1{constructor(e){this.value=e}static empty(){return new R1({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oh(n)}setAll(e){let n=In.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=Oh(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());mg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];mg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){yo(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new R1(Oh(this.value))}};function t5(t){const e=[];return yo(t.fields,(n,s)=>{const r=new In([n]);if(mg(s)){const i=t5(s.mapValue).fields;if(i.length===0)e.push(r);else for(const a of i)e.push(r.child(a))}else e.push(r)}),new cs(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yn=class Mo{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Mo(e,0,be.min(),be.min(),be.min(),bs.empty(),0)}static newFoundDocument(e,n,s,r){return new Mo(e,1,n,be.min(),s,r,0)}static newNoDocument(e,n){return new Mo(e,2,n,be.min(),be.min(),bs.empty(),0)}static newUnknownDocument(e,n){return new Mo(e,3,n,be.min(),be.min(),bs.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=class{constructor(e,n){this.position=e,this.inclusive=n}};function _C(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],a=t.position[r];if(i.field.isKeyField()?s=ie.comparator(ie.fromName(a.referenceValue),n.key):s=Xa(a,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function TC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Br(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let A0=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function qX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n5=class{},We=class s5 extends n5{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new HX(e,n,s):n==="array-contains"?new WX(e,s):n==="in"?new u5(e,s):n==="not-in"?new YX(e,s):n==="array-contains-any"?new QX(e,s):new s5(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new GX(e,s):new KX(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mt=class r5 extends n5{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new r5(e,n)}matches(e){return Ru(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Ru(t){return t.op==="and"}function P1(t){return t.op==="or"}function xE(t){return i5(t)&&Ru(t)}function i5(t){for(const e of t.filters)if(e instanceof mt)return!1;return!0}function k1(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+Cu(t.value);if(xE(t))return t.filters.map(e=>k1(e)).join(",");{const e=t.filters.map(n=>k1(n)).join(",");return`${t.op}(${e})`}}function a5(t,e){return t instanceof We?function(s,r){return r instanceof We&&s.op===r.op&&s.field.isEqual(r.field)&&Br(s.value,r.value)}(t,e):t instanceof mt?function(s,r){return r instanceof mt&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce((i,a,l)=>i&&a5(a,r.filters[l]),!0):!1}(t,e):void ce(19439)}function o5(t,e){const n=t.filters.concat(e);return mt.create(n,t.op)}function l5(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${Cu(n.value)}`}(t):t instanceof mt?function(n){return n.op.toString()+" {"+n.getFilters().map(l5).join(" ,")+"}"}(t):"Filter"}let HX=class extends We{constructor(e,n,s){super(e,n,s),this.key=ie.fromName(s.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},GX=class extends We{constructor(e,n){super(e,"in",n),this.keys=c5("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},KX=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=c5("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function c5(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ie.fromName(s.referenceValue))}let WX=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Pf(n)&&jf(n.arrayValue,this.value)}},u5=class extends We{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jf(this.value.arrayValue,n)}},YX=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(jf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jf(this.value.arrayValue,n)}},QX=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Pf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>jf(this.value.arrayValue,s))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XX=class{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.Te=null}};function D1(t,e=null,n=[],s=[],r=null,i=null,a=null){return new XX(t,e,n,s,r,i,a)}function fl(t){const e=Se(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>k1(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Xy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Cu(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Cu(s)).join(",")),e.Te=n}return e.Te}function xm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!a5(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TC(t.startAt,e.startAt)&&TC(t.endAt,e.endAt)}function I0(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function C0(t,e){return t.filters.filter(n=>n instanceof We&&n.field.isEqual(e))}function EC(t,e,n){let s=hg,r=!0;for(const i of C0(t,e)){let a=hg,l=!0;switch(i.op){case"<":case"<=":a=zX(i.value);break;case"==":case"in":case">=":a=i.value;break;case">":a=i.value,l=!1;break;case"!=":case"not-in":a=hg}bC({value:s,inclusive:r},{value:a,inclusive:l})<0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];bC({value:s,inclusive:r},{value:a,inclusive:n.inclusive})<0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}function SC(t,e,n){let s=Sa,r=!0;for(const i of C0(t,e)){let a=Sa,l=!0;switch(i.op){case">=":case">":a=$X(i.value),l=!1;break;case"==":case"in":case"<=":a=i.value;break;case"<":a=i.value,l=!1;break;case"!=":case"not-in":a=Sa}wC({value:s,inclusive:r},{value:a,inclusive:l})>0&&(s=a,r=l)}if(n!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const a=n.position[i];wC({value:s,inclusive:r},{value:a,inclusive:n.inclusive})>0&&(s=a,r=n.inclusive);break}}return{value:s,inclusive:r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bm=class{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function JX(t,e,n,s,r,i,a,l){return new bm(t,e,n,s,r,i,a,l)}function wm(t){return new bm(t)}function NC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function d5(t){return t.collectionGroup!==null}function Vh(t){const e=Se(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new vt(In.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new A0(i,s))}),n.has(In.keyField().canonicalString())||e.Ie.push(new A0(In.keyField(),s))}return e.Ie}function Js(t){const e=Se(t);return e.Ee||(e.Ee=ZX(e,Vh(t))),e.Ee}function ZX(t,e){if(t.limitType==="F")return D1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new A0(r.field,i)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return D1(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function M1(t,e){const n=t.filters.concat([e]);return new bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function O1(t,e,n){return new bm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rv(t,e){return xm(Js(t),Js(e))&&t.limitType===e.limitType}function h5(t){return`${fl(Js(t))}|lt:${t.limitType}`}function dc(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(r=>l5(r)).join(", ")}]`),Xy(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(r=>Cu(r)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(r=>Cu(r)).join(",")),`Target(${s})`}(Js(t))}; limitType=${t.limitType})`}function _m(t,e){return e.isFoundDocument()&&function(s,r){const i=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(i):ie.isDocumentKey(s.path)?s.path.isEqual(i):s.path.isImmediateParentOf(i)}(t,e)&&function(s,r){for(const i of Vh(s))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(s,r){for(const i of s.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(s,r){return!(s.startAt&&!function(a,l,c){const u=_C(a,l,c);return a.inclusive?u<=0:u<0}(s.startAt,Vh(s),r)||s.endAt&&!function(a,l,c){const u=_C(a,l,c);return a.inclusive?u>=0:u>0}(s.endAt,Vh(s),r))}(t,e)}function eJ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f5(t){return(e,n)=>{let s=!1;for(const r of Vh(t)){const i=tJ(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function tJ(t,e,n){const s=t.field.isKeyField()?ie.comparator(e.key,n.key):function(i,a,l){const c=a.data.field(i),u=l.data.field(i);return c!==null&&u!==null?Xa(c,u):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return GV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=new Yt(ie.comparator);function Ts(){return nJ}const m5=new Yt(ie.comparator);function oh(...t){let e=m5;for(const n of t)e=e.insert(n.key,n);return e}function p5(t){let e=m5;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function jr(){return Lh()}function g5(){return Lh()}function Lh(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const sJ=new Yt(ie.comparator),rJ=new vt(ie.comparator);function Ve(...t){let e=rJ;for(const n of t)e=e.add(n);return e}const iJ=new vt(Ee);function aJ(){return iJ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sf(e)?"-0":e}}function y5(t){return{integerValue:""+t}}function v5(t,e){return fX(e)?y5(e):bE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this._=void 0}}function oJ(t,e,n){return t instanceof Pu?function(r,i){const a={fields:{[YV]:{stringValue:WV},[XV]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&gE(i)&&(i=tv(i)),i&&(a.fields[QV]=i),{mapValue:a}}(n,e):t instanceof ku?b5(t,e):t instanceof Du?w5(t,e):function(r,i){const a=x5(r,i),l=AC(a)+AC(r.Ae);return j1(a)&&j1(r.Ae)?y5(l):bE(r.serializer,l)}(t,e)}function lJ(t,e,n){return t instanceof ku?b5(t,e):t instanceof Du?w5(t,e):n}function x5(t,e){return t instanceof Mu?function(s){return j1(s)||function(i){return!!i&&"doubleValue"in i}(s)}(e)?e:{integerValue:0}:null}class Pu extends iv{}class ku extends iv{constructor(e){super(),this.elements=e}}function b5(t,e){const n=_5(e);for(const s of t.elements)n.some(r=>Br(r,s))||n.push(s);return{arrayValue:{values:n}}}class Du extends iv{constructor(e){super(),this.elements=e}}function w5(t,e){let n=_5(e);for(const s of t.elements)n=n.filter(r=>!Br(r,s));return{arrayValue:{values:n}}}class Mu extends iv{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AC(t){return Pt(t.integerValue||t.doubleValue)}function _5(t){return Pf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n){this.field=e,this.transform=n}}function cJ(t,e){return t.field.isEqual(e.field)&&function(s,r){return s instanceof ku&&r instanceof ku||s instanceof Du&&r instanceof Du?Tu(s.elements,r.elements,Br):s instanceof Mu&&r instanceof Mu?Br(s.Ae,r.Ae):s instanceof Pu&&r instanceof Pu}(t.transform,e.transform)}class uJ{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class av{}function T5(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ov(t.key,On.none()):new od(t.key,t.data,On.none());{const n=t.data,s=bs.empty();let r=new vt(In.comparator);for(let i of e.fields)if(!r.has(i)){let a=n.field(i);a===null&&i.length>1&&(i=i.popLast(),a=n.field(i)),a===null?s.delete(i):s.set(i,a),r=r.add(i)}return new $i(t.key,s,new cs(r.toArray()),On.none())}}function dJ(t,e,n){t instanceof od?function(r,i,a){const l=r.value.clone(),c=CC(r.fieldTransforms,i,a.transformResults);l.setAll(c),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(r,i,a){if(!pg(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=CC(r.fieldTransforms,i,a.transformResults),c=i.data;c.setAll(E5(r)),c.setAll(l),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Uh(t,e,n,s){return t instanceof od?function(i,a,l,c){if(!pg(i.precondition,a))return l;const u=i.value.clone(),d=jC(i.fieldTransforms,c,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,s):t instanceof $i?function(i,a,l,c){if(!pg(i.precondition,a))return l;const u=jC(i.fieldTransforms,c,a),d=a.data;return d.setAll(E5(i)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,s):function(i,a,l){return pg(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function hJ(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=x5(s.transform,r||null);i!=null&&(n===null&&(n=bs.empty()),n.set(s.field,i))}return n||null}function IC(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Tu(s,r,(i,a)=>cJ(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class od extends av{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $i extends av{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function E5(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function CC(t,e,n){const s=new Map;me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let r=0;r<n.length;r++){const i=t[r],a=i.transform,l=e.data.field(i.field);s.set(i.field,lJ(a,l,n[r]))}return s}function jC(t,e,n){const s=new Map;for(const r of t){const i=r.transform,a=n.data.field(r.field);s.set(r.field,oJ(i,a,e))}return s}class ov extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class S5 extends av{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&dJ(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Uh(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Uh(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=g5();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let l=this.applyToLocalView(a,i.mutatedFields);l=n.has(r.key)?null:l;const c=T5(a,l);c!==null&&s.set(r.key,c),a.isValidDocument()||a.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Tu(this.mutations,e.mutations,(n,s)=>IC(n,s))&&Tu(this.baseMutations,e.baseMutations,(n,s)=>IC(n,s))}}class TE{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){me(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=function(){return sJ}();const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,s[a].version);return new TE(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EE=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ge;function mJ(t){switch(t){case G.OK:return ce(64938);case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function N5(t){if(t===void 0)return Hn("GRPC error has no .code"),G.UNKNOWN;switch(t){case Qt.OK:return G.OK;case Qt.CANCELLED:return G.CANCELLED;case Qt.UNKNOWN:return G.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return G.INTERNAL;case Qt.UNAVAILABLE:return G.UNAVAILABLE;case Qt.UNAUTHENTICATED:return G.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case Qt.NOT_FOUND:return G.NOT_FOUND;case Qt.ALREADY_EXISTS:return G.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return G.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case Qt.ABORTED:return G.ABORTED;case Qt.OUT_OF_RANGE:return G.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return G.UNIMPLEMENTED;case Qt.DATA_LOSS:return G.DATA_LOSS;default:return ce(39323,{code:t})}}(Ge=Qt||(Qt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ=new yi([4294967295,4294967295],0);function RC(t){const e=pJ().encode(t),n=new wV;return n.update(e),new Uint8Array(n.digest())}function PC(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new yi([n,s],0),new yi([r,i],0)]}class SE{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lh(`Invalid padding: ${n}`);if(s<0)throw new lh(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lh(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=yi.fromNumber(this.ge)}ye(e,n,s){let r=e.add(n.multiply(yi.fromNumber(s)));return r.compare(gJ)===1&&(r=new yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=RC(e),[s,r]=PC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);if(!this.we(a))return!1}return!0}static create(e,n,s){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new SE(i,r,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=RC(e),[s,r]=PC(n);for(let i=0;i<this.hashCount;i++){const a=this.ye(s,r,i);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,Tm.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lv(be.min(),r,new Yt(Ee),Ts(),Ve())}}class Tm{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tm(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n,s,r){this.be=e,this.removedTargetIds=n,this.key=s,this.De=r}}class A5{constructor(e,n){this.targetId=e,this.Ce=n}}class I5{constructor(e,n,s=jn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class kC{constructor(){this.ve=0,this.Fe=DC(),this.Me=jn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),n=Ve(),s=Ve();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:ce(38017,{changeType:i})}}),new Tm(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=DC()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class yJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=wp(),this.He=wp(),this.Ye=new Yt(Ee)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,r)=>{this.rt(r)&&n(r)})}st(e){const n=e.targetId,s=e.Ce.count,r=this.ot(n);if(r){const i=r.target;if(I0(i))if(s===0){const a=new ie(i.path);this.et(n,a,Yn.newNoDocument(a,be.min()))}else me(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:i=0}=n;let a,l;try{a=Ri(s).toUint8Array()}catch(c){if(c instanceof KV)return _u("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new SE(a,r,i)}catch(c){return _u(c instanceof lh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let r=0;return s.forEach(i=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.et(n,i,null),r++)}),r}Tt(e){const n=new Map;this.ze.forEach((i,a)=>{const l=this.ot(a);if(l){if(i.current&&I0(l.target)){const c=new ie(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Yn.newNoDocument(c,e))}i.Be&&(n.set(a,i.ke()),i.qe())}});let s=Ve();this.He.forEach((i,a)=>{let l=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(i))}),this.je.forEach((i,a)=>a.setReadTime(e));const r=new lv(e,n,this.Ye,this.je,s);return this.je=Ts(),this.Je=wp(),this.He=wp(),this.Ye=new Yt(Ee),r}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new kC,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(Ee),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(Ee),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new kC),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function wp(){return new Yt(ie.comparator)}function DC(){return new Yt(ie.comparator)}const vJ=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xJ=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),bJ=(()=>({and:"AND",or:"OR"}))();let wJ=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function V1(t,e){return t.useProto3Json||Xy(e)?e:{value:e}}function Ou(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C5(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _J(t,e){return Ou(t,e.toTimestamp())}function Qn(t){return me(!!t,49232),be.fromTimestamp(function(n){const s=ji(n);return new kt(s.seconds,s.nanos)}(t))}function NE(t,e){return L1(t,e).canonicalString()}function L1(t,e){const n=function(r){return new ft(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function j5(t){const e=ft.fromString(t);return me(U5(e),10190,{key:e.toString()}),e}function j0(t,e){return NE(t.databaseId,e.path)}function el(t,e){const n=j5(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(k5(n))}function R5(t,e){return NE(t.databaseId,e)}function P5(t){const e=j5(t);return e.length===4?ft.emptyPath():k5(e)}function U1(t){return new ft(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function k5(t){return me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function MC(t,e,n){return{name:j0(t,e),fields:n.value.mapValue.fields}}function TJ(t,e,n){const s=el(t,e.name),r=Qn(e.updateTime),i=e.createTime?Qn(e.createTime):be.min(),a=new bs({mapValue:{fields:e.fields}}),l=Yn.newFoundDocument(s,r,i,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function EJ(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(u,d){return u.useProto3Json?(me(d===void 0||typeof d=="string",58123),jn.fromBase64String(d||"")):(me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(u){const d=u.code===void 0?G.UNKNOWN:N5(u.code);return new Z(d,u.message||"")}(a);n=new I5(s,r,i,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=el(t,s.document.name),i=Qn(s.document.updateTime),a=s.document.createTime?Qn(s.document.createTime):be.min(),l=new bs({mapValue:{fields:s.document.fields}}),c=Yn.newFoundDocument(r,i,a,l),u=s.targetIds||[],d=s.removedTargetIds||[];n=new gg(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=el(t,s.document),i=s.readTime?Qn(s.readTime):be.min(),a=Yn.newNoDocument(r,i),l=s.removedTargetIds||[];n=new gg([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=el(t,s.document),i=s.removedTargetIds||[];n=new gg([],i,r,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:i}=s,a=new fJ(r,i),l=s.targetId;n=new A5(l,a)}}return n}function R0(t,e){let n;if(e instanceof od)n={update:MC(t,e.key,e.value)};else if(e instanceof ov)n={delete:j0(t,e.key)};else if(e instanceof $i)n={update:MC(t,e.key,e.data),updateMask:jJ(e.fieldMask)};else{if(!(e instanceof S5))return ce(16599,{Vt:e.type});n={verify:j0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,a){const l=a.transform;if(l instanceof Pu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ku)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Du)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Mu)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ce(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:_J(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function F1(t,e){const n=e.currentDocument?function(i){return i.updateTime!==void 0?On.updateTime(Qn(i.updateTime)):i.exists!==void 0?On.exists(i.exists):On.none()}(e.currentDocument):On.none(),s=e.updateTransforms?e.updateTransforms.map(r=>function(a,l){let c=null;if("setToServerValue"in l)me(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Pu;else if("appendMissingElements"in l){const d=l.appendMissingElements.values||[];c=new ku(d)}else if("removeAllFromArray"in l){const d=l.removeAllFromArray.values||[];c=new Du(d)}else"increment"in l?c=new Mu(a,l.increment):ce(16584,{proto:l});const u=In.fromServerFormat(l.fieldPath);return new wE(u,c)}(t,r)):[];if(e.update){e.update.name;const r=el(t,e.update.name),i=new bs({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(c){const u=c.fieldPaths||[];return new cs(u.map(d=>In.fromServerFormat(d)))}(e.updateMask);return new $i(r,i,a,n,s)}return new od(r,i,n,s)}if(e.delete){const r=el(t,e.delete);return new ov(r,n)}if(e.verify){const r=el(t,e.verify);return new S5(r,n)}return ce(1463,{proto:e})}function SJ(t,e){return t&&t.length>0?(me(e!==void 0,14353),t.map(n=>function(r,i){let a=r.updateTime?Qn(r.updateTime):Qn(i);return a.isEqual(be.min())&&(a=Qn(i)),new uJ(a,r.transformResults||[])}(n,e))):[]}function D5(t,e){return{documents:[R5(t,e.path)]}}function M5(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=R5(t,r);const i=function(u){if(u.length!==0)return L5(mt.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:hc(m.field),direction:AJ(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=V1(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:r}}function O5(t){let e=P5(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){me(s===1,65062);const d=n.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const m=V5(h);return m instanceof mt&&xE(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(m=>function(y){return new A0(fc(y.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(h){let m;return m=typeof h=="object"?h.value:h,Xy(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,p=h.values||[];return new ju(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,p=h.values||[];return new ju(p,m)}(n.endAt)),JX(e,r,a,i,l,"F",c,u)}function NJ(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:r})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function V5(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=fc(n.unaryFilter.field);return We.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=fc(n.unaryFilter.field);return We.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fc(n.unaryFilter.field);return We.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=fc(n.unaryFilter.field);return We.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return We.create(fc(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mt.create(n.compositeFilter.filters.map(s=>V5(s)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function AJ(t){return vJ[t]}function IJ(t){return xJ[t]}function CJ(t){return bJ[t]}function hc(t){return{fieldPath:t.canonicalString()}}function fc(t){return In.fromServerFormat(t.fieldPath)}function L5(t){return t instanceof We?function(n){if(n.op==="=="){if(xC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NAN"}};if(vC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NAN"}};if(vC(n.value))return{unaryFilter:{field:hc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(n.field),op:IJ(n.op),value:n.value}}}(t):t instanceof mt?function(n){const s=n.getFilters().map(r=>L5(r));return s.length===1?s[0]:{compositeFilter:{op:CJ(n.op),filters:s}}}(t):ce(54877,{filter:t})}function jJ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U5(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,n,s,r,i=be.min(),a=be.min(),l=jn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e){this.yt=e}}function RJ(t,e){let n;if(e.document)n=TJ(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=ie.fromSegments(e.noDocument.path),r=pl(e.noDocument.readTime);n=Yn.newNoDocument(s,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ce(56709);{const s=ie.fromSegments(e.unknownDocument.path),r=pl(e.unknownDocument.version);n=Yn.newUnknownDocument(s,r)}}return e.readTime&&n.setReadTime(function(r){const i=new kt(r[0],r[1]);return be.fromTimestamp(i)}(e.readTime)),n}function OC(t,e){const n=e.key,s={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:P0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document=function(i,a){return{name:j0(i,a.key),fields:a.data.value.mapValue.fields,updateTime:Ou(i,a.version.toTimestamp()),createTime:Ou(i,a.createTime.toTimestamp())}}(t.yt,e);else if(e.isNoDocument())s.noDocument={path:n.path.toArray(),readTime:ml(e.version)};else{if(!e.isUnknownDocument())return ce(57904,{document:e});s.unknownDocument={path:n.path.toArray(),version:ml(e.version)}}return s}function P0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ml(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function pl(t){const e=new kt(t.seconds,t.nanoseconds);return be.fromTimestamp(e)}function Uo(t,e){const n=(e.baseMutations||[]).map(i=>F1(t.yt,i));for(let i=0;i<e.mutations.length-1;++i){const a=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const l=e.mutations[i+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const s=e.mutations.map(i=>F1(t.yt,i)),r=kt.fromMillis(e.localWriteTimeMs);return new _E(e.batchId,r,n,s)}function ch(t){const e=pl(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?pl(t.lastLimboFreeSnapshotVersion):be.min();let s;return s=function(i){return i.documents!==void 0}(t.query)?function(i){const a=i.documents.length;return me(a===1,1966,{count:a}),Js(wm(P5(i.documents[0])))}(t.query):function(i){return Js(O5(i))}(t.query),new hi(s,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,jn.fromBase64String(t.resumeToken))}function B5(t,e){const n=ml(e.snapshotVersion),s=ml(e.lastLimboFreeSnapshotVersion);let r;r=I0(e.target)?D5(t.yt,e.target):M5(t.yt,e.target).ft;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fl(e.target),readTime:n,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:r}}function z5(t){const e=O5({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?O1(e,e.limit,"L"):e}function fb(t,e){return new EE(e.largestBatchId,F1(t.yt,e.overlayMutation))}function VC(t,e){const n=e.path.lastSegment();return[t,Un(e.path.popLast()),n]}function LC(t,e,n,s){return{indexId:t,uid:e,sequenceNumber:n,readTime:ml(s.readTime),documentKey:Un(s.documentKey.path),largestBatchId:s.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{getBundleMetadata(e,n){return UC(e).get(n).next(s=>{if(s)return function(i){return{id:i.bundleId,createTime:pl(i.createTime),version:i.version}}(s)})}saveBundleMetadata(e,n){return UC(e).put(function(r){return{bundleId:r.id,createTime:ml(Qn(r.createTime)),version:r.version}}(n))}getNamedQuery(e,n){return FC(e).get(n).next(s=>{if(s)return function(i){return{name:i.name,query:z5(i.bundledQuery),readTime:pl(i.readTime)}}(s)})}saveNamedQuery(e,n){return FC(e).put(function(r){return{name:r.name,readTime:ml(Qn(r.readTime)),bundledQuery:r.bundledQuery}}(n))}}function UC(t){return hn(t,Jy)}function FC(t){return hn(t,Zy)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const s=n.uid||"";return new cv(e,s)}getOverlay(e,n){return Gd(e).get(VC(this.userId,n)).next(s=>s?fb(this.serializer,s):null)}getOverlays(e,n){const s=jr();return L.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){const r=[];return s.forEach((i,a)=>{const l=new EE(n,a);r.push(this.St(e,l))}),L.waitFor(r)}removeOverlaysForBatchId(e,n,s){const r=new Set;n.forEach(a=>r.add(Un(a.getCollectionPath())));const i=[];return r.forEach(a=>{const l=IDBKeyRange.bound([this.userId,a,s],[this.userId,a,s+1],!1,!0);i.push(Gd(e).Z(T1,l))}),L.waitFor(i)}getOverlaysForCollection(e,n,s){const r=jr(),i=Un(n),a=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Gd(e).J(T1,a).next(l=>{for(const c of l){const u=fb(this.serializer,c);r.set(u.getKey(),u)}return r})}getOverlaysForCollectionGroup(e,n,s,r){const i=jr();let a;const l=IDBKeyRange.bound([this.userId,n,s],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Gd(e).ee({index:BV,range:l},(c,u,d)=>{const h=fb(this.serializer,u);i.size()<r||h.largestBatchId===a?(i.set(h.getKey(),h),a=h.largestBatchId):d.done()}).next(()=>i)}St(e,n){return Gd(e).put(function(r,i,a){const[l,c,u]=VC(i,a.mutation.key);return{userId:i,collectionPath:c,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:R0(r.yt,a.mutation)}}(this.serializer,this.userId,n))}}function Gd(t){return hn(t,ev)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{bt(e){return hn(e,mE)}getSessionToken(e){return this.bt(e).get("sessionToken").next(n=>{const s=n==null?void 0:n.value;return s?jn.fromUint8Array(s):jn.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(Pt(e.integerValue));else if("doubleValue"in e){const s=Pt(e.doubleValue);isNaN(s)?this.Ft(n,13):(this.Ft(n,15),Sf(s)?n.Mt(0):n.Mt(s))}else if("timestampValue"in e){let s=e.timestampValue;this.Ft(n,20),typeof s=="string"&&(s=ji(s)),n.xt(`${s.seconds||""}`),n.Mt(s.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(Ri(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Ft(n,45),n.Mt(s.latitude||0),n.Mt(s.longitude||0)}else"mapValue"in e?ZV(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):sv(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):ce(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const s=e.fields||{};this.Ft(n,55);for(const r of Object.keys(s))this.Ot(r,n),this.Ct(s[r],n)}kt(e,n){var a,l;const s=e.fields||{};this.Ft(n,53);const r=Iu,i=((l=(a=s[r].arrayValue)==null?void 0:a.values)==null?void 0:l.length)||0;this.Ft(n,15),n.Mt(Pt(i)),this.Ot(r,n),this.Ct(s[r],n)}Qt(e,n){const s=e.values||[];this.Ft(n,50);for(const r of s)this.Ct(r,n)}Lt(e,n){this.Ft(n,37),ie.fromName(e).path.forEach(s=>{this.Ft(n,60),this.Ut(s,n)})}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Fo.Kt=new Fo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=255;function DJ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function BC(t){const e=64-function(s){let r=0;for(let i=0;i<8;++i){const a=DJ(255&s[i]);if(r+=a,a!==8)break}return r}(t);return Math.ceil(e/8)}class MJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Gt(s.value),s=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let s=n.next();for(;!s.done;)this.Jt(s.value),s=n.next();this.Ht()}Yt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Gt(s);else if(s<2048)this.Gt(960|s>>>6),this.Gt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s);else{const r=n.codePointAt(0);this.Gt(240|r>>>18),this.Gt(128|63&r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r)}}this.zt()}Zt(e){for(const n of e){const s=n.charCodeAt(0);if(s<128)this.Jt(s);else if(s<2048)this.Jt(960|s>>>6),this.Jt(128|63&s);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s);else{const r=n.codePointAt(0);this.Jt(240|r>>>18),this.Jt(128|63&r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r)}}this.Ht()}Xt(e){const n=this.en(e),s=BC(n);this.tn(1+s),this.buffer[this.position++]=255&s;for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=255&n[r]}nn(e){const n=this.en(e),s=BC(n);this.tn(1+s),this.buffer[this.position++]=~(255&s);for(let r=n.length-s;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}rn(){this.sn(Zl),this.sn(255)}_n(){this.an(Zl),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),s=!!(128&n[0]);n[0]^=s?255:128;for(let r=1;r<n.length;++r)n[r]^=s?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Zl?(this.sn(Zl),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Zl?(this.an(Zl),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let s=2*this.buffer.length;s<n&&(s=n);const r=new Uint8Array(s);r.set(this.buffer),this.buffer=r}}class OJ{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class VJ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Kd{constructor(){this.cn=new MJ,this.ln=new OJ(this.cn),this.hn=new VJ(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n,s,r){this.Tn=e,this.In=n,this.En=s,this.dn=r}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,s=new Uint8Array(n);return s.set(this.dn,0),n!==e?s.set([0],this.dn.length):++s[s.length-1],new Bo(this.Tn,this.In,this.En,s)}Rn(e,n,s){return{indexId:this.Tn,uid:e,arrayValue:yg(this.En),directionalValue:yg(this.dn),orderedDocumentKey:yg(n),documentKey:s.path.toArray()}}Vn(e,n,s){const r=this.Rn(e,n,s);return[r.indexId,r.uid,r.arrayValue,r.directionalValue,r.orderedDocumentKey,r.documentKey]}}function ea(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=zC(t.En,e.En),n!==0?n:(n=zC(t.dn,e.dn),n!==0?n:ie.comparator(t.In,e.In)))}function zC(t,e){for(let n=0;n<t.length&&n<e.length;++n){const s=t[n]-e[n];if(s!==0)return s}return t.length-e.length}function yg(t){return PO()?function(n){let s="";for(let r=0;r<n.length;r++)s+=String.fromCharCode(n[r]);return s}(t):t}function $C(t){return typeof t!="string"?t:function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(t)}class qC{constructor(e){this.mn=new vt((n,s)=>In.comparator(n.field,s.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const s=n;s.isInequality()?this.mn=this.mn.add(s):this.gn.push(s)}}get pn(){return this.mn.size>1}yn(e){if(me(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=b1(e);if(n!==void 0&&!this.wn(n))return!1;const s=ko(e);let r=new Set,i=0,a=0;for(;i<s.length&&this.wn(s[i]);++i)r=r.add(s[i].fieldPath.canonicalString());if(i===s.length)return!0;if(this.mn.size>0){const l=this.mn.getIterator().getNext();if(!r.has(l.field.canonicalString())){const c=s[i];if(!this.Sn(l,c)||!this.bn(this.fn[a++],c))return!1}++i}for(;i<s.length;++i){const l=s[i];if(a>=this.fn.length||!this.bn(this.fn[a++],l))return!1}return!0}Dn(){if(this.pn)return null;let e=new vt(In.comparator);const n=[];for(const s of this.gn)if(!s.field.isKeyField())if(s.op==="array-contains"||s.op==="array-contains-any")n.push(new cg(s.field,2));else{if(e.has(s.field))continue;e=e.add(s.field),n.push(new cg(s.field,0))}for(const s of this.fn)s.field.isKeyField()||e.has(s.field)||(e=e.add(s.field),n.push(new cg(s.field,s.dir==="asc"?0:1)));return new _0(_0.UNKNOWN_ID,this.collectionId,n,Ef.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const s=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===s}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $5(t){var n,s;if(me(t instanceof We||t instanceof mt,20012),t instanceof We){if(t instanceof u5){const r=((s=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:s.map(i=>We.create(t.field,"==",i)))||[];return mt.create(r,"or")}return t}const e=t.filters.map(r=>$5(r));return mt.create(e,t.op)}function LJ(t){if(t.getFilters().length===0)return[];const e=$1($5(t));return me(q5(e),7391),B1(e)||z1(e)?[e]:e.getFilters()}function B1(t){return t instanceof We}function z1(t){return t instanceof mt&&xE(t)}function q5(t){return B1(t)||z1(t)||function(n){if(n instanceof mt&&P1(n)){for(const s of n.getFilters())if(!B1(s)&&!z1(s))return!1;return!0}return!1}(t)}function $1(t){if(me(t instanceof We||t instanceof mt,34018),t instanceof We)return t;if(t.filters.length===1)return $1(t.filters[0]);const e=t.filters.map(s=>$1(s));let n=mt.create(e,t.op);return n=k0(n),q5(n)?n:(me(n instanceof mt,64498),me(Ru(n),40251),me(n.filters.length>1,57927),n.filters.reduce((s,r)=>AE(s,r)))}function AE(t,e){let n;return me(t instanceof We||t instanceof mt,38388),me(e instanceof We||e instanceof mt,25473),n=t instanceof We?e instanceof We?function(r,i){return mt.create([r,i],"and")}(t,e):HC(t,e):e instanceof We?HC(e,t):function(r,i){if(me(r.filters.length>0&&i.filters.length>0,48005),Ru(r)&&Ru(i))return o5(r,i.getFilters());const a=P1(r)?r:i,l=P1(r)?i:r,c=a.filters.map(u=>AE(u,l));return mt.create(c,"or")}(t,e),k0(n)}function HC(t,e){if(Ru(e))return o5(e,t.getFilters());{const n=e.filters.map(s=>AE(t,s));return mt.create(n,"or")}}function k0(t){if(me(t instanceof We||t instanceof mt,11850),t instanceof We)return t;const e=t.getFilters();if(e.length===1)return k0(e[0]);if(i5(t))return t;const n=e.map(r=>k0(r)),s=[];return n.forEach(r=>{r instanceof We?s.push(r):r instanceof mt&&(r.op===t.op?s.push(...r.filters):s.push(r))}),s.length===1?s[0]:mt.create(s,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(){this.Cn=new IE}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Ms.min())}updateCollectionGroup(e,n,s){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class IE{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new vt(ft.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new vt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="IndexedDbIndexManager",_p=new Uint8Array(0);class FJ{constructor(e,n){this.databaseId=n,this.vn=new IE,this.Fn=new zi(s=>fl(s),(s,r)=>xm(s,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const s=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const i={collectionId:s,parent:Un(r)};return KC(e).put(i)}return L.resolve()}getCollectionParents(e,n){const s=[],r=IDBKeyRange.bound([n,""],[IV(n),""],!1,!0);return KC(e).J(r).next(i=>{for(const a of i){if(a.collectionId!==n)break;s.push(Cr(a.parent))}return s})}addFieldIndex(e,n){const s=Wd(e),r=function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])}}(n);delete r.indexId;const i=s.add(r);if(n.indexState){const a=tc(e);return i.next(l=>{a.put(LC(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return i.next()}deleteFieldIndex(e,n){const s=Wd(e),r=tc(e),i=ec(e);return s.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Wd(e),s=ec(e),r=tc(e);return n.Z().next(()=>s.Z()).next(()=>r.Z())}createTargetIndexes(e,n){return L.forEach(this.Mn(n),s=>this.getIndexType(e,s).next(r=>{if(r===0||r===1){const i=new qC(s).Dn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,n){const s=ec(e);let r=!0;const i=new Map;return L.forEach(this.Mn(n),a=>this.xn(e,a).next(l=>{r&&(r=!!l),i.set(a,l)})).next(()=>{if(r){let a=Ve();const l=[];return L.forEach(i,(c,u)=>{J(GC,`Using index ${function(E){return`id=${E.indexId}|cg=${E.collectionGroup}|f=${E.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(c)} to execute ${fl(n)}`);const d=function(E,I){const A=b1(I);if(A===void 0)return null;for(const R of C0(E,A.fieldPath))switch(R.op){case"array-contains-any":return R.value.arrayValue.values||[];case"array-contains":return[R.value]}return null}(u,c),h=function(E,I){const A=new Map;for(const R of ko(I))for(const S of C0(E,R.fieldPath))switch(S.op){case"==":case"in":A.set(R.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return A.set(R.fieldPath.canonicalString(),S.value),Array.from(A.values())}return null}(u,c),m=function(E,I){const A=[];let R=!0;for(const S of ko(I)){const T=S.kind===0?EC(E,S.fieldPath,E.startAt):SC(E,S.fieldPath,E.startAt);A.push(T.value),R&&(R=T.inclusive)}return new ju(A,R)}(u,c),p=function(E,I){const A=[];let R=!0;for(const S of ko(I)){const T=S.kind===0?SC(E,S.fieldPath,E.endAt):EC(E,S.fieldPath,E.endAt);A.push(T.value),R&&(R=T.inclusive)}return new ju(A,R)}(u,c),y=this.On(c,u,m),x=this.On(c,u,p),_=this.Nn(c,u,h),v=this.Bn(c.indexId,d,y,m.inclusive,x,p.inclusive,_);return L.forEach(v,b=>s.Y(b,n.limit).next(E=>{E.forEach(I=>{const A=ie.fromSegments(I.documentKey);a.has(A)||(a=a.add(A),l.push(A))})}))}).next(()=>l)}return L.resolve(null)})}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=LJ(mt.create(e.filters,"and")).map(s=>D1(e.path,e.collectionGroup,e.orderBy,s.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,n),n)}Bn(e,n,s,r,i,a,l){const c=(n!=null?n.length:1)*Math.max(s.length,i.length),u=c/(n!=null?n.length:1),d=[];for(let h=0;h<c;++h){const m=n?this.Ln(n[h/u]):_p,p=this.kn(e,m,s[h%u],r),y=this.qn(e,m,i[h%u],a),x=l.map(_=>this.kn(e,m,_,!0));d.push(...this.createRange(p,y,x))}return d}kn(e,n,s,r){const i=new Bo(e,ie.empty(),n,s);return r?i:i.An()}qn(e,n,s,r){const i=new Bo(e,ie.empty(),n,s);return r?i.An():i}xn(e,n){const s=new qC(n),r=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(i=>{let a=null;for(const l of i)s.yn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a})}getIndexType(e,n){let s=2;const r=this.Mn(n);return L.forEach(r,i=>this.xn(e,i).next(a=>{a?s!==0&&a.fields.length<function(c){let u=new vt(In.comparator),d=!1;for(const h of c.filters)for(const m of h.getFlattenedFilters())m.field.isKeyField()||(m.op==="array-contains"||m.op==="array-contains-any"?d=!0:u=u.add(m.field));for(const h of c.orderBy)h.field.isKeyField()||(u=u.add(h.field));return u.size+(d?1:0)}(i)&&(s=1):s=0})).next(()=>function(a){return a.limit!==null}(n)&&r.length>1&&s===2?1:s)}Qn(e,n){const s=new Kd;for(const r of ko(e)){const i=n.data.field(r.fieldPath);if(i==null)return null;const a=s.Pn(r.kind);Fo.Kt.Dt(i,a)}return s.un()}Ln(e){const n=new Kd;return Fo.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const s=new Kd;return Fo.Kt.Dt(Rf(this.databaseId,n),s.Pn(function(i){const a=ko(i);return a.length===0?0:a[a.length-1].kind}(e))),s.un()}Nn(e,n,s){if(s===null)return[];let r=[];r.push(new Kd);let i=0;for(const a of ko(e)){const l=s[i++];for(const c of r)if(this.Un(n,a.fieldPath)&&Pf(l))r=this.Kn(r,a,l);else{const u=c.Pn(a.kind);Fo.Kt.Dt(l,u)}}return this.Wn(r)}On(e,n,s){return this.Nn(e,n,s.position)}Wn(e){const n=[];for(let s=0;s<e.length;++s)n[s]=e[s].un();return n}Kn(e,n,s){const r=[...e],i=[];for(const a of s.arrayValue.values||[])for(const l of r){const c=new Kd;c.seed(l.un()),Fo.Kt.Dt(a,c.Pn(n.kind)),i.push(c)}return i}Un(e,n){return!!e.filters.find(s=>s instanceof We&&s.field.isEqual(n)&&(s.op==="in"||s.op==="not-in"))}getFieldIndexes(e,n){const s=Wd(e),r=tc(e);return(n?s.J(_1,IDBKeyRange.bound(n,n)):s.J()).next(i=>{const a=[];return L.forEach(i,l=>r.get([l.indexId,this.uid]).next(c=>{a.push(function(d,h){const m=h?new Ef(h.sequenceNumber,new Ms(pl(h.readTime),new ie(Cr(h.documentKey)),h.largestBatchId)):Ef.empty(),p=d.fields.map(([y,x])=>new cg(In.fromServerFormat(y),x));return new _0(d.indexId,d.collectionGroup,p,m)}(l,c))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((s,r)=>{const i=s.indexState.sequenceNumber-r.indexState.sequenceNumber;return i!==0?i:Ee(s.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,s){const r=Wd(e),i=tc(e);return this.Gn(e).next(a=>r.J(_1,IDBKeyRange.bound(n,n)).next(l=>L.forEach(l,c=>i.put(LC(c.indexId,this.uid,a,s)))))}updateIndexEntries(e,n){const s=new Map;return L.forEach(n,(r,i)=>{const a=s.get(r.collectionGroup);return(a?L.resolve(a):this.getFieldIndexes(e,r.collectionGroup)).next(l=>(s.set(r.collectionGroup,l),L.forEach(l,c=>this.zn(e,r,c).next(u=>{const d=this.jn(i,c);return u.isEqual(d)?L.resolve():this.Jn(e,i,c,u,d)}))))})}Hn(e,n,s,r){return ec(e).put(r.Rn(this.uid,this.$n(s,n.key),n.key))}Yn(e,n,s,r){return ec(e).delete(r.Vn(this.uid,this.$n(s,n.key),n.key))}zn(e,n,s){const r=ec(e);let i=new vt(ea);return r.ee({index:FV,range:IDBKeyRange.only([s.indexId,this.uid,yg(this.$n(s,n))])},(a,l)=>{i=i.add(new Bo(s.indexId,n,$C(l.arrayValue),$C(l.directionalValue)))}).next(()=>i)}jn(e,n){let s=new vt(ea);const r=this.Qn(n,e);if(r==null)return s;const i=b1(n);if(i!=null){const a=e.data.field(i.fieldPath);if(Pf(a))for(const l of a.arrayValue.values||[])s=s.add(new Bo(n.indexId,e.key,this.Ln(l),r))}else s=s.add(new Bo(n.indexId,e.key,_p,r));return s}Jn(e,n,s,r,i){J(GC,"Updating index entries for document '%s'",n.key);const a=[];return function(c,u,d,h,m){const p=c.getIterator(),y=u.getIterator();let x=Jl(p),_=Jl(y);for(;x||_;){let v=!1,b=!1;if(x&&_){const E=d(x,_);E<0?b=!0:E>0&&(v=!0)}else x!=null?b=!0:v=!0;v?(h(_),_=Jl(y)):b?(m(x),x=Jl(p)):(x=Jl(p),_=Jl(y))}}(r,i,ea,l=>{a.push(this.Hn(e,n,s,l))},l=>{a.push(this.Yn(e,n,s,l))}),L.waitFor(a)}Gn(e){let n=1;return tc(e).ee({index:UV,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,r,i)=>{i.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,s){s=s.sort((a,l)=>ea(a,l)).filter((a,l,c)=>!l||ea(a,c[l-1])!==0);const r=[];r.push(e);for(const a of s){const l=ea(a,e),c=ea(a,n);if(l===0)r[0]=e.An();else if(l>0&&c<0)r.push(a),r.push(a.An());else if(c>0)break}r.push(n);const i=[];for(let a=0;a<r.length;a+=2){if(this.Zn(r[a],r[a+1]))return[];const l=r[a].Vn(this.uid,_p,ie.empty()),c=r[a+1].Vn(this.uid,_p,ie.empty());i.push(IDBKeyRange.bound(l,c))}return i}Zn(e,n){return ea(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(WC)}getMinOffset(e,n){return L.mapArray(this.Mn(n),s=>this.xn(e,s).next(r=>r||ce(44426))).next(WC)}}function KC(t){return hn(t,If)}function ec(t){return hn(t,Mh)}function Wd(t){return hn(t,fE)}function tc(t){return hn(t,Dh)}function WC(t){me(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let s=1;s<t.length;s++){const r=t[s].indexState.offset;uE(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new Ms(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H5=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e,n){const s=t.store(lr),r=t.store(Eu),i=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=s.ee({range:a},(d,h,m)=>(l++,m.delete()));i.push(c.next(()=>{me(l===1,47070,{batchId:n.batchId})}));const u=[];for(const d of n.mutations){const h=OV(e,d.key.path,n.batchId);i.push(r.delete(h)),u.push(d.key)}return L.waitFor(i).next(()=>u)}function D0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ce(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(H5,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class uv{constructor(e,n,s,r){this.userId=e,this.serializer=n,this.indexManager=s,this.referenceDelegate=r,this.Xn={}}static wt(e,n,s,r){me(e.uid!=="",64387);const i=e.isAuthenticated()?e.uid:"";return new uv(i,n,s,r)}checkEmpty(e){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).ee({index:zo,range:s},(r,i,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,s,r){const i=mc(e),a=ta(e);return a.add({}).next(l=>{me(typeof l=="number",49019);const c=new _E(l,n,s,r),u=function(p,y,x){const _=x.baseMutations.map(b=>R0(p.yt,b)),v=x.mutations.map(b=>R0(p.yt,b));return{userId:y,batchId:x.batchId,localWriteTimeMs:x.localWriteTime.toMillis(),baseMutations:_,mutations:v}}(this.serializer,this.userId,c),d=[];let h=new vt((m,p)=>Ee(m.canonicalString(),p.canonicalString()));for(const m of r){const p=OV(this.userId,m.key.path,l);h=h.add(m.key.path.popLast()),d.push(a.put(u)),d.push(i.put(p,gX))}return h.forEach(m=>{d.push(this.indexManager.addToCollectionParentIndex(e,m))}),e.addOnCommittedListener(()=>{this.Xn[l]=c.keys()}),L.waitFor(d).next(()=>c)})}lookupMutationBatch(e,n){return ta(e).get(n).next(s=>s?(me(s.userId===this.userId,48,"Unexpected user for mutation batch",{userId:s.userId,batchId:n}),Uo(this.serializer,s)):null)}er(e,n){return this.Xn[n]?L.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next(s=>{if(s){const r=s.keys();return this.Xn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=IDBKeyRange.lowerBound([this.userId,s]);let i=null;return ta(e).ee({index:zo,range:r},(a,l,c)=>{l.userId===this.userId&&(me(l.batchId>=s,47524,{tr:s}),i=Uo(this.serializer,l)),c.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=Jo;return ta(e).ee({index:zo,range:n,reverse:!0},(r,i,a)=>{s=i.batchId,a.done()}).next(()=>s)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Jo],[this.userId,Number.POSITIVE_INFINITY]);return ta(e).J(zo,n).next(s=>s.map(r=>Uo(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const s=ug(this.userId,n.path),r=IDBKeyRange.lowerBound(s),i=[];return mc(e).ee({range:r},(a,l,c)=>{const[u,d,h]=a,m=Cr(d);if(u===this.userId&&n.path.isEqual(m))return ta(e).get(h).next(p=>{if(!p)throw ce(61480,{nr:a,batchId:h});me(p.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:p.userId,batchId:h}),i.push(Uo(this.serializer,p))});c.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(Ee);const r=[];return n.forEach(i=>{const a=ug(this.userId,i.path),l=IDBKeyRange.lowerBound(a),c=mc(e).ee({range:l},(u,d,h)=>{const[m,p,y]=u,x=Cr(p);m===this.userId&&i.path.isEqual(x)?s=s.add(y):h.done()});r.push(c)}),L.waitFor(r).next(()=>this.rr(e,s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1,i=ug(this.userId,s),a=IDBKeyRange.lowerBound(i);let l=new vt(Ee);return mc(e).ee({range:a},(c,u,d)=>{const[h,m,p]=c,y=Cr(m);h===this.userId&&s.isPrefixOf(y)?y.length===r&&(l=l.add(p)):d.done()}).next(()=>this.rr(e,l))}rr(e,n){const s=[],r=[];return n.forEach(i=>{r.push(ta(e).get(i).next(a=>{if(a===null)throw ce(35274,{batchId:i});me(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:i}),s.push(Uo(this.serializer,a))}))}),L.waitFor(r).next(()=>s)}removeMutationBatch(e,n){return G5(e.le,this.userId,n).next(s=>(e.addOnCommittedListener(()=>{this.ir(n.batchId)}),L.forEach(s,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const s=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),r=[];return mc(e).ee({range:s},(i,a,l)=>{if(i[0]===this.userId){const c=Cr(i[1]);r.push(c)}else l.done()}).next(()=>{me(r.length===0,56720,{sr:r.map(i=>i.canonicalString())})})})}containsKey(e,n){return K5(e,this.userId,n)}_r(e){return W5(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Jo,lastStreamToken:""})}}function K5(t,e,n){const s=ug(e,n.path),r=s[1],i=IDBKeyRange.lowerBound(s);let a=!1;return mc(t).ee({range:i,X:!0},(l,c,u)=>{const[d,h,m]=l;d===e&&h===r&&(a=!0),u.done()}).next(()=>a)}function ta(t){return hn(t,lr)}function mc(t){return hn(t,Eu)}function W5(t){return hn(t,Nf)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new gl(0)}static cr(){return new gl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next(n=>{const s=new gl(n.highestTargetId);return n.highestTargetId=s.next(),this.hr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(n=>be.fromTimestamp(new kt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,s){return this.lr(e).next(r=>(r.highestListenSequenceNumber=n,s&&(r.lastRemoteSnapshotVersion=s.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.hr(e,r)))}addTargetData(e,n){return this.Pr(e,n).next(()=>this.lr(e).next(s=>(s.targetCount+=1,this.Tr(n,s),this.hr(e,s))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>nc(e).delete(n.targetId)).next(()=>this.lr(e)).next(s=>(me(s.targetCount>0,8065),s.targetCount-=1,this.hr(e,s)))}removeTargets(e,n,s){let r=0;const i=[];return nc(e).ee((a,l)=>{const c=ch(l);c.sequenceNumber<=n&&s.get(c.targetId)===null&&(r++,i.push(this.removeTargetData(e,c)))}).next(()=>L.waitFor(i)).next(()=>r)}forEachTarget(e,n){return nc(e).ee((s,r)=>{const i=ch(r);n(i)})}lr(e){return QC(e).get(S0).next(n=>(me(n!==null,2888),n))}hr(e,n){return QC(e).put(S0,n)}Pr(e,n){return nc(e).put(B5(this.serializer,n))}Tr(e,n){let s=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,s=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.lr(e).next(n=>n.targetCount)}getTargetData(e,n){const s=fl(n),r=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let i=null;return nc(e).ee({range:r,index:LV},(a,l,c)=>{const u=ch(l);xm(n,u.target)&&(i=u,c.done())}).next(()=>i)}addMatchingKeys(e,n,s){const r=[],i=va(e);return n.forEach(a=>{const l=Un(a.path);r.push(i.put({targetId:s,path:l})),r.push(this.referenceDelegate.addReference(e,s,a))}),L.waitFor(r)}removeMatchingKeys(e,n,s){const r=va(e);return L.forEach(n,i=>{const a=Un(i.path);return L.waitFor([r.delete([s,a]),this.referenceDelegate.removeReference(e,s,i)])})}removeMatchingKeysForTargetId(e,n){const s=va(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(r)}getMatchingKeysForTargetId(e,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),r=va(e);let i=Ve();return r.ee({range:s,X:!0},(a,l,c)=>{const u=Cr(a[1]),d=new ie(u);i=i.add(d)}).next(()=>i)}containsKey(e,n){const s=Un(n.path),r=IDBKeyRange.bound([s],[IV(s)],!1,!0);let i=0;return va(e).ee({index:hE,X:!0,range:r},([a,l],c,u)=>{a!==0&&(i++,u.done())}).next(()=>i>0)}At(e,n){return nc(e).get(n).next(s=>s?ch(s):null)}}function nc(t){return hn(t,Su)}function QC(t){return hn(t,Zo)}function va(t){return hn(t,Nu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="LruGarbageCollector",Y5=1048576;function JC([t,e],[n,s]){const r=Ee(t,n);return r===0?Ee(e,s):r}class zJ{constructor(e){this.Ir=e,this.buffer=new vt(JC),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JC(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q5{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(XC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?J(XC,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)})}}class $J{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Ys.ce);const s=new zJ(n);return this.mr.forEachTarget(e,r=>s.Ar(r.sequenceNumber)).next(()=>this.mr.pr(e,r=>s.Ar(r))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(YC)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YC):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,r,i,a,l,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),r=this.params.maximumSequenceNumbersToCollect):r=h,a=Date.now(),this.nthSequenceNumber(e,r))).next(h=>(s=h,l=Date.now(),this.removeTargets(e,s,n))).next(h=>(i=h,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(h=>(u=Date.now(),cc()<=Me.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:h})))}}function X5(t,e){return new $J(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.db=e,this.garbageCollector=X5(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,(s,r)=>n(r))}addReference(e,n,s){return Tp(e,s)}removeReference(e,n,s){return Tp(e,s)}removeTargets(e,n,s){return this.db.getTargetCache().removeTargets(e,n,s)}markPotentiallyOrphaned(e,n){return Tp(e,n)}br(e,n){return function(r,i){let a=!1;return W5(r).te(l=>K5(r,l,i).next(c=>(c&&(a=!0),L.resolve(!c)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Sr(e,(a,l)=>{if(l<=n){const c=this.br(e,a).next(u=>{if(!u)return i++,s.getEntry(e,a).next(()=>(s.removeEntry(a,be.min()),va(e).delete(function(h){return[0,Un(h.path)]}(a))))});r.push(c)}}).next(()=>L.waitFor(r)).next(()=>s.apply(e)).next(()=>i)}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,n){return Tp(e,n)}Sr(e,n){const s=va(e);let r,i=Ys.ce;return s.ee({index:hE},([a,l],{path:c,sequenceNumber:u})=>{a===0?(i!==Ys.ce&&n(new ie(Cr(r)),i),i=u,r=c):i=Ys.ce}).next(()=>{i!==Ys.ce&&n(new ie(Cr(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Tp(t,e){return va(t).put(function(s,r){return{targetId:0,path:Un(s.path),sequenceNumber:r}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?L.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,s){return So(e).put(s)}removeEntry(e,n,s){return So(e).delete(function(i,a){const l=i.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],P0(a),l[l.length-1]]}(n,s))}updateMetadata(e,n){return this.getMetadata(e).next(s=>(s.byteSize+=n,this.Dr(e,s)))}getEntry(e,n){let s=Yn.newInvalidDocument(n);return So(e).ee({index:dg,range:IDBKeyRange.only(Yd(n))},(r,i)=>{s=this.Cr(n,i)}).next(()=>s)}vr(e,n){let s={size:0,document:Yn.newInvalidDocument(n)};return So(e).ee({index:dg,range:IDBKeyRange.only(Yd(n))},(r,i)=>{s={document:this.Cr(n,i),size:D0(i)}}).next(()=>s)}getEntries(e,n){let s=Ts();return this.Fr(e,n,(r,i)=>{const a=this.Cr(r,i);s=s.insert(r,a)}).next(()=>s)}Mr(e,n){let s=Ts(),r=new Yt(ie.comparator);return this.Fr(e,n,(i,a)=>{const l=this.Cr(i,a);s=s.insert(i,l),r=r.insert(i,D0(a))}).next(()=>({documents:s,Or:r}))}Fr(e,n,s){if(n.isEmpty())return L.resolve();let r=new vt(tj);n.forEach(c=>r=r.add(c));const i=IDBKeyRange.bound(Yd(r.first()),Yd(r.last())),a=r.getIterator();let l=a.getNext();return So(e).ee({index:dg,range:i},(c,u,d)=>{const h=ie.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;l&&tj(l,h)<0;)s(l,null),l=a.getNext();l&&l.isEqual(h)&&(s(l,u),l=a.hasNext()?a.getNext():null),l?d.j(Yd(l)):d.done()}).next(()=>{for(;l;)s(l,null),l=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,s,r,i){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),P0(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return So(e).J(IDBKeyRange.bound(l,c,!0)).next(u=>{i==null||i.incrementDocumentReadCount(u.length);let d=Ts();for(const h of u){const m=this.Cr(ie.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);m.isFoundDocument()&&(_m(n,m)||r.has(m.key))&&(d=d.insert(m.key,m))}return d})}getAllFromCollectionGroup(e,n,s,r){let i=Ts();const a=ej(n,s),l=ej(n,Ms.max());return So(e).ee({index:VV,range:IDBKeyRange.bound(a,l,!0)},(c,u,d)=>{const h=this.Cr(ie.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);i=i.insert(h.key,h),i.size===r&&d.done()}).next(()=>i)}newChangeBuffer(e){return new GJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return ZC(e).get(w1).next(n=>(me(!!n,20021),n))}Dr(e,n){return ZC(e).put(w1,n)}Cr(e,n){if(n){const s=RJ(this.serializer,n);if(!(s.isNoDocument()&&s.version.isEqual(be.min())))return s}return Yn.newInvalidDocument(e)}}function Z5(t){return new HJ(t)}class GJ extends J5{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new zi(s=>s.toString(),(s,r)=>s.isEqual(r))}applyChanges(e){const n=[];let s=0,r=new vt((i,a)=>Ee(i.canonicalString(),a.canonicalString()));return this.changes.forEach((i,a)=>{const l=this.Br.get(i);if(n.push(this.Nr.removeEntry(e,i,l.readTime)),a.isValidDocument()){const c=OC(this.Nr.serializer,a);r=r.add(i.path.popLast());const u=D0(c);s+=u-l.size,n.push(this.Nr.addEntry(e,i,c))}else if(s-=l.size,this.trackRemovals){const c=OC(this.Nr.serializer,a.convertToNoDocument(be.min()));n.push(this.Nr.addEntry(e,i,c))}}),r.forEach(i=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,i))}),n.push(this.Nr.updateMetadata(e,s)),L.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next(s=>(this.Br.set(n,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next(({documents:s,Or:r})=>(r.forEach((i,a)=>{this.Br.set(i,{size:a,readTime:s.get(i).readTime})}),s))}}function ZC(t){return hn(t,Af)}function So(t){return hn(t,E0)}function Yd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function ej(t,e){const n=e.documentKey.path.toArray();return[t,P0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function tj(t,e){const n=t.path.toArray(),s=e.path.toArray();let r=0;for(let i=0;i<n.length-2&&i<s.length-2;++i)if(r=Ee(n[i],s[i]),r)return r;return r=Ee(n.length,s.length),r||(r=Ee(n[n.length-2],s[s.length-2]),r||Ee(n[n.length-1],s[s.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Uh(s.mutation,r,cs.empty(),kt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const r=jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let a=oh();return i.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,r){let i=Ts();const a=Lh(),l=function(){return Lh()}();return n.forEach((c,u)=>{const d=s.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof $i)?i=i.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Uh(d.mutation,u,d.mutation.getFieldMask(),kt.now())):a.set(u.key,cs.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>l.set(u,new KJ(d,a.get(u)??null))),l))}recalculateAndSaveOverlays(e,n){const s=Lh();let r=new Yt((a,l)=>a-l),i=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=s.get(c)||cs.empty();d=l.applyToLocalView(u,d),s.set(c,d);const h=(r.get(l.batchId)||Ve()).add(c);r=r.insert(l.batchId,h)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),u=c.key,d=c.value,h=g5();d.forEach(m=>{if(!i.has(m)){const p=T5(n.get(m),s.get(m));p!==null&&h.set(m,p),i=i.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return L.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,r){return function(a){return ie.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d5(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,r):this.getDocumentsMatchingCollectionQuery(e,n,s,r)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):L.resolve(jr());let l=Tf,c=i;return a.next(u=>L.forEach(u,(d,h)=>(l<h.largestBatchId&&(l=h.largestBatchId),i.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,Ve())).next(d=>({batchId:l,changes:p5(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(s=>{let r=oh();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s,r){const i=n.collectionGroup;let a=oh();return this.indexManager.getCollectionParents(e,i).next(l=>L.forEach(l,c=>{const u=function(h,m){return new bm(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,s,r).next(d=>{d.forEach((h,m)=>{a=a.insert(h,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i,r))).next(a=>{i.forEach((c,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Yn.newInvalidDocument(d)))});let l=oh();return a.forEach((c,u)=>{const d=i.get(c);d!==void 0&&Uh(d.mutation,u,cs.empty(),kt.now()),_m(n,u)&&(l=l.insert(c,u))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:Qn(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(r){return{name:r.name,query:z5(r.bundledQuery),readTime:Qn(r.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(){this.overlays=new Yt(ie.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const s=jr();return L.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.St(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(s)),L.resolve()}getOverlaysForCollection(e,n,s){const r=jr(),i=n.length+1,a=new ie(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Yt((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>s){let d=i.get(u.largestBatchId);d===null&&(d=jr(),i=i.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const l=jr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>l.set(u,d)),!(l.size()>=r)););return L.resolve(l)}St(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new EE(n,s));let i=this.qr.get(n);i===void 0&&(i=Ve(),this.qr.set(n,i)),this.qr.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QJ{constructor(){this.sessionToken=jn.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Qr=new vt(mn.$r),this.Ur=new vt(mn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new mn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new mn(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ie(new ft([])),s=new mn(n,e),r=new mn(n,e+1),i=[];return this.Ur.forEachInRange([s,r],a=>{this.Gr(a),i.push(a.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new ft([])),s=new mn(n,e),r=new mn(n,e+1);let i=Ve();return this.Ur.forEachInRange([s,r],a=>{i=i.add(a.key)}),i}containsKey(e){const n=new mn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class mn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||Ee(e.Yr,n.Yr)}static Kr(e,n){return Ee(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(mn.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _E(i,n,s,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new mn(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return L.resolve(a)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ei(s),i=r<0?0:r;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Jo:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new mn(n,0),r=new mn(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([s,r],a=>{const l=this.Xr(a.Yr);i.push(l)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new vt(Ee);return n.forEach(r=>{const i=new mn(r,0),a=new mn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,a],l=>{s=s.add(l.Yr)})}),L.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;ie.isDocumentKey(i)||(i=i.child(""));const a=new mn(new ie(i),0);let l=new vt(Ee);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!s.isPrefixOf(u)&&(u.length===r&&(l=l.add(c.Yr)),!0)},a),L.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const r=this.Xr(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return L.forEach(n.mutations,r=>{const i=new mn(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new mn(n,0),r=this.Zr.firstAfterOrEqual(s);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ{constructor(e){this.ri=e,this.docs=function(){return new Yt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return L.resolve(s?s.document.mutableCopy():Yn.newInvalidDocument(n))}getEntries(e,n){let s=Ts();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Yn.newInvalidDocument(r))}),L.resolve(s)}getDocumentsMatchingQuery(e,n,s,r){let i=Ts();const a=n.path,l=new ie(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||uE(PV(d),s)<=0||(r.has(d.key)||_m(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,s,r){ce(9500)}ii(e,n){return L.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZJ(this)}getSize(e){return L.resolve(this.size)}}class ZJ extends J5{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)}),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e){this.persistence=e,this.si=new zi(n=>fl(n),xm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new CE,this.targetCount=0,this.ai=gl.ur()}forEachTarget(e,n){return this.si.forEach((s,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),r++)}),L.waitFor(i).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return L.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),L.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(a=>{i.push(r.markPotentiallyOrphaned(e,a))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return L.resolve(s)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ys(0),this.li=!1,this.li=!0,this.hi=new QJ,this.referenceDelegate=e(this),this.Pi=new eZ(this),this.indexManager=new UJ,this.remoteDocumentCache=function(r){return new JJ(r)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new F5(n),this.Ii=new WJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new XJ(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){J("MemoryPersistence","Starting transaction:",e);const r=new tZ(this.ci.next());return this.referenceDelegate.Ei(),s(r).next(i=>this.referenceDelegate.di(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ai(e,n){return L.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class tZ extends DV{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new CE,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),L.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.fi.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,s=>{const r=ie.fromPath(s);return this.gi(e,r).next(i=>{i||n.removeEntry(r,be.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class M0{constructor(e,n){this.persistence=e,this.pi=new zi(s=>Un(s.path),(s,r)=>s.isEqual(r)),this.garbageCollector=X5(this,n)}static mi(e,n){return new M0(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(r=>s+r))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return L.forEach(this.pi,(s,r)=>this.br(e,s,r).next(i=>i?L.resolve():n(r)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,i.removeEntry(a,be.min()))})).next(()=>i.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),L.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fg(e.data.value)),n}br(e,n,s){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.pi.get(n);return L.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.serializer=e}k(e,n,s,r){const i=new Qy("createOrUpgrade",n);s<1&&r>=1&&(function(c){c.createObjectStore(vm)}(e),function(c){c.createObjectStore(Nf,{keyPath:pX}),c.createObjectStore(lr,{keyPath:hC,autoIncrement:!0}).createIndex(zo,fC,{unique:!0}),c.createObjectStore(Eu)}(e),nj(e),function(c){c.createObjectStore(Do)}(e));let a=L.resolve();return s<3&&r>=3&&(s!==0&&(function(c){c.deleteObjectStore(Nu),c.deleteObjectStore(Su),c.deleteObjectStore(Zo)}(e),nj(e)),a=a.next(()=>function(c){const u=c.store(Zo),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:be.min().toTimestamp(),targetCount:0};return u.put(S0,d)}(i))),s<4&&r>=4&&(s!==0&&(a=a.next(()=>function(c,u){return u.store(lr).J().next(h=>{c.deleteObjectStore(lr),c.createObjectStore(lr,{keyPath:hC,autoIncrement:!0}).createIndex(zo,fC,{unique:!0});const m=u.store(lr),p=h.map(y=>m.put(y));return L.waitFor(p)})}(e,i))),a=a.next(()=>{(function(c){c.createObjectStore(Au,{keyPath:EX})})(e)})),s<5&&r>=5&&(a=a.next(()=>this.yi(i))),s<6&&r>=6&&(a=a.next(()=>(function(c){c.createObjectStore(Af)}(e),this.wi(i)))),s<7&&r>=7&&(a=a.next(()=>this.Si(i))),s<8&&r>=8&&(a=a.next(()=>this.bi(e,i))),s<9&&r>=9&&(a=a.next(()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)})),s<10&&r>=10&&(a=a.next(()=>this.Di(i))),s<11&&r>=11&&(a=a.next(()=>{(function(c){c.createObjectStore(Jy,{keyPath:SX})})(e),function(c){c.createObjectStore(Zy,{keyPath:NX})}(e)})),s<12&&r>=12&&(a=a.next(()=>{(function(c){const u=c.createObjectStore(ev,{keyPath:kX});u.createIndex(T1,DX,{unique:!1}),u.createIndex(BV,MX,{unique:!1})})(e)})),s<13&&r>=13&&(a=a.next(()=>function(c){const u=c.createObjectStore(E0,{keyPath:yX});u.createIndex(dg,vX),u.createIndex(VV,xX)}(e)).next(()=>this.Ci(e,i)).next(()=>e.deleteObjectStore(Do))),s<14&&r>=14&&(a=a.next(()=>this.Fi(e,i))),s<15&&r>=15&&(a=a.next(()=>function(c){c.createObjectStore(fE,{keyPath:AX,autoIncrement:!0}).createIndex(_1,IX,{unique:!1}),c.createObjectStore(Dh,{keyPath:CX}).createIndex(UV,jX,{unique:!1}),c.createObjectStore(Mh,{keyPath:RX}).createIndex(FV,PX,{unique:!1})}(e))),s<16&&r>=16&&(a=a.next(()=>{n.objectStore(Dh).clear()}).next(()=>{n.objectStore(Mh).clear()})),s<17&&r>=17&&(a=a.next(()=>{(function(c){c.createObjectStore(mE,{keyPath:OX})})(e)})),s<18&&r>=18&&PO()&&(a=a.next(()=>{n.objectStore(Dh).clear()}).next(()=>{n.objectStore(Mh).clear()})),a}wi(e){let n=0;return e.store(Do).ee((s,r)=>{n+=D0(r)}).next(()=>{const s={byteSize:n};return e.store(Af).put(w1,s)})}yi(e){const n=e.store(Nf),s=e.store(lr);return n.J().next(r=>L.forEach(r,i=>{const a=IDBKeyRange.bound([i.userId,Jo],[i.userId,i.lastAcknowledgedBatchId]);return s.J(zo,a).next(l=>L.forEach(l,c=>{me(c.userId===i.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const u=Uo(this.serializer,c);return G5(e,i.userId,u).next(()=>{})}))}))}Si(e){const n=e.store(Nu),s=e.store(Do);return e.store(Zo).get(S0).next(r=>{const i=[];return s.ee((a,l)=>{const c=new ft(a),u=function(h){return[0,Un(h)]}(c);i.push(n.get(u).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Un(h),sequenceNumber:r.highestListenSequenceNumber}))(c)))}).next(()=>L.waitFor(i))})}bi(e,n){e.createObjectStore(If,{keyPath:TX});const s=n.store(If),r=new IE,i=a=>{if(r.add(a)){const l=a.lastSegment(),c=a.popLast();return s.put({collectionId:l,parent:Un(c)})}};return n.store(Do).ee({X:!0},(a,l)=>{const c=new ft(a);return i(c.popLast())}).next(()=>n.store(Eu).ee({X:!0},([a,l,c],u)=>{const d=Cr(l);return i(d.popLast())}))}Di(e){const n=e.store(Su);return n.ee((s,r)=>{const i=ch(r),a=B5(this.serializer,i);return n.put(a)})}Ci(e,n){const s=n.store(Do),r=[];return s.ee((i,a)=>{const l=n.store(E0),c=function(h){return h.document?new ie(ft.fromString(h.document.name).popFirst(5)):h.noDocument?ie.fromSegments(h.noDocument.path):h.unknownDocument?ie.fromSegments(h.unknownDocument.path):ce(36783)}(a).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};r.push(l.put(u))}).next(()=>L.waitFor(r))}Fi(e,n){const s=n.store(lr),r=Z5(this.serializer),i=new jE(dv.mi,this.serializer.yt);return s.J().next(a=>{const l=new Map;return a.forEach(c=>{let u=l.get(c.userId)??Ve();Uo(this.serializer,c).keys().forEach(d=>u=u.add(d)),l.set(c.userId,u)}),L.forEach(l,(c,u)=>{const d=new qn(u),h=cv.wt(this.serializer,d),m=i.getIndexManager(d),p=uv.wt(d,this.serializer,m,i.referenceDelegate);return new e6(r,p,h,m).recalculateAndSaveOverlaysForDocumentKeys(new E1(n,Ys.ce),c).next()})})}}function nj(t){t.createObjectStore(Nu,{keyPath:wX}).createIndex(hE,_X,{unique:!0}),t.createObjectStore(Su,{keyPath:"targetId"}).createIndex(LV,bX,{unique:!0}),t.createObjectStore(Zo)}const na="IndexedDbPersistence",mb=18e5,pb=5e3,gb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",sZ="main";class RE{constructor(e,n,s,r,i,a,l,c,u,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=s,this.Mi=i,this.window=a,this.document=l,this.xi=u,this.Oi=d,this.Ni=h,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=m=>Promise.resolve(),!RE.v())throw new Z(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qJ(this,r),this.$i=n+sZ,this.serializer=new F5(c),this.Ui=new Ua(this.$i,this.Ni,new nZ(this.serializer)),this.hi=new kJ,this.Pi=new BJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Z5(this.serializer),this.Ii=new PJ,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,d===!1&&Hn(na,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Z(G.FAILED_PRECONDITION,gb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ys(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ep(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(n=>this.isPrimary&&!n?this.Zi(e).next(()=>!1):!!n&&this.Xi(e).next(()=>!0))).catch(e=>{if(go(e))return J(na,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return J(na,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Qd(e).get(Xl).next(n=>L.resolve(this.es(n)))}ts(e){return Ep(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,mb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const s=hn(n,Au);return s.J().next(r=>{const i=this.ss(r,mb),a=r.filter(l=>i.indexOf(l)===-1);return L.forEach(a,l=>s.delete(l.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?L.resolve(!0):Qd(e).get(Xl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,pb)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new Z(G.FAILED_PRECONDITION,gb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ep(e).J().next(s=>this.ss(s,pb).find(r=>{if(this.clientId!==r.clientId){const i=!this.networkEnabled&&r.networkEnabled,a=!this.inForeground&&r.inForeground,l=this.networkEnabled===r.networkEnabled;if(i||a&&l)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&J(na,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[vm,Au],e=>{const n=new E1(e,Ys.ce);return this.Zi(n).next(()=>this.ts(n))}),this.Ui.close(),this.Ps()}ss(e,n){return e.filter(s=>this.rs(s.updateTimeMs,n)&&!this.us(s.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Ep(e).J().next(n=>this.ss(n,mb).map(s=>s.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return uv.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FJ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return cv.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,s){J(na,"Starting transaction:",e);const r=n==="readonly"?"readonly":"readwrite",i=function(c){return c===18?UX:c===17?HV:c===16?LX:c===15?pE:c===14?qV:c===13?$V:c===12?VX:c===11?zV:void ce(60245)}(this.Ni);let a;return this.Ui.runTransaction(e,r,i,l=>(a=new E1(l,this.ci?this.ci.next():Ys.ce),n==="readwrite-primary"?this.Hi(a).next(c=>!!c||this.Yi(a)).next(c=>{if(!c)throw Hn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Z(G.FAILED_PRECONDITION,kV);return s(a)}).next(c=>this.Xi(a).next(()=>c)):this.Is(a).next(()=>s(a)))).then(l=>(a.raiseOnCommittedEvent(),l))}Is(e){return Qd(e).get(Xl).next(n=>{if(n!==null&&this.rs(n.leaseTimestampMs,pb)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Z(G.FAILED_PRECONDITION,gb)})}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qd(e).put(Xl,n)}static v(){return Ua.v()}Zi(e){const n=Qd(e);return n.get(Xl).next(s=>this.es(s)?(J(na,"Releasing primary lease."),n.delete(Xl)):L.resolve())}rs(e,n){const s=Date.now();return!(e<s-n)&&(!(e>s)||(Hn(`Detected an update time that is in the future: ${e} > ${s}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;RO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const s=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return J(na,`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Hn(na,"Failed to get zombied client id.",s),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Hn("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qd(t){return hn(t,vm)}function Ep(t){return hn(t,Au)}function rZ(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=r}static As(e,n){let s=Ve(),r=Ve();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new PE(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return RO()?8:MV(dn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,r){const i={result:null};return this.ys(e,n).next(a=>{i.result=a}).next(()=>{if(!i.result)return this.ws(e,n,r,s).next(a=>{i.result=a})}).next(()=>{if(i.result)return;const a=new iZ;return this.Ss(e,n,a).next(l=>{if(i.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>i.result)}bs(e,n,s,r){return s.documentReadCount<this.fs?(cc()<=Me.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",dc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(cc()<=Me.DEBUG&&J("QueryEngine","Query:",dc(n),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(cc()<=Me.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",dc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Js(n))):L.resolve())}ys(e,n){if(NC(n))return L.resolve(null);let s=Js(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=O1(n,null,"F"),s=Js(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const a=Ve(...i);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const u=this.Ds(n,l);return this.Cs(n,u,a,c.readTime)?this.ys(e,O1(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,s,r){return NC(n)||r.isEqual(be.min())?L.resolve(null):this.ps.getDocuments(e,s).next(i=>{const a=this.Ds(n,i);return this.Cs(n,a,s,r)?L.resolve(null):(cc()<=Me.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dc(n)),this.vs(e,a,n,lX(r,Tf)).next(l=>l))})}Ds(e,n){let s=new vt(f5(e));return n.forEach((r,i)=>{_m(e,i)&&(s=s.add(i))}),s}Cs(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,n,s){return cc()<=Me.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",dc(n)),this.ps.getDocumentsMatchingQuery(e,n,Ms.min(),s)}vs(e,n,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(a=>{i=i.insert(a.key,a)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LocalStore",aZ=3e8;class oZ{constructor(e,n,s,r){this.persistence=e,this.Fs=n,this.serializer=r,this.Ms=new Yt(Ee),this.xs=new zi(i=>fl(i),xm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new e6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function n6(t,e,n,s){return new oZ(t,e,n,s)}async function s6(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const a=[],l=[];let c=Ve();for(const u of r){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of i){l.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(s,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:l}))})})}function lZ(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,u,d){const h=u.batch,m=h.keys();let p=L.resolve();return m.forEach(y=>{p=p.next(()=>d.getEntry(c,y)).next(x=>{const _=u.docVersions.get(y);me(_!==null,48541),x.version.compareTo(_)<0&&(h.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,h))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Ve();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function r6(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function cZ(t,e){const n=Se(t),s=e.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];e.targetChanges.forEach((d,h)=>{const m=r.get(h);if(!m)return;l.push(n.Pi.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(i,d.addedDocuments,h)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(jn.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,s)),r=r.insert(h,p),function(x,_,v){return x.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=aZ?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(m,p,d)&&l.push(n.Pi.updateTargetData(i,p))});let c=Ts(),u=Ve();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),l.push(uZ(i,a,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!s.isEqual(be.min())){const d=n.Pi.getLastRemoteSnapshotVersion(i).next(h=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,s));l.push(d)}return L.waitFor(l).next(()=>a.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(n.Ms=r,i))}function uZ(t,e,n){let s=Ve(),r=Ve();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let a=Ts();return n.forEach((l,c)=>{const u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(l)),c.isNoDocument()&&c.version.isEqual(be.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):J(kE,"Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:r}})}function dZ(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jo),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hZ(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Pi.getTargetData(s,e).next(i=>i?(r=i,L.resolve(r)):n.Pi.allocateTargetId(s).next(a=>(r=new hi(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function q1(t,e,n){const s=Se(t),r=s.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,a=>s.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!go(a))throw a;J(kE,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function sj(t,e,n){const s=Se(t);let r=be.min(),i=Ve();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,d){const h=Se(c),m=h.xs.get(d);return m!==void 0?L.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,d)}(s,a,Js(e)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{i=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?r:be.min(),n?i:Ve())).next(l=>(fZ(s,eJ(e),l),{documents:l,Qs:i})))}function fZ(t,e,n){let s=t.Os.get(e)||be.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Os.set(e,s)}class rj{constructor(){this.activeTargetIds=aJ()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class i6{constructor(){this.Mo=new rj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new rj,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij="ConnectivityMonitor";class aj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J(ij,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J(ij,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sp=null;function H1(){return Sp===null?Sp=function(){return 268435456+Math.round(2147483648*Math.random())}():Sp++,"0x"+Sp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="RestConnection",pZ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};let gZ=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===N0?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,n,s,r,i){const a=H1(),l=this.zo(e,n.toUriEncodedString());J(yb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,r,i);const{host:u}=new URL(l),d=Li(u);return this.Jo(e,l,c,s,d).then(h=>(J(yb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw _u(yb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Ho(e,n,s,r,i,a){return this.Go(e,n,s,r,i)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ad}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}zo(e,n){const s=pZ[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class vZ extends gZ{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,r,i){const a=H1();return new Promise((l,c)=>{const u=new _V;u.setWithCredentials(!0),u.listenOnce(TV.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ag.NO_ERROR:const h=u.getResponseJson();J(Rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),l(h);break;case ag.TIMEOUT:J(Rn,`RPC '${e}' ${a} timed out`),c(new Z(G.DEADLINE_EXCEEDED,"Request time out"));break;case ag.HTTP_ERROR:const m=u.getStatus();if(J(Rn,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const x=function(v){const b=v.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(b)>=0?b:G.UNKNOWN}(y.status);c(new Z(x,y.message))}else c(new Z(G.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Z(G.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{J(Rn,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(r);J(Rn,`RPC '${e}' ${a} sending request:`,r),u.send(n,"POST",d,s,15)})}T_(e,n,s){const r=H1(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=NV(),l=SV(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const d=i.join("");J(Rn,`Creating RPC '${e}' stream ${r}: ${d}`,c);const h=a.createWebChannel(d,c);this.I_(h);let m=!1,p=!1;const y=new yZ({Yo:_=>{p?J(Rn,`Not sending because RPC '${e}' stream ${r} is closed:`,_):(m||(J(Rn,`Opening RPC '${e}' stream ${r} transport.`),h.open(),m=!0),J(Rn,`RPC '${e}' stream ${r} sending:`,_),h.send(_))},Zo:()=>h.close()}),x=(_,v,b)=>{_.listen(v,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return x(h,ih.EventType.OPEN,()=>{p||(J(Rn,`RPC '${e}' stream ${r} transport opened.`),y.o_())}),x(h,ih.EventType.CLOSE,()=>{p||(p=!0,J(Rn,`RPC '${e}' stream ${r} transport closed`),y.a_(),this.E_(h))}),x(h,ih.EventType.ERROR,_=>{p||(p=!0,_u(Rn,`RPC '${e}' stream ${r} transport errored. Name:`,_.name,"Message:",_.message),y.a_(new Z(G.UNAVAILABLE,"The operation could not be completed")))}),x(h,ih.EventType.MESSAGE,_=>{var v;if(!p){const b=_.data[0];me(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((v=E[0])==null?void 0:v.error);if(I){J(Rn,`RPC '${e}' stream ${r} received error:`,I);const A=I.status;let R=function(C){const j=Qt[C];if(j!==void 0)return N5(j)}(A),S=I.message;R===void 0&&(R=G.INTERNAL,S="Unknown error status: "+A+" with message "+I.message),p=!0,y.a_(new Z(R,S)),h.close()}else J(Rn,`RPC '${e}' stream ${r} received:`,b),y.u_(b)}}),x(l,EV.STAT_EVENT,_=>{_.stat===v1.PROXY?J(Rn,`RPC '${e}' stream ${r} detected buffering proxy`):_.stat===v1.NOPROXY&&J(Rn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.__()},0),y}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xZ(){return typeof window<"u"?window:null}function vg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t){return new wJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-s);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj="PersistentStream";class o6{constructor(e,n,s,r,i,a,l,c){this.Mi=e,this.S_=s,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new a6(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===G.RESOURCE_EXHAUSTED?(Hn(n.toString()),Hn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===G.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.D_===n&&this.G_(s,r)},s=>{e(()=>{const r=new Z(G.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{s(()=>this.z_(r))}),this.stream.onMessage(r=>{s(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(oj,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(oj,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bZ extends o6{constructor(e,n,s,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=EJ(this.serializer,e),s=function(i){if(!("targetChange"in i))return be.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?be.min():a.readTime?Qn(a.readTime):be.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=U1(this.serializer),n.addTarget=function(i,a){let l;const c=a.target;if(l=I0(c)?{documents:D5(i,c)}:{query:M5(i,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=C5(i,a.resumeToken);const u=V1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}else if(a.snapshotVersion.compareTo(be.min())>0){l.readTime=Ou(i,a.snapshotVersion.toTimestamp());const u=V1(i,a.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);const s=NJ(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=U1(this.serializer),n.removeTarget=e,this.q_(n)}}class wZ extends o6{constructor(e,n,s,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=SJ(e.writeResults,e.commitTime),s=Qn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=U1(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>R0(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _Z=class{},TZ=class extends _Z{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Z(G.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Go(e,L1(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(G.UNKNOWN,i.toString())})}Ho(e,n,s,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,L1(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(G.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}};class EZ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Hn(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="RemoteStore";class SZ{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Vl(this)&&(J(yl,"Restarting streams for network reachability change."),await async function(c){const u=Se(c);u.Ea.add(4),await Em(u),u.Ra.set("Unknown"),u.Ea.delete(4),await fv(u)}(this))})}),this.Ra=new EZ(s,r)}}async function fv(t){if(Vl(t))for(const e of t.da)await e(!0)}async function Em(t){for(const e of t.da)await e(!1)}function l6(t,e){const n=Se(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),VE(n)?OE(n):ld(n).O_()&&ME(n,e))}function DE(t,e){const n=Se(t),s=ld(n);n.Ia.delete(e),s.O_()&&c6(n,e),n.Ia.size===0&&(s.O_()?s.L_():Vl(n)&&n.Ra.set("Unknown"))}function ME(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ld(t).Y_(e)}function c6(t,e){t.Va.Ue(e),ld(t).Z_(e)}function OE(t){t.Va=new yJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),ld(t).start(),t.Ra.ua()}function VE(t){return Vl(t)&&!ld(t).x_()&&t.Ia.size>0}function Vl(t){return Se(t).Ea.size===0}function u6(t){t.Va=void 0}async function NZ(t){t.Ra.set("Online")}async function AZ(t){t.Ia.forEach((e,n)=>{ME(t,e)})}async function IZ(t,e){u6(t),VE(t)?(t.Ra.ha(e),OE(t)):t.Ra.set("Unknown")}async function CZ(t,e,n){if(t.Ra.set("Online"),e instanceof I5&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(t,e)}catch(s){J(yl,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await O0(t,s)}else if(e instanceof gg?t.Va.Ze(e):e instanceof A5?t.Va.st(e):t.Va.tt(e),!n.isEqual(be.min()))try{const s=await r6(t.localStore);n.compareTo(s)>=0&&await function(i,a){const l=i.Va.Tt(a);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=i.Ia.get(u);d&&i.Ia.set(u,d.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,u)=>{const d=i.Ia.get(c);if(!d)return;i.Ia.set(c,d.withResumeToken(jn.EMPTY_BYTE_STRING,d.snapshotVersion)),c6(i,c);const h=new hi(d.target,c,u,d.sequenceNumber);ME(i,h)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){J(yl,"Failed to raise snapshot:",s),await O0(t,s)}}async function O0(t,e,n){if(!go(e))throw e;t.Ea.add(1),await Em(t),t.Ra.set("Offline"),n||(n=()=>r6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(yl,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await fv(t)})}function d6(t,e){return e().catch(n=>O0(t,n,e))}async function Sm(t){const e=Se(t),n=Ja(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jo;for(;jZ(e);)try{const r=await dZ(e.localStore,s);if(r===null){e.Ta.length===0&&n.L_();break}s=r.batchId,RZ(e,r)}catch(r){await O0(e,r)}h6(e)&&f6(e)}function jZ(t){return Vl(t)&&t.Ta.length<10}function RZ(t,e){t.Ta.push(e);const n=Ja(t);n.O_()&&n.X_&&n.ea(e.mutations)}function h6(t){return Vl(t)&&!Ja(t).x_()&&t.Ta.length>0}function f6(t){Ja(t).start()}async function PZ(t){Ja(t).ra()}async function kZ(t){const e=Ja(t);for(const n of t.Ta)e.ea(n.mutations)}async function DZ(t,e,n){const s=t.Ta.shift(),r=TE.from(s,e,n);await d6(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Sm(t)}async function MZ(t,e){e&&Ja(t).X_&&await async function(s,r){if(function(a){return mJ(a)&&a!==G.ABORTED}(r.code)){const i=s.Ta.shift();Ja(s).B_(),await d6(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Sm(s)}}(t,e),h6(t)&&f6(t)}async function lj(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),J(yl,"RemoteStore received new credentials");const s=Vl(n);n.Ea.add(3),await Em(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await fv(n)}async function OZ(t,e){const n=Se(t);e?(n.Ea.delete(2),await fv(n)):e||(n.Ea.add(2),await Em(n),n.Ra.set("Unknown"))}function ld(t){return t.ma||(t.ma=function(n,s,r){const i=Se(n);return i.sa(),new bZ(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:NZ.bind(null,t),t_:AZ.bind(null,t),r_:IZ.bind(null,t),H_:CZ.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),VE(t)?OE(t):t.Ra.set("Unknown")):(await t.ma.stop(),u6(t))})),t.ma}function Ja(t){return t.fa||(t.fa=function(n,s,r){const i=Se(n);return i.sa(),new wZ(s,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:PZ.bind(null,t),r_:MZ.bind(null,t),ta:kZ.bind(null,t),na:DZ.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Sm(t)):(await t.fa.stop(),t.Ta.length>0&&(J(yl,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,i){const a=Date.now()+s,l=new LE(e,n,a,r,i);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UE(t,e){if(Hn("AsyncQueue",`${e}: ${t}`),go(t))return new Z(G.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ie.comparator(n.key,s.key):(n,s)=>ie.comparator(n.key,s.key),this.keyedMap=oh(),this.sortedSet=new Yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xc;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(){this.ga=new Yt(ie.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Vu{constructor(e,n,s,r,i,a,l,c,u){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,s,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Vu(e,n,Xc.emptySet(n),a,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VZ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LZ{constructor(){this.queries=uj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const r=Se(n),i=r.queries;r.queries=uj(),i.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new Z(G.ABORTED,"Firestore shutting down"))}}function uj(){return new zi(t=>h5(t),rv)}async function FE(t,e){const n=Se(t);let s=3;const r=e.query;let i=n.queries.get(r);i?!i.ba()&&e.Da()&&(s=2):(i=new VZ,s=e.Da()?0:1);try{switch(s){case 0:i.wa=await n.onListen(r,!0);break;case 1:i.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=UE(a,`Initialization of query '${dc(e.query)}' failed`);return void e.onError(l)}n.queries.set(r,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&zE(n)}async function BE(t,e){const n=Se(t),s=e.query;let r=3;const i=n.queries.get(s);if(i){const a=i.Sa.indexOf(e);a>=0&&(i.Sa.splice(a,1),i.Sa.length===0?r=e.Da()?0:1:!i.ba()&&e.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UZ(t,e){const n=Se(t);let s=!1;for(const r of e){const i=r.query,a=n.queries.get(i);if(a){for(const l of a.Sa)l.Fa(r)&&(s=!0);a.wa=r}}s&&zE(n)}function FZ(t,e,n){const s=Se(t),r=s.queries.get(e);if(r)for(const i of r.Sa)i.onError(n);s.queries.delete(e)}function zE(t){t.Ca.forEach(e=>{e.next()})}var G1,dj;(dj=G1||(G1={})).Ma="default",dj.Cache="cache";class $E{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new Vu(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Vu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==G1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.key=e}}class p6{constructor(e){this.key=e}}class BZ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=f5(e),this.tu=new Xc(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cj,r=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,h)=>{const m=r.get(d),p=_m(this.query,h)?h:null,y=!!m&&this.mutatedKeys.has(m.key),x=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;m&&p?m.data.isEqual(p.data)?y!==x&&(s.track({type:3,doc:p}),_=!0):this.su(m,p)||(s.track({type:2,doc:p}),_=!0,(c&&this.eu(p,c)>0||u&&this.eu(p,u)<0)&&(l=!0)):!m&&p?(s.track({type:0,doc:p}),_=!0):m&&!p&&(s.track({type:1,doc:m}),_=!0,(c||u)&&(l=!0)),_&&(p?(a=a.add(p),i=x?i.add(d):i.delete(d)):(a=a.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),i=i.delete(d.key),s.track({type:1,doc:d})}return{tu:a,iu:s,Cs:l,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,h)=>function(p,y){const x=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:_})}};return x(p)-x(y)}(d.type,h.type)||this.eu(d.doc,h.doc)),this.ou(s),r=r??!1;const l=n&&!r?this._u():[],c=this.Xa.size===0&&this.current&&!r?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new Vu(this.query,e.tu,i,a,e.mutatedKeys,c===0,u,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cj,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new p6(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new m6(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ve();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Vu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qE="SyncEngine";class zZ{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class $Z{constructor(e){this.key=e,this.hu=!1}}class qZ{constructor(e,n,s,r,i,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new zi(l=>h5(l),rv),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(ie.comparator),this.Au=new Map,this.Ru=new CE,this.Vu={},this.mu=new Map,this.fu=gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function HZ(t,e,n=!0){const s=w6(t);let r;const i=s.Tu.get(e);return i?(s.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.lu()):r=await g6(s,e,n,!0),r}async function GZ(t,e){const n=w6(t);await g6(n,e,!0,!1)}async function g6(t,e,n,s){const r=await hZ(t.localStore,Js(e)),i=r.targetId,a=t.sharedClientState.addLocalQueryTarget(i,n);let l;return s&&(l=await KZ(t,e,i,a==="current",r.resumeToken)),t.isPrimaryClient&&n&&l6(t.remoteStore,r),l}async function KZ(t,e,n,s,r){t.pu=(h,m,p)=>async function(x,_,v,b){let E=_.view.ru(v);E.Cs&&(E=await sj(x.localStore,_.query,!1).then(({documents:S})=>_.view.ru(S,E)));const I=b&&b.targetChanges.get(_.targetId),A=b&&b.targetMismatches.get(_.targetId)!=null,R=_.view.applyChanges(E,x.isPrimaryClient,I,A);return fj(x,_.targetId,R.au),R.snapshot}(t,h,m,p);const i=await sj(t.localStore,e,!0),a=new BZ(e,i.Qs),l=a.ru(i.documents),c=Tm.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),u=a.applyChanges(l,t.isPrimaryClient,c);fj(t,n,u.au);const d=new zZ(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function WZ(t,e,n){const s=Se(t),r=s.Tu.get(e),i=s.Iu.get(r.targetId);if(i.length>1)return s.Iu.set(r.targetId,i.filter(a=>!rv(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await q1(s.localStore,r.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(r.targetId),n&&DE(s.remoteStore,r.targetId),K1(s,r.targetId)}).catch(Ol)):(K1(s,r.targetId),await q1(s.localStore,r.targetId,!0))}async function YZ(t,e){const n=Se(t),s=n.Tu.get(e),r=n.Iu.get(s.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),DE(n.remoteStore,s.targetId))}async function QZ(t,e,n){const s=_6(t);try{const r=await function(a,l){const c=Se(a),u=kt.now(),d=l.reduce((p,y)=>p.add(y.key),Ve());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Ts(),x=Ve();return c.Ns.getEntries(p,d).next(_=>{y=_,y.forEach((v,b)=>{b.isValidDocument()||(x=x.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(_=>{h=_;const v=[];for(const b of l){const E=hJ(b,h.get(b.key).overlayedDocument);E!=null&&v.push(new $i(b.key,E,t5(E.value.mapValue),On.exists(!0)))}return c.mutationQueue.addMutationBatch(p,u,v,l)}).next(_=>{m=_;const v=_.applyToLocalDocumentSet(h,x);return c.documentOverlayCache.saveOverlays(p,_.batchId,v)})}).then(()=>({batchId:m.batchId,changes:p5(h)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(a,l,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new Yt(Ee)),u=u.insert(l,c),a.Vu[a.currentUser.toKey()]=u}(s,r.batchId,n),await Nm(s,r.changes),await Sm(s.remoteStore)}catch(r){const i=UE(r,"Failed to persist write");n.reject(i)}}async function y6(t,e){const n=Se(t);try{const s=await cZ(n.localStore,e);e.targetChanges.forEach((r,i)=>{const a=n.Au.get(i);a&&(me(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?me(a.hu,14607):r.removedDocuments.size>0&&(me(a.hu,42227),a.hu=!1))}),await Nm(n,s,e)}catch(s){await Ol(s)}}function hj(t,e,n){const s=Se(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.Tu.forEach((i,a)=>{const l=a.view.va(e);l.snapshot&&r.push(l.snapshot)}),function(a,l){const c=Se(a);c.onlineState=l;let u=!1;c.queries.forEach((d,h)=>{for(const m of h.Sa)m.va(l)&&(u=!0)}),u&&zE(c)}(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function XZ(t,e,n){const s=Se(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.Au.get(e),i=r&&r.key;if(i){let a=new Yt(ie.comparator);a=a.insert(i,Yn.newNoDocument(i,be.min()));const l=Ve().add(i),c=new lv(be.min(),new Map,new Yt(Ee),a,l);await y6(s,c),s.du=s.du.remove(i),s.Au.delete(e),HE(s)}else await q1(s.localStore,e,!1).then(()=>K1(s,e,n)).catch(Ol)}async function JZ(t,e){const n=Se(t),s=e.batch.batchId;try{const r=await lZ(n.localStore,e);x6(n,s,null),v6(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nm(n,r)}catch(r){await Ol(r)}}async function ZZ(t,e,n){const s=Se(t);try{const r=await function(a,l){const c=Se(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,l).next(h=>(me(h!==null,37113),d=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(s.localStore,e);x6(s,e,n),v6(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nm(s,r)}catch(r){await Ol(r)}}function v6(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function x6(t,e,n){const s=Se(t);let r=s.Vu[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function K1(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||b6(t,s)})}function b6(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(DE(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),HE(t))}function fj(t,e,n){for(const s of n)s instanceof m6?(t.Ru.addReference(s.key,e),eee(t,s)):s instanceof p6?(J(qE,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||b6(t,s.key)):ce(19791,{wu:s})}function eee(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(J(qE,"New document in limbo: "+n),t.Eu.add(s),HE(t))}function HE(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(ft.fromString(e)),s=t.fu.next();t.Au.set(s,new $Z(n)),t.du=t.du.insert(n,s),l6(t.remoteStore,new hi(Js(wm(n.path)),s,"TargetPurposeLimboResolution",Ys.ce))}}async function Nm(t,e,n){const s=Se(t),r=[],i=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(u=>{var d;if((u||n)&&s.isPrimaryClient){const h=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;s.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){r.push(u);const h=PE.As(c.targetId,u);i.push(h)}}))}),await Promise.all(a),s.Pu.H_(r),await async function(c,u){const d=Se(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(u,m=>L.forEach(m.Es,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>L.forEach(m.ds,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!go(h))throw h;J(kE,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const p=d.Ms.get(m),y=p.snapshotVersion,x=p.withLastLimboFreeSnapshotVersion(y);d.Ms=d.Ms.insert(m,x)}}}(s.localStore,i))}async function tee(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){J(qE,"User change. New user:",e.toKey());const s=await s6(n.localStore,e);n.currentUser=e,function(i,a){i.mu.forEach(l=>{l.forEach(c=>{c.reject(new Z(G.CANCELLED,a))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nm(n,s.Ls)}}function nee(t,e){const n=Se(t),s=n.Au.get(e);if(s&&s.hu)return Ve().add(s.key);{let r=Ve();const i=n.Iu.get(e);if(!i)return r;for(const a of i){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function w6(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=y6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XZ.bind(null,e),e.Pu.H_=UZ.bind(null,e.eventManager),e.Pu.yu=FZ.bind(null,e.eventManager),e}function _6(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZZ.bind(null,e),e}class kf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return n6(this.persistence,new t6,e.initialUser,this.serializer)}Cu(e){return new jE(dv.mi,this.serializer)}Du(e){return new i6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kf.provider={build:()=>new kf};class see extends kf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){me(this.persistence.referenceDelegate instanceof M0,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Q5(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new jE(s=>M0.mi(s,n),this.serializer)}}class ree extends kf{constructor(e,n,s){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=s,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await _6(this.xu.syncEngine),await Sm(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return n6(this.persistence,new t6,e.initialUser,this.serializer)}Fu(e,n){const s=this.persistence.referenceDelegate.garbageCollector;return new Q5(s,e.asyncQueue,n)}Mu(e,n){const s=new hX(n,this.persistence);return new dX(e.asyncQueue,s)}Cu(e){const n=rZ(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new RE(this.synchronizeTabs,n,e.clientId,s,e.asyncQueue,xZ(),vg(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new i6}}class V0{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hj(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tee.bind(null,this.syncEngine),await OZ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LZ}()}createDatastore(e){const n=hv(e.databaseInfo.databaseId),s=function(i){return new vZ(i)}(e.databaseInfo);return function(i,a,l,c){return new TZ(i,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,r,i,a,l){return new SZ(s,r,i,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>hj(this.syncEngine,n,0),function(){return aj.v()?new aj:new mZ}())}createSyncEngine(e,n){return function(r,i,a,l,c,u,d){const h=new qZ(r,i,a,l,c,u);return d&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const i=Se(r);J(yl,"RemoteStore shutting down."),i.Ea.add(5),await Em(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}V0.provider={build:()=>new V0};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Hn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="FirestoreClient";class iee{constructor(e,n,s,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=qn.UNAUTHENTICATED,this.clientId=cE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(s,async a=>{J(Za,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(J(Za,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=UE(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vb(t,e){t.asyncQueue.verifyOperationInProgress(),J(Za,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await s6(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aee(t);J(Za,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>lj(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,r)=>lj(e.remoteStore,r)),t._onlineComponents=e}async function aee(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(Za,"Using user provided OfflineComponentProvider");try{await vb(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===G.FAILED_PRECONDITION||r.code===G.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;_u("Error using user provided cache. Falling back to memory cache: "+n),await vb(t,new kf)}}else J(Za,"Using default OfflineComponentProvider"),await vb(t,new see(void 0));return t._offlineComponents}async function T6(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(Za,"Using user provided OnlineComponentProvider"),await mj(t,t._uninitializedComponentsProvider._online)):(J(Za,"Using default OnlineComponentProvider"),await mj(t,new V0))),t._onlineComponents}function oee(t){return T6(t).then(e=>e.syncEngine)}async function L0(t){const e=await T6(t),n=e.eventManager;return n.onListen=HZ.bind(null,e.syncEngine),n.onUnlisten=WZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YZ.bind(null,e.syncEngine),n}function lee(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new GE({next:m=>{d.Nu(),a.enqueueAndForget(()=>BE(i,h));const p=m.docs.has(l);!p&&m.fromCache?u.reject(new Z(G.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&c&&c.source==="server"?u.reject(new Z(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new $E(wm(l.path),d,{includeMetadataChanges:!0,qa:!0});return FE(i,h)}(await L0(t),t.asyncQueue,e,n,s)),s.promise}function cee(t,e,n={}){const s=new Mr;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,c,u){const d=new GE({next:m=>{d.Nu(),a.enqueueAndForget(()=>BE(i,h)),m.fromCache&&c.source==="server"?u.reject(new Z(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new $E(l,d,{includeMetadataChanges:!0,qa:!0});return FE(i,h)}(await L0(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uee="firestore.googleapis.com",gj=!0;let yj=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Z(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uee,this.ssl=gj}else this.host=e.host,this.ssl=e.ssl??gj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y5)throw new Z(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E6(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(G.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class KE{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new JQ;switch(s.type){case"firstParty":return new tX(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Z(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=pj.get(n);s&&(J("ComponentProvider","Removing Datastore"),pj.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am=class S6{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new S6(this.firestore,e,this._query)}},Cn=class uh{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uh(this.firestore,e,this._key)}toJSON(){return{type:uh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ym(n,uh._jsonSchema))return new uh(e,s||null,new ie(ft.fromString(n.referencePath)))}};Cn._jsonSchemaVersion="firestore/documentReference/1.0",Cn._jsonSchema={type:sn("string",Cn._jsonSchemaVersion),referencePath:sn("string")};let Jc=class N6 extends Am{constructor(e,n,s){super(e,n,wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ie(e))}withConverter(e){return new N6(this.firestore,e,this._path)}};function it(t,e,...n){if(t=dt(t),jV("collection","path",e),t instanceof KE){const s=ft.fromString(e,...n);return oC(s),new Jc(t,null,s)}{if(!(t instanceof Cn||t instanceof Jc))throw new Z(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return oC(s),new Jc(t.firestore,null,s)}}function Ye(t,e,...n){if(t=dt(t),arguments.length===1&&(e=cE.newId()),jV("doc","path",e),t instanceof KE){const s=ft.fromString(e,...n);return aC(s),new Cn(t,null,new ie(s))}{if(!(t instanceof Cn||t instanceof Jc))throw new Z(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ft.fromString(e,...n));return aC(s),new Cn(t.firestore,t instanceof Jc?t.converter:null,new ie(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="AsyncQueue";class xj{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new a6(this,"async_queue_retry"),this._c=()=>{const s=vg();s&&J(vj,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=vg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=vg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;J(vj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Hn("INTERNAL UNHANDLED ERROR: ",bj(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=LE.createAndSchedule(this,e,n,s,i=>this.hc(i));return this.tc.push(r),r}uc(){this.nc&&ce(47125,{Pc:bj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const r=n;for(const i of s)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}let zr=class extends KE{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new xj,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xj(e),this._firestoreClient=void 0,await e}}};function dee(t,e,n){n||(n=N0);const s=Ui(t,"firestore");if(s.isInitialized(n)){const r=s.getImmediate({identifier:n}),i=s.getOptions(n);if(Ai(i,e))return r;throw new Z(G.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Z(G.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y5)throw new Z(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Li(e.host)&&$y(e.host),s.initialize({options:e,instanceIdentifier:n})}function mv(t){if(t._terminated)throw new Z(G.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||A6(t),t._firestoreClient}function A6(t){var s,r,i;const e=t._freezeSettings(),n=function(l,c,u,d){return new BX(l,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,E6(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new iee(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}function hee(t,e){_u("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return fee(t,V0.provider,{build:s=>new ree(s,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function fee(t,e,n){if((t=ds(t,zr))._firestoreClient||t._terminated)throw new Z(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Z(G.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},A6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=class pc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pc(jn.fromBase64String(e))}catch(n){throw new Z(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pc(jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:pc._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ym(e,pc._jsonSchema))return pc.fromBase64String(e.bytes)}};Zc._jsonSchemaVersion="firestore/bytes/1.0",Zc._jsonSchema={type:sn("string",Zc._jsonSchemaVersion),bytes:sn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pv=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Im=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=class xg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xg._jsonSchemaVersion}}static fromJSON(e){if(ym(e,xg._jsonSchema))return new xg(e.latitude,e.longitude)}};eu._jsonSchemaVersion="firestore/geoPoint/1.0",eu._jsonSchema={type:sn("string",eu._jsonSchemaVersion),latitude:sn("number"),longitude:sn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=class bg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:bg._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ym(e,bg._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new bg(e.vectorValues);throw new Z(G.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};tu._jsonSchemaVersion="firestore/vectorValue/1.0",tu._jsonSchema={type:sn("string",tu._jsonSchemaVersion),vectorValues:sn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=/^__.*__$/;class pee{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new od(e,this.data,n,this.fieldTransforms)}}class I6{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $i(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function C6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}let gee=class j6{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new j6({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return U0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(C6(this.Ac)&&mee.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}},yee=class{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hv(e)}Cc(e,n,s,r=!1){return new gee({Ac:e,methodName:n,Dc:s,path:In.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function gv(t){const e=t._freezeSettings(),n=hv(t._databaseId);return new yee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R6(t,e,n,s,r,i={}){const a=t.Cc(i.merge||i.mergeFields?2:0,e,n,r);QE("Data must be an object, but it was:",a,s);const l=P6(s,a);let c,u;if(i.merge)c=new cs(a.fieldMask),u=a.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const m=W1(e,h,n);if(!a.contains(m))throw new Z(G.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);D6(d,m)||d.push(m)}c=new cs(d),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new pee(new bs(l),c,u)}class yv extends Im{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yv}}class WE extends Im{_toFieldTransform(e){return new wE(e.path,new Pu)}isEqual(e){return e instanceof WE}}class YE extends Im{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Mu(e.serializer,v5(e.serializer,this.Fc));return new wE(e.path,n)}isEqual(e){return e instanceof YE&&this.Fc===e.Fc}}function vee(t,e,n,s){const r=t.Cc(1,e,n);QE("Data must be an object, but it was:",r,s);const i=[],a=bs.empty();yo(s,(c,u)=>{const d=XE(e,c,n);u=dt(u);const h=r.yc(d);if(u instanceof yv)i.push(d);else{const m=Cm(u,h);m!=null&&(i.push(d),a.set(d,m))}});const l=new cs(i);return new I6(a,l,r.fieldTransforms)}function xee(t,e,n,s,r,i){const a=t.Cc(1,e,n),l=[W1(e,s,n)],c=[r];if(i.length%2!=0)throw new Z(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)l.push(W1(e,i[m])),c.push(i[m+1]);const u=[],d=bs.empty();for(let m=l.length-1;m>=0;--m)if(!D6(u,l[m])){const p=l[m];let y=c[m];y=dt(y);const x=a.yc(p);if(y instanceof yv)u.push(p);else{const _=Cm(y,x);_!=null&&(u.push(p),d.set(p,_))}}const h=new cs(u);return new I6(d,h,a.fieldTransforms)}function bee(t,e,n,s=!1){return Cm(n,t.Cc(s?4:3,e))}function Cm(t,e){if(k6(t=dt(t)))return QE("Unsupported field value:",e,t),P6(t,e);if(t instanceof Im)return function(s,r){if(!C6(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=Cm(l,r.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return v5(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=kt.fromDate(s);return{timestampValue:Ou(r.serializer,i)}}if(s instanceof kt){const i=new kt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ou(r.serializer,i)}}if(s instanceof eu)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zc)return{bytesValue:C5(r.serializer,s._byteString)};if(s instanceof Cn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:NE(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof tu)return function(a,l){return{mapValue:{fields:{[yE]:{stringValue:vE},[Iu]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.Sc("VectorValues must only contain numeric values.");return bE(l.serializer,u)})}}}}}}(s,r);throw r.Sc(`Unsupported field value: ${Yy(s)}`)}(t,e)}function P6(t,e){const n={};return GV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(s,r)=>{const i=Cm(r,e.mc(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function k6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof eu||t instanceof Zc||t instanceof Cn||t instanceof Im||t instanceof tu)}function QE(t,e,n){if(!k6(n)||!RV(n)){const s=Yy(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function W1(t,e,n){if((e=dt(e))instanceof pv)return e._internalPath;if(typeof e=="string")return XE(t,e);throw U0("Field path arguments must be of type string or ",t,!1,void 0,n)}const wee=new RegExp("[~\\*/\\[\\]]");function XE(t,e,n){if(e.search(wee)>=0)throw U0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pv(...e.split("."))._internalPath}catch{throw U0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function U0(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new Z(G.INVALID_ARGUMENT,l+t+c)}function D6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _ee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(JE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _ee extends M6{data(){return super.data()}}function JE(t,e){return typeof e=="string"?XE(t,e):e instanceof pv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let ZE=class{},Tee=class extends ZE{};function ls(t,e,...n){let s=[];e instanceof ZE&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof Eee).length,l=i.filter(c=>c instanceof V6).length;if(a>1||a>0&&l>0)throw new Z(G.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}let V6=class L6 extends Tee{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new L6(e,n,s)}_apply(e){const n=this._parse(e);return F6(e._query,n),new Am(e.firestore,e.converter,M1(e._query,n))}_parse(e){const n=gv(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Z(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Tj(h,d);const y=[];for(const x of h)y.push(_j(c,i,x));m={arrayValue:{values:y}}}else m=_j(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Tj(h,d),m=bee(l,a,h,d==="in"||d==="not-in");return We.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ws(t,e,n){const s=e,r=JE("where",t);return V6._create(r,s,n)}let Eee=class U6 extends ZE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new U6(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:mt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)F6(a,c),a=M1(a,c)}(e._query,n),new Am(e.firestore,e.converter,M1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function _j(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new Z(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d5(e)&&n.indexOf("/")!==-1)throw new Z(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ft.fromString(n));if(!ie.isDocumentKey(s))throw new Z(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rf(t,new ie(s))}if(n instanceof Cn)return Rf(t,n._key);throw new Z(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yy(n)}.`)}function Tj(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F6(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(G.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(G.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}let See=class{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return yo(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[Iu].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>Pt(a.doubleValue));return new tu(n)}convertGeoPoint(e){return new eu(Pt(e.latitude),Pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=tv(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Cf(e));default:return null}}convertTimestamp(e){const n=ji(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);me(U5(s),9688,{name:e});const r=new nv(s.get(1),s.get(3)),i=new ie(s.popFirst(5));return r.isEqual(n)||Hn(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B6(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}class dh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Fh=class z6 extends M6{constructor(e,n,s,r,i,a){super(e,n,s,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(JE("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(G.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=z6._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Fh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fh._jsonSchema={type:sn("string",Fh._jsonSchemaVersion),bundleSource:sn("string","DocumentSnapshot"),bundleName:sn("string"),bundle:sn("string")};let wg=class extends Fh{data(e={}){return super.data(e)}},Bh=class $6{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new dh(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new wg(this._firestore,this._userDataWriter,s.key,s,new dh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const c=new wg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new wg(r._firestore,r._userDataWriter,l.doc.key,l.doc,new dh(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return l.type!==0&&(u=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:Nee(l.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Z(G.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=$6._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],r=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),s.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),r.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Nee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(t){t=ds(t,Cn);const e=ds(t.firestore,zr);return lee(mv(e),t._key).then(n=>q6(e,t,n))}Bh._jsonSchemaVersion="firestore/querySnapshot/1.0",Bh._jsonSchema={type:sn("string",Bh._jsonSchemaVersion),bundleSource:sn("string","QuerySnapshot"),bundleName:sn("string"),bundle:sn("string")};class eS extends See{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function jm(t){t=ds(t,Am);const e=ds(t.firestore,zr),n=mv(e),s=new eS(e);return O6(t._query),cee(n,t._query).then(r=>new Bh(e,s,t,r))}function Ll(t,e,n){t=ds(t,Cn);const s=ds(t.firestore,zr),r=B6(t.converter,e,n);return xv(s,[R6(gv(s),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,On.none())])}function eo(t,e,n,...s){t=ds(t,Cn);const r=ds(t.firestore,zr),i=gv(r);let a;return a=typeof(e=dt(e))=="string"||e instanceof pv?xee(i,"updateDoc",t._key,e,n,s):vee(i,"updateDoc",t._key,e),xv(r,[a.toMutation(t._key,On.exists(!0))])}function vv(t){return xv(ds(t.firestore,zr),[new ov(t._key,On.none())])}function Lu(t,e){const n=ds(t.firestore,zr),s=Ye(t),r=B6(t.converter,e);return xv(n,[R6(gv(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,On.exists(!1))]).then(()=>s)}function Gt(t,...e){var c,u,d;t=dt(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wj(e[s])||(n=e[s++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(wj(e[s])){const h=e[s];e[s]=(c=h.next)==null?void 0:c.bind(h),e[s+1]=(u=h.error)==null?void 0:u.bind(h),e[s+2]=(d=h.complete)==null?void 0:d.bind(h)}let i,a,l;if(t instanceof Cn)a=ds(t.firestore,zr),l=wm(t._key.path),i={next:h=>{e[s]&&e[s](q6(a,t,h))},error:e[s+1],complete:e[s+2]};else{const h=ds(t,Am);a=ds(h.firestore,zr),l=h._query;const m=new eS(a);i={next:p=>{e[s]&&e[s](new Bh(a,m,h,p))},error:e[s+1],complete:e[s+2]},O6(t._query)}return function(m,p,y,x){const _=new GE(x),v=new $E(p,_,y);return m.asyncQueue.enqueueAndForget(async()=>FE(await L0(m),v)),()=>{_.Nu(),m.asyncQueue.enqueueAndForget(async()=>BE(await L0(m),v))}}(mv(a),l,r,i)}function xv(t,e){return function(s,r){const i=new Mr;return s.asyncQueue.enqueueAndForget(async()=>QZ(await oee(s),r,i)),i.promise}(mv(t),e)}function q6(t,e,n){const s=n.docs.get(e._key),r=new eS(t);return new Fh(t,r,e._key,s,new dh(n.hasPendingWrites,n.fromCache),e.converter)}function Df(){return new WE("serverTimestamp")}function Ej(t){return new YE("increment",t)}(function(e,n=!0){(function(r){ad=r})(mo),nr(new Ds("firestore",(s,{instanceIdentifier:r,options:i})=>{const a=s.getProvider("app").getImmediate(),l=new zr(new ZQ(s.getProvider("auth-internal")),new nX(a,s.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nv(u.options.projectId,d)}(a,r),a);return i={useFetchStreams:n,...i},l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ln(nC,sC,e),Ln(nC,sC,"esm2020")})();const Sj="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}as.UNAUTHENTICATED=new as(null),as.GOOGLE_CREDENTIALS=new as("google-credentials-uid"),as.FIRST_PARTY=new as("first-party-uid"),as.MOCK_USER=new as("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cd="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new hm("@firebase/firestore");function F0(t,...e){if(Uu.logLevel<=Me.DEBUG){const n=e.map(nS);Uu.debug(`Firestore (${cd}): ${t}`,...n)}}function tS(t,...e){if(Uu.logLevel<=Me.ERROR){const n=e.map(nS);Uu.error(`Firestore (${cd}): ${t}`,...n)}}function H6(t,...e){if(Uu.logLevel<=Me.WARN){const n=e.map(nS);Uu.warn(`Firestore (${cd}): ${t}`,...n)}}function nS(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,G6(t,s,n)}function G6(t,e,n){let s=`FIRESTORE (${cd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw tS(s),new Error(s)}function to(t,e,n,s){let r="Unexpected state";typeof n=="string"?r=n:s=n,t||G6(e,r,s)}function sS(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="ok",Aee="cancelled",zh="unknown",je="invalid-argument",Iee="deadline-exceeded",Cee="not-found",jee="permission-denied",Y1="unauthenticated",Ree="resource-exhausted",Fu="failed-precondition",Pee="aborted",kee="out-of-range",K6="unimplemented",Dee="internal",Mee="unavailable";class ye extends Vs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(as.UNAUTHENTICATED))}shutdown(){}}class Vee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Lee{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(to(typeof e.accessToken=="string",42297,{t:e}),new W6(e.accessToken,new as(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Uee{constructor(e,n,s){this.i=e,this.o=n,this.u=s,this.type="FirstParty",this.user=as.FIRST_PARTY,this.l=new Map}h(){return this.u?this.u():null}get headers(){this.l.set("X-Goog-AuthUser",this.i);const e=this.h();return e&&this.l.set("Authorization",e),this.o&&this.l.set("X-Goog-Iam-Authorization-Token",this.o),this.l}}class Fee{constructor(e,n,s){this.i=e,this.o=n,this.u=s}getToken(){return Promise.resolve(new Uee(this.i,this.o,this.u))}start(e,n){e.enqueueRetryable(()=>n(as.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Bee{constructor(e,n){this.m=n,this.appCheck=null,this.T=null,os(e)&&e.settings.appCheckToken&&(this.T=e.settings.appCheckToken),n.onInit(s=>{this.appCheck=s})}getToken(){return this.T?Promise.resolve(new Aj(this.T)):this.appCheck?this.appCheck.getToken().then(e=>e?(to(typeof e.token=="string",3470,{tokenResult:e}),new Aj(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zee{constructor(e,n,s,r,i,a,l,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Q1="(default)";class Mf{constructor(e,n){this.projectId=e,this.database=n||Q1}static empty(){return new Mf("","")}get isDefaultDatabase(){return this.database===Q1}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}function Zt(t,e){return t<e?-1:t>e?1:0}function X1(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const r=t.charAt(s),i=e.charAt(s);if(r!==i)return xb(r)===xb(i)?Zt(r,i):xb(r)?1:-1}return Zt(t.length,e.length)}const $ee=55296,qee=57343;function xb(t){const e=t.charCodeAt(0);return e>=$ee&&e<=qee}function Hee(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ij="__name__";class Er{constructor(e,n,s){n===void 0?n=0:n>e.length&&yn(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&yn(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=Er.compareSegments(e.get(r),n.get(r));if(i!==0)return i}return Zt(e.length,n.length)}static compareSegments(e,n){const s=Er.isNumericId(e),r=Er.isNumericId(n);return s&&!r?-1:!s&&r?1:s&&r?Er.extractNumericId(e).compare(Er.extractNumericId(n)):X1(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return yi.fromString(e.substring(4,e.length-2))}}class Tn extends Er{construct(e,n,s){return new Tn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(je,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new Tn(n)}static emptyPath(){return new Tn([])}}const Gee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ks extends Er{construct(e,n,s){return new Ks(e,n,s)}static isValidIdentifier(e){return Gee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ks.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ij}static keyField(){return new Ks([Ij])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new ye(je,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;r<e.length;){const l=e[r];if(l==="\\"){if(r+1===e.length)throw new ye(je,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ye(je,"Path has invalid escape sequence: "+e);s+=c,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(s+=l,r++):(i(),r++)}if(i(),a)throw new ye(je,"Unterminated ` in path: "+e);return new Ks(n)}static emptyPath(){return new Ks([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.path=e}static fromPath(e){return new Kn(Tn.fromString(e))}static fromName(e){return new Kn(Tn.fromString(e).popFirst(5))}static empty(){return new Kn(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Kn(new Tn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t,e,n){if(!n)throw new ye(je,`Function ${t}() cannot be called with an empty ${e}.`)}function Cj(t){if(Kn.isDocumentKey(t))throw new ye(je,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Y6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function bv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":yn(12329,{type:typeof t})}function Q6(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(je,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bv(t);throw new ye(je,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X6(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np=null;function Wee(){return Np===null?Np=function(){return 268435456+Math.round(2147483648*Math.random())}():Np++,"0x"+Np.toString(16)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){return t==null}function B0(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="RestConnection",Qee={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xee{get P(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.A=n+"://"+e.host,this.R=`projects/${s}/databases/${r}`,this.V=this.databaseId.database===Q1?`project_id=${s}`:`project_id=${s}&database_id=${r}`}I(e,n,s,r,i){const a=Wee(),l=this.p(e,n.toUriEncodedString());F0(bb,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.R,"x-goog-request-params":this.V};this.F(c,r,i);const{host:u}=new URL(l),d=Li(u);return this.v(e,l,c,s,d).then(h=>(F0(bb,`Received RPC '${e}' ${a}: `,h),h),h=>{throw H6(bb,`RPC '${e}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}D(e,n,s,r,i,a){return this.I(e,n,s,r,i)}F(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}p(e,n){const s=Qee[e];return`${this.A}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jj,Ke;function Rj(t){if(t===void 0)return tS("RPC_ERROR","HTTP error has no status"),zh;switch(t){case 200:return Nj;case 400:return Fu;case 401:return Y1;case 403:return jee;case 404:return Cee;case 409:return Pee;case 416:return kee;case 429:return Ree;case 499:return Aee;case 500:return zh;case 501:return K6;case 503:return Mee;case 504:return Iee;default:return t>=200&&t<300?Nj:t>=400&&t<500?Fu:t>=500&&t<600?Dee:zh}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Ke=jj||(jj={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";class Jee extends Xee{S(e,n){throw new Error("Not supported by FetchConnection")}async v(e,n,s,r,i){var c;const a=JSON.stringify(r);let l;try{const u={method:"POST",headers:s,body:a};i&&(u.credentials="include"),l=await fetch(n,u)}catch(u){const d=u;throw new ye(Rj(d.status),"Request failed with error: "+d.statusText)}if(!l.ok){let u=await l.json();Array.isArray(u)&&(u=u[0]);const d=(c=u==null?void 0:u.error)==null?void 0:c.message;throw new ye(Rj(l.status),`Request failed with error: ${d??l.statusText}`)}return l.json()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wv(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zee extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Zee("Invalid base64 string: "+i):i}}(e);return new Pi(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Pi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let r=0;r<n.length;r++)s[r]=n.charCodeAt(r);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pi.EMPTY_BYTE_STRING=new Pi("");const ete=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(t){if(to(!!t,39018),typeof t=="string"){let e=0;const n=ete.exec(t);if(to(!!n,46558,{timestamp:t}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:en(t.seconds),nanos:en(t.nanos)}}function en(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Of(t){return typeof t=="string"?Pi.fromBase64String(t):Pi.fromUint8Array(t)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t,e){const n={typeString:t};return e&&(n.value=e),n}function Rm(t,e){if(!Y6(t))throw new ye(je,"JSON must be an object");let n;for(const s in e)if(e[s]){const r=e[s].typeString,i="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(r&&typeof a!==r){n=`JSON field '${s}' must be a ${r}.`;break}if(i!==void 0&&a!==i.value){n=`Expected '${s}' field to equal '${i.value}'`;break}}if(n)throw new ye(je,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kj=-62135596800,Dj=1e6;class on{static now(){return on.fromMillis(Date.now())}static fromDate(e){return on.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dj);return new on(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(je,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(je,"Timestamp nanoseconds out of range: "+n);if(e<kj)throw new ye(je,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(je,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dj}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:on._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rm(e,on._jsonSchema))return new on(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-kj;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}on._jsonSchemaVersion="firestore/timestamp/1.0",on._jsonSchema={type:Zs("string",on._jsonSchemaVersion),seconds:Zs("number"),nanoseconds:Zs("number")};function J6(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{}).__type__)==null?void 0:s.stringValue)==="server_timestamp"}function Z6(t){const e=t.mapValue.fields.__previous_value__;return J6(e)?Z6(e):e}function Vf(t){const e=vl(t.mapValue.fields.__local_write_time__.timestampValue);return new on(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="__type__",t3="__max__",Ap={fields:{__type__:{stringValue:t3}}},n3="__vector__",z0="value";function xl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?J6(t)?4:function(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}(t)?9007199254740991:function(n){var r,i;return((i=(((r=n==null?void 0:n.mapValue)==null?void 0:r.fields)||{})[e3])==null?void 0:i.stringValue)===n3}(t)?10:11:yn(28295,{value:t})}function $0(t,e){if(t===e)return!0;const n=xl(t);if(n!==xl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vf(t).isEqual(Vf(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=vl(r.timestampValue),l=vl(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Of(r.bytesValue).isEqual(Of(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return en(r.geoPointValue.latitude)===en(i.geoPointValue.latitude)&&en(r.geoPointValue.longitude)===en(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return en(r.integerValue)===en(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=en(r.doubleValue),l=en(i.doubleValue);return a===l?B0(a)===B0(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Hee(t.arrayValue.values||[],e.arrayValue.values||[],$0);case 10:case 11:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Pj(a)!==Pj(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!$0(a[c],l[c])))return!1;return!0}(t,e);default:return yn(52216,{left:t})}}function Lf(t,e){return(t.values||[]).find(n=>$0(n,e))!==void 0}function q0(t,e){if(t===e)return 0;const n=xl(t),s=xl(e);if(n!==s)return Zt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=en(i.integerValue||i.doubleValue),c=en(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Mj(t.timestampValue,e.timestampValue);case 4:return Mj(Vf(t),Vf(e));case 5:return X1(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Of(i),c=Of(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),c=a.split("/");for(let u=0;u<l.length&&u<c.length;u++){const d=Zt(l[u],c[u]);if(d!==0)return d}return Zt(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=Zt(en(i.latitude),en(a.latitude));return l!==0?l:Zt(en(i.longitude),en(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Oj(t.arrayValue,e.arrayValue);case 10:return function(i,a){var m,p,y,x;const l=i.fields||{},c=a.fields||{},u=(m=l[z0])==null?void 0:m.arrayValue,d=(p=c[z0])==null?void 0:p.arrayValue,h=Zt(((y=u==null?void 0:u.values)==null?void 0:y.length)||0,((x=d==null?void 0:d.values)==null?void 0:x.length)||0);return h!==0?h:Oj(u,d)}(t.mapValue,e.mapValue);case 11:return function(i,a){if(i===Ap&&a===Ap)return 0;if(i===Ap)return 1;if(a===Ap)return-1;const l=i.fields||{},c=Object.keys(l),u=a.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let h=0;h<c.length&&h<d.length;++h){const m=X1(c[h],d[h]);if(m!==0)return m;const p=q0(l[c[h]],u[d[h]]);if(p!==0)return p}return Zt(c.length,d.length)}(t.mapValue,e.mapValue);default:throw yn(23264,{C:n})}}function Mj(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Zt(t,e);const n=vl(t),s=vl(e),r=Zt(n.seconds,s.seconds);return r!==0?r:Zt(n.nanos,s.nanos)}function Oj(t,e){const n=t.values||[],s=e.values||[];for(let r=0;r<n.length&&r<s.length;++r){const i=q0(n[r],s[r]);if(i)return i}return Zt(n.length,s.length)}function Vj(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s3(t){return!!t&&"arrayValue"in t}function Lj(t){return!!t&&"nullValue"in t}function Uj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wb(t){return!!t&&"mapValue"in t}function $h(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return wv(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$h(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$h(t.arrayValue.values[n]);return e}return{...t}}class Fj{constructor(e,n){this.position=e,this.inclusive=n}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{}class xr extends r3{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tte(e,n,s):n==="array-contains"?new rte(e,s):n==="in"?new ite(e,s):n==="not-in"?new ate(e,s):n==="array-contains-any"?new ote(e,s):new xr(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nte(e,s):new ste(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(q0(n,this.value)):n!==null&&xl(this.value)===xl(n)&&this.matchesComparison(q0(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pm extends r3{constructor(e,n){super(),this.filters=e,this.op=n,this.N=null}static create(e,n){return new Pm(e,n)}matches(e){return function(s){return s.op==="and"}(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.N!==null||(this.N=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.N}getFilters(){return Object.assign([],this.filters)}}class tte extends xr{constructor(e,n,s){super(e,n,s),this.key=Kn.fromName(s.referenceValue)}matches(e){const n=Kn.comparator(e.key,this.key);return this.matchesComparison(n)}}class nte extends xr{constructor(e,n){super(e,"in",n),this.keys=i3("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ste extends xr{constructor(e,n){super(e,"not-in",n),this.keys=i3("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function i3(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>Kn.fromName(s.referenceValue))}class rte extends xr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s3(n)&&Lf(n.arrayValue,this.value)}}class ite extends xr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Lf(this.value.arrayValue,n)}}class ate extends xr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Lf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Lf(this.value.arrayValue,n)}}class ote extends xr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s3(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Lf(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,n="asc"){this.field=e,this.dir=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{static fromTimestamp(e){return new Pn(e)}static min(){return new Pn(new on(0,0))}static max(){return new Pn(new on(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new H0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new H0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ip(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ip(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ip(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ip(this.root,e,this.comparator,!0)}}class Ip{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??_n.RED,this.left=r??_n.EMPTY,this.right=i??_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new _n(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return _n.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw yn(27949);return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw yn(57766)}get value(){throw yn(16141)}get color(){throw yn(16727)}get left(){throw yn(29726)}get right(){throw yn(36894)}copy(e,n,s,r,i){return this}insert(e,n,s){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.comparator=e,this.data=new H0(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bj(this.data.getIterator())}getIteratorFrom(e){return new Bj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof G0)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new G0(this.comparator);return n.data=e,n}}class Bj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.value=e}static empty(){return new ai({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wb(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$h(n)}setAll(e){let n=Ks.emptyPath(),s={},r=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=l.popLast()}a?s[l.lastSegment()]=$h(a):r.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());wb(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $0(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];wb(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){wv(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new ai($h(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n,s,r,i,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new la(e,0,Pn.min(),Pn.min(),Pn.min(),ai.empty(),0)}static newFoundDocument(e,n,s,r){return new la(e,1,n,Pn.min(),s,r,0)}static newNoDocument(e,n){return new la(e,2,n,Pn.min(),Pn.min(),ai.empty(),0)}static newUnknownDocument(e,n){return new la(e,3,n,Pn.min(),Pn.min(),ai.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ai.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof la&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new la(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,n=null,s=[],r=[],i=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=a,this.endAt=l,this.O=null}}function zj(t,e=null,n=[],s=[],r=null,i=null,a=null){return new lte(t,e,n,s,r,i,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n=null,s=[],r=[],i=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=a,this.startAt=l,this.endAt=c,this.q=null,this.B=null,this.$=null,this.startAt,this.endAt}}function cte(t){return t.collectionGroup!==null}function ute(t){const e=sS(t);if(e.q===null){e.q=[];const n=new Set;for(const i of e.explicitOrderBy)e.q.push(i),n.add(i.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new G0(Ks.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.q.push(new J1(i,s))}),n.has(Ks.keyField().canonicalString())||e.q.push(new J1(Ks.keyField(),s))}return e.q}function dte(t){const e=sS(t);return e.B||(e.B=hte(e,ute(t))),e.B}function hte(t,e){if(t.limitType==="F")return zj(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const i=r.dir==="desc"?"asc":"desc";return new J1(r.field,i)});const n=t.endAt?new Fj(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Fj(t.startAt.position,t.startAt.inclusive):null;return zj(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Z1(t,e){const n=t.filters.concat([e]);return new a3(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:B0(e)?"-0":e}}function fte(t,e){return function(s){return typeof s=="number"&&Number.isInteger(s)&&!B0(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}(e)?function(s){return{integerValue:""+s}}(e):o3(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),pte=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),gte=(()=>({and:"AND",or:"OR"}))();class yte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $j(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vte(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qj(t){return to(!!t,49232),Pn.fromTimestamp(function(n){const s=vl(n);return new on(s.seconds,s.nanos)}(t))}function l3(t,e){return e_(t,e).canonicalString()}function e_(t,e){const n=function(r){return new Tn(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xte(t,e){const n=function(r){const i=Tn.fromString(r);return to(u3(i),10190,{key:i.toString()}),i}(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(je,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(je,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Kn(function(r){return to(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}(n))}function bte(t,e){const n={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=function(u,d){return l3(u.databaseId,d)}(t,r);const i=function(u){if(u.length!==0)return c3(Pm.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:gc(m.field),direction:wte(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(u,d){return u.useProto3Json||Yee(d)?d:{value:d}}(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{M:n,parent:r}}function wte(t){return mte[t]}function _te(t){return pte[t]}function Tte(t){return gte[t]}function gc(t){return{fieldPath:t.canonicalString()}}function c3(t){return t instanceof xr?function(n){if(n.op==="=="){if(Uj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NAN"}};if(Lj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NAN"}};if(Lj(n.value))return{unaryFilter:{field:gc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gc(n.field),op:_te(n.op),value:n.value}}}(t):t instanceof Pm?function(n){const s=n.getFilters().map(r=>c3(r));return s.length===1?s[0]:{compositeFilter:{op:Tte(n.op),filters:s}}}(t):yn(54877,{filter:t})}function u3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(t){return new yte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{}class Ste extends Ete{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=r,this.et=!1}rt(){if(this.et)throw new ye(Fu,"The client has already been terminated.")}I(e,n,s,r){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.I(e,e_(n,s),r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Y1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ye(zh,i.toString())})}D(e,n,s,r,i){return this.rt(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.D(e,e_(n,s),r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Y1&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ye(zh,a.toString())})}terminate(){this.et=!0,this.connection.terminate()}}async function Nte(t,e){const n=sS(t),{M:s,parent:r}=bte(n.serializer,dte(e));return(await n.D("RunQuery",n.serializer.databaseId,r,{structuredQuery:s.structuredQuery})).filter(i=>!!i.document).map(i=>function(l,c,u){const d=xte(l,c.name),h=qj(c.updateTime),m=c.createTime?qj(c.createTime):Pn.min(),p=new ai({mapValue:{fields:c.fields}}),y=la.newFoundDocument(d,h,m,p);return u&&y.setHasCommittedMutations(),u?y.setHasCommittedMutations():y}(n.serializer,i.document,void 0))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="ComponentProvider",qh=new Map;function Ate(t){if(t._terminated)throw new ye(Fu,"The client has already been terminated.");if(!qh.has(t)){F0(d3,"Initializing Datastore");const e=function(i){return new Jee(i)}(function(i,a,l,c){return new zee(i,a,l,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,X6(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator)}(t._databaseId,t.app.options.appId||"",t._persistenceKey,t._freezeSettings())),n=rS(t._databaseId),s=function(i,a,l,c){return new Ste(i,a,l,c)}(t._authCredentials,t._appCheckCredentials,e,n);qh.set(t,s)}return qh.get(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=1048576,h3="firestore.googleapis.com",Hj=!0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(je,"Can't provide ssl option if host option is not set");this.host=h3,this.ssl=Hj}else this.host=e.host,this.ssl=e.ssl??Hj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ite)throw new ye(je,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(s,r,i,a){if(r===!0&&a===!0)throw new ye(je,`${s} and ${i} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X6(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(je,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(je,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(je,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iS{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(Fu,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(Fu,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Oee;switch(s.type){case"firstParty":return new Fee(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(je,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=qh.get(n);s&&(F0(d3,"Removing Datastore"),qh.delete(n),s.terminate())}(this),Promise.resolve()}}function Cte(t,e){const n=typeof t=="object"?t:Hy(),s=typeof t=="string"?t:e||"(default)",r=Ui(n,"firestore/lite").getImmediate({identifier:s});if(!r._initialized){const i=NO("firestore");i&&jte(r,...i)}return r}function jte(t,e,n,s={}){var u;t=Q6(t,iS);const r=Li(e),i=t._getSettings(),a={...i,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;r&&($y(`https://${l}`),YT("Firestore",!0)),i.host!==h3&&i.host!==l&&H6("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:l,ssl:r,emulatorOptions:s};if(!Ai(c,a)&&(t._setSettings(c),s.mockUserToken)){let d,h;if(typeof s.mockUserToken=="string")d=s.mockUserToken,h=as.MOCK_USER;else{d=CO(s.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=s.mockUserToken.sub||s.mockUserToken.user_id;if(!m)throw new ye(je,"mockUserToken must contain 'sub' or 'user_id' field!");h=new as(m)}t._authCredentials=new Vee(new W6(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ud(this.firestore,e,this._query)}}class Wn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}toJSON(){return{type:Wn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Rm(n,Wn._jsonSchema))return new Wn(e,s||null,new Kn(Tn.fromString(n.referencePath)))}}Wn._jsonSchemaVersion="firestore/documentReference/1.0",Wn._jsonSchema={type:Zs("string",Wn._jsonSchemaVersion),referencePath:Zs("string")};class nu extends ud{constructor(e,n,s){super(e,n,function(i){return new a3(i)}(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Kn(e))}withConverter(e){return new nu(this.firestore,e,this._path)}}function f3(t,e,...n){if(t=dt(t),Kee("collection","path",e),t instanceof iS){const s=Tn.fromString(e,...n);return Cj(s),new nu(t,null,s)}{if(!(t instanceof Wn||t instanceof nu))throw new ye(je,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Tn.fromString(e,...n));return Cj(s),new nu(t.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ws(Pi.fromBase64String(e))}catch(n){throw new ye(je,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ws(Pi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ws._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rm(e,Ws._jsonSchema))return Ws.fromBase64String(e.bytes)}}Ws._jsonSchemaVersion="firestore/bytes/1.0",Ws._jsonSchema={type:Zs("string",Ws._jsonSchemaVersion),bytes:Zs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(je,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ks(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(je,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(je,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Or._jsonSchemaVersion}}static fromJSON(e){if(Rm(e,Or._jsonSchema))return new Or(e.latitude,e.longitude)}}Or._jsonSchemaVersion="firestore/geoPoint/1.0",Or._jsonSchema={type:Zs("string",Or._jsonSchemaVersion),latitude:Zs("number"),longitude:Zs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(s[i]!==r[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Vr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rm(e,Vr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Vr(e.vectorValues);throw new ye(je,"Expected 'vectorValues' field to be a number array")}}}Vr._jsonSchemaVersion="firestore/vectorValue/1.0",Vr._jsonSchema={type:Zs("string",Vr._jsonSchemaVersion),vectorValues:Zs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte=/^__.*__$/;function g3(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yn(40011,{it:t})}}class aS{constructor(e,n,s,r,i,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=r,i===void 0&&this.st(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get it(){return this.settings.it}ot(e){return new aS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ut(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.ct(e),s}lt(e){var r;const n=(r=this.path)==null?void 0:r.child(e),s=this.ot({path:n,_t:!1});return s.st(),s}ht(e){return this.ot({path:void 0,_t:!0})}ft(e){return t_(e,this.settings.methodName,this.settings.dt||!1,this.path,this.settings.Et)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}st(){if(this.path)for(let e=0;e<this.path.length;e++)this.ct(this.path.get(e))}ct(e){if(e.length===0)throw this.ft("Document fields must not be empty");if(g3(this.it)&&Rte.test(e))throw this.ft('Document fields cannot begin and end with "__"')}}class Pte{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rS(e)}Tt(e,n,s,r=!1){return new aS({it:e,methodName:n,Et:s,path:Ks.emptyPath(),_t:!1,dt:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kte(t){const e=t._freezeSettings(),n=rS(t._databaseId);return new Pte(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Dte(t,e,n,s=!1){return oS(n,t.Tt(s?4:3,e))}function oS(t,e){if(y3(t=dt(t)))return Ote("Unsupported field value:",e,t),Mte(t,e);if(t instanceof p3)return function(s,r){if(!g3(r.it))throw r.ft(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ft(`${s._methodName}() is not currently supported inside arrays`);const i=s._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings._t&&e.it!==4)throw e.ft("Nested arrays are not supported");return function(s,r){const i=[];let a=0;for(const l of s){let c=oS(l,r.ht(a));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),a++}return{arrayValue:{values:i}}}(t,e)}return function(s,r){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return fte(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const i=on.fromDate(s);return{timestampValue:$j(r.serializer,i)}}if(s instanceof on){const i=new on(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:$j(r.serializer,i)}}if(s instanceof Or)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ws)return{bytesValue:vte(r.serializer,s._byteString)};if(s instanceof Wn){const i=r.databaseId,a=s.firestore._databaseId;if(!a.isEqual(i))throw r.ft(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:l3(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Vr)return function(a,l){return{mapValue:{fields:{[e3]:{stringValue:n3},[z0]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw l.ft("VectorValues must only contain numeric values.");return o3(l.serializer,u)})}}}}}}(s,r);throw r.ft(`Unsupported field value: ${bv(s)}`)}(t,e)}function Mte(t,e){const n={};return function(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wv(t,(s,r)=>{const i=oS(r,e.ut(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function y3(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof on||t instanceof Or||t instanceof Ws||t instanceof Wn||t instanceof p3||t instanceof Vr)}function Ote(t,e,n){if(!y3(n)||!Y6(n)){const s=bv(n);throw s==="an object"?e.ft(t+" a custom object"):e.ft(t+" "+s)}}const Vte=new RegExp("[~\\*/\\[\\]]");function Lte(t,e,n){if(e.search(Vte)>=0)throw t_(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new m3(...e.split("."))._internalPath}catch{throw t_(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function t_(t,e,n,s,r){const i=s&&!s.isEmpty(),a=r!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||a)&&(c+=" (found",i&&(c+=` in field ${s}`),a&&(c+=` in document ${r}`),c+=")"),new ye(je,l+t+c)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new v3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x3("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class v3 extends Ute{data(){return super.data()}}class Fte{constructor(e,n){this._docs=n,this.query=e}get docs(){return[...this._docs]}get size(){return this.docs.length}get empty(){return this.docs.length===0}forEach(e,n){this._docs.forEach(e,n)}}function x3(t,e){return typeof e=="string"?Lte(t,e):e instanceof m3?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{}class Bte extends lS{}function b3(t,e,...n){let s=[];e instanceof lS&&s.push(e),s=s.concat(n),function(i){const a=i.filter(c=>c instanceof cS).length,l=i.filter(c=>c instanceof _v).length;if(a>1||a>0&&l>0)throw new ye(je,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const r of s)t=r._apply(t);return t}class _v extends Bte{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _v(e,n,s)}_apply(e){const n=this._parse(e);return _3(e._query,n),new ud(e.firestore,e.converter,Z1(e._query,n))}_parse(e){const n=kte(e.firestore);return function(i,a,l,c,u,d,h){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ye(je,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Wj(h,d);const y=[];for(const x of h)y.push(Kj(c,i,x));m={arrayValue:{values:y}}}else m=Kj(c,i,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Wj(h,d),m=Dte(l,a,h,d==="in"||d==="not-in");return xr.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function w3(t,e,n){const s=e,r=x3("where",t);return _v._create(r,s,n)}class cS extends lS{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cS(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Pm.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,i){let a=r;const l=i.getFlattenedFilters();for(const c of l)_3(a,c),a=Z1(a,c)}(e._query,n),new ud(e.firestore,e.converter,Z1(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Kj(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new ye(je,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cte(e)&&n.indexOf("/")!==-1)throw new ye(je,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Tn.fromString(n));if(!Kn.isDocumentKey(s))throw new ye(je,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Vj(t,new Kn(s))}if(n instanceof Wn)return Vj(t,n._key);throw new ye(je,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bv(n)}.`)}function Wj(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(je,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _3(t,e){const n=function(r,i){for(const a of r)for(const l of a.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ye(je,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(je,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zte{convertValue(e,n="none"){switch(xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return en(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw yn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return wv(e,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertVectorValue(e){var s,r,i;const n=(i=(r=(s=e.fields)==null?void 0:s[z0].arrayValue)==null?void 0:r.values)==null?void 0:i.map(a=>en(a.doubleValue));return new Vr(n)}convertGeoPoint(e){return new Or(en(e.latitude),en(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Z6(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Vf(e));default:return null}}convertTimestamp(e){const n=vl(e);return new on(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Tn.fromString(e);to(u3(s),9688,{name:e});const r=new Mf(s.get(1),s.get(3)),i=new Kn(s.popFirst(5));return r.isEqual(n)||tS(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}class $te extends zte{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ws(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function T3(t){(function(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(K6,"limitToLast() queries require specifying at least one orderBy() clause")})((t=Q6(t,ud))._query);const e=Ate(t.firestore),n=new $te(t.firestore);return Nte(e,t._query).then(s=>{const r=s.map(i=>new v3(t.firestore,n,i.key,i,t.converter));return t._query.limitType==="L"&&r.reverse(),new Fte(t,r)})}(function(){(function(n){cd=n})(`${mo}_lite`),nr(new Ds("firestore/lite",(e,{instanceIdentifier:n,options:s})=>{const r=e.getProvider("app").getImmediate(),i=new iS(new Lee(e.getProvider("auth-internal")),new Bee(r,e.getProvider("app-check-internal")),function(l,c){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new ye(je,'"projectId" not provided in firebase.initializeApp.');return new Mf(l.options.projectId,c)}(r,n),r);return s&&i._setSettings(s),i},"PUBLIC").setMultipleInstances(!0)),Ln("firestore-lite",Sj,""),Ln("firestore-lite",Sj,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="firebasestorage.googleapis.com",qte="storageBucket",Hte=2*60*1e3,Gte=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends Vs{constructor(e,n,s=0){super(_b(e),`Firebase Storage: ${n} (${_b(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _b(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $r;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($r||($r={}));function _b(t){return"storage/"+t}function Kte(){const t="An unknown error occurred, please check the error payload for server response.";return new Wr($r.UNKNOWN,t)}function Wte(){return new Wr($r.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Yte(){return new Wr($r.CANCELED,"User canceled the upload/download.")}function Qte(t){return new Wr($r.INVALID_URL,"Invalid URL '"+t+"'.")}function Xte(t){return new Wr($r.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Yj(t){return new Wr($r.INVALID_ARGUMENT,t)}function S3(){return new Wr($r.APP_DELETED,"The Firebase app was deleted.")}function Jte(t){return new Wr($r.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=fr.makeFromUrl(e,n)}catch{return new fr(e,"")}if(s.path==="")return s;throw Xte(e)}static makeFromUrl(e,n){let s=null;const r="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function u(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${r}/o${m}`,"i"),y={bucket:1,path:3},x=n===E3?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",v=new RegExp(`^https?://${x}/${r}/${_}`,"i"),E=[{regex:l,indices:c,postModify:i},{regex:p,indices:y,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let I=0;I<E.length;I++){const A=E[I],R=A.regex.exec(e);if(R){const S=R[A.indices.bucket];let T=R[A.indices.path];T||(T=""),s=new fr(S,T),A.postModify(s);break}}if(s==null)throw Qte(e);return s}}class Zte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t,e,n){let s=1,r=null,i=null,a=!1,l=0;function c(){return l===2}let u=!1;function d(..._){u||(u=!0,e.apply(null,_))}function h(_){r=setTimeout(()=>{r=null,t(p,c())},_)}function m(){i&&clearTimeout(i)}function p(_,...v){if(u){m();return}if(_){m(),d.call(null,_,...v);return}if(c()||a){m(),d.call(null,_,...v);return}s<64&&(s*=2);let E;l===1?(l=2,E=0):E=(s+Math.random())*1e3,h(E)}let y=!1;function x(_){y||(y=!0,m(),!u&&(r!==null?(_||(l=2),clearTimeout(r),h(0)):_||(l=1)))}return h(0),i=setTimeout(()=>{a=!0,x(!0)},n),x}function tne(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nne(t){return t!==void 0}function Qj(t,e,n,s){if(s<e)throw Yj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw Yj(`Invalid value for '${t}'. Expected ${n} or less.`)}function sne(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const r=e(s)+"="+e(t[s]);n=n+r+"&"}return n=n.slice(0,-1),n}var K0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(K0||(K0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rne(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||r||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{constructor(e,n,s,r,i,a,l,c,u,d,h,m=!0,p=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=m,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(s,r)=>{if(r){s(!1,new Cp(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const a=l=>{const c=l.loaded,u=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&i.addUploadProgressListener(a),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(a),this.pendingConnection_=null;const l=i.getErrorCode()===K0.NO_ERROR,c=i.getStatus();if(!l||rne(c,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===K0.ABORT;s(!1,new Cp(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;s(!0,new Cp(u,i))})},n=(s,r)=>{const i=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());nne(c)?i(c):i()}catch(c){a(c)}else if(l!==null){const c=Kte();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(r.canceled){const c=this.appDelete_?S3():Yte();a(c)}else{const c=Wte();a(c)}};this.canceled_?n(!1,new Cp(!1,null,!0)):this.backoffId_=ene(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&tne(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Cp{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function ane(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function one(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function lne(t,e){e&&(t["X-Firebase-GMPID"]=e)}function cne(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function une(t,e,n,s,r,i,a=!0,l=!1){const c=sne(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return lne(d,e),ane(d,n),one(d,i),cne(d,s),new ine(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function hne(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this._service=e,n instanceof fr?this._location=n:this._location=fr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new W0(e,n)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return hne(this._location.path)}get storage(){return this._service}get parent(){const e=dne(this._location.path);if(e===null)return null;const n=new fr(this._location.bucket,e);return new W0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Jte(e)}}function Xj(t,e){const n=e==null?void 0:e[qte];return n==null?null:fr.makeFromBucketSpec(n,t)}function fne(t,e,n,s={}){t.host=`${e}:${n}`;const r=Li(e);r&&($y(`https://${t.host}/b`),YT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:i}=s;i&&(t._overrideAuthToken=typeof i=="string"?i:CO(i,t.app.options.projectId))}class mne{constructor(e,n,s,r,i,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=r,this._firebaseVersion=i,this._isUsingEmulator=a,this._bucket=null,this._host=E3,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Hte,this._maxUploadRetryTime=Gte,this._requests=new Set,r!=null?this._bucket=fr.makeFromBucketSpec(r,this._host):this._bucket=Xj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=Xj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Qj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Qj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new W0(this,e)}_makeRequest(e,n,s,r,i=!0){if(this._deleted)return new Zte(S3());{const a=une(e,this._appId,s,r,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,r).getPromise()}}const Jj="@firebase/storage",Zj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N3="storage";function pne(t=Hy(),e){t=dt(t);const s=Ui(t,N3).getImmediate({identifier:e}),r=NO("storage");return r&&gne(s,...r),s}function gne(t,e,n,s={}){fne(t,e,n,s)}function yne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new mne(n,s,r,e,mo)}function vne(){nr(new Ds(N3,yne,"PUBLIC").setMultipleInstances(!0)),Ln(Jj,Zj,""),Ln(Jj,Zj,"esm2020")}vne();const A3="@firebase/installations",uS="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=1e4,C3=`w:${uS}`,j3="FIS_v2",xne="https://firebaseinstallations.googleapis.com/v1",bne=60*60*1e3,wne="installations",_ne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},bl=new Dl(wne,_ne,Tne);function R3(t){return t instanceof Vs&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P3({projectId:t}){return`${xne}/projects/${t}/installations`}function k3(t){return{token:t.token,requestStatus:2,expiresIn:Sne(t.expiresIn),creationTime:Date.now()}}async function D3(t,e){const s=(await e.json()).error;return bl.create("request-failed",{requestName:t,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function M3({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Ene(t,{refreshToken:e}){const n=M3(t);return n.append("Authorization",Nne(e)),n}async function O3(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Sne(t){return Number(t.replace("s","000"))}function Nne(t){return`${j3} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ane({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const s=P3(t),r=M3(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={fid:n,authVersion:j3,appId:t.appId,sdkVersion:C3},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await O3(()=>fetch(s,l));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:k3(u.authToken)}}else throw await D3("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ine(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cne=/^[cdef][\w-]{21}$/,n_="";function jne(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Rne(t);return Cne.test(n)?n:n_}catch{return n_}}function Rne(t){return Ine(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3=new Map;function U3(t,e){const n=Tv(t);F3(n,e),Pne(n,e)}function F3(t,e){const n=L3.get(t);if(n)for(const s of n)s(e)}function Pne(t,e){const n=kne();n&&n.postMessage({key:t,fid:e}),Dne()}let $o=null;function kne(){return!$o&&"BroadcastChannel"in self&&($o=new BroadcastChannel("[Firebase] FID Change"),$o.onmessage=t=>{F3(t.data.key,t.data.fid)}),$o}function Dne(){L3.size===0&&$o&&($o.close(),$o=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mne="firebase-installations-database",One=1,wl="firebase-installations-store";let Tb=null;function dS(){return Tb||(Tb=OO(Mne,One,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(wl)}}})),Tb}async function Y0(t,e){const n=Tv(t),r=(await dS()).transaction(wl,"readwrite"),i=r.objectStore(wl),a=await i.get(n);return await i.put(e,n),await r.done,(!a||a.fid!==e.fid)&&U3(t,e.fid),e}async function B3(t){const e=Tv(t),s=(await dS()).transaction(wl,"readwrite");await s.objectStore(wl).delete(e),await s.done}async function Ev(t,e){const n=Tv(t),r=(await dS()).transaction(wl,"readwrite"),i=r.objectStore(wl),a=await i.get(n),l=e(a);return l===void 0?await i.delete(n):await i.put(l,n),await r.done,l&&(!a||a.fid!==l.fid)&&U3(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hS(t){let e;const n=await Ev(t.appConfig,s=>{const r=Vne(s),i=Lne(t,r);return e=i.registrationPromise,i.installationEntry});return n.fid===n_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Vne(t){const e=t||{fid:jne(),registrationStatus:0};return z3(e)}function Lne(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(bl.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Une(t,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Fne(t)}:{installationEntry:e}}async function Une(t,e){try{const n=await Ane(t,e);return Y0(t.appConfig,n)}catch(n){throw R3(n)&&n.customData.serverCode===409?await B3(t.appConfig):await Y0(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Fne(t){let e=await eR(t.appConfig);for(;e.registrationStatus===1;)await V3(100),e=await eR(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await hS(t);return s||n}return e}function eR(t){return Ev(t,e=>{if(!e)throw bl.create("installation-not-found");return z3(e)})}function z3(t){return Bne(t)?{fid:t.fid,registrationStatus:0}:t}function Bne(t){return t.registrationStatus===1&&t.registrationTime+I3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zne({appConfig:t,heartbeatServiceProvider:e},n){const s=$ne(t,n),r=Ene(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const a={installation:{sdkVersion:C3,appId:t.appId}},l={method:"POST",headers:r,body:JSON.stringify(a)},c=await O3(()=>fetch(s,l));if(c.ok){const u=await c.json();return k3(u)}else throw await D3("Generate Auth Token",c)}function $ne(t,{fid:e}){return`${P3(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(t,e=!1){let n;const s=await Ev(t.appConfig,i=>{if(!$3(i))throw bl.create("not-registered");const a=i.authToken;if(!e&&Gne(a))return i;if(a.requestStatus===1)return n=qne(t,e),i;{if(!navigator.onLine)throw bl.create("app-offline");const l=Wne(i);return n=Hne(t,l),l}});return n?await n:s.authToken}async function qne(t,e){let n=await tR(t.appConfig);for(;n.authToken.requestStatus===1;)await V3(100),n=await tR(t.appConfig);const s=n.authToken;return s.requestStatus===0?fS(t,e):s}function tR(t){return Ev(t,e=>{if(!$3(e))throw bl.create("not-registered");const n=e.authToken;return Yne(n)?{...e,authToken:{requestStatus:0}}:e})}async function Hne(t,e){try{const n=await zne(t,e),s={...e,authToken:n};return await Y0(t.appConfig,s),n}catch(n){if(R3(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await B3(t.appConfig);else{const s={...e,authToken:{requestStatus:0}};await Y0(t.appConfig,s)}throw n}}function $3(t){return t!==void 0&&t.registrationStatus===2}function Gne(t){return t.requestStatus===2&&!Kne(t)}function Kne(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+bne}function Wne(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Yne(t){return t.requestStatus===1&&t.requestTime+I3<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qne(t){const e=t,{installationEntry:n,registrationPromise:s}=await hS(e);return s?s.catch(console.error):fS(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xne(t,e=!1){const n=t;return await Jne(n),(await fS(n,e)).token}async function Jne(t){const{registrationPromise:e}=await hS(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t){if(!t||!t.options)throw Eb("App Configuration");if(!t.name)throw Eb("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Eb(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Eb(t){return bl.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3="installations",ese="installations-internal",tse=t=>{const e=t.getProvider("app").getImmediate(),n=Zne(e),s=Ui(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},nse=t=>{const e=t.getProvider("app").getImmediate(),n=Ui(e,q3).getImmediate();return{getId:()=>Qne(n),getToken:r=>Xne(n,r)}};function sse(){nr(new Ds(q3,tse,"PUBLIC")),nr(new Ds(ese,nse,"PRIVATE"))}sse();Ln(A3,uS);Ln(A3,uS,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="analytics",rse="firebase_id",ise="origin",ase=60*1e3,ose="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mS="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new hm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Is=new Dl("analytics","Analytics",lse);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cse(t){if(!t.startsWith(mS)){const e=Is.create("invalid-gtag-resource",{gtagURL:t});return Xn.warn(e.message),""}return t}function H3(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function use(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function dse(t,e){const n=use("firebase-js-sdk-policy",{createScriptURL:cse}),s=document.createElement("script"),r=`${mS}?l=${t}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function hse(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function fse(t,e,n,s,r,i){const a=s[r];try{if(a)await e[a];else{const c=(await H3(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(l){Xn.error(l)}t("config",r,i)}async function mse(t,e,n,s,r){try{let i=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const l=await H3(n);for(const c of a){const u=l.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)i.push(d);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",s,r||{})}catch(i){Xn.error(i)}}function pse(t,e,n,s){async function r(i,...a){try{if(i==="event"){const[l,c]=a;await mse(t,e,n,l,c)}else if(i==="config"){const[l,c]=a;await fse(t,e,n,s,l,c)}else if(i==="consent"){const[l,c]=a;t("consent",l,c)}else if(i==="get"){const[l,c,u]=a;t("get",l,c,u)}else if(i==="set"){const[l]=a;t("set",l)}else t(i,...a)}catch(l){Xn.error(l)}}return r}function gse(t,e,n,s,r){let i=function(...a){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=pse(i,t,e,n),{gtagCore:i,wrappedGtag:window[r]}}function yse(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(mS)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse=30,xse=1e3;class bse{constructor(e={},n=xse){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const G3=new bse;function wse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function _se(t){var a;const{appId:e,apiKey:n}=t,s={method:"GET",headers:wse(n)},r=ose.replace("{app-id}",e),i=await fetch(r,s);if(i.status!==200&&i.status!==304){let l="";try{const c=await i.json();(a=c.error)!=null&&a.message&&(l=c.error.message)}catch{}throw Is.create("config-fetch-failed",{httpStatus:i.status,responseMessage:l})}return i.json()}async function Tse(t,e=G3,n){const{appId:s,apiKey:r,measurementId:i}=t.options;if(!s)throw Is.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw Is.create("no-api-key")}const a=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Nse;return setTimeout(async()=>{l.abort()},n!==void 0?n:ase),K3({appId:s,apiKey:r,measurementId:i},a,l,e)}async function K3(t,{throttleEndTimeMillis:e,backoffCount:n},s,r=G3){var l;const{appId:i,measurementId:a}=t;try{await Ese(s,e)}catch(c){if(a)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await _se(t);return r.deleteThrottleMetadata(i),c}catch(c){const u=c;if(!Sse(u)){if(r.deleteThrottleMetadata(i),a)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:i,measurementId:a};throw c}const d=Number((l=u==null?void 0:u.customData)==null?void 0:l.httpStatus)===503?I2(n,r.intervalMillis,vse):I2(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(i,h),Xn.debug(`Calling attemptFetch again in ${d} millis`),K3(t,h,s,r)}}function Ese(t,e){return new Promise((n,s)=>{const r=Math.max(e-Date.now(),0),i=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(i),s(Is.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Sse(t){if(!(t instanceof Vs)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Nse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ase(t,e,n,s,r){if(r&&r.global){t("event",n,s);return}else{const i=await e,a={...s,send_to:i};t("event",n,a)}}async function Ise(t,e,n,s){if(s&&s.global){const r={};for(const i of Object.keys(n))r[`user_properties.${i}`]=n[i];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cse(){if(qy())try{await XT()}catch(t){return Xn.warn(Is.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Xn.warn(Is.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jse(t,e,n,s,r,i,a){const l=Tse(t);l.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>Xn.error(m)),e.push(l);const c=Cse().then(m=>{if(m)return s.getId()}),[u,d]=await Promise.all([l,c]);yse(i)||dse(i,u.measurementId),r("js",new Date);const h=(a==null?void 0:a.config)??{};return h[ise]="firebase",h.update=!0,d!=null&&(h[rse]=d),r("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rse{constructor(e){this.app=e}_delete(){return delete su[this.app.options.appId],Promise.resolve()}}let su={},nR=[];const sR={};let Sb="dataLayer",Pse="gtag",rR,pS,iR=!1;function kse(){const t=[];if(QT()&&t.push("This is a browser extension environment."),kO()||t.push("Cookies are not available."),t.length>0){const e=t.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=Is.create("invalid-analytics-context",{errorInfo:e});Xn.warn(n.message)}}function Dse(t,e,n){kse();const s=t.options.appId;if(!s)throw Is.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Is.create("no-api-key");if(su[s]!=null)throw Is.create("already-exists",{id:s});if(!iR){hse(Sb);const{wrappedGtag:i,gtagCore:a}=gse(su,nR,sR,Sb,Pse);pS=i,rR=a,iR=!0}return su[s]=jse(t,nR,sR,e,rR,Sb,n),new Rse(t)}function Mse(t=Hy()){t=dt(t);const e=Ui(t,Q0);return e.isInitialized()?e.getImmediate():Ose(t)}function Ose(t,e={}){const n=Ui(t,Q0);if(n.isInitialized()){const r=n.getImmediate();if(Ai(e,n.getOptions()))return r;throw Is.create("already-initialized")}return n.initialize({options:e})}async function Vse(){if(QT()||!kO()||!qy())return!1;try{return await XT()}catch{return!1}}function Lse(t,e,n){t=dt(t),Ise(pS,su[t.app.options.appId],e,n).catch(s=>Xn.error(s))}function Use(t,e,n,s){t=dt(t),Ase(pS,su[t.app.options.appId],e,n,s).catch(r=>Xn.error(r))}const aR="@firebase/analytics",oR="0.10.19";function Fse(){nr(new Ds(Q0,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return Dse(s,r,n)},"PUBLIC")),nr(new Ds("analytics-internal",t,"PRIVATE")),Ln(aR,oR),Ln(aR,oR,"esm2020");function t(e){try{const n=e.getProvider(Q0).getImmediate();return{logEvent:(s,r,i)=>Use(n,s,r,i),setUserProperties:(s,r)=>Lse(n,s,r)}}catch(n){throw Is.create("interop-component-reg-failed",{reason:n})}}}Fse();const Bse={apiKey:"AIzaSyB98wXNLNARzvn_fF6mTLPrXhObSCsbZwo",authDomain:"elmtgar.firebaseapp.com",projectId:"elmtgar",storageBucket:"elmtgar.appspot.com",messagingSenderId:"818064958346",appId:"1:818064958346:web:a4cb0fdd9d98a97ca39e73",measurementId:"G-YTPVVTPR3D"},dd=VO(Bse);typeof window<"u"&&Vse().then(t=>{t&&Mse(dd)}).catch(()=>{});const Dt=YQ(dd),de=dee(dd,{experimentalAutoDetectLongPolling:!0,useFetchStreams:!1,preferRestRoutes:!0});typeof window<"u"&&hee(de).catch(t=>{t.code=="failed-precondition"?console.warn("Persistence failed: Multiple tabs open"):t.code=="unimplemented"&&console.warn("Persistence not supported by browser")});const gS=Cte(dd),zse=pne(dd,"gs://elmtgar.appspot.com"),$se=Object.freeze(Object.defineProperty({__proto__:null,auth:Dt,db:de,dbLite:gS,default:dd,storage:zse},Symbol.toStringTag,{value:"Module"}));/*! Capacitor: https://capacitorjs.com/ - MIT License */var Bu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Bu||(Bu={}));class Nb extends Error{constructor(e,n,s){super(e),this.message=e,this.code=n,this.data=s}}const qse=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Hse=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},s=n.Plugins=n.Plugins||{},r=()=>e!==null?e.name:qse(t),i=()=>r()!=="web",a=h=>{const m=u.get(h);return!!(m!=null&&m.platforms.has(r())||l(h))},l=h=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(p=>p.name===h)},c=h=>t.console.error(h),u=new Map,d=(h,m={})=>{const p=u.get(h);if(p)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),p.proxy;const y=r(),x=l(h);let _;const v=async()=>(!_&&y in m?_=typeof m[y]=="function"?_=await m[y]():_=m[y]:e!==null&&!_&&"web"in m&&(_=typeof m.web=="function"?_=await m.web():_=m.web),_),b=(T,C)=>{var j,P;if(x){const M=x==null?void 0:x.methods.find(k=>C===k.name);if(M)return M.rtype==="promise"?k=>n.nativePromise(h,C.toString(),k):(k,F)=>n.nativeCallback(h,C.toString(),k,F);if(T)return(j=T[C])===null||j===void 0?void 0:j.bind(T)}else{if(T)return(P=T[C])===null||P===void 0?void 0:P.bind(T);throw new Nb(`"${h}" plugin is not implemented on ${y}`,Bu.Unimplemented)}},E=T=>{let C;const j=(...P)=>{const M=v().then(k=>{const F=b(k,T);if(F){const X=F(...P);return C=X==null?void 0:X.remove,X}else throw new Nb(`"${h}.${T}()" is not implemented on ${y}`,Bu.Unimplemented)});return T==="addListener"&&(M.remove=async()=>C()),M};return j.toString=()=>`${T.toString()}() { [capacitor code] }`,Object.defineProperty(j,"name",{value:T,writable:!1,configurable:!1}),j},I=E("addListener"),A=E("removeListener"),R=(T,C)=>{const j=I({eventName:T},C),P=async()=>{const k=await j;A({eventName:T,callbackId:k},C)},M=new Promise(k=>j.then(()=>k({remove:P})));return M.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},M},S=new Proxy({},{get(T,C){switch(C){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return x?R:I;case"removeListener":return A;default:return E(C)}}});return s[h]=S,u.set(h,{name:h,proxy:S,platforms:new Set([...Object.keys(m),...x?[y]:[]])}),S};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=r,n.handleError=c,n.isNativePlatform=i,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=Nb,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Gse=t=>t.Capacitor=Hse(t),Uf=Gse(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Sv=Uf.registerPlugin;class yS{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),s&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,s){const r=this.listeners[e];if(!r){if(s){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}r.forEach(i=>i(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:s=>{this.notifyListeners(n,s)}}}unimplemented(e="not implemented"){return new Uf.Exception(e,Bu.Unimplemented)}unavailable(e="not available"){return new Uf.Exception(e,Bu.Unavailable)}async removeListener(e,n){const s=this.listeners[e];if(!s)return;const r=s.indexOf(n);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(s=>{this.notifyListeners(e,s)}))}}const lR=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),cR=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Kse extends yS{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,i]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=cR(r).trim(),i=cR(i).trim(),n[r]=i}),n}async setCookie(e){try{const n=lR(e.key),s=lR(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${s||""}${r}; path=${i}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Sv("CapacitorCookies",{web:()=>new Kse});const Wse=async t=>new Promise((e,n)=>{const s=new FileReader;s.onload=()=>{const r=s.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},s.onerror=r=>n(r),s.readAsDataURL(t)}),Yse=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,i,a)=>(r[i]=t[e[a]],r),{})},Qse=(t,e=!0)=>t?Object.entries(t).reduce((s,r)=>{const[i,a]=r;let l,c;return Array.isArray(a)?(c="",a.forEach(u=>{l=e?encodeURIComponent(u):u,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${i}=${l}`),`${s}&${c}`},"").substr(1):null,Xse=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),r=Yse(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))i.set(a,l);n.body=i.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);n.body=i;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(r.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Jse extends yS{async request(e){const n=Xse(e,e.webFetchExtra),s=Qse(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,i=await fetch(r,n),a=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};a.includes("application/json")&&(l="json");let c,u;switch(l){case"arraybuffer":case"blob":u=await i.blob(),c=await Wse(u);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const d={};return i.headers.forEach((h,m)=>{d[m]=h}),{data:c,headers:d,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Sv("CapacitorHttp",{web:()=>new Jse});var uR;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(uR||(uR={}));var dR;(function(t){t.StatusBar="StatusBar",t.NavigationBar="NavigationBar"})(dR||(dR={}));class Zse extends yS{async setStyle(){this.unavailable("not available for web")}async setAnimation(){this.unavailable("not available for web")}async show(){this.unavailable("not available for web")}async hide(){this.unavailable("not available for web")}}Sv("SystemBars",{web:()=>new Zse});var hR;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(hR||(hR={}));var fR;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(fR||(fR={}));const mR=Sv("StatusBar"),vS=g.createContext({});function xS(t){const e=g.useRef(null);return e.current===null&&(e.current=t()),e.current}const Nv=g.createContext(null),bS=g.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ere extends g.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function tre({children:t,isPresent:e}){const n=g.useId(),s=g.useRef(null),r=g.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=g.useContext(bS);return g.useInsertionEffect(()=>{const{width:a,height:l,top:c,left:u}=r.current;if(e||!s.current||!a||!l)return;s.current.dataset.motionPopId=n;const d=document.createElement("style");return i&&(d.nonce=i),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),o.jsx(ere,{isPresent:e,childRef:s,sizeRef:r,children:g.cloneElement(t,{ref:s})})}const nre=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:i,mode:a})=>{const l=xS(sre),c=g.useId(),u=g.useCallback(h=>{l.set(h,!0);for(const m of l.values())if(!m)return;s&&s()},[l,s]),d=g.useMemo(()=>({id:c,initial:e,isPresent:n,custom:r,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),i?[Math.random(),u]:[n,u]);return g.useMemo(()=>{l.forEach((h,m)=>l.set(m,!1))},[n]),g.useEffect(()=>{!n&&!l.size&&s&&s()},[n]),a==="popLayout"&&(t=o.jsx(tre,{isPresent:n,children:t})),o.jsx(Nv.Provider,{value:d,children:t})};function sre(){return new Map}function W3(t=!0){const e=g.useContext(Nv);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,i=g.useId();g.useEffect(()=>{t&&r(i)},[t]);const a=g.useCallback(()=>t&&s&&s(i),[i,s,t]);return!n&&s?[!1,a]:[!0]}const jp=t=>t.key||"";function pR(t){const e=[];return g.Children.forEach(t,n=>{g.isValidElement(n)&&e.push(n)}),e}const wS=typeof window<"u",Y3=wS?g.useLayoutEffect:g.useEffect,rre=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:i="sync",propagate:a=!1})=>{const[l,c]=W3(a),u=g.useMemo(()=>pR(t),[t]),d=a&&!l?[]:u.map(jp),h=g.useRef(!0),m=g.useRef(u),p=xS(()=>new Map),[y,x]=g.useState(u),[_,v]=g.useState(u);Y3(()=>{h.current=!1,m.current=u;for(let I=0;I<_.length;I++){const A=jp(_[I]);d.includes(A)?p.delete(A):p.get(A)!==!0&&p.set(A,!1)}},[_,d.length,d.join("-")]);const b=[];if(u!==y){let I=[...u];for(let A=0;A<_.length;A++){const R=_[A],S=jp(R);d.includes(S)||(I.splice(A,0,R),b.push(R))}i==="wait"&&b.length&&(I=b),v(pR(I)),x(u);return}const{forceRender:E}=g.useContext(vS);return o.jsx(o.Fragment,{children:_.map(I=>{const A=jp(I),R=a&&!l?!1:u===_||d.includes(A),S=()=>{if(p.has(A))p.set(A,!0);else return;let T=!0;p.forEach(C=>{C||(T=!1)}),T&&(E==null||E(),v(m.current),a&&(c==null||c()),s&&s())};return o.jsx(nre,{isPresent:R,initial:!h.current||n?void 0:!1,custom:R?void 0:e,presenceAffectsLayout:r,mode:i,onExitComplete:R?void 0:S,children:I},A)})})},Cs=t=>t;let Q3=Cs;function _S(t){let e;return()=>(e===void 0&&(e=t()),e)}const zu=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s},vi=t=>t*1e3,xi=t=>t/1e3,ire={skipAnimations:!1,useManualTiming:!1};function are(t){let e=new Set,n=new Set,s=!1,r=!1;const i=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),t()),u(a)}const c={schedule:(u,d=!1,h=!1)=>{const p=h&&s?e:n;return d&&i.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(a=u,s){r=!0;return}s=!0,[e,n]=[n,e],e.forEach(l),e.clear(),s=!1,r&&(r=!1,c.process(u))}};return c}const Rp=["read","resolveKeyframes","update","preRender","render","postRender"],ore=40;function X3(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,a=Rp.reduce((v,b)=>(v[b]=are(i),v),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:m}=a,p=()=>{const v=performance.now();n=!1,r.delta=s?1e3/60:Math.max(Math.min(v-r.timestamp,ore),1),r.timestamp=v,r.isProcessing=!0,l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),m.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(p))},y=()=>{n=!0,s=!0,r.isProcessing||t(p)};return{schedule:Rp.reduce((v,b)=>{const E=a[b];return v[b]=(I,A=!1,R=!1)=>(n||y(),E.schedule(I,A,R)),v},{}),cancel:v=>{for(let b=0;b<Rp.length;b++)a[Rp[b]].cancel(v)},state:r,steps:a}}const{schedule:Nt,cancel:no,state:bn,steps:Ab}=X3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cs,!0),J3=g.createContext({strict:!1}),gR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$u={};for(const t in gR)$u[t]={isEnabled:e=>gR[t].some(n=>!!e[n])};function lre(t){for(const e in t)$u[e]={...$u[e],...t[e]}}const cre=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function X0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||cre.has(t)}let Z3=t=>!X0(t);function ure(t){t&&(Z3=e=>e.startsWith("on")?!X0(e):t(e))}try{ure(require("@emotion/is-prop-valid").default)}catch{}function dre(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(Z3(r)||n===!0&&X0(r)||!e&&!X0(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}function hre(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...s)=>t(...s);return new Proxy(n,{get:(s,r)=>r==="create"?t:(e.has(r)||e.set(r,t(r)),e.get(r))})}const Av=g.createContext({});function Ff(t){return typeof t=="string"||Array.isArray(t)}function Iv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const TS=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ES=["initial",...TS];function Cv(t){return Iv(t.animate)||ES.some(e=>Ff(t[e]))}function eL(t){return!!(Cv(t)||t.variants)}function fre(t,e){if(Cv(t)){const{initial:n,animate:s}=t;return{initial:n===!1||Ff(n)?n:void 0,animate:Ff(s)?s:void 0}}return t.inherit!==!1?e:{}}function mre(t){const{initial:e,animate:n}=fre(t,g.useContext(Av));return g.useMemo(()=>({initial:e,animate:n}),[yR(e),yR(n)])}function yR(t){return Array.isArray(t)?t.join(" "):t}const pre=Symbol.for("motionComponentSymbol");function jc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function gre(t,e,n){return g.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):jc(n)&&(n.current=s))},[e])}const SS=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yre="framerAppearId",tL="data-"+SS(yre),{schedule:NS,cancel:tpe}=X3(queueMicrotask,!1),nL=g.createContext({});function vre(t,e,n,s,r){var i,a;const{visualElement:l}=g.useContext(Av),c=g.useContext(J3),u=g.useContext(Nv),d=g.useContext(bS).reducedMotion,h=g.useRef(null);s=s||c.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,p=g.useContext(nL);m&&!m.projection&&r&&(m.type==="html"||m.type==="svg")&&xre(h.current,n,r,p);const y=g.useRef(!1);g.useInsertionEffect(()=>{m&&y.current&&m.update(n,u)});const x=n[tL],_=g.useRef(!!x&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,x))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,x)));return Y3(()=>{m&&(y.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),NS.render(m.render),_.current&&m.animationState&&m.animationState.animateChanges())}),g.useEffect(()=>{m&&(!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)===null||v===void 0||v.call(window,x)}),_.current=!1))}),m}function xre(t,e,n,s){const{layoutId:r,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sL(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!a||l&&jc(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:u})}function sL(t){if(t)return t.options.allowProjection!==!1?t.projection:sL(t.parent)}function bre({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:s,Component:r}){var i,a;t&&lre(t);function l(u,d){let h;const m={...g.useContext(bS),...u,layoutId:wre(u)},{isStatic:p}=m,y=mre(u),x=s(u,p);if(!p&&wS){_re();const _=Tre(m);h=_.MeasureLayout,y.visualElement=vre(r,x,m,e,_.ProjectionNode)}return o.jsxs(Av.Provider,{value:y,children:[h&&y.visualElement?o.jsx(h,{visualElement:y.visualElement,...m}):null,n(r,u,gre(x,y.visualElement,d),x,p,y.visualElement)]})}l.displayName=`motion.${typeof r=="string"?r:`create(${(a=(i=r.displayName)!==null&&i!==void 0?i:r.name)!==null&&a!==void 0?a:""})`}`;const c=g.forwardRef(l);return c[pre]=r,c}function wre({layoutId:t}){const e=g.useContext(vS).id;return e&&t!==void 0?e+"-"+t:t}function _re(t,e){g.useContext(J3).strict}function Tre(t){const{drag:e,layout:n}=$u;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}const Ere=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AS(t){return typeof t!="string"||t.includes("-")?!1:!!(Ere.indexOf(t)>-1||/[A-Z]/u.test(t))}function vR(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function IS(t,e,n,s){if(typeof e=="function"){const[r,i]=vR(s);e=e(n!==void 0?n:t.custom,r,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,i]=vR(s);e=e(n!==void 0?n:t.custom,r,i)}return e}const s_=t=>Array.isArray(t),Sre=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Nre=t=>s_(t)?t[t.length-1]||0:t,Vn=t=>!!(t&&t.getVelocity);function _g(t){const e=Vn(t)?t.get():t;return Sre(e)?e.toValue():e}function Are({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},s,r,i){const a={latestValues:Ire(s,r,i,t),renderState:e()};return n&&(a.onMount=l=>n({props:s,current:l,...a}),a.onUpdate=l=>n(l)),a}const rL=t=>(e,n)=>{const s=g.useContext(Av),r=g.useContext(Nv),i=()=>Are(t,e,s,r);return n?i():xS(i)};function Ire(t,e,n,s){const r={},i=s(t,{});for(const m in i)r[m]=_g(i[m]);let{initial:a,animate:l}=t;const c=Cv(t),u=eL(t);e&&u&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?l:a;if(h&&typeof h!="boolean"&&!Iv(h)){const m=Array.isArray(h)?h:[h];for(let p=0;p<m.length;p++){const y=IS(t,m[p]);if(y){const{transitionEnd:x,transition:_,...v}=y;for(const b in v){let E=v[b];if(Array.isArray(E)){const I=d?E.length-1:0;E=E[I]}E!==null&&(r[b]=E)}for(const b in x)r[b]=x[b]}}}return r}const hd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ul=new Set(hd),iL=t=>e=>typeof e=="string"&&e.startsWith(t),aL=iL("--"),Cre=iL("var(--"),CS=t=>Cre(t)?jre.test(t.split("/*")[0].trim()):!1,jre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oL=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ki=(t,e,n)=>n>e?e:n<t?t:n,fd={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bf={...fd,transform:t=>ki(0,1,t)},Pp={...fd,default:1},km=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ra=km("deg"),Lr=km("%"),xe=km("px"),Rre=km("vh"),Pre=km("vw"),xR={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},kre={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,backgroundPositionX:xe,backgroundPositionY:xe},Dre={rotate:ra,rotateX:ra,rotateY:ra,rotateZ:ra,scale:Pp,scaleX:Pp,scaleY:Pp,scaleZ:Pp,skew:ra,skewX:ra,skewY:ra,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Bf,originX:xR,originY:xR,originZ:xe},bR={...fd,transform:Math.round},jS={...kre,...Dre,zIndex:bR,size:xe,fillOpacity:Bf,strokeOpacity:Bf,numOctaves:bR},Mre={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ore=hd.length;function Vre(t,e,n){let s="",r=!0;for(let i=0;i<Ore;i++){const a=hd[i],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=oL(l,jS[a]);if(!c){r=!1;const d=Mre[a]||a;s+=`${d}(${u}) `}n&&(e[a]=u)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function RS(t,e,n){const{style:s,vars:r,transformOrigin:i}=t;let a=!1,l=!1;for(const c in e){const u=e[c];if(Ul.has(c)){a=!0;continue}else if(aL(c)){r[c]=u;continue}else{const d=oL(u,jS[c]);c.startsWith("origin")?(l=!0,i[c]=d):s[c]=d}}if(e.transform||(a||n?s.transform=Vre(e,t.transform,n):s.transform&&(s.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;s.transformOrigin=`${c} ${u} ${d}`}}const Lre={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ure={offset:"strokeDashoffset",array:"strokeDasharray"};function Fre(t,e,n=1,s=0,r=!0){t.pathLength=1;const i=r?Lre:Ure;t[i.offset]=xe.transform(-s);const a=xe.transform(e),l=xe.transform(n);t[i.array]=`${a} ${l}`}function wR(t,e,n){return typeof t=="string"?t:xe.transform(e+n*t)}function Bre(t,e,n){const s=wR(e,t.x,t.width),r=wR(n,t.y,t.height);return`${s} ${r}`}function PS(t,{attrX:e,attrY:n,attrScale:s,originX:r,originY:i,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(RS(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p,dimensions:y}=t;m.transform&&(y&&(p.transform=m.transform),delete m.transform),y&&(r!==void 0||i!==void 0||p.transform)&&(p.transformOrigin=Bre(y,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),a!==void 0&&Fre(m,a,l,c,!1)}const kS=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),lL=()=>({...kS(),attrs:{}}),DS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function cL(t,{style:e,vars:n},s,r){Object.assign(t.style,e,r&&r.getProjectionStyles(s));for(const i in n)t.style.setProperty(i,n[i])}const uL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dL(t,e,n,s){cL(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(uL.has(r)?r:SS(r),e.attrs[r])}const J0={};function zre(t){Object.assign(J0,t)}function hL(t,{layout:e,layoutId:n}){return Ul.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!J0[t]||t==="opacity")}function MS(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Vn(r[a])||e.style&&Vn(e.style[a])||hL(a,t)||((s=n==null?void 0:n.getValue(a))===null||s===void 0?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function fL(t,e,n){const s=MS(t,e,n);for(const r in t)if(Vn(t[r])||Vn(e[r])){const i=hd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[i]=t[r]}return s}function $re(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const _R=["x","y","width","height","cx","cy","r"],qre={useVisualState:rL({scrapeMotionValuesFromProps:fL,createRenderState:lL,onUpdate:({props:t,prevProps:e,current:n,renderState:s,latestValues:r})=>{if(!n)return;let i=!!t.drag;if(!i){for(const l in r)if(Ul.has(l)){i=!0;break}}if(!i)return;let a=!e;if(e)for(let l=0;l<_R.length;l++){const c=_R[l];t[c]!==e[c]&&(a=!0)}a&&Nt.read(()=>{$re(n,s),Nt.render(()=>{PS(s,r,DS(n.tagName),t.transformTemplate),dL(n,s)})})}})},Hre={useVisualState:rL({scrapeMotionValuesFromProps:MS,createRenderState:kS})};function mL(t,e,n){for(const s in e)!Vn(e[s])&&!hL(s,n)&&(t[s]=e[s])}function Gre({transformTemplate:t},e){return g.useMemo(()=>{const n=kS();return RS(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Kre(t,e){const n=t.style||{},s={};return mL(s,n,t),Object.assign(s,Gre(t,e)),s}function Wre(t,e){const n={},s=Kre(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}function Yre(t,e,n,s){const r=g.useMemo(()=>{const i=lL();return PS(i,e,DS(s),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};mL(i,t.style,t),r.style={...i,...r.style}}return r}function Qre(t=!1){return(n,s,r,{latestValues:i},a)=>{const c=(AS(n)?Yre:Wre)(s,i,a,n),u=dre(s,typeof n=="string",t),d=n!==g.Fragment?{...u,...c,ref:r}:{},{children:h}=s,m=g.useMemo(()=>Vn(h)?h.get():h,[h]);return g.createElement(n,{...d,children:m})}}function Xre(t,e){return function(s,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...AS(s)?qre:Hre,preloadedFeatures:t,useRender:Qre(r),createVisualElement:e,Component:s};return bre(a)}}function pL(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}function jv(t,e,n){const s=t.getProps();return IS(s,e,n!==void 0?n:s.custom,t)}const Jre=_S(()=>window.ScrollTimeline!==void 0);class Zre{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e,n){const s=this.animations.map(r=>{if(Jre()&&r.attachTimeline)return r.attachTimeline(e);if(typeof n=="function")return n(r)});return()=>{s.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class eie extends Zre{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function OS(t,e){return t?t[e]||t.default||t:void 0}const r_=2e4;function gL(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<r_;)e+=n,s=t.next(e);return e>=r_?1/0:e}function VS(t){return typeof t=="function"}function TR(t,e){t.timeline=e,t.onfinish=null}const LS=t=>Array.isArray(t)&&typeof t[0]=="number",tie={linearEasing:void 0};function nie(t,e){const n=_S(t);return()=>{var s;return(s=tie[e])!==null&&s!==void 0?s:n()}}const Z0=nie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),yL=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let i=0;i<r;i++)s+=t(zu(0,r-1,i))+", ";return`linear(${s.substring(0,s.length-2)})`};function vL(t){return!!(typeof t=="function"&&Z0()||!t||typeof t=="string"&&(t in i_||Z0())||LS(t)||Array.isArray(t)&&t.every(vL))}const hh=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,i_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hh([0,.65,.55,1]),circOut:hh([.55,0,1,.45]),backIn:hh([.31,.01,.66,-.59]),backOut:hh([.33,1.53,.69,.99])};function xL(t,e){if(t)return typeof t=="function"&&Z0()?yL(t,e):LS(t)?hh(t):Array.isArray(t)?t.map(n=>xL(n,e)||i_.easeOut):i_[t]}const ar={x:!1,y:!1};function bL(){return ar.x||ar.y}function sie(t,e,n){var s;if(t instanceof Element)return[t];if(typeof t=="string"){let r=document;e&&(r=e.current);const i=(s=n==null?void 0:n[t])!==null&&s!==void 0?s:r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}function wL(t,e){const n=sie(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function ER(t){return e=>{e.pointerType==="touch"||bL()||t(e)}}function rie(t,e,n={}){const[s,r,i]=wL(t,n),a=ER(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=ER(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,r)});return s.forEach(l=>{l.addEventListener("pointerenter",a,r)}),i}const _L=(t,e)=>e?t===e?!0:_L(t,e.parentElement):!1,US=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,iie=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aie(t){return iie.has(t.tagName)||t.tabIndex!==-1}const fh=new WeakSet;function SR(t){return e=>{e.key==="Enter"&&t(e)}}function Ib(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oie=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=SR(()=>{if(fh.has(n))return;Ib(n,"down");const r=SR(()=>{Ib(n,"up")}),i=()=>Ib(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function NR(t){return US(t)&&!bL()}function lie(t,e,n={}){const[s,r,i]=wL(t,n),a=l=>{const c=l.currentTarget;if(!NR(l)||fh.has(c))return;fh.add(c);const u=e(l),d=(p,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),!(!NR(p)||!fh.has(c))&&(fh.delete(c),typeof u=="function"&&u(p,{success:y}))},h=p=>{d(p,n.useGlobalTarget||_L(c,p.target))},m=p=>{d(p,!1)};window.addEventListener("pointerup",h,r),window.addEventListener("pointercancel",m,r)};return s.forEach(l=>{!aie(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,r),l.addEventListener("focus",u=>oie(u,r),r)}),i}function cie(t){return t==="x"||t==="y"?ar[t]?null:(ar[t]=!0,()=>{ar[t]=!1}):ar.x||ar.y?null:(ar.x=ar.y=!0,()=>{ar.x=ar.y=!1})}const TL=new Set(["width","height","top","left","right","bottom",...hd]);let Tg;function uie(){Tg=void 0}const Ur={now:()=>(Tg===void 0&&Ur.set(bn.isProcessing||ire.useManualTiming?bn.timestamp:performance.now()),Tg),set:t=>{Tg=t,queueMicrotask(uie)}};function FS(t,e){t.indexOf(e)===-1&&t.push(e)}function BS(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zS{constructor(){this.subscriptions=[]}add(e){return FS(this.subscriptions,e),()=>BS(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let i=0;i<r;i++){const a=this.subscriptions[i];a&&a(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function EL(t,e){return e?t*(1e3/e):0}const AR=30,die=t=>!isNaN(parseFloat(t));class hie{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(s,r=!0)=>{const i=Ur.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),r&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ur.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=die(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zS);const s=this.events[e].add(n);return e==="change"?()=>{s(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ur.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AR);return EL(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zf(t,e){return new hie(t,e)}function fie(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zf(n))}function mie(t,e){const n=jv(t,e);let{transitionEnd:s={},transition:r={},...i}=n||{};i={...i,...s};for(const a in i){const l=Nre(i[a]);fie(t,a,l)}}function pie(t){return!!(Vn(t)&&t.add)}function a_(t,e){const n=t.getValue("willChange");if(pie(n))return n.add(e)}function SL(t){return t.props[tL]}const NL=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gie=1e-7,yie=12;function vie(t,e,n,s,r){let i,a,l=0;do a=e+(n-e)/2,i=NL(a,s,r)-t,i>0?n=a:e=a;while(Math.abs(i)>gie&&++l<yie);return a}function Dm(t,e,n,s){if(t===e&&n===s)return Cs;const r=i=>vie(i,0,1,t,n);return i=>i===0||i===1?i:NL(r(i),e,s)}const AL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IL=t=>e=>1-t(1-e),CL=Dm(.33,1.53,.69,.99),$S=IL(CL),jL=AL($S),RL=t=>(t*=2)<1?.5*$S(t):.5*(2-Math.pow(2,-10*(t-1))),qS=t=>1-Math.sin(Math.acos(t)),PL=IL(qS),kL=AL(qS),DL=t=>/^0[^.\s]+$/u.test(t);function xie(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DL(t):!0}const Hh=t=>Math.round(t*1e5)/1e5,HS=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function bie(t){return t==null}const wie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,GS=(t,e)=>n=>!!(typeof n=="string"&&wie.test(n)&&n.startsWith(t)||e&&!bie(n)&&Object.prototype.hasOwnProperty.call(n,e)),ML=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,i,a,l]=s.match(HS);return{[t]:parseFloat(r),[e]:parseFloat(i),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},_ie=t=>ki(0,255,t),Cb={...fd,transform:t=>Math.round(_ie(t))},qo={test:GS("rgb","red"),parse:ML("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+Cb.transform(t)+", "+Cb.transform(e)+", "+Cb.transform(n)+", "+Hh(Bf.transform(s))+")"};function Tie(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const o_={test:GS("#"),parse:Tie,transform:qo.transform},Rc={test:GS("hsl","hue"),parse:ML("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Lr.transform(Hh(e))+", "+Lr.transform(Hh(n))+", "+Hh(Bf.transform(s))+")"},kn={test:t=>qo.test(t)||o_.test(t)||Rc.test(t),parse:t=>qo.test(t)?qo.parse(t):Rc.test(t)?Rc.parse(t):o_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qo.transform(t):Rc.transform(t)},Eie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sie(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(HS))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Eie))===null||n===void 0?void 0:n.length)||0)>0}const OL="number",VL="color",Nie="var",Aie="var(",IR="${}",Iie=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $f(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let i=0;const l=e.replace(Iie,c=>(kn.test(c)?(s.color.push(i),r.push(VL),n.push(kn.parse(c))):c.startsWith(Aie)?(s.var.push(i),r.push(Nie),n.push(c)):(s.number.push(i),r.push(OL),n.push(parseFloat(c))),++i,IR)).split(IR);return{values:n,split:l,indexes:s,types:r}}function LL(t){return $f(t).values}function UL(t){const{split:e,types:n}=$f(t),s=e.length;return r=>{let i="";for(let a=0;a<s;a++)if(i+=e[a],r[a]!==void 0){const l=n[a];l===OL?i+=Hh(r[a]):l===VL?i+=kn.transform(r[a]):i+=r[a]}return i}}const Cie=t=>typeof t=="number"?0:t;function jie(t){const e=LL(t);return UL(t)(e.map(Cie))}const so={test:Sie,parse:LL,createTransformer:UL,getAnimatableNone:jie},Rie=new Set(["brightness","contrast","saturate","opacity"]);function Pie(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(HS)||[];if(!s)return t;const r=n.replace(s,"");let i=Rie.has(e)?1:0;return s!==n&&(i*=100),e+"("+i+r+")"}const kie=/\b([a-z-]*)\(.*?\)/gu,l_={...so,getAnimatableNone:t=>{const e=t.match(kie);return e?e.map(Pie).join(" "):t}},Die={...jS,color:kn,backgroundColor:kn,outlineColor:kn,fill:kn,stroke:kn,borderColor:kn,borderTopColor:kn,borderRightColor:kn,borderBottomColor:kn,borderLeftColor:kn,filter:l_,WebkitFilter:l_},KS=t=>Die[t];function FL(t,e){let n=KS(t);return n!==l_&&(n=so),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Mie=new Set(["auto","none","0"]);function Oie(t,e,n){let s=0,r;for(;s<t.length&&!r;){const i=t[s];typeof i=="string"&&!Mie.has(i)&&$f(i).values.length&&(r=t[s]),s++}if(r&&n)for(const i of e)t[i]=FL(n,r)}const CR=t=>t===fd||t===xe,jR=(t,e)=>parseFloat(t.split(", ")[e]),RR=(t,e)=>(n,{transform:s})=>{if(s==="none"||!s)return 0;const r=s.match(/^matrix3d\((.+)\)$/u);if(r)return jR(r[1],e);{const i=s.match(/^matrix\((.+)\)$/u);return i?jR(i[1],t):0}},Vie=new Set(["x","y","z"]),Lie=hd.filter(t=>!Vie.has(t));function Uie(t){const e=[];return Lie.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const qu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:RR(4,13),y:RR(5,14)};qu.translateX=qu.x;qu.translateY=qu.y;const tl=new Set;let c_=!1,u_=!1;function BL(){if(u_){const t=Array.from(tl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=Uie(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([i,a])=>{var l;(l=s.getValue(i))===null||l===void 0||l.set(a)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}u_=!1,c_=!1,tl.forEach(t=>t.complete()),tl.clear()}function zL(){tl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(u_=!0)})}function Fie(){zL(),BL()}class WS{constructor(e,n,s,r,i,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=i,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(tl.add(this),c_||(c_=!0,Nt.read(zL),Nt.resolveKeyframes(BL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;for(let i=0;i<e.length;i++)if(e[i]===null)if(i===0){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const c=s.readValue(n,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}else e[i]=e[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),tl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,tl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const $L=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Bie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zie(t){const e=Bie.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function qL(t,e,n=1){const[s,r]=zie(t);if(!s)return;const i=window.getComputedStyle(e).getPropertyValue(s);if(i){const a=i.trim();return $L(a)?parseFloat(a):a}return CS(r)?qL(r,e,n+1):r}const HL=t=>e=>e.test(t),$ie={test:t=>t==="auto",parse:t=>t},GL=[fd,xe,Lr,ra,Pre,Rre,$ie],PR=t=>GL.find(HL(t));class KL extends WS{constructor(e,n,s,r,i){super(e,n,s,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),CS(u))){const d=qL(u,n.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!TL.has(s)||e.length!==2)return;const[r,i]=e,a=PR(r),l=PR(i);if(a!==l)if(CR(a)&&CR(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)xie(e[r])&&s.push(r);s.length&&Oie(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qu[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var e;const{element:n,name:s,unresolvedKeyframes:r}=this;if(!n||!n.current)return;const i=n.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,l=r[a];r[a]=qu[s](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const kR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(so.test(t)||t==="0")&&!t.startsWith("url("));function qie(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Hie(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],a=kR(r,e),l=kR(i,e);return!a||!l?!1:qie(t)||(n==="spring"||VS(n))&&s}const Gie=t=>t!==null;function Rv(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(Gie),i=e&&n!=="loop"&&e%2===1?0:r.length-1;return!i||s===void 0?r[i]:s}const Kie=40;class WL{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ur.now(),this.options={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:i,repeatType:a,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Kie?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Fie(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ur.now(),this.hasAttemptedResolve=!0;const{name:s,type:r,velocity:i,delay:a,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Hie(e,s,r,i))if(a)this.options.duration=0;else{c&&c(Rv(e,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,n);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...d},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Mt=(t,e,n)=>t+(e-t)*n;function jb(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Wie({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,i=0,a=0;if(!e)r=i=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;r=jb(c,l,t+1/3),i=jb(c,l,t),a=jb(c,l,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:s}}function ey(t,e){return n=>n>0?e:t}const Rb=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},Yie=[o_,qo,Rc],Qie=t=>Yie.find(e=>e.test(t));function DR(t){const e=Qie(t);if(!e)return!1;let n=e.parse(t);return e===Rc&&(n=Wie(n)),n}const MR=(t,e)=>{const n=DR(t),s=DR(e);if(!n||!s)return ey(t,e);const r={...n};return i=>(r.red=Rb(n.red,s.red,i),r.green=Rb(n.green,s.green,i),r.blue=Rb(n.blue,s.blue,i),r.alpha=Mt(n.alpha,s.alpha,i),qo.transform(r))},Xie=(t,e)=>n=>e(t(n)),Mm=(...t)=>t.reduce(Xie),d_=new Set(["none","hidden"]);function Jie(t,e){return d_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Zie(t,e){return n=>Mt(t,e,n)}function YS(t){return typeof t=="number"?Zie:typeof t=="string"?CS(t)?ey:kn.test(t)?MR:nae:Array.isArray(t)?YL:typeof t=="object"?kn.test(t)?MR:eae:ey}function YL(t,e){const n=[...t],s=n.length,r=t.map((i,a)=>YS(i)(i,e[a]));return i=>{for(let a=0;a<s;a++)n[a]=r[a](i);return n}}function eae(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=YS(t[r])(t[r],e[r]));return r=>{for(const i in s)n[i]=s[i](r);return n}}function tae(t,e){var n;const s=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][r[a]],c=(n=t.values[l])!==null&&n!==void 0?n:0;s[i]=c,r[a]++}return s}const nae=(t,e)=>{const n=so.createTransformer(e),s=$f(t),r=$f(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?d_.has(t)&&!r.values.length||d_.has(e)&&!s.values.length?Jie(t,e):Mm(YL(tae(s,r),r.values),n):ey(t,e)};function QL(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Mt(t,e,n):YS(t)(t,e)}const sae=5;function XL(t,e,n){const s=Math.max(e-sae,0);return EL(n-t(s),e-s)}const Ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Pb=.001;function rae({duration:t=Ut.duration,bounce:e=Ut.bounce,velocity:n=Ut.velocity,mass:s=Ut.mass}){let r,i,a=1-e;a=ki(Ut.minDamping,Ut.maxDamping,a),t=ki(Ut.minDuration,Ut.maxDuration,xi(t)),a<1?(r=u=>{const d=u*a,h=d*t,m=d-n,p=h_(u,a),y=Math.exp(-h);return Pb-m/p*y},i=u=>{const h=u*a*t,m=h*n+n,p=Math.pow(a,2)*Math.pow(u,2)*t,y=Math.exp(-h),x=h_(Math.pow(u,2),a);return(-r(u)+Pb>0?-1:1)*((m-p)*y)/x}):(r=u=>{const d=Math.exp(-u*t),h=(u-n)*t+1;return-Pb+d*h},i=u=>{const d=Math.exp(-u*t),h=(n-u)*(t*t);return d*h});const l=5/t,c=aae(r,i,l);if(t=vi(t),isNaN(c))return{stiffness:Ut.stiffness,damping:Ut.damping,duration:t};{const u=Math.pow(c,2)*s;return{stiffness:u,damping:a*2*Math.sqrt(s*u),duration:t}}}const iae=12;function aae(t,e,n){let s=n;for(let r=1;r<iae;r++)s=s-t(s)/e(s);return s}function h_(t,e){return t*Math.sqrt(1-e*e)}const oae=["duration","bounce"],lae=["stiffness","damping","mass"];function OR(t,e){return e.some(n=>t[n]!==void 0)}function cae(t){let e={velocity:Ut.velocity,stiffness:Ut.stiffness,damping:Ut.damping,mass:Ut.mass,isResolvedFromDuration:!1,...t};if(!OR(t,lae)&&OR(t,oae))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,i=2*ki(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:Ut.mass,stiffness:r,damping:i}}else{const n=rae(t);e={...e,...n,mass:Ut.mass},e.isResolvedFromDuration=!0}return e}function JL(t=Ut.visualDuration,e=Ut.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const i=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:h,velocity:m,isResolvedFromDuration:p}=cae({...n,velocity:-xi(n.velocity||0)}),y=m||0,x=u/(2*Math.sqrt(c*d)),_=a-i,v=xi(Math.sqrt(c/d)),b=Math.abs(_)<5;s||(s=b?Ut.restSpeed.granular:Ut.restSpeed.default),r||(r=b?Ut.restDelta.granular:Ut.restDelta.default);let E;if(x<1){const A=h_(v,x);E=R=>{const S=Math.exp(-x*v*R);return a-S*((y+x*v*_)/A*Math.sin(A*R)+_*Math.cos(A*R))}}else if(x===1)E=A=>a-Math.exp(-v*A)*(_+(y+v*_)*A);else{const A=v*Math.sqrt(x*x-1);E=R=>{const S=Math.exp(-x*v*R),T=Math.min(A*R,300);return a-S*((y+x*v*_)*Math.sinh(T)+A*_*Math.cosh(T))/A}}const I={calculatedDuration:p&&h||null,next:A=>{const R=E(A);if(p)l.done=A>=h;else{let S=0;x<1&&(S=A===0?vi(y):XL(E,A,R));const T=Math.abs(S)<=s,C=Math.abs(a-R)<=r;l.done=T&&C}return l.value=l.done?a:R,l},toString:()=>{const A=Math.min(gL(I),r_),R=yL(S=>I.next(A*S).value,A,30);return A+"ms "+R}};return I}function VR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},p=T=>l!==void 0&&T<l||c!==void 0&&T>c,y=T=>l===void 0?c:c===void 0||Math.abs(l-T)<Math.abs(c-T)?l:c;let x=n*e;const _=h+x,v=a===void 0?_:a(_);v!==_&&(x=v-h);const b=T=>-x*Math.exp(-T/s),E=T=>v+b(T),I=T=>{const C=b(T),j=E(T);m.done=Math.abs(C)<=u,m.value=m.done?v:j};let A,R;const S=T=>{p(m.value)&&(A=T,R=JL({keyframes:[m.value,y(m.value)],velocity:XL(E,T,m.value),damping:r,stiffness:i,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:T=>{let C=!1;return!R&&A===void 0&&(C=!0,I(T),S(T)),A!==void 0&&T>=A?R.next(T-A):(!C&&I(T),m)}}}const uae=Dm(.42,0,1,1),dae=Dm(0,0,.58,1),ZL=Dm(.42,0,.58,1),hae=t=>Array.isArray(t)&&typeof t[0]!="number",fae={linear:Cs,easeIn:uae,easeInOut:ZL,easeOut:dae,circIn:qS,circInOut:kL,circOut:PL,backIn:$S,backInOut:jL,backOut:CL,anticipate:RL},LR=t=>{if(LS(t)){Q3(t.length===4);const[e,n,s,r]=t;return Dm(e,n,s,r)}else if(typeof t=="string")return fae[t];return t};function mae(t,e,n){const s=[],r=n||QL,i=t.length-1;for(let a=0;a<i;a++){let l=r(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||Cs:e;l=Mm(c,l)}s.push(l)}return s}function pae(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const i=t.length;if(Q3(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=mae(e,s,r),c=l.length,u=d=>{if(a&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=zu(t[h],t[h+1],d);return l[h](m)};return n?d=>u(ki(t[0],t[i-1],d)):u}function gae(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=zu(0,e,s);t.push(Mt(n,1,r))}}function yae(t){const e=[0];return gae(e,t.length-1),e}function vae(t,e){return t.map(n=>n*e)}function xae(t,e){return t.map(()=>e||ZL).splice(0,t.length-1)}function ty({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=hae(s)?s.map(LR):LR(s),i={done:!1,value:e[0]},a=vae(n&&n.length===e.length?n:yae(e),t),l=pae(a,e,{ease:Array.isArray(r)?r:xae(e,r)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const bae=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Nt.update(e,!0),stop:()=>no(e),now:()=>bn.isProcessing?bn.timestamp:Ur.now()}},wae={decay:VR,inertia:VR,tween:ty,keyframes:ty,spring:JL},_ae=t=>t/100;class QS extends WL{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:s,element:r,keyframes:i}=this.options,a=(r==null?void 0:r.KeyframeResolver)||WS,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new a(i,l,n,s,r),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:s=0,repeatDelay:r=0,repeatType:i,velocity:a=0}=this.options,l=VS(n)?n:wae[n]||ty;let c,u;l!==ty&&typeof e[0]!="number"&&(c=Mm(_ae,QL(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});i==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=gL(d));const{calculatedDuration:h}=d,m=h+r,p=m*(s+1)-r;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:s}=this;if(!s){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:r,generator:i,mirroredGenerator:a,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=s;if(this.startTime===null)return i.next(0);const{delay:m,repeat:p,repeatType:y,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const v=this.currentTime-m*(this.speed>=0?1:-1),b=this.speed>=0?v<0:v>d;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let E=this.currentTime,I=i;if(p){const T=Math.min(this.currentTime,d)/h;let C=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&C--,C=Math.min(C,p+1),!!(C%2)&&(y==="reverse"?(j=1-j,x&&(j-=x/h)):y==="mirror"&&(I=a)),E=ki(0,1,j)*h}const A=b?{done:!1,value:c[0]}:I.next(E);l&&(A.value=l(A.value));let{done:R}=A;!b&&u!==null&&(R=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return S&&r!==void 0&&(A.value=Rv(c,this.options,r)),_&&_(A.value),S&&this.finish(),A}get duration(){const{resolved:e}=this;return e?xi(e.calculatedDuration):0}get time(){return xi(this.currentTime)}set time(e){e=vi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bae,onPlay:n,startTime:s}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),n&&n();const r=this.driver.now();this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=r):this.startTime=s??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Tae=new Set(["opacity","clipPath","filter","transform"]);function Eae(t,e,n,{delay:s=0,duration:r=300,repeat:i=0,repeatType:a="loop",ease:l="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const d=xL(l,r);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:s,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}const Sae=_S(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ny=10,Nae=2e4;function Aae(t){return VS(t.type)||t.type==="spring"||!vL(t.ease)}function Iae(t,e){const n=new QS({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let s={done:!1,value:t[0]};const r=[];let i=0;for(;!s.done&&i<Nae;)s=n.sample(i),r.push(s.value),i+=ny;return{times:void 0,keyframes:r,duration:i-ny,ease:"linear"}}const e9={anticipate:RL,backInOut:jL,circInOut:kL};function Cae(t){return t in e9}class UR extends WL{constructor(e){super(e);const{name:n,motionValue:s,element:r,keyframes:i}=this.options;this.resolver=new KL(i,(a,l)=>this.onKeyframesResolved(a,l),n,s,r),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:s=300,times:r,ease:i,type:a,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&Z0()&&Cae(i)&&(i=e9[i]),Aae(this.options)){const{onComplete:h,onUpdate:m,motionValue:p,element:y,...x}=this.options,_=Iae(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),s=_.duration,r=_.times,i=_.ease,a="keyframes"}const d=Eae(l.owner.current,c,e,{...this.options,duration:s,times:r,ease:i});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(TR(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(Rv(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:s,times:r,type:a,ease:i,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return xi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return xi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.currentTime=vi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:s}=n;s.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Cs;const{animation:s}=n;TR(s,e)}return Cs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:s,duration:r,type:i,ease:a,times:l}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:m,...p}=this.options,y=new QS({...p,keyframes:s,duration:r,type:i,ease:a,times:l,isGenerator:!0}),x=vi(this.time);u.setWithVelocity(y.sample(x-ny).value,y.sample(x).value,ny)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:s,repeatDelay:r,repeatType:i,damping:a,type:l}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Sae()&&s&&Tae.has(s)&&!c&&!u&&!r&&i!=="mirror"&&a!==0&&l!=="inertia"}}const jae={type:"spring",stiffness:500,damping:25,restSpeed:10},Rae=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pae={type:"keyframes",duration:.8},kae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dae=(t,{keyframes:e})=>e.length>2?Pae:Ul.has(t)?t.startsWith("scale")?Rae(e[1]):jae:kae;function Mae({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const XS=(t,e,n,s={},r,i)=>a=>{const l=OS(s,t)||{},c=l.delay||s.delay||0;let{elapsed:u=0}=s;u=u-vi(c);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:m=>{e.set(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:r};Mae(l)||(d={...d,...Dae(t,d)}),d.duration&&(d.duration=vi(d.duration)),d.repeatDelay&&(d.repeatDelay=vi(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!i&&e.get()!==void 0){const m=Rv(d.keyframes,l);if(m!==void 0)return Nt.update(()=>{d.onUpdate(m),d.onComplete()}),new eie([])}return!i&&UR.supports(d)?new UR(d):new QS(d)};function Oae({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function t9(t,e,{delay:n=0,transitionOverride:s,type:r}={}){var i;let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const u=[],d=r&&t.animationState&&t.animationState.getState()[r];for(const h in c){const m=t.getValue(h,(i=t.latestValues[h])!==null&&i!==void 0?i:null),p=c[h];if(p===void 0||d&&Oae(d,h))continue;const y={delay:n,...OS(a||{},h)};let x=!1;if(window.MotionHandoffAnimation){const v=SL(t);if(v){const b=window.MotionHandoffAnimation(v,h,Nt);b!==null&&(y.startTime=b,x=!0)}}a_(t,h),m.start(XS(h,m,p,t.shouldReduceMotion&&TL.has(h)?{type:!1}:y,t,x));const _=m.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Nt.update(()=>{l&&mie(t,l)})}),u}function f_(t,e,n={}){var s;const r=jv(t,e,n.type==="exit"?(s=t.presenceContext)===null||s===void 0?void 0:s.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(t9(t,r,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:m}=i;return Vae(t,e,d+u,h,m,n)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,d]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>d())}else return Promise.all([a(),l(n.delay)])}function Vae(t,e,n=0,s=0,r=1,i){const a=[],l=(t.variantChildren.size-1)*s,c=r===1?(u=0)=>u*s:(u=0)=>l-u*s;return Array.from(t.variantChildren).sort(Lae).forEach((u,d)=>{u.notify("AnimationStart",e),a.push(f_(u,e,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function Lae(t,e){return t.sortNodePosition(e)}function Uae(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(i=>f_(t,i,n));s=Promise.all(r)}else if(typeof e=="string")s=f_(t,e,n);else{const r=typeof e=="function"?jv(t,e,n.custom):e;s=Promise.all(t9(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}const Fae=ES.length;function n9(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?n9(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Fae;n++){const s=ES[n],r=t.props[s];(Ff(r)||r===!1)&&(e[s]=r)}return e}const Bae=[...TS].reverse(),zae=TS.length;function $ae(t){return e=>Promise.all(e.map(({animation:n,options:s})=>Uae(t,n,s)))}function qae(t){let e=$ae(t),n=FR(),s=!0;const r=c=>(u,d)=>{var h;const m=jv(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(m){const{transition:p,transitionEnd:y,...x}=m;u={...u,...x,...y}}return u};function i(c){e=c(t)}function a(c){const{props:u}=t,d=n9(t.parent)||{},h=[],m=new Set;let p={},y=1/0;for(let _=0;_<zae;_++){const v=Bae[_],b=n[v],E=u[v]!==void 0?u[v]:d[v],I=Ff(E),A=v===c?b.isActive:null;A===!1&&(y=_);let R=E===d[v]&&E!==u[v]&&I;if(R&&s&&t.manuallyAnimateOnMount&&(R=!1),b.protectedKeys={...p},!b.isActive&&A===null||!E&&!b.prevProp||Iv(E)||typeof E=="boolean")continue;const S=Hae(b.prevProp,E);let T=S||v===c&&b.isActive&&!R&&I||_>y&&I,C=!1;const j=Array.isArray(E)?E:[E];let P=j.reduce(r(v),{});A===!1&&(P={});const{prevResolvedValues:M={}}=b,k={...M,...P},F=H=>{T=!0,m.has(H)&&(C=!0,m.delete(H)),b.needsAnimating[H]=!0;const $=t.getValue(H);$&&($.liveStyle=!1)};for(const H in k){const $=P[H],K=M[H];if(p.hasOwnProperty(H))continue;let ee=!1;s_($)&&s_(K)?ee=!pL($,K):ee=$!==K,ee?$!=null?F(H):m.add(H):$!==void 0&&m.has(H)?F(H):b.protectedKeys[H]=!0}b.prevProp=E,b.prevResolvedValues=P,b.isActive&&(p={...p,...P}),s&&t.blockInitialAnimation&&(T=!1),T&&(!(R&&S)||C)&&h.push(...j.map(H=>({animation:H,options:{type:v}})))}if(m.size){const _={};m.forEach(v=>{const b=t.getBaseTarget(v),E=t.getValue(v);E&&(E.liveStyle=!0),_[v]=b??null}),h.push({animation:_})}let x=!!h.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),s=!1,x?e(h):Promise.resolve()}function l(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=a(c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>n,reset:()=>{n=FR(),s=!0}}}function Hae(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!pL(e,t):!1}function No(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function FR(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}class vo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gae extends vo{constructor(e){super(e),e.animationState||(e.animationState=qae(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Iv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Kae=0;class Wae extends vo{constructor(){super(...arguments),this.id=Kae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Yae={animation:{Feature:Gae},exit:{Feature:Wae}};function qf(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Om(t){return{point:{x:t.pageX,y:t.pageY}}}const Qae=t=>e=>US(e)&&t(e,Om(e));function Gh(t,e,n,s){return qf(t,e,Qae(n),s)}const BR=(t,e)=>Math.abs(t-e);function Xae(t,e){const n=BR(t.x,e.x),s=BR(t.y,e.y);return Math.sqrt(n**2+s**2)}class s9{constructor(e,n,{transformPagePoint:s,contextWindow:r,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Db(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=Xae(h.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:y}=h,{timestamp:x}=bn;this.history.push({...y,timestamp:x});const{onStart:_,onMove:v}=this.handlers;m||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=kb(m,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Db(h.type==="pointercancel"?this.lastMoveEventInfo:kb(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,_),y&&y(h,_)},!US(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=s,this.contextWindow=r||window;const a=Om(e),l=kb(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=bn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,Db(l,this.history)),this.removeListeners=Mm(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function kb(t,e){return e?{point:e(t.point)}:t}function zR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Db({point:t},e){return{point:t,delta:zR(t,r9(e)),offset:zR(t,Jae(e)),velocity:Zae(e,.1)}}function Jae(t){return t[0]}function r9(t){return t[t.length-1]}function Zae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=r9(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>vi(e)));)n--;if(!s)return{x:0,y:0};const i=xi(r.timestamp-s.timestamp);if(i===0)return{x:0,y:0};const a={x:(r.x-s.x)/i,y:(r.y-s.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}const i9=1e-4,eoe=1-i9,toe=1+i9,a9=.01,noe=0-a9,soe=0+a9;function Os(t){return t.max-t.min}function roe(t,e,n){return Math.abs(t-e)<=n}function $R(t,e,n,s=.5){t.origin=s,t.originPoint=Mt(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),t.translate=Mt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eoe&&t.scale<=toe||isNaN(t.scale))&&(t.scale=1),(t.translate>=noe&&t.translate<=soe||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,n,s){$R(t.x,e.x,n.x,s?s.originX:void 0),$R(t.y,e.y,n.y,s?s.originY:void 0)}function qR(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function ioe(t,e,n){qR(t.x,e.x,n.x),qR(t.y,e.y,n.y)}function HR(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function Wh(t,e,n){HR(t.x,e.x,n.x),HR(t.y,e.y,n.y)}function aoe(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?Mt(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?Mt(n,t,s.max):Math.min(t,n)),t}function GR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ooe(t,{top:e,left:n,bottom:s,right:r}){return{x:GR(t.x,n,r),y:GR(t.y,e,s)}}function KR(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function loe(t,e){return{x:KR(t.x,e.x),y:KR(t.y,e.y)}}function coe(t,e){let n=.5;const s=Os(t),r=Os(e);return r>s?n=zu(e.min,e.max-s,t.min):s>r&&(n=zu(t.min,t.max-r,e.min)),ki(0,1,n)}function uoe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const m_=.35;function doe(t=m_){return t===!1?t=0:t===!0&&(t=m_),{x:WR(t,"left","right"),y:WR(t,"top","bottom")}}function WR(t,e,n){return{min:YR(t,e),max:YR(t,n)}}function YR(t,e){return typeof t=="number"?t:t[e]||0}const QR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pc=()=>({x:QR(),y:QR()}),XR=()=>({min:0,max:0}),Ht=()=>({x:XR(),y:XR()});function Us(t){return[t("x"),t("y")]}function o9({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function hoe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function foe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Mb(t){return t===void 0||t===1}function p_({scale:t,scaleX:e,scaleY:n}){return!Mb(t)||!Mb(e)||!Mb(n)}function Oo(t){return p_(t)||l9(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function l9(t){return JR(t.x)||JR(t.y)}function JR(t){return t&&t!=="0%"}function sy(t,e,n){const s=t-n,r=e*s;return n+r}function ZR(t,e,n,s,r){return r!==void 0&&(t=sy(t,r,s)),sy(t,n,s)+e}function g_(t,e=0,n=1,s,r){t.min=ZR(t.min,e,n,s,r),t.max=ZR(t.max,e,n,s,r)}function c9(t,{x:e,y:n}){g_(t.x,e.translate,e.scale,e.originPoint),g_(t.y,n.translate,n.scale,n.originPoint)}const eP=.999999999999,tP=1.0000000000001;function moe(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let i,a;for(let l=0;l<r;l++){i=n[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Dc(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,c9(t,a)),s&&Oo(i.latestValues)&&Dc(t,i.latestValues))}e.x<tP&&e.x>eP&&(e.x=1),e.y<tP&&e.y>eP&&(e.y=1)}function kc(t,e){t.min=t.min+e,t.max=t.max+e}function nP(t,e,n,s,r=.5){const i=Mt(t.min,t.max,r);g_(t,e,n,i,s)}function Dc(t,e){nP(t.x,e.x,e.scaleX,e.scale,e.originX),nP(t.y,e.y,e.scaleY,e.scale,e.originY)}function u9(t,e){return o9(foe(t.getBoundingClientRect(),e))}function poe(t,e,n){const s=u9(t,n),{scroll:r}=e;return r&&(kc(s.x,r.offset.x),kc(s.y,r.offset.y)),s}const d9=({current:t})=>t?t.ownerDocument.defaultView:null,goe=new WeakMap;class yoe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const r=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Om(d).point)},i=(d,h)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cie(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Us(_=>{let v=this.getAxisMotionValue(_).get()||0;if(Lr.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[_];E&&(v=Os(E)*(parseFloat(v)/100))}}this.originPoint[_]=v}),y&&Nt.postRender(()=>y(d,h)),a_(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=h;if(p&&this.currentDirection===null){this.currentDirection=voe(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Us(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new s9(e,{onSessionStart:r,onStart:i,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:d9(this.visualElement)})}stop(e,n){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:r}=n;this.startAnimation(r);const{onDragEnd:i}=this.getProps();i&&Nt.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!kp(e,r,this.currentDirection))return;const i=this.getAxisMotionValue(e);let a=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(a=aoe(a,this.constraints[e],this.elastic[e])),i.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&jc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&r?this.constraints=ooe(r.layoutBox,n):this.constraints=!1,this.elastic=doe(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Us(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=uoe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!jc(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=poe(s,r.root,this.visualElement.getTransformPagePoint());let a=loe(r.layout.layoutBox,i);if(n){const l=n(hoe(a));this.hasMutatedConstraints=!!l,l&&(a=o9(l))}return a}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Us(d=>{if(!kp(d,n,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const m=r?200:1e6,p=r?40:1e7,y={type:"inertia",velocity:s?e[d]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return a_(this.visualElement,e),s.start(XS(e,s,0,n,this.visualElement,!1))}stopAnimation(){Us(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Us(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Us(n=>{const{drag:s}=this.getProps();if(!kp(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(n);if(r&&r.layout){const{min:a,max:l}=r.layout.layoutBox[n];i.set(e[n]-Mt(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!jc(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Us(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();r[a]=coe({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Us(a=>{if(!kp(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Mt(c,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;goe.set(this.visualElement,this);const e=this.visualElement.current,n=Gh(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();jc(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Nt.read(s);const a=qf(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Us(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),n(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:a=m_,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function kp(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function voe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xoe extends vo{constructor(e){super(e),this.removeGroupControls=Cs,this.removeListeners=Cs,this.controls=new yoe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cs}unmount(){this.removeGroupControls(),this.removeListeners()}}const sP=t=>(e,n)=>{t&&Nt.postRender(()=>t(e,n))};class boe extends vo{constructor(){super(...arguments),this.removePointerDownListener=Cs}onPointerDown(e){this.session=new s9(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d9(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:sP(e),onStart:sP(n),onMove:s,onEnd:(i,a)=>{delete this.session,r&&Nt.postRender(()=>r(i,a))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Eg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xe.test(t))t=parseFloat(t);else return t;const n=rP(t,e.target.x),s=rP(t,e.target.y);return`${n}% ${s}%`}},woe={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=so.parse(t);if(r.length>5)return s;const i=so.createTransformer(t),a=typeof r[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;r[0+a]/=l,r[1+a]/=c;const u=Mt(l,c,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),i(r)}};class _oe extends g.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:i}=e;zre(Toe),i&&(n.group&&n.group.add(i),s&&s.register&&r&&s.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Eg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:i}=this.props,a=s.projection;return a&&(a.isPresent=i,r||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?a.promote():a.relegate()||Nt.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NS.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h9(t){const[e,n]=W3(),s=g.useContext(vS);return o.jsx(_oe,{...t,layoutGroup:s,switchLayoutGroup:g.useContext(nL),isPresent:e,safeToRemove:n})}const Toe={borderRadius:{...Xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xd,borderTopRightRadius:Xd,borderBottomLeftRadius:Xd,borderBottomRightRadius:Xd,boxShadow:woe};function Eoe(t,e,n){const s=Vn(t)?t:zf(t);return s.start(XS("",s,e,n)),s.animation}function Soe(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Noe=(t,e)=>t.depth-e.depth;class Aoe{constructor(){this.children=[],this.isDirty=!1}add(e){FS(this.children,e),this.isDirty=!0}remove(e){BS(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Noe),this.isDirty=!1,this.children.forEach(e)}}function Ioe(t,e){const n=Ur.now(),s=({timestamp:r})=>{const i=r-n;i>=e&&(no(s),t(i-e))};return Nt.read(s,!0),()=>no(s)}const f9=["TopLeft","TopRight","BottomLeft","BottomRight"],Coe=f9.length,iP=t=>typeof t=="string"?parseFloat(t):t,aP=t=>typeof t=="number"||xe.test(t);function joe(t,e,n,s,r,i){r?(t.opacity=Mt(0,n.opacity!==void 0?n.opacity:1,Roe(s)),t.opacityExit=Mt(e.opacity!==void 0?e.opacity:1,0,Poe(s))):i&&(t.opacity=Mt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,s));for(let a=0;a<Coe;a++){const l=`border${f9[a]}Radius`;let c=oP(e,l),u=oP(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||aP(c)===aP(u)?(t[l]=Math.max(Mt(iP(c),iP(u),s),0),(Lr.test(u)||Lr.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||n.rotate)&&(t.rotate=Mt(e.rotate||0,n.rotate||0,s))}function oP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Roe=m9(0,.5,PL),Poe=m9(.5,.95,Cs);function m9(t,e,n){return s=>s<t?0:s>e?1:n(zu(t,e,s))}function lP(t,e){t.min=e.min,t.max=e.max}function Ls(t,e){lP(t.x,e.x),lP(t.y,e.y)}function cP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function uP(t,e,n,s,r){return t-=e,t=sy(t,1/n,s),r!==void 0&&(t=sy(t,1/r,s)),t}function koe(t,e=0,n=1,s=.5,r,i=t,a=t){if(Lr.test(e)&&(e=parseFloat(e),e=Mt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=Mt(i.min,i.max,s);t===i&&(l-=e),t.min=uP(t.min,e,n,l,r),t.max=uP(t.max,e,n,l,r)}function dP(t,e,[n,s,r],i,a){koe(t,e[n],e[s],e[r],e.scale,i,a)}const Doe=["x","scaleX","originX"],Moe=["y","scaleY","originY"];function hP(t,e,n,s){dP(t.x,e,Doe,n?n.x:void 0,s?s.x:void 0),dP(t.y,e,Moe,n?n.y:void 0,s?s.y:void 0)}function fP(t){return t.translate===0&&t.scale===1}function p9(t){return fP(t.x)&&fP(t.y)}function mP(t,e){return t.min===e.min&&t.max===e.max}function Ooe(t,e){return mP(t.x,e.x)&&mP(t.y,e.y)}function pP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function g9(t,e){return pP(t.x,e.x)&&pP(t.y,e.y)}function gP(t){return Os(t.x)/Os(t.y)}function yP(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Voe{constructor(){this.members=[]}add(e){FS(this.members,e),e.scheduleRender()}remove(e){if(BS(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){s=i;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Loe(t,e,n){let s="";const r=t.x.translate/e.x,i=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((r||i||a)&&(s=`translate3d(${r}px, ${i}px, ${a}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:m,skewX:p,skewY:y}=n;u&&(s=`perspective(${u}px) ${s}`),d&&(s+=`rotate(${d}deg) `),h&&(s+=`rotateX(${h}deg) `),m&&(s+=`rotateY(${m}deg) `),p&&(s+=`skewX(${p}deg) `),y&&(s+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(s+=`scale(${l}, ${c})`),s||"none"}const Vo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mh=typeof window<"u"&&window.MotionDebug!==void 0,Ob=["","X","Y","Z"],Uoe={visibility:"hidden"},vP=1e3;let Foe=0;function Vb(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function y9(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=SL(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Nt,!(r||i))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&y9(s)}function v9({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(a={},l=e==null?void 0:e()){this.id=Foe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mh&&(Vo.totalNodes=Vo.resolvedTargetDeltas=Vo.recalculatedProjection=0),this.nodes.forEach($oe),this.nodes.forEach(Woe),this.nodes.forEach(Yoe),this.nodes.forEach(qoe),mh&&window.MotionDebug.record(Vo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Aoe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new zS),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Soe(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const m=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=Ioe(m,250),Eg.hasAnimatedSinceResize&&(Eg.hasAnimatedSinceResize=!1,this.nodes.forEach(bP))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||ele,{onLayoutAnimationStart:_,onLayoutAnimationComplete:v}=d.getProps(),b=!this.targetLayout||!g9(this.targetLayout,y)||p,E=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,E);const I={...OS(x,"layout"),onPlay:_,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else m||bP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Qoe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&y9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xP);return}this.isUpdating||this.nodes.forEach(Goe),this.isUpdating=!1,this.nodes.forEach(Koe),this.nodes.forEach(Boe),this.nodes.forEach(zoe),this.clearAllSnapshots();const l=Ur.now();bn.delta=ki(0,1e3/60,l-bn.timestamp),bn.timestamp=l,bn.isProcessing=!0,Ab.update.process(bn),Ab.preRender.process(bn),Ab.render.process(bn),bn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NS.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Hoe),this.sharedNodes.forEach(Xoe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!p9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(l||Oo(this.latestValues)||d)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),tle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:l}=this.options;if(!l)return Ht();const c=l.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(nle))){const{scroll:d}=this.root;d&&(kc(c.x,d.offset.x),kc(c.y,d.offset.y))}return c}removeElementScroll(a){var l;const c=Ht();if(Ls(c,a),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:m}=d;d!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Ls(c,a),kc(c.x,h.offset.x),kc(c.y,h.offset.y))}return c}applyTransform(a,l=!1){const c=Ht();Ls(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dc(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Oo(d.latestValues)&&Dc(c,d.latestValues)}return Oo(this.latestValues)&&Dc(c,this.latestValues),c}removeTransform(a){const l=Ht();Ls(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Oo(u.latestValues))continue;p_(u.latestValues)&&u.updateSnapshot();const d=Ht(),h=u.measurePageBox();Ls(d,h),hP(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Oo(this.latestValues)&&hP(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=bn.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Wh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ioe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ls(this.target,this.layout.layoutBox),c9(this.target,this.targetDelta)):Ls(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Wh(this.relativeTargetOrigin,this.target,p.target),Ls(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mh&&Vo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||p_(this.parent.latestValues)||l9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===bn.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Ls(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;moe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ht());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cP(this.prevProjectionDelta.x,this.projectionDelta.x),cP(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!yP(this.projectionDelta.x,this.prevProjectionDelta.x)||!yP(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),mh&&Vo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pc(),this.projectionDelta=Pc(),this.projectionDeltaWithTransform=Pc()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Pc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=Ht(),p=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=p!==y,_=this.getStack(),v=!_||_.members.length<=1,b=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(Zoe));this.animationProgress=0;let E;this.mixTargetDelta=I=>{const A=I/1e3;wP(h.x,a.x,A),wP(h.y,a.y,A),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Joe(this.relativeTarget,this.relativeTargetOrigin,m,A),E&&Ooe(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ht()),Ls(E,this.relativeTarget)),x&&(this.animationValues=d,joe(d,u,this.latestValues,A,b,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{Eg.hasAnimatedSinceResize=!0,this.currentAnimation=Eoe(0,vP,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vP),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&x9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ht();const h=Os(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=Os(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Ls(l,c),Dc(l,d),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Voe),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Vb("z",a,u,this.animationValues);for(let d=0;d<Ob.length;d++)Vb(`rotate${Ob[d]}`,a,u,this.animationValues),Vb(`skew${Ob[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uoe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=_g(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=_g(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Oo(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Loe(this.projectionDeltaWithTransform,this.treeScale,m),d&&(u.transform=d(m,u.transform));const{x:p,y}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const x in J0){if(m[x]===void 0)continue;const{correct:_,applyTo:v}=J0[x],b=u.transform==="none"?m[x]:_(m[x],h);if(v){const E=v.length;for(let I=0;I<E;I++)u[v[I]]=b}else u[x]=b}return this.options.layoutId&&(u.pointerEvents=h===this?_g(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(xP),this.root.sharedNodes.clear()}}}function Boe(t){t.updateLayout()}function zoe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:i}=t.options,a=n.source!==t.layout.source;i==="size"?Us(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],p=Os(m);m.min=s[h].min,m.max=m.min+p}):x9(i,n.layoutBox,s)&&Us(h=>{const m=a?n.measuredBox[h]:n.layoutBox[h],p=Os(s[h]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+p)});const l=Pc();Kh(l,s,n.layoutBox);const c=Pc();a?Kh(c,t.applyTransform(r,!0),n.measuredBox):Kh(c,s,n.layoutBox);const u=!p9(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:p}=h;if(m&&p){const y=Ht();Wh(y,n.layoutBox,m.layoutBox);const x=Ht();Wh(x,s,p.layoutBox),g9(y,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function $oe(t){mh&&Vo.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function qoe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Hoe(t){t.clearSnapshot()}function xP(t){t.clearMeasurements()}function Goe(t){t.isLayoutDirty=!1}function Koe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Woe(t){t.resolveTargetDelta()}function Yoe(t){t.calcProjection()}function Qoe(t){t.resetSkewAndRotation()}function Xoe(t){t.removeLeadSnapshot()}function wP(t,e,n){t.translate=Mt(e.translate,0,n),t.scale=Mt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _P(t,e,n,s){t.min=Mt(e.min,n.min,s),t.max=Mt(e.max,n.max,s)}function Joe(t,e,n,s){_P(t.x,e.x,n.x,s),_P(t.y,e.y,n.y,s)}function Zoe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ele={duration:.45,ease:[.4,0,.1,1]},TP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),EP=TP("applewebkit/")&&!TP("chrome/")?Math.round:Cs;function SP(t){t.min=EP(t.min),t.max=EP(t.max)}function tle(t){SP(t.x),SP(t.y)}function x9(t,e,n){return t==="position"||t==="preserve-aspect"&&!roe(gP(e),gP(n),.2)}function nle(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const sle=v9({attachResizeListener:(t,e)=>qf(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lb={current:void 0},b9=v9({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Lb.current){const t=new sle({});t.mount(window),t.setOptions({layoutScroll:!0}),Lb.current=t}return Lb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rle={pan:{Feature:boe},drag:{Feature:xoe,ProjectionNode:b9,MeasureLayout:h9}};function NP(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,i=s[r];i&&Nt.postRender(()=>i(e,Om(e)))}class ile extends vo{mount(){const{current:e}=this.node;e&&(this.unmount=rie(e,n=>(NP(this.node,n,"Start"),s=>NP(this.node,s,"End"))))}unmount(){}}class ale extends vo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mm(qf(this.node.current,"focus",()=>this.onFocus()),qf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function AP(t,e,n){const{props:s}=t;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),i=s[r];i&&Nt.postRender(()=>i(e,Om(e)))}class ole extends vo{mount(){const{current:e}=this.node;e&&(this.unmount=lie(e,n=>(AP(this.node,n,"Start"),(s,{success:r})=>AP(this.node,s,r?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const y_=new WeakMap,Ub=new WeakMap,lle=t=>{const e=y_.get(t.target);e&&e(t)},cle=t=>{t.forEach(lle)};function ule({root:t,...e}){const n=t||document;Ub.has(n)||Ub.set(n,{});const s=Ub.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(cle,{root:t,...e})),s[r]}function dle(t,e,n){const s=ule(e);return y_.set(t,n),s.observe(t),()=>{y_.delete(t),s.unobserve(t)}}const hle={some:0,all:1};class fle extends vo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:i}=e,a={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:hle[r]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=u?d:h;m&&m(c)};return dle(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mle(e,n))&&this.startObserver()}unmount(){}}function mle({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ple={inView:{Feature:fle},tap:{Feature:ole},focus:{Feature:ale},hover:{Feature:ile}},gle={layout:{ProjectionNode:b9,MeasureLayout:h9}},v_={current:null},w9={current:!1};function yle(){if(w9.current=!0,!!wS)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>v_.current=t.matches;t.addListener(e),e()}else v_.current=!1}const vle=[...GL,kn,so],xle=t=>vle.find(HL(t)),IP=new WeakMap;function ble(t,e,n){for(const s in e){const r=e[s],i=n[s];if(Vn(r))t.addValue(s,r);else if(Vn(i))t.addValue(s,zf(r,{owner:t}));else if(i!==r)if(t.hasValue(s)){const a=t.getValue(s);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=t.getStaticValue(s);t.addValue(s,zf(a!==void 0?a:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const CP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class wle{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WS,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Ur.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Nt.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=a;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Cv(n),this.isVariantNode=eL(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in m){const y=m[p];c[p]!==void 0&&Vn(y)&&y.set(c[p],!1)}}mount(e){this.current=e,IP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),w9.current||yle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v_.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){IP.delete(this.current),this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Ul.has(e),r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),i(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $u){const n=$u[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<CP.length;s++){const r=CP[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,a=e[i];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=ble(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=zf(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){var s;let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(s=this.getBaseTargetFromProps(this.props,e))!==null&&s!==void 0?s:this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&($L(r)||DL(r))?r=parseFloat(r):!xle(r)&&so.test(n)&&(r=FL(e,n)),this.setBaseTarget(e,Vn(r)?r.get():r)),Vn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const a=IS(this.props,s,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(r=a[e])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zS),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class _9 extends wle{constructor(){super(...arguments),this.KeyframeResolver=KL}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function _le(t){return window.getComputedStyle(t)}class Tle extends _9{constructor(){super(...arguments),this.type="html",this.renderInstance=cL}readValueFromInstance(e,n){if(Ul.has(n)){const s=KS(n);return s&&s.default||0}else{const s=_le(e),r=(aL(n)?s.getPropertyValue(n):s[n])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:n}){return u9(e,n)}build(e,n,s){RS(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return MS(e,n,s)}}class Ele extends _9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ul.has(n)){const s=KS(n);return s&&s.default||0}return n=uL.has(n)?n:SS(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return fL(e,n,s)}build(e,n,s){PS(e,n,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,s,r){dL(e,n,s,r)}mount(e){this.isSVGTag=DS(e.tagName),super.mount(e)}}const Sle=(t,e)=>AS(t)?new Ele(e):new Tle(e,{allowProjection:t!==g.Fragment}),Nle=Xre({...Yae,...ple,...rle,...gle},Sle),ae=hre(Nle);var Ale=Symbol.for("react.lazy"),ry=my[" use ".trim().toString()];function Ile(t){return typeof t=="object"&&t!==null&&"then"in t}function T9(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===Ale&&"_payload"in t&&Ile(t._payload)}function E9(t){const e=jle(t),n=g.forwardRef((s,r)=>{let{children:i,...a}=s;T9(i)&&typeof ry=="function"&&(i=ry(i._payload));const l=g.Children.toArray(i),c=l.find(Ple);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}var Cle=E9("Slot");function jle(t){const e=g.forwardRef((n,s)=>{let{children:r,...i}=n;if(T9(r)&&typeof ry=="function"&&(r=ry(r._payload)),g.isValidElement(r)){const a=Dle(r),l=kle(i,r.props);return r.type!==g.Fragment&&(l.ref=s?fo(s,a):a),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rle=Symbol("radix.slottable");function Ple(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rle}function kle(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Dle(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}const Mle=um("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=Bt.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...r},i)=>{const a=s?Cle:"button";return o.jsx(a,{className:pe(Mle({variant:e,size:n,className:t})),ref:i,...r})});q.displayName="Button";const md=({className:t="",size:e="default",showText:n=!0,textColor:s="text-white"})=>{const r={small:{container:"w-8 h-8",icon:"w-4 h-4",text:"text-lg"},default:{container:"w-10 h-10",icon:"w-5 h-5",text:"text-xl"},large:{container:"w-12 h-12",icon:"w-6 h-6",text:"text-2xl"}},i=r[e]||r.default;return o.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[o.jsxs("div",{className:`${i.container} relative flex items-center justify-center`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-teal-500 to-blue-600 rounded-xl rotate-3 opacity-90"}),o.jsx("div",{className:"absolute inset-0 bg-slate-900 rounded-xl border border-slate-700/50 -rotate-3 flex items-center justify-center backdrop-blur-sm",children:o.jsx(Kc,{className:`${i.icon} text-teal-400`,strokeWidth:2.5})})]}),n&&o.jsx("div",{className:"flex flex-col",children:o.jsxs("span",{className:`font-bold ${s} leading-none ${i.text} tracking-tight`,children:["Nawe",o.jsx("span",{className:"text-teal-400",children:"Shop"})]})})]})},S9=({language:t,toggleLanguage:e})=>{qt();const n={en:{login:"Login",signup:"Sign Up",adminDemo:"Admin Demo"},ar:{login:" ",signup:" ",adminDemo:" "}};return o.jsx(ae.header,{initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"fixed top-0 w-full bg-slate-900/80 backdrop-blur-lg border-b border-slate-800 z-50",children:o.jsxs("nav",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[o.jsx(ae.div,{whileHover:{scale:1.05},className:"flex items-center gap-2",children:o.jsx(md,{})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(ae.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:e,className:"p-2 rounded-lg hover:bg-slate-800 transition-colors",children:o.jsx(xf,{className:"w-5 h-5 text-teal-400"})}),o.jsx(ct,{to:"/login",children:o.jsx(q,{variant:"ghost",className:"text-white hover:text-teal-400 hover:bg-slate-800 transition-all",children:n[t].login})}),o.jsx(ct,{to:"/signup",children:o.jsx(q,{className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white transition-all",children:n[t].signup})})]})]})})},Ole=({language:t})=>{const{toast:e}=qt(),n=Ot(),s={en:{title:"Build Your Dream Store",subtitle:"In Minutes, Not Months",description:"Create a professional e-commerce store without coding. Powerful features, beautiful templates, and seamless integrations.",createStore:"Create Your Store",watchDemo:"Watch Demo",trustedBy:"Trusted by 10,000+ entrepreneurs worldwide"},ar:{title:"  ",subtitle:"   ",description:"     .      .",createStore:" ",watchDemo:" ",trustedBy:"      10,000    "}},r=()=>{n("/signup")},i=()=>{e({title:" This feature isn't implemented yetbut don't worry! You can request it in your next prompt! "})};return o.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900 via-blue-950 to-slate-900"}),o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgxNDgsIDIxMywgMjU1LCAwLjA1KSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-20"}),o.jsx(ae.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2},className:"absolute top-20 left-1/4 w-96 h-96 bg-teal-500 rounded-full filter blur-3xl"}),o.jsx(ae.div,{initial:{opacity:0},animate:{opacity:.3},transition:{duration:2,delay:.5},className:"absolute bottom-20 right-1/4 w-96 h-96 bg-blue-600 rounded-full filter blur-3xl"}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center text-center max-w-4xl mx-auto",children:[o.jsxs(ae.h1,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.2},className:"text-5xl md:text-7xl font-bold text-white mb-4 leading-tight",children:[s[t].title,o.jsx("br",{}),o.jsx("span",{className:"bg-gradient-to-r from-teal-400 to-blue-500 bg-clip-text text-transparent",children:s[t].subtitle})]}),o.jsx(ae.p,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.4},className:"text-xl text-slate-300 mb-10 max-w-2xl",children:s[t].description}),o.jsxs(ae.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,delay:.6},className:"flex flex-wrap gap-4 justify-center mb-12",children:[o.jsxs(q,{onClick:r,size:"lg",className:"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700 text-white px-8 py-6 text-lg group transition-all",children:[s[t].createStore,o.jsx(FT,{className:`${t==="ar"?"mr-2":"ml-2"} w-5 h-5 group-hover:translate-x-1 transition-transform`})]}),o.jsx(q,{onClick:i,variant:"outline",size:"lg",className:"border-2 border-teal-500 text-teal-400 hover:bg-teal-500/10 px-8 py-6 text-lg transition-all",children:s[t].watchDemo})]}),o.jsx(ae.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.8},className:"text-sm text-slate-400",children:s[t].trustedBy})]})})]})},Vle=({language:t})=>{const e={en:{title:"Everything You Need to Succeed",subtitle:"Powerful features designed for modern e-commerce",features:[{icon:bf,title:"Lightning Fast",description:"Optimized for speed with instant loading times"},{icon:_2,title:"Beautiful Templates",description:"Professional designs that convert visitors to customers"},{icon:bu,title:"Easy Management",description:"Intuitive dashboard to manage products and orders"},{icon:p2,title:"Analytics & Insights",description:"Track sales, visitors, and performance metrics"},{icon:xu,title:"Secure Payments",description:"Safe and encrypted payment processing"},{icon:l1,title:"Mobile Optimized",description:"Perfect experience on all devices"}]},ar:{title:"   ",subtitle:"     ",features:[{icon:bf,title:" ",description:"     "},{icon:_2,title:" ",description:"     "},{icon:bu,title:" ",description:"     "},{icon:p2,title:" ",description:"    "},{icon:xu,title:" ",description:"   "},{icon:l1,title:" ",description:"    "}]}},n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},s={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx(ae.div,{variants:n,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e[t].features.map((r,i)=>{const a=r.icon;return o.jsxs(ae.div,{variants:s,whileHover:{y:-5,transition:{duration:.2}},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-xl p-8 hover:border-teal-500/50 transition-all group",children:[o.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-teal-500 to-blue-600 rounded-lg flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:o.jsx(a,{className:"w-7 h-7 text-white"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:r.title}),o.jsx("p",{className:"text-slate-400 leading-relaxed",children:r.description})]},i)})})]})]})},Lle=({language:t})=>{const e={en:{title:"Seamless Integrations",subtitle:"Connect with your favorite tools and services",integrations:[{icon:vu,name:"Payment Gateways",description:"Stripe, PayPal, Square & more"},{icon:Ya,name:"Shipping Partners",description:"FedEx, UPS, DHL integration"},{icon:w2,name:"Live Chat",description:"Real-time customer support"},{icon:f0,name:"Email Marketing",description:"Mailchimp, SendGrid & more"}]},ar:{title:" ",subtitle:"   ",integrations:[{icon:vu,name:" ",description:"Stripe  PayPal  Square "},{icon:Ya,name:" ",description:"  FedEx  UPS  DHL"},{icon:w2,name:" ",description:"    "},{icon:f0,name:"  ",description:"Mailchimp  SendGrid "}]}};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0iZ3JpZCIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIiBwYXR0ZXJuVW5pdHM9InVzZXJTcGFjZU9uVXNlIj48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJyZ2JhKDU2LCAxODksIDE0OCwgMC4wNSkiIHN0cm9rZS13aWR0aD0iMSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNncmlkKSIvPjwvc3ZnPg==')] opacity-30"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 max-w-2xl mx-auto",children:e[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:e[t].integrations.map((n,s)=>{const r=n.icon;return o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:s*.1},whileHover:{scale:1.05},className:"bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl p-6 text-center hover:border-teal-500/50 transition-all",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-teal-500/20 to-blue-600/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(r,{className:"w-8 h-8 text-teal-400"})}),o.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:n.name}),o.jsx("p",{className:"text-sm text-slate-400",children:n.description})]},s)})})]})]})},Ule=({language:t})=>{qt();const e={en:{title:"Simple, Transparent Pricing",subtitle:"Choose the perfect plan for your business",monthly:"Monthly",yearly:"Yearly",save:"Save 20%",getStarted:"Get Started",plans:[{name:"Monthly Plan",price:100,period:"/month",description:"Pay month-to-month",features:["1 store","Up to 100 products","Basic orders management","Categories and banners","Basic product tools","Basic analytics","Email support"]},{name:"Quarterly Plan",price:250,period:"/quarter",description:"Pay every 3 months",popular:!0,features:["Up to 500 products","Up to 3 stores","Revenue analytics","Welcome popup and banners","Advanced product tools (background removal)","Priority email support"]},{name:"Yearly Plan",price:850,period:"/year",description:"Best value with annual billing",features:["Unlimited products","Multiple stores","Full analytics","Welcome popup and banners","Advanced product tools","Priority support"]}]},ar:{title:"  ",subtitle:"   ",monthly:"",yearly:"",save:" 20%",getStarted:" ",plans:[{name:" ",price:100,period:"/",description:" ",features:[" "," 100 ","  "," ","  "," ","  "]},{name:"  ",price:250,period:"/ ",description:"  3 ",popular:!0,features:[" 500 "," 3 "," ","  ","   ( )","  "]},{name:" ",price:850,period:"/",description:"   ",features:["  "," "," ","  ","  "," "]}]}},n=s=>{const r="201000392539",i=t==="ar"?`     ${s.name}  ${s.price} ${s.period}.`:`Hello, I would like to subscribe to the ${s.name} for ${s.price} ${s.period}.`,a=`https://wa.me/${r}?text=${encodeURIComponent(i)}`;window.open(a,"_blank")};return o.jsxs("section",{className:"py-24 bg-slate-900 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-950/20 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e[t].title}),o.jsx("p",{className:"text-xl text-slate-400 mb-8",children:e[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:e[t].plans.map((s,r)=>o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:r*.1},whileHover:{y:-10},className:`relative bg-slate-800/50 backdrop-blur-sm border-2 rounded-2xl p-8 ${s.popular?"border-teal-500":"border-slate-700"} hover:border-teal-500/50 transition-all`,children:[s.popular&&o.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2 bg-gradient-to-r from-teal-500 to-blue-600 text-white px-4 py-1 rounded-full text-sm font-semibold",children:"Popular"}),o.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:s.name}),o.jsx("p",{className:"text-slate-400 mb-6",children:s.description}),o.jsxs("div",{className:"mb-6",children:[o.jsx("span",{className:"text-5xl font-bold text-white",children:ot(s.price,t==="ar"?"ar-EG":"en-EG")}),o.jsx("span",{className:"text-slate-400",children:s.period})]}),o.jsx(q,{onClick:()=>n(s),className:`w-full mb-8 ${s.popular?"bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700":"bg-slate-700 hover:bg-slate-600"} text-white transition-all`,children:e[t].getStarted}),o.jsx("div",{className:"space-y-4",children:s.features.map((i,a)=>o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-5 h-5 bg-teal-500/20 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx(sd,{className:"w-3 h-3 text-teal-400"})}),o.jsx("span",{className:"text-slate-300",children:i})]},a))})]},r))})]})]})},Fle=({language:t})=>{qt();const e=Ot(),n={en:{title:"Success Stories",subtitle:"Join thousands of successful store owners",viewStore:"View Store",stores:[{name:"Artisan Crafts",category:"Handmade Goods",growth:"+245% growth",description:"Luxury handcrafted items"},{name:"TechGear Pro",category:"Electronics",growth:"+180% growth",description:"Premium tech accessories"},{name:"Green Living",category:"Eco Products",growth:"+320% growth",description:"Sustainable lifestyle products"},{name:"Fashion Forward",category:"Apparel",growth:"+195% growth",description:"Trendy fashion collections"}]},ar:{title:" ",subtitle:"     ",viewStore:" ",stores:[{name:" ",category:" ",growth:" +245%",description:"   "},{name:"  ",category:"",growth:" +180%",description:"  "},{name:" ",category:" ",growth:" +320%",description:"   "},{name:" ",category:"",growth:" +195%",description:"  "}]}},s=()=>{e("/store")};return o.jsxs("section",{className:"py-24 bg-slate-950 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-teal-950/10 to-transparent"}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10",children:[o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:n[t].title}),o.jsx("p",{className:"text-xl text-slate-400",children:n[t].subtitle})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n[t].stores.map((r,i)=>o.jsxs(ae.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:i*.1},whileHover:{y:-5},className:"group bg-gradient-to-br from-slate-800 to-slate-900 border border-slate-700 rounded-xl overflow-hidden hover:border-teal-500/50 transition-all",children:[o.jsxs("div",{className:"h-48 bg-gradient-to-br from-teal-500/20 to-blue-600/20 relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"}),o.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-teal-400 text-sm mb-1",children:[o.jsx(pO,{className:"w-4 h-4"}),o.jsx("span",{className:"font-semibold",children:r.growth})]})})]}),o.jsxs("div",{className:"p-6",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:r.name}),o.jsx("p",{className:"text-sm text-teal-400 mb-3",children:r.category}),o.jsx("p",{className:"text-slate-400 text-sm mb-4",children:r.description}),o.jsxs(q,{onClick:()=>s(r.name),variant:"ghost",className:"w-full text-teal-400 hover:text-teal-300 hover:bg-teal-500/10 transition-all group-hover:bg-teal-500/10",children:[n[t].viewStore,o.jsx(d0,{className:`w-4 h-4 ${t==="ar"?"mr-2":"ml-2"}`})]})]})]},i))})]})]})},N9=({language:t})=>{typeof window<"u"&&window.location.hostname.replace(/^www\./,"");const e={en:{about:"About",aboutText:"Nawe Shop helps entrepreneurs create beautiful online stores without coding.",product:"Product",features:"Features",pricing:"Pricing",integrations:"Integrations",templates:"Templates",support:"Support",documentation:"Documentation",helpCenter:"Help Center",community:"Community",contact:"Contact Us",legal:"Legal",privacy:"Privacy Policy",terms:"Terms of Service",copyright:` ${new Date().getFullYear()} naweshop.com. All rights reserved.`,email:"support@naweshop.com",phone:"01000392539",address:"Egypt"},ar:{about:"",aboutText:" Nawe Shop         .",product:"",features:"",pricing:"",integrations:"",templates:"",support:"",documentation:"",helpCenter:" ",community:"",contact:" ",legal:"",privacy:" ",terms:" ",copyright:` ${new Date().getFullYear()}     naweshop.com`,email:"support@naweshop.com",phone:"01000392539",address:""}},n={product:[{label:e[t].features,path:"/#features"},{label:e[t].pricing,path:"/#pricing"},{label:e[t].integrations,path:"/#integrations"},{label:e[t].templates,path:"/#templates"}],support:[{label:e[t].documentation,path:"#"},{label:e[t].helpCenter,path:"#"},{label:e[t].community,path:"#"},{label:e[t].contact,path:"/#contact"}],legal:[{label:e[t].privacy,path:"/privacy-policy"},{label:e[t].terms,path:"#"}]};return o.jsx("footer",{className:"bg-slate-950 border-t border-slate-800 pt-16 pb-8",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-8 mb-12",children:[o.jsxs("div",{className:"lg:col-span-2",children:[o.jsx("div",{className:"mb-6",children:o.jsx(md,{})}),o.jsx("p",{className:"text-slate-400 mb-6 max-w-sm",children:e[t].aboutText}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(f0,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].email})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(GT,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].phone})]}),o.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[o.jsx(UG,{className:"w-4 h-4 text-teal-400"}),o.jsx("span",{className:"text-sm",children:e[t].address})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].product}),o.jsx("div",{className:"space-y-2",children:n.product.map((s,r)=>o.jsx("p",{children:o.jsx(ct,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].support}),o.jsx("div",{className:"space-y-2",children:n.support.map((s,r)=>o.jsx("p",{children:o.jsx(ct,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4",children:e[t].legal}),o.jsx("div",{className:"space-y-2",children:n.legal.map((s,r)=>o.jsx("p",{children:o.jsx(ct,{to:s.path,className:"text-slate-400 hover:text-teal-400 transition-colors cursor-pointer text-sm",children:s.label})},r))})]})]}),o.jsx("div",{className:"border-t border-slate-800 pt-8",children:o.jsx("p",{className:"text-center text-slate-400 text-sm",children:e[t].copyright})})]})})},jP=({language:t,toggleLanguage:e})=>o.jsxs("div",{className:`min-h-screen bg-slate-900 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:[o.jsx(S9,{language:t,toggleLanguage:e}),o.jsxs("main",{children:[o.jsx(Ole,{language:t}),o.jsx(Vle,{language:t}),o.jsx(Lle,{language:t}),o.jsx(Ule,{language:t}),o.jsx(Fle,{language:t})]}),o.jsx(N9,{language:t})]}),Ble=({language:t,toggleLanguage:e})=>{const s={en:{title:"Privacy Policy - Nawe Shop",description:"Learn about how Nawe Shop collects, uses, and protects your personal information. Our commitment to your privacy and data security.",h1:"Privacy Policy",lastUpdated:"Last Updated: January 2026",intro:"At Nawe Shop, we take your privacy seriously. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website or use our e-commerce platform services.",sections:[{icon:y2,title:"Information We Collect",content:`We collect information that you provide directly to us when you register for an account, create a store, make a purchase, or communicate with us. This includes:

 Personal identification information (Name, email address, phone number)
 Business information (Store name, business address, tax ID)
 Payment information (processed securely by our payment partners)
 Usage data and cookies to improve your experience`},{icon:h0,title:"How We Use Your Information",content:`We use the information we collect to:

 Provide, operate, and maintain our services
 Process your transactions and manage your orders
 Improve, personalize, and expand our platform
 Communicate with you, including for customer service, updates, and marketing
 Detect and prevent fraud and security risks`},{icon:b2,title:"Data Security",content:"We implement appropriate technical and organizational security measures to protect your personal information. We use industry-standard encryption protocols (SSL/TLS) to safeguard data transmission. However, please note that no method of transmission over the Internet or electronic storage is 100% secure."},{icon:i1,title:"Your Rights",content:"You have the right to access, correct, update, or delete your personal information. You can manage most of your data directly through your account settings. If you wish to exercise any other rights, please contact our support team."},{icon:xf,title:"Third-Party Services",content:"Our platform may contain links to third-party websites or services (like payment gateways and shipping providers) that are not owned or controlled by Nawe Shop. We are not responsible for the privacy practices of these third parties and encourage you to review their privacy policies."}],contact:{title:"Contact Us",text:"If you have any questions about this Privacy Policy, please contact us at:",email:"support@naweshop.com"}},ar:{title:"  - Nawe Shop",description:"    Nawe Shop    .    .",h1:" ",lastUpdated:" :  2026",intro:" Nawe Shop     .                       .",sections:[{icon:y2,title:"  ",content:`                    .  :

    (    )
   (     )
   (       )
       `},{icon:h0,title:"  ",content:`     :

    
    
    
         
      `},{icon:b2,title:" ",content:"        .        (SSL/TLS)   .                 100%."},{icon:i1,title:"",content:"            .         .             ."},{icon:xf,title:"  ",content:"           (     )       Nawe Shop.                ."}],contact:{title:" ",text:"            :",email:"support@naweshop.com"}}}[t],r=t==="ar";return o.jsxs("div",{className:`min-h-screen bg-slate-950 ${r?"rtl":"ltr"}`,dir:r?"rtl":"ltr",children:[o.jsxs(a0,{children:[o.jsx("title",{children:s.title}),o.jsx("meta",{name:"description",content:s.description}),o.jsx("meta",{name:"keywords",content:t==="ar"?" ,  ,  , Nawe Shop":"Privacy Policy, Data Protection, E-commerce, Nawe Shop"}),o.jsx("link",{rel:"canonical",href:`https://naweshop.com/${t==="ar"?"privacy-policy":"en/privacy-policy"}`})]}),o.jsx(S9,{language:t,toggleLanguage:e}),o.jsx("main",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[o.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-teal-500/10 rounded-full mb-4",children:o.jsx(xu,{className:"w-8 h-8 text-teal-400"})}),o.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:s.h1}),o.jsx("p",{className:"text-slate-400 text-lg",children:s.lastUpdated})]}),o.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-2xl p-6 md:p-10 backdrop-blur-sm",children:[o.jsx("p",{className:"text-slate-300 text-lg leading-relaxed mb-10 border-b border-slate-800 pb-8",children:s.intro}),o.jsx("div",{className:"space-y-12",children:s.sections.map((i,a)=>{const l=i.icon;return o.jsxs(ae.div,{initial:{opacity:0,x:r?20:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:a*.1},className:"flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 bg-slate-800 rounded-lg flex items-center justify-center",children:o.jsx(l,{className:"w-5 h-5 text-teal-400"})})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-3",children:i.title}),o.jsx("div",{className:"text-slate-400 leading-relaxed whitespace-pre-line",children:i.content})]})]},a)})}),o.jsxs("div",{className:"mt-12 pt-8 border-t border-slate-800",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:s.contact.title}),o.jsx("p",{className:"text-slate-400 mb-2",children:s.contact.text}),o.jsx("a",{href:`mailto:${s.contact.email}`,className:"text-teal-400 hover:text-teal-300 transition-colors font-medium",children:s.contact.email})]})]})]})}),o.jsx(N9,{language:t})]})},ue=g.forwardRef(({className:t,type:e,...n},s)=>o.jsx("input",{type:e,className:pe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...n}));ue.displayName="Input";var zle=g.createContext(void 0);function Pv(t){const e=g.useContext(zle);return t||e||"ltr"}var Fb=0;function A9(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??RP()),document.body.insertAdjacentElement("beforeend",t[1]??RP()),Fb++,()=>{Fb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Fb--}},[])}function RP(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bb="focusScope.autoFocusOnMount",zb="focusScope.autoFocusOnUnmount",PP={bubbles:!1,cancelable:!0},$le="FocusScope",JS=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...a}=t,[l,c]=g.useState(null),u=ks(r),d=ks(i),h=g.useRef(null),m=gt(e,x=>c(x)),p=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(s){let x=function(E){if(p.paused||!l)return;const I=E.target;l.contains(I)?h.current=I:ia(h.current,{select:!0})},_=function(E){if(p.paused||!l)return;const I=E.relatedTarget;I!==null&&(l.contains(I)||ia(h.current,{select:!0}))},v=function(E){if(document.activeElement===document.body)for(const A of E)A.removedNodes.length>0&&ia(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const b=new MutationObserver(v);return l&&b.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),b.disconnect()}}},[s,l,p.paused]),g.useEffect(()=>{if(l){DP.add(p);const x=document.activeElement;if(!l.contains(x)){const v=new CustomEvent(Bb,PP);l.addEventListener(Bb,u),l.dispatchEvent(v),v.defaultPrevented||(qle(Yle(I9(l)),{select:!0}),document.activeElement===x&&ia(l))}return()=>{l.removeEventListener(Bb,u),setTimeout(()=>{const v=new CustomEvent(zb,PP);l.addEventListener(zb,d),l.dispatchEvent(v),v.defaultPrevented||ia(x??document.body,{select:!0}),l.removeEventListener(zb,d),DP.remove(p)},0)}}},[l,u,d,p]);const y=g.useCallback(x=>{if(!n&&!s||p.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,v=document.activeElement;if(_&&v){const b=x.currentTarget,[E,I]=Hle(b);E&&I?!x.shiftKey&&v===I?(x.preventDefault(),n&&ia(E,{select:!0})):x.shiftKey&&v===E&&(x.preventDefault(),n&&ia(I,{select:!0})):v===b&&x.preventDefault()}},[n,s,p.paused]);return o.jsx(Le.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});JS.displayName=$le;function qle(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(ia(s,{select:e}),document.activeElement!==n)return}function Hle(t){const e=I9(t),n=kP(e,t),s=kP(e.reverse(),t);return[n,s]}function I9(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kP(t,e){for(const n of t)if(!Gle(n,{upTo:e}))return n}function Gle(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Kle(t){return t instanceof HTMLInputElement&&"select"in t}function ia(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Kle(t)&&e&&t.select()}}var DP=Wle();function Wle(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=MP(t,e),t.unshift(e)},remove(e){var n;t=MP(t,e),(n=t[0])==null||n.resume()}}}function MP(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function Yle(t){return t.filter(e=>e.tagName!=="A")}var Qle=my[" useId ".trim().toString()]||(()=>{}),Xle=0;function nl(t){const[e,n]=g.useState(Qle());return Si(()=>{t||n(s=>s??String(Xle++))},[t]),t||(e?`radix-${e}`:"")}const Jle=["top","right","bottom","left"],ro=Math.min,vs=Math.max,iy=Math.round,Dp=Math.floor,Fr=t=>({x:t,y:t}),Zle={left:"right",right:"left",bottom:"top",top:"bottom"},ece={start:"end",end:"start"};function x_(t,e,n){return vs(t,ro(e,n))}function Di(t,e){return typeof t=="function"?t(e):t}function Mi(t){return t.split("-")[0]}function pd(t){return t.split("-")[1]}function ZS(t){return t==="x"?"y":"x"}function eN(t){return t==="y"?"height":"width"}const tce=new Set(["top","bottom"]);function Rr(t){return tce.has(Mi(t))?"y":"x"}function tN(t){return ZS(Rr(t))}function nce(t,e,n){n===void 0&&(n=!1);const s=pd(t),r=tN(t),i=eN(r);let a=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=ay(a)),[a,ay(a)]}function sce(t){const e=ay(t);return[b_(t),e,b_(e)]}function b_(t){return t.replace(/start|end/g,e=>ece[e])}const OP=["left","right"],VP=["right","left"],rce=["top","bottom"],ice=["bottom","top"];function ace(t,e,n){switch(t){case"top":case"bottom":return n?e?VP:OP:e?OP:VP;case"left":case"right":return e?rce:ice;default:return[]}}function oce(t,e,n,s){const r=pd(t);let i=ace(Mi(t),n==="start",s);return r&&(i=i.map(a=>a+"-"+r),e&&(i=i.concat(i.map(b_)))),i}function ay(t){return t.replace(/left|right|bottom|top/g,e=>Zle[e])}function lce(t){return{top:0,right:0,bottom:0,left:0,...t}}function C9(t){return typeof t!="number"?lce(t):{top:t,right:t,bottom:t,left:t}}function oy(t){const{x:e,y:n,width:s,height:r}=t;return{width:s,height:r,top:n,left:e,right:e+s,bottom:n+r,x:e,y:n}}function LP(t,e,n){let{reference:s,floating:r}=t;const i=Rr(e),a=tN(e),l=eN(a),c=Mi(e),u=i==="y",d=s.x+s.width/2-r.width/2,h=s.y+s.height/2-r.height/2,m=s[l]/2-r[l]/2;let p;switch(c){case"top":p={x:d,y:s.y-r.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:h};break;case"left":p={x:s.x-r.width,y:h};break;default:p={x:s.x,y:s.y}}switch(pd(e)){case"start":p[a]-=m*(n&&u?-1:1);break;case"end":p[a]+=m*(n&&u?-1:1);break}return p}const cce=async(t,e,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:i=[],platform:a}=n,l=i.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:h}=LP(u,s,c),m=s,p={},y=0;for(let x=0;x<l.length;x++){const{name:_,fn:v}=l[x],{x:b,y:E,data:I,reset:A}=await v({x:d,y:h,initialPlacement:s,placement:m,strategy:r,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=b??d,h=E??h,p={...p,[_]:{...p[_],...I}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:r}):A.rects),{x:d,y:h}=LP(u,m,c)),x=-1)}return{x:d,y:h,placement:m,strategy:r,middlewareData:p}};async function Hf(t,e){var n;e===void 0&&(e={});const{x:s,y:r,platform:i,rects:a,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:p=0}=Di(e,t),y=C9(p),_=l[m?h==="floating"?"reference":"floating":h],v=oy(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(_)))==null||n?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),b=h==="floating"?{x:s,y:r,width:a.floating.width,height:a.floating.height}:a.reference,E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(E))?await(i.getScale==null?void 0:i.getScale(E))||{x:1,y:1}:{x:1,y:1},A=oy(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:b,offsetParent:E,strategy:c}):b);return{top:(v.top-A.top+y.top)/I.y,bottom:(A.bottom-v.bottom+y.bottom)/I.y,left:(v.left-A.left+y.left)/I.x,right:(A.right-v.right+y.right)/I.x}}const uce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:r,rects:i,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Di(t,e)||{};if(u==null)return{};const h=C9(d),m={x:n,y:s},p=tN(r),y=eN(p),x=await a.getDimensions(u),_=p==="y",v=_?"top":"left",b=_?"bottom":"right",E=_?"clientHeight":"clientWidth",I=i.reference[y]+i.reference[p]-m[p]-i.floating[y],A=m[p]-i.reference[p],R=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let S=R?R[E]:0;(!S||!await(a.isElement==null?void 0:a.isElement(R)))&&(S=l.floating[E]||i.floating[y]);const T=I/2-A/2,C=S/2-x[y]/2-1,j=ro(h[v],C),P=ro(h[b],C),M=j,k=S-x[y]-P,F=S/2-x[y]/2+T,X=x_(M,F,k),U=!c.arrow&&pd(r)!=null&&F!==X&&i.reference[y]/2-(F<M?j:P)-x[y]/2<0,H=U?F<M?F-M:F-k:0;return{[p]:m[p]+H,data:{[p]:X,centerOffset:F-X-H,...U&&{alignmentOffset:H}},reset:U}}}),dce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:r,middlewareData:i,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,..._}=Di(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Mi(r),b=Rr(l),E=Mi(l)===l,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),A=m||(E||!x?[ay(l)]:sce(l)),R=y!=="none";!m&&R&&A.push(...oce(l,x,y,I));const S=[l,...A],T=await Hf(e,_),C=[];let j=((s=i.flip)==null?void 0:s.overflows)||[];if(d&&C.push(T[v]),h){const F=nce(r,a,I);C.push(T[F[0]],T[F[1]])}if(j=[...j,{placement:r,overflows:C}],!C.every(F=>F<=0)){var P,M;const F=(((P=i.flip)==null?void 0:P.index)||0)+1,X=S[F];if(X&&(!(h==="alignment"?b!==Rr(X):!1)||j.every($=>Rr($.placement)===b?$.overflows[0]>0:!0)))return{data:{index:F,overflows:j},reset:{placement:X}};let U=(M=j.filter(H=>H.overflows[0]<=0).sort((H,$)=>H.overflows[1]-$.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(p){case"bestFit":{var k;const H=(k=j.filter($=>{if(R){const K=Rr($.placement);return K===b||K==="y"}return!0}).map($=>[$.placement,$.overflows.filter(K=>K>0).reduce((K,ee)=>K+ee,0)]).sort(($,K)=>$[1]-K[1])[0])==null?void 0:k[0];H&&(U=H);break}case"initialPlacement":U=l;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function UP(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function FP(t){return Jle.some(e=>t[e]>=0)}const hce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...r}=Di(t,e);switch(s){case"referenceHidden":{const i=await Hf(e,{...r,elementContext:"reference"}),a=UP(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:FP(a)}}}case"escaped":{const i=await Hf(e,{...r,altBoundary:!0}),a=UP(i,n.floating);return{data:{escapedOffsets:a,escaped:FP(a)}}}default:return{}}}}},j9=new Set(["left","top"]);async function fce(t,e){const{placement:n,platform:s,elements:r}=t,i=await(s.isRTL==null?void 0:s.isRTL(r.floating)),a=Mi(n),l=pd(n),c=Rr(n)==="y",u=j9.has(a)?-1:1,d=i&&c?-1:1,h=Di(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const mce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:r,y:i,placement:a,middlewareData:l}=e,c=await fce(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+c.x,y:i+c.y,data:{...c,placement:a}}}}},pce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:r}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:_=>{let{x:v,y:b}=_;return{x:v,y:b}}},...c}=Di(t,e),u={x:n,y:s},d=await Hf(e,c),h=Rr(Mi(r)),m=ZS(h);let p=u[m],y=u[h];if(i){const _=m==="y"?"top":"left",v=m==="y"?"bottom":"right",b=p+d[_],E=p-d[v];p=x_(b,p,E)}if(a){const _=h==="y"?"top":"left",v=h==="y"?"bottom":"right",b=y+d[_],E=y-d[v];y=x_(b,y,E)}const x=l.fn({...e,[m]:p,[h]:y});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[m]:i,[h]:a}}}}}},gce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:r,rects:i,middlewareData:a}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Di(t,e),d={x:n,y:s},h=Rr(r),m=ZS(h);let p=d[m],y=d[h];const x=Di(l,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const E=m==="y"?"height":"width",I=i.reference[m]-i.floating[E]+_.mainAxis,A=i.reference[m]+i.reference[E]-_.mainAxis;p<I?p=I:p>A&&(p=A)}if(u){var v,b;const E=m==="y"?"width":"height",I=j9.has(Mi(r)),A=i.reference[h]-i.floating[E]+(I&&((v=a.offset)==null?void 0:v[h])||0)+(I?0:_.crossAxis),R=i.reference[h]+i.reference[E]+(I?0:((b=a.offset)==null?void 0:b[h])||0)-(I?_.crossAxis:0);y<A?y=A:y>R&&(y=R)}return{[m]:p,[h]:y}}}},yce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:r,rects:i,platform:a,elements:l}=e,{apply:c=()=>{},...u}=Di(t,e),d=await Hf(e,u),h=Mi(r),m=pd(r),p=Rr(r)==="y",{width:y,height:x}=i.floating;let _,v;h==="top"||h==="bottom"?(_=h,v=m===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(v=h,_=m==="end"?"top":"bottom");const b=x-d.top-d.bottom,E=y-d.left-d.right,I=ro(x-d[_],b),A=ro(y-d[v],E),R=!e.middlewareData.shift;let S=I,T=A;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=E),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(S=b),R&&!m){const j=vs(d.left,0),P=vs(d.right,0),M=vs(d.top,0),k=vs(d.bottom,0);p?T=y-2*(j!==0||P!==0?j+P:vs(d.left,d.right)):S=x-2*(M!==0||k!==0?M+k:vs(d.top,d.bottom))}await c({...e,availableWidth:T,availableHeight:S});const C=await a.getDimensions(l.floating);return y!==C.width||x!==C.height?{reset:{rects:!0}}:{}}}};function kv(){return typeof window<"u"}function gd(t){return R9(t)?(t.nodeName||"").toLowerCase():"#document"}function js(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yr(t){var e;return(e=(R9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function R9(t){return kv()?t instanceof Node||t instanceof js(t).Node:!1}function pr(t){return kv()?t instanceof Element||t instanceof js(t).Element:!1}function qr(t){return kv()?t instanceof HTMLElement||t instanceof js(t).HTMLElement:!1}function BP(t){return!kv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof js(t).ShadowRoot}const vce=new Set(["inline","contents"]);function Vm(t){const{overflow:e,overflowX:n,overflowY:s,display:r}=gr(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!vce.has(r)}const xce=new Set(["table","td","th"]);function bce(t){return xce.has(gd(t))}const wce=[":popover-open",":modal"];function Dv(t){return wce.some(e=>{try{return t.matches(e)}catch{return!1}})}const _ce=["transform","translate","scale","rotate","perspective"],Tce=["transform","translate","scale","rotate","perspective","filter"],Ece=["paint","layout","strict","content"];function nN(t){const e=sN(),n=pr(t)?gr(t):t;return _ce.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Tce.some(s=>(n.willChange||"").includes(s))||Ece.some(s=>(n.contain||"").includes(s))}function Sce(t){let e=io(t);for(;qr(e)&&!Hu(e);){if(nN(e))return e;if(Dv(e))return null;e=io(e)}return null}function sN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nce=new Set(["html","body","#document"]);function Hu(t){return Nce.has(gd(t))}function gr(t){return js(t).getComputedStyle(t)}function Mv(t){return pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function io(t){if(gd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BP(t)&&t.host||Yr(t);return BP(e)?e.host:e}function P9(t){const e=io(t);return Hu(e)?t.ownerDocument?t.ownerDocument.body:t.body:qr(e)&&Vm(e)?e:P9(e)}function Gf(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=P9(t),i=r===((s=t.ownerDocument)==null?void 0:s.body),a=js(r);if(i){const l=w_(a);return e.concat(a,a.visualViewport||[],Vm(r)?r:[],l&&n?Gf(l):[])}return e.concat(r,Gf(r,[],n))}function w_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k9(t){const e=gr(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const r=qr(t),i=r?t.offsetWidth:n,a=r?t.offsetHeight:s,l=iy(n)!==i||iy(s)!==a;return l&&(n=i,s=a),{width:n,height:s,$:l}}function rN(t){return pr(t)?t:t.contextElement}function ru(t){const e=rN(t);if(!qr(e))return Fr(1);const n=e.getBoundingClientRect(),{width:s,height:r,$:i}=k9(e);let a=(i?iy(n.width):n.width)/s,l=(i?iy(n.height):n.height)/r;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const Ace=Fr(0);function D9(t){const e=js(t);return!sN()||!e.visualViewport?Ace:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ice(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==js(t)?!1:e}function _l(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=rN(t);let a=Fr(1);e&&(s?pr(s)&&(a=ru(s)):a=ru(t));const l=Ice(i,n,s)?D9(i):Fr(0);let c=(r.left+l.x)/a.x,u=(r.top+l.y)/a.y,d=r.width/a.x,h=r.height/a.y;if(i){const m=js(i),p=s&&pr(s)?js(s):s;let y=m,x=w_(y);for(;x&&s&&p!==y;){const _=ru(x),v=x.getBoundingClientRect(),b=gr(x),E=v.left+(x.clientLeft+parseFloat(b.paddingLeft))*_.x,I=v.top+(x.clientTop+parseFloat(b.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=E,u+=I,y=js(x),x=w_(y)}}return oy({width:d,height:h,x:c,y:u})}function Ov(t,e){const n=Mv(t).scrollLeft;return e?e.left+n:_l(Yr(t)).left+n}function M9(t,e){const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-Ov(t,n),r=n.top+e.scrollTop;return{x:s,y:r}}function Cce(t){let{elements:e,rect:n,offsetParent:s,strategy:r}=t;const i=r==="fixed",a=Yr(s),l=e?Dv(e.floating):!1;if(s===a||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Fr(1);const d=Fr(0),h=qr(s);if((h||!h&&!i)&&((gd(s)!=="body"||Vm(a))&&(c=Mv(s)),qr(s))){const p=_l(s);u=ru(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const m=a&&!h&&!i?M9(a,c):Fr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-c.scrollTop*u.y+d.y+m.y}}function jce(t){return Array.from(t.getClientRects())}function Rce(t){const e=Yr(t),n=Mv(t),s=t.ownerDocument.body,r=vs(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),i=vs(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+Ov(t);const l=-n.scrollTop;return gr(s).direction==="rtl"&&(a+=vs(e.clientWidth,s.clientWidth)-r),{width:r,height:i,x:a,y:l}}const zP=25;function Pce(t,e){const n=js(t),s=Yr(t),r=n.visualViewport;let i=s.clientWidth,a=s.clientHeight,l=0,c=0;if(r){i=r.width,a=r.height;const d=sN();(!d||d&&e==="fixed")&&(l=r.offsetLeft,c=r.offsetTop)}const u=Ov(s);if(u<=0){const d=s.ownerDocument,h=d.body,m=getComputedStyle(h),p=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,y=Math.abs(s.clientWidth-h.clientWidth-p);y<=zP&&(i-=y)}else u<=zP&&(i+=u);return{width:i,height:a,x:l,y:c}}const kce=new Set(["absolute","fixed"]);function Dce(t,e){const n=_l(t,!0,e==="fixed"),s=n.top+t.clientTop,r=n.left+t.clientLeft,i=qr(t)?ru(t):Fr(1),a=t.clientWidth*i.x,l=t.clientHeight*i.y,c=r*i.x,u=s*i.y;return{width:a,height:l,x:c,y:u}}function $P(t,e,n){let s;if(e==="viewport")s=Pce(t,n);else if(e==="document")s=Rce(Yr(t));else if(pr(e))s=Dce(e,n);else{const r=D9(t);s={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return oy(s)}function O9(t,e){const n=io(t);return n===e||!pr(n)||Hu(n)?!1:gr(n).position==="fixed"||O9(n,e)}function Mce(t,e){const n=e.get(t);if(n)return n;let s=Gf(t,[],!1).filter(l=>pr(l)&&gd(l)!=="body"),r=null;const i=gr(t).position==="fixed";let a=i?io(t):t;for(;pr(a)&&!Hu(a);){const l=gr(a),c=nN(a);!c&&l.position==="fixed"&&(r=null),(i?!c&&!r:!c&&l.position==="static"&&!!r&&kce.has(r.position)||Vm(a)&&!c&&O9(t,a))?s=s.filter(d=>d!==a):r=l,a=io(a)}return e.set(t,s),s}function Oce(t){let{element:e,boundary:n,rootBoundary:s,strategy:r}=t;const a=[...n==="clippingAncestors"?Dv(e)?[]:Mce(e,this._c):[].concat(n),s],l=a[0],c=a.reduce((u,d)=>{const h=$P(e,d,r);return u.top=vs(h.top,u.top),u.right=ro(h.right,u.right),u.bottom=ro(h.bottom,u.bottom),u.left=vs(h.left,u.left),u},$P(e,l,r));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Vce(t){const{width:e,height:n}=k9(t);return{width:e,height:n}}function Lce(t,e,n){const s=qr(e),r=Yr(e),i=n==="fixed",a=_l(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Fr(0);function u(){c.x=Ov(r)}if(s||!s&&!i)if((gd(e)!=="body"||Vm(r))&&(l=Mv(e)),s){const p=_l(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else r&&u();i&&!s&&r&&u();const d=r&&!s&&!i?M9(r,l):Fr(0),h=a.left+l.scrollLeft-c.x-d.x,m=a.top+l.scrollTop-c.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function $b(t){return gr(t).position==="static"}function qP(t,e){if(!qr(t)||gr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yr(t)===n&&(n=n.ownerDocument.body),n}function V9(t,e){const n=js(t);if(Dv(t))return n;if(!qr(t)){let r=io(t);for(;r&&!Hu(r);){if(pr(r)&&!$b(r))return r;r=io(r)}return n}let s=qP(t,e);for(;s&&bce(s)&&$b(s);)s=qP(s,e);return s&&Hu(s)&&$b(s)&&!nN(s)?n:s||Sce(t)||n}const Uce=async function(t){const e=this.getOffsetParent||V9,n=this.getDimensions,s=await n(t.floating);return{reference:Lce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Fce(t){return gr(t).direction==="rtl"}const Bce={convertOffsetParentRelativeRectToViewportRelativeRect:Cce,getDocumentElement:Yr,getClippingRect:Oce,getOffsetParent:V9,getElementRects:Uce,getClientRects:jce,getDimensions:Vce,getScale:ru,isElement:pr,isRTL:Fce};function L9(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function zce(t,e){let n=null,s;const r=Yr(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:d,top:h,width:m,height:p}=u;if(l||e(),!m||!p)return;const y=Dp(h),x=Dp(r.clientWidth-(d+m)),_=Dp(r.clientHeight-(h+p)),v=Dp(d),E={rootMargin:-y+"px "+-x+"px "+-_+"px "+-v+"px",threshold:vs(0,ro(1,c))||1};let I=!0;function A(R){const S=R[0].intersectionRatio;if(S!==c){if(!I)return a();S?a(!1,S):s=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!L9(u,t.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(A,{...E,root:r.ownerDocument})}catch{n=new IntersectionObserver(A,E)}n.observe(t)}return a(!0),i}function $ce(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=rN(t),d=r||i?[...u?Gf(u):[],...Gf(e)]:[];d.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const h=u&&l?zce(u,n):null;let m=-1,p=null;a&&(p=new ResizeObserver(v=>{let[b]=v;b&&b.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=p)==null||E.observe(e)})),n()}),u&&!c&&p.observe(u),p.observe(e));let y,x=c?_l(t):null;c&&_();function _(){const v=_l(t);x&&!L9(x,v)&&n(),x=v,y=requestAnimationFrame(_)}return n(),()=>{var v;d.forEach(b=>{r&&b.removeEventListener("scroll",n),i&&b.removeEventListener("resize",n)}),h==null||h(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const qce=mce,Hce=pce,Gce=dce,Kce=yce,Wce=hce,HP=uce,Yce=gce,Qce=(t,e,n)=>{const s=new Map,r={platform:Bce,...n},i={...r.platform,_c:s};return cce(t,e,{...r,platform:i})};var Xce=typeof document<"u",Jce=function(){},Sg=Xce?g.useLayoutEffect:Jce;function ly(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!ly(t[s],e[s]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,r[s]))return!1;for(s=n;s--!==0;){const i=r[s];if(!(i==="_owner"&&t.$$typeof)&&!ly(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function U9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GP(t,e){const n=U9(t);return Math.round(e*n)/n}function qb(t){const e=g.useRef(t);return Sg(()=>{e.current=t}),e}function Zce(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:i,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=g.useState(s);ly(m,s)||p(s);const[y,x]=g.useState(null),[_,v]=g.useState(null),b=g.useCallback($=>{$!==R.current&&(R.current=$,x($))},[]),E=g.useCallback($=>{$!==S.current&&(S.current=$,v($))},[]),I=i||y,A=a||_,R=g.useRef(null),S=g.useRef(null),T=g.useRef(d),C=c!=null,j=qb(c),P=qb(r),M=qb(u),k=g.useCallback(()=>{if(!R.current||!S.current)return;const $={placement:e,strategy:n,middleware:m};P.current&&($.platform=P.current),Qce(R.current,S.current,$).then(K=>{const ee={...K,isPositioned:M.current!==!1};F.current&&!ly(T.current,ee)&&(T.current=ee,Yf.flushSync(()=>{h(ee)}))})},[m,e,n,P,M]);Sg(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h($=>({...$,isPositioned:!1})))},[u]);const F=g.useRef(!1);Sg(()=>(F.current=!0,()=>{F.current=!1}),[]),Sg(()=>{if(I&&(R.current=I),A&&(S.current=A),I&&A){if(j.current)return j.current(I,A,k);k()}},[I,A,k,j,C]);const X=g.useMemo(()=>({reference:R,floating:S,setReference:b,setFloating:E}),[b,E]),U=g.useMemo(()=>({reference:I,floating:A}),[I,A]),H=g.useMemo(()=>{const $={position:n,left:0,top:0};if(!U.floating)return $;const K=GP(U.floating,d.x),ee=GP(U.floating,d.y);return l?{...$,transform:"translate("+K+"px, "+ee+"px)",...U9(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:ee}},[n,l,U.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:X,elements:U,floatingStyles:H}),[d,k,X,U,H])}const eue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:r}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?HP({element:s.current,padding:r}).fn(n):{}:s?HP({element:s,padding:r}).fn(n):{}}}},tue=(t,e)=>({...qce(t),options:[t,e]}),nue=(t,e)=>({...Hce(t),options:[t,e]}),sue=(t,e)=>({...Yce(t),options:[t,e]}),rue=(t,e)=>({...Gce(t),options:[t,e]}),iue=(t,e)=>({...Kce(t),options:[t,e]}),aue=(t,e)=>({...Wce(t),options:[t,e]}),oue=(t,e)=>({...eue(t),options:[t,e]});var lue="Arrow",F9=g.forwardRef((t,e)=>{const{children:n,width:s=10,height:r=5,...i}=t;return o.jsx(Le.svg,{...i,ref:e,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});F9.displayName=lue;var cue=F9;function iN(t){const[e,n]=g.useState(void 0);return Si(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let a,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,l=u.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var aN="Popper",[B9,z9]=Kr(aN),[uue,$9]=B9(aN),q9=t=>{const{__scopePopper:e,children:n}=t,[s,r]=g.useState(null);return o.jsx(uue,{scope:e,anchor:s,onAnchorChange:r,children:n})};q9.displayName=aN;var H9="PopperAnchor",G9=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...r}=t,i=$9(H9,n),a=g.useRef(null),l=gt(e,a),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||a.current,u!==c.current&&i.onAnchorChange(c.current)}),s?null:o.jsx(Le.div,{...r,ref:l})});G9.displayName=H9;var oN="PopperContent",[due,hue]=B9(oN),K9=g.forwardRef((t,e)=>{var Q,fe,oe,ve,qe,et;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:i="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=t,_=$9(oN,n),[v,b]=g.useState(null),E=gt(e,B=>b(B)),[I,A]=g.useState(null),R=iN(I),S=(R==null?void 0:R.width)??0,T=(R==null?void 0:R.height)??0,C=s+(i!=="center"?"-"+i:""),j=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},P=Array.isArray(u)?u:[u],M=P.length>0,k={padding:j,boundary:P.filter(mue),altBoundary:M},{refs:F,floatingStyles:X,placement:U,isPositioned:H,middlewareData:$}=Zce({strategy:"fixed",placement:C,whileElementsMounted:(...B)=>$ce(...B,{animationFrame:p==="always"}),elements:{reference:_.anchor},middleware:[tue({mainAxis:r+T,alignmentAxis:a}),c&&nue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?sue():void 0,...k}),c&&rue({...k}),iue({...k,apply:({elements:B,rects:le,availableWidth:Ie,availableHeight:De})=>{const{width:Pe,height:st}=le.reference,It=B.floating.style;It.setProperty("--radix-popper-available-width",`${Ie}px`),It.setProperty("--radix-popper-available-height",`${De}px`),It.setProperty("--radix-popper-anchor-width",`${Pe}px`),It.setProperty("--radix-popper-anchor-height",`${st}px`)}}),I&&oue({element:I,padding:l}),pue({arrowWidth:S,arrowHeight:T}),m&&aue({strategy:"referenceHidden",...k})]}),[K,ee]=Q9(U),re=ks(y);Si(()=>{H&&(re==null||re())},[H,re]);const ge=(Q=$.arrow)==null?void 0:Q.x,nt=(fe=$.arrow)==null?void 0:fe.y,O=((oe=$.arrow)==null?void 0:oe.centerOffset)!==0,[Y,_e]=g.useState();return Si(()=>{v&&_e(window.getComputedStyle(v).zIndex)},[v]),o.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:H?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(ve=$.transformOrigin)==null?void 0:ve.x,(qe=$.transformOrigin)==null?void 0:qe.y].join(" "),...((et=$.hide)==null?void 0:et.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:o.jsx(due,{scope:n,placedSide:K,onArrowChange:A,arrowX:ge,arrowY:nt,shouldHideArrow:O,children:o.jsx(Le.div,{"data-side":K,"data-align":ee,...x,ref:E,style:{...x.style,animation:H?void 0:"none"}})})})});K9.displayName=oN;var W9="PopperArrow",fue={top:"bottom",right:"left",bottom:"top",left:"right"},Y9=g.forwardRef(function(e,n){const{__scopePopper:s,...r}=e,i=hue(W9,s),a=fue[i.placedSide];return o.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:o.jsx(cue,{...r,ref:n,style:{...r.style,display:"block"}})})});Y9.displayName=W9;function mue(t){return t!==null}var pue=t=>({name:"transformOrigin",options:t,fn(e){var _,v,b;const{placement:n,rects:s,middlewareData:r}=e,a=((_=r.arrow)==null?void 0:_.centerOffset)!==0,l=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,d]=Q9(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(((v=r.arrow)==null?void 0:v.x)??0)+l/2,p=(((b=r.arrow)==null?void 0:b.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=a?h:`${m}px`,x=`${-c}px`):u==="top"?(y=a?h:`${m}px`,x=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=a?h:`${p}px`):u==="left"&&(y=`${s.floating.width+c}px`,x=a?h:`${p}px`),{data:{x:y,y:x}}}});function Q9(t){const[e,n="center"]=t.split("-");return[e,n]}var gue=q9,yue=G9,vue=K9,xue=Y9,Hb="rovingFocusGroup.onEntryFocus",bue={bubbles:!1,cancelable:!0},Lm="RovingFocusGroup",[__,X9,wue]=Oy(Lm),[_ue,Vv]=Kr(Lm,[wue]),[Tue,Eue]=_ue(Lm),J9=g.forwardRef((t,e)=>o.jsx(__.Provider,{scope:t.__scopeRovingFocusGroup,children:o.jsx(__.Slot,{scope:t.__scopeRovingFocusGroup,children:o.jsx(Sue,{...t,ref:e})})}));J9.displayName=Lm;var Sue=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:i,currentTabStopId:a,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,m=g.useRef(null),p=gt(e,m),y=Pv(i),[x,_]=kl({prop:a,defaultProp:l??null,onChange:c,caller:Lm}),[v,b]=g.useState(!1),E=ks(u),I=X9(n),A=g.useRef(!1),[R,S]=g.useState(0);return g.useEffect(()=>{const T=m.current;if(T)return T.addEventListener(Hb,E),()=>T.removeEventListener(Hb,E)},[E]),o.jsx(Tue,{scope:n,orientation:s,dir:y,loop:r,currentTabStopId:x,onItemFocus:g.useCallback(T=>_(T),[_]),onItemShiftTab:g.useCallback(()=>b(!0),[]),onFocusableItemAdd:g.useCallback(()=>S(T=>T+1),[]),onFocusableItemRemove:g.useCallback(()=>S(T=>T-1),[]),children:o.jsx(Le.div,{tabIndex:v||R===0?-1:0,"data-orientation":s,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:he(t.onMouseDown,()=>{A.current=!0}),onFocus:he(t.onFocus,T=>{const C=!A.current;if(T.target===T.currentTarget&&C&&!v){const j=new CustomEvent(Hb,bue);if(T.currentTarget.dispatchEvent(j),!j.defaultPrevented){const P=I().filter(U=>U.focusable),M=P.find(U=>U.active),k=P.find(U=>U.id===x),X=[M,k,...P].filter(Boolean).map(U=>U.ref.current);tU(X,d)}}A.current=!1}),onBlur:he(t.onBlur,()=>b(!1))})})}),Z9="RovingFocusGroupItem",eU=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:i,children:a,...l}=t,c=nl(),u=i||c,d=Eue(Z9,n),h=d.currentTabStopId===u,m=X9(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:x}=d;return g.useEffect(()=>{if(s)return p(),()=>y()},[s,p,y]),o.jsx(__.ItemSlot,{scope:n,id:u,focusable:s,active:r,children:o.jsx(Le.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:he(t.onMouseDown,_=>{s?d.onItemFocus(u):_.preventDefault()}),onFocus:he(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:he(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const v=Iue(_,d.orientation,d.dir);if(v!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let E=m().filter(I=>I.focusable).map(I=>I.ref.current);if(v==="last")E.reverse();else if(v==="prev"||v==="next"){v==="prev"&&E.reverse();const I=E.indexOf(_.currentTarget);E=d.loop?Cue(E,I+1):E.slice(I+1)}setTimeout(()=>tU(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:x!=null}):a})})});eU.displayName=Z9;var Nue={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aue(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Iue(t,e,n){const s=Aue(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Nue[s]}function tU(t,e=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:e}),document.activeElement!==n))return}function Cue(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var nU=J9,sU=eU;function jue(t){const e=Rue(t),n=g.forwardRef((s,r)=>{const{children:i,...a}=s,l=g.Children.toArray(i),c=l.find(kue);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function Rue(t){const e=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const a=Mue(r),l=Due(i,r.props);return r.type!==g.Fragment&&(l.ref=s?fo(s,a):a),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pue=Symbol("radix.slottable");function kue(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pue}function Due(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Mue(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Oue=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sc=new WeakMap,Mp=new WeakMap,Op={},Gb=0,rU=function(t){return t&&(t.host||rU(t.parentNode))},Vue=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=rU(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Lue=function(t,e,n,s){var r=Vue(e,Array.isArray(t)?t:[t]);Op[n]||(Op[n]=new WeakMap);var i=Op[n],a=[],l=new Set,c=new Set(r),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};r.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(l.has(m))d(m);else try{var p=m.getAttribute(s),y=p!==null&&p!=="false",x=(sc.get(m)||0)+1,_=(i.get(m)||0)+1;sc.set(m,x),i.set(m,_),a.push(m),x===1&&y&&Mp.set(m,!0),_===1&&m.setAttribute(n,"true"),y||m.setAttribute(s,"true")}catch(v){console.error("aria-hidden: cannot operate on ",m,v)}})};return d(e),l.clear(),Gb++,function(){a.forEach(function(h){var m=sc.get(h)-1,p=i.get(h)-1;sc.set(h,m),i.set(h,p),m||(Mp.has(h)||h.removeAttribute(s),Mp.delete(h)),p||h.removeAttribute(n)}),Gb--,Gb||(sc=new WeakMap,sc=new WeakMap,Mp=new WeakMap,Op={})}},iU=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),r=e||Oue(t);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),Lue(s,r,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Sr.apply(this,arguments)};function aU(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Uue(t,e,n){if(n||arguments.length===2)for(var s=0,r=e.length,i;s<r;s++)(i||!(s in e))&&(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}var Ng="right-scroll-bar-position",Ag="width-before-scroll-bar",Fue="with-scroll-bars-hidden",Bue="--removed-body-scroll-bar-size";function Kb(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function zue(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=e,n.facade}var $ue=typeof window<"u"?g.useLayoutEffect:g.useEffect,KP=new WeakMap;function que(t,e){var n=zue(e||null,function(s){return t.forEach(function(r){return Kb(r,s)})});return $ue(function(){var s=KP.get(n);if(s){var r=new Set(s),i=new Set(t),a=n.current;r.forEach(function(l){i.has(l)||Kb(l,null)}),i.forEach(function(l){r.has(l)||Kb(l,a)})}KP.set(n,t)},[t]),n}function Hue(t){return t}function Gue(t,e){e===void 0&&(e=Hue);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var a=e(i,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(i){for(s=!0;n.length;){var a=n;n=[],a.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(i),a=n}var c=function(){var d=a;a=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return r}function Kue(t){t===void 0&&(t={});var e=Gue(null);return e.options=Sr({async:!0,ssr:!1},t),e}var oU=function(t){var e=t.sideCar,n=aU(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return g.createElement(s,Sr({},n))};oU.isSideCarExport=!0;function Wue(t,e){return t.useMedium(e),oU}var lU=Kue(),Wb=function(){},Lv=g.forwardRef(function(t,e){var n=g.useRef(null),s=g.useState({onScrollCapture:Wb,onWheelCapture:Wb,onTouchMoveCapture:Wb}),r=s[0],i=s[1],a=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,p=t.noRelative,y=t.noIsolation,x=t.inert,_=t.allowPinchZoom,v=t.as,b=v===void 0?"div":v,E=t.gapMode,I=aU(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=m,R=que([n,e]),S=Sr(Sr({},I),r);return g.createElement(g.Fragment,null,d&&g.createElement(A,{sideCar:lU,removeScrollBar:u,shards:h,noRelative:p,noIsolation:y,inert:x,setCallbacks:i,allowPinchZoom:!!_,lockRef:n,gapMode:E}),a?g.cloneElement(g.Children.only(l),Sr(Sr({},S),{ref:R})):g.createElement(b,Sr({},S,{className:c,ref:R}),l))});Lv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lv.classNames={fullWidth:Ag,zeroRight:Ng};var WP,Yue=function(){if(WP)return WP;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Que(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Yue();return e&&t.setAttribute("nonce",e),t}function Xue(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Jue(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Zue=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Que())&&(Xue(e,n),Jue(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ede=function(){var t=Zue();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},cU=function(){var t=ede(),e=function(n){var s=n.styles,r=n.dynamic;return t(s,r),null};return e},tde={left:0,top:0,right:0,gap:0},Yb=function(t){return parseInt(t||"",10)||0},nde=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],r=e[t==="padding"?"paddingRight":"marginRight"];return[Yb(n),Yb(s),Yb(r)]},sde=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tde;var e=nde(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},rde=cU(),iu="data-scroll-locked",ide=function(t,e,n,s){var r=t.left,i=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Fue,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(iu,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ng,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ag,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(Ng," .").concat(Ng,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Ag," .").concat(Ag,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(iu,`] {
    `).concat(Bue,": ").concat(l,`px;
  }
`)},YP=function(){var t=parseInt(document.body.getAttribute(iu)||"0",10);return isFinite(t)?t:0},ade=function(){g.useEffect(function(){return document.body.setAttribute(iu,(YP()+1).toString()),function(){var t=YP()-1;t<=0?document.body.removeAttribute(iu):document.body.setAttribute(iu,t.toString())}},[])},ode=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,r=s===void 0?"margin":s;ade();var i=g.useMemo(function(){return sde(r)},[r]);return g.createElement(rde,{styles:ide(i,!e,r,n?"":"!important")})},T_=!1;if(typeof window<"u")try{var Vp=Object.defineProperty({},"passive",{get:function(){return T_=!0,!0}});window.addEventListener("test",Vp,Vp),window.removeEventListener("test",Vp,Vp)}catch{T_=!1}var rc=T_?{passive:!1}:!1,lde=function(t){return t.tagName==="TEXTAREA"},uU=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lde(t)&&n[e]==="visible")},cde=function(t){return uU(t,"overflowY")},ude=function(t){return uU(t,"overflowX")},QP=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=dU(t,s);if(r){var i=hU(t,s),a=i[1],l=i[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},dde=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},hde=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},dU=function(t,e){return t==="v"?cde(e):ude(e)},hU=function(t,e){return t==="v"?dde(e):hde(e)},fde=function(t,e){return t==="h"&&e==="rtl"?-1:1},mde=function(t,e,n,s,r){var i=fde(t,window.getComputedStyle(e).direction),a=i*s,l=n.target,c=e.contains(l),u=!1,d=a>0,h=0,m=0;do{if(!l)break;var p=hU(t,l),y=p[0],x=p[1],_=p[2],v=x-_-i*y;(y||v)&&dU(t,l)&&(h+=v,m+=y);var b=l.parentNode;l=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&(r&&Math.abs(h)<1||!r&&a>h)||!d&&(r&&Math.abs(m)<1||!r&&-a>m))&&(u=!0),u},Lp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},XP=function(t){return[t.deltaX,t.deltaY]},JP=function(t){return t&&"current"in t?t.current:t},pde=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},yde=0,ic=[];function vde(t){var e=g.useRef([]),n=g.useRef([0,0]),s=g.useRef(),r=g.useState(yde++)[0],i=g.useState(cU)[0],a=g.useRef(t);g.useEffect(function(){a.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var x=Uue([t.lockRef.current],(t.shards||[]).map(JP),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var l=g.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!a.current.allowPinchZoom;var v=Lp(x),b=n.current,E="deltaX"in x?x.deltaX:b[0]-v[0],I="deltaY"in x?x.deltaY:b[1]-v[1],A,R=x.target,S=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in x&&S==="h"&&R.type==="range")return!1;var T=QP(S,R);if(!T)return!0;if(T?A=S:(A=S==="v"?"h":"v",T=QP(S,R)),!T)return!1;if(!s.current&&"changedTouches"in x&&(E||I)&&(s.current=A),!A)return!0;var C=s.current||A;return mde(C,_,x,C==="h"?E:I,!0)},[]),c=g.useCallback(function(x){var _=x;if(!(!ic.length||ic[ic.length-1]!==i)){var v="deltaY"in _?XP(_):Lp(_),b=e.current.filter(function(A){return A.name===_.type&&(A.target===_.target||_.target===A.shadowParent)&&pde(A.delta,v)})[0];if(b&&b.should){_.cancelable&&_.preventDefault();return}if(!b){var E=(a.current.shards||[]).map(JP).filter(Boolean).filter(function(A){return A.contains(_.target)}),I=E.length>0?l(_,E[0]):!a.current.noIsolation;I&&_.cancelable&&_.preventDefault()}}},[]),u=g.useCallback(function(x,_,v,b){var E={name:x,delta:_,target:v,should:b,shadowParent:xde(v)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),d=g.useCallback(function(x){n.current=Lp(x),s.current=void 0},[]),h=g.useCallback(function(x){u(x.type,XP(x),x.target,l(x,t.lockRef.current))},[]),m=g.useCallback(function(x){u(x.type,Lp(x),x.target,l(x,t.lockRef.current))},[]);g.useEffect(function(){return ic.push(i),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,rc),document.addEventListener("touchmove",c,rc),document.addEventListener("touchstart",d,rc),function(){ic=ic.filter(function(x){return x!==i}),document.removeEventListener("wheel",c,rc),document.removeEventListener("touchmove",c,rc),document.removeEventListener("touchstart",d,rc)}},[]);var p=t.removeScrollBar,y=t.inert;return g.createElement(g.Fragment,null,y?g.createElement(i,{styles:gde(r)}):null,p?g.createElement(ode,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const bde=Wue(lU,vde);var fU=g.forwardRef(function(t,e){return g.createElement(Lv,Sr({},t,{ref:e,sideCar:bde}))});fU.classNames=Lv.classNames;const mU=fU;var E_=["Enter"," "],wde=["ArrowDown","PageUp","Home"],pU=["ArrowUp","PageDown","End"],_de=[...wde,...pU],Tde={ltr:[...E_,"ArrowRight"],rtl:[...E_,"ArrowLeft"]},Ede={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Um="Menu",[Kf,Sde,Nde]=Oy(Um),[Fl,gU]=Kr(Um,[Nde,z9,Vv]),Uv=z9(),yU=Vv(),[Ade,Bl]=Fl(Um),[Ide,Fm]=Fl(Um),vU=t=>{const{__scopeMenu:e,open:n=!1,children:s,dir:r,onOpenChange:i,modal:a=!0}=t,l=Uv(e),[c,u]=g.useState(null),d=g.useRef(!1),h=ks(i),m=Pv(r);return g.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),o.jsx(gue,{...l,children:o.jsx(Ade,{scope:e,open:n,onOpenChange:h,content:c,onContentChange:u,children:o.jsx(Ide,{scope:e,onClose:g.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:s})})})};vU.displayName=Um;var Cde="MenuAnchor",lN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Uv(n);return o.jsx(yue,{...r,...s,ref:e})});lN.displayName=Cde;var cN="MenuPortal",[jde,xU]=Fl(cN,{forceMount:void 0}),bU=t=>{const{__scopeMenu:e,forceMount:n,children:s,container:r}=t,i=Bl(cN,e);return o.jsx(jde,{scope:e,forceMount:n,children:o.jsx(vr,{present:n||i.open,children:o.jsx(Ly,{asChild:!0,container:r,children:s})})})};bU.displayName=cN;var er="MenuContent",[Rde,uN]=Fl(er),wU=g.forwardRef((t,e)=>{const n=xU(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Bl(er,t.__scopeMenu),a=Fm(er,t.__scopeMenu);return o.jsx(Kf.Provider,{scope:t.__scopeMenu,children:o.jsx(vr,{present:s||i.open,children:o.jsx(Kf.Slot,{scope:t.__scopeMenu,children:a.modal?o.jsx(Pde,{...r,ref:e}):o.jsx(kde,{...r,ref:e})})})})}),Pde=g.forwardRef((t,e)=>{const n=Bl(er,t.__scopeMenu),s=g.useRef(null),r=gt(e,s);return g.useEffect(()=>{const i=s.current;if(i)return iU(i)},[]),o.jsx(dN,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),kde=g.forwardRef((t,e)=>{const n=Bl(er,t.__scopeMenu);return o.jsx(dN,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Dde=jue("MenuContent.ScrollLock"),dN=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,disableOutsideScroll:y,...x}=t,_=Bl(er,n),v=Fm(er,n),b=Uv(n),E=yU(n),I=Sde(n),[A,R]=g.useState(null),S=g.useRef(null),T=gt(e,S,_.onContentChange),C=g.useRef(0),j=g.useRef(""),P=g.useRef(0),M=g.useRef(null),k=g.useRef("right"),F=g.useRef(0),X=y?mU:g.Fragment,U=y?{as:Dde,allowPinchZoom:!0}:void 0,H=K=>{var Q,fe;const ee=j.current+K,re=I().filter(oe=>!oe.disabled),ge=document.activeElement,nt=(Q=re.find(oe=>oe.ref.current===ge))==null?void 0:Q.textValue,O=re.map(oe=>oe.textValue),Y=Gde(O,ee,nt),_e=(fe=re.find(oe=>oe.textValue===Y))==null?void 0:fe.ref.current;(function oe(ve){j.current=ve,window.clearTimeout(C.current),ve!==""&&(C.current=window.setTimeout(()=>oe(""),1e3))})(ee),_e&&setTimeout(()=>_e.focus())};g.useEffect(()=>()=>window.clearTimeout(C.current),[]),A9();const $=g.useCallback(K=>{var re,ge;return k.current===((re=M.current)==null?void 0:re.side)&&Wde(K,(ge=M.current)==null?void 0:ge.area)},[]);return o.jsx(Rde,{scope:n,searchRef:j,onItemEnter:g.useCallback(K=>{$(K)&&K.preventDefault()},[$]),onItemLeave:g.useCallback(K=>{var ee;$(K)||((ee=S.current)==null||ee.focus(),R(null))},[$]),onTriggerLeave:g.useCallback(K=>{$(K)&&K.preventDefault()},[$]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(K=>{M.current=K},[]),children:o.jsx(X,{...U,children:o.jsx(JS,{asChild:!0,trapped:r,onMountAutoFocus:he(i,K=>{var ee;K.preventDefault(),(ee=S.current)==null||ee.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:o.jsx(Vy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:p,children:o.jsx(nU,{asChild:!0,...E,dir:v.dir,orientation:"vertical",loop:s,currentTabStopId:A,onCurrentTabStopIdChange:R,onEntryFocus:he(c,K=>{v.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:o.jsx(vue,{role:"menu","aria-orientation":"vertical","data-state":VU(_.open),"data-radix-menu-content":"",dir:v.dir,...b,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:he(x.onKeyDown,K=>{const re=K.target.closest("[data-radix-menu-content]")===K.currentTarget,ge=K.ctrlKey||K.altKey||K.metaKey,nt=K.key.length===1;re&&(K.key==="Tab"&&K.preventDefault(),!ge&&nt&&H(K.key));const O=S.current;if(K.target!==O||!_de.includes(K.key))return;K.preventDefault();const _e=I().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);pU.includes(K.key)&&_e.reverse(),qde(_e)}),onBlur:he(t.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(C.current),j.current="")}),onPointerMove:he(t.onPointerMove,Wf(K=>{const ee=K.target,re=F.current!==K.clientX;if(K.currentTarget.contains(ee)&&re){const ge=K.clientX>F.current?"right":"left";k.current=ge,F.current=K.clientX}}))})})})})})})});wU.displayName=er;var Mde="MenuGroup",hN=g.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Le.div,{role:"group",...s,ref:e})});hN.displayName=Mde;var Ode="MenuLabel",_U=g.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Le.div,{...s,ref:e})});_U.displayName=Ode;var cy="MenuItem",ZP="menu.itemSelect",Fv=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:s,...r}=t,i=g.useRef(null),a=Fm(cy,t.__scopeMenu),l=uN(cy,t.__scopeMenu),c=gt(e,i),u=g.useRef(!1),d=()=>{const h=i.current;if(!n&&h){const m=new CustomEvent(ZP,{bubbles:!0,cancelable:!0});h.addEventListener(ZP,p=>s==null?void 0:s(p),{once:!0}),MT(h,m),m.defaultPrevented?u.current=!1:a.onClose()}};return o.jsx(TU,{...r,ref:c,disabled:n,onClick:he(t.onClick,d),onPointerDown:h=>{var m;(m=t.onPointerDown)==null||m.call(t,h),u.current=!0},onPointerUp:he(t.onPointerUp,h=>{var m;u.current||(m=h.currentTarget)==null||m.click()}),onKeyDown:he(t.onKeyDown,h=>{const m=l.searchRef.current!=="";n||m&&h.key===" "||E_.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Fv.displayName=cy;var TU=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...i}=t,a=uN(cy,n),l=yU(n),c=g.useRef(null),u=gt(e,c),[d,h]=g.useState(!1),[m,p]=g.useState("");return g.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[i.children]),o.jsx(Kf.ItemSlot,{scope:n,disabled:s,textValue:r??m,children:o.jsx(sU,{asChild:!0,...l,focusable:!s,children:o.jsx(Le.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:he(t.onPointerMove,Wf(y=>{s?a.onItemLeave(y):(a.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:he(t.onPointerLeave,Wf(y=>a.onItemLeave(y))),onFocus:he(t.onFocus,()=>h(!0)),onBlur:he(t.onBlur,()=>h(!1))})})})}),Vde="MenuCheckboxItem",EU=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:s,...r}=t;return o.jsx(CU,{scope:t.__scopeMenu,checked:n,children:o.jsx(Fv,{role:"menuitemcheckbox","aria-checked":uy(n)?"mixed":n,...r,ref:e,"data-state":mN(n),onSelect:he(r.onSelect,()=>s==null?void 0:s(uy(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EU.displayName=Vde;var SU="MenuRadioGroup",[Lde,Ude]=Fl(SU,{value:void 0,onValueChange:()=>{}}),NU=g.forwardRef((t,e)=>{const{value:n,onValueChange:s,...r}=t,i=ks(s);return o.jsx(Lde,{scope:t.__scopeMenu,value:n,onValueChange:i,children:o.jsx(hN,{...r,ref:e})})});NU.displayName=SU;var AU="MenuRadioItem",IU=g.forwardRef((t,e)=>{const{value:n,...s}=t,r=Ude(AU,t.__scopeMenu),i=n===r.value;return o.jsx(CU,{scope:t.__scopeMenu,checked:i,children:o.jsx(Fv,{role:"menuitemradio","aria-checked":i,...s,ref:e,"data-state":mN(i),onSelect:he(s.onSelect,()=>{var a;return(a=r.onValueChange)==null?void 0:a.call(r,n)},{checkForDefaultPrevented:!1})})})});IU.displayName=AU;var fN="MenuItemIndicator",[CU,Fde]=Fl(fN,{checked:!1}),jU=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:s,...r}=t,i=Fde(fN,n);return o.jsx(vr,{present:s||uy(i.checked)||i.checked===!0,children:o.jsx(Le.span,{...r,ref:e,"data-state":mN(i.checked)})})});jU.displayName=fN;var Bde="MenuSeparator",RU=g.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t;return o.jsx(Le.div,{role:"separator","aria-orientation":"horizontal",...s,ref:e})});RU.displayName=Bde;var zde="MenuArrow",PU=g.forwardRef((t,e)=>{const{__scopeMenu:n,...s}=t,r=Uv(n);return o.jsx(xue,{...r,...s,ref:e})});PU.displayName=zde;var $de="MenuSub",[spe,kU]=Fl($de),ph="MenuSubTrigger",DU=g.forwardRef((t,e)=>{const n=Bl(ph,t.__scopeMenu),s=Fm(ph,t.__scopeMenu),r=kU(ph,t.__scopeMenu),i=uN(ph,t.__scopeMenu),a=g.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},d=g.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return g.useEffect(()=>d,[d]),g.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),o.jsx(lN,{asChild:!0,...u,children:o.jsx(TU,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":VU(n.open),...t,ref:fo(e,r.onTriggerChange),onClick:h=>{var m;(m=t.onClick)==null||m.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:he(t.onPointerMove,Wf(h=>{i.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(i.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:he(t.onPointerLeave,Wf(h=>{var p,y;d();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const x=(y=n.content)==null?void 0:y.dataset.side,_=x==="right",v=_?-5:5,b=m[_?"left":"right"],E=m[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:b,y:m.top},{x:E,y:m.top},{x:E,y:m.bottom},{x:b,y:m.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:he(t.onKeyDown,h=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&h.key===" "||Tde[s.dir].includes(h.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),h.preventDefault())})})})});DU.displayName=ph;var MU="MenuSubContent",OU=g.forwardRef((t,e)=>{const n=xU(er,t.__scopeMenu),{forceMount:s=n.forceMount,...r}=t,i=Bl(er,t.__scopeMenu),a=Fm(er,t.__scopeMenu),l=kU(MU,t.__scopeMenu),c=g.useRef(null),u=gt(e,c);return o.jsx(Kf.Provider,{scope:t.__scopeMenu,children:o.jsx(vr,{present:s||i.open,children:o.jsx(Kf.Slot,{scope:t.__scopeMenu,children:o.jsx(dN,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:he(t.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:he(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:he(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),m=Ede[a.dir].includes(d.key);h&&m&&(i.onOpenChange(!1),(p=l.trigger)==null||p.focus(),d.preventDefault())})})})})})});OU.displayName=MU;function VU(t){return t?"open":"closed"}function uy(t){return t==="indeterminate"}function mN(t){return uy(t)?"indeterminate":t?"checked":"unchecked"}function qde(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Hde(t,e){return t.map((n,s)=>t[(e+s)%t.length])}function Gde(t,e,n){const r=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let a=Hde(t,Math.max(i,0));r.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.toLowerCase().startsWith(r.toLowerCase()));return c!==n?c:void 0}function Kde(t,e){const{x:n,y:s}=t;let r=!1;for(let i=0,a=e.length-1;i<e.length;a=i++){const l=e[i],c=e[a],u=l.x,d=l.y,h=c.x,m=c.y;d>s!=m>s&&n<(h-u)*(s-d)/(m-d)+u&&(r=!r)}return r}function Wde(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Kde(n,e)}function Wf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Yde=vU,Qde=lN,Xde=bU,Jde=wU,Zde=hN,ehe=_U,the=Fv,nhe=EU,she=NU,rhe=IU,ihe=jU,ahe=RU,ohe=PU,lhe=DU,che=OU,Bv="DropdownMenu",[uhe,rpe]=Kr(Bv,[gU]),es=gU(),[dhe,LU]=uhe(Bv),UU=t=>{const{__scopeDropdownMenu:e,children:n,dir:s,open:r,defaultOpen:i,onOpenChange:a,modal:l=!0}=t,c=es(e),u=g.useRef(null),[d,h]=kl({prop:r,defaultProp:i??!1,onChange:a,caller:Bv});return o.jsx(dhe,{scope:e,triggerId:nl(),triggerRef:u,contentId:nl(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(m=>!m),[h]),modal:l,children:o.jsx(Yde,{...c,open:d,onOpenChange:h,dir:s,modal:l,children:n})})};UU.displayName=Bv;var FU="DropdownMenuTrigger",BU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=t,i=LU(FU,n),a=es(n);return o.jsx(Qde,{asChild:!0,...a,children:o.jsx(Le.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:fo(e,i.triggerRef),onPointerDown:he(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:he(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BU.displayName=FU;var hhe="DropdownMenuPortal",zU=t=>{const{__scopeDropdownMenu:e,...n}=t,s=es(e);return o.jsx(Xde,{...s,...n})};zU.displayName=hhe;var $U="DropdownMenuContent",qU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=LU($U,n),i=es(n),a=g.useRef(!1);return o.jsx(Jde,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...s,ref:e,onCloseAutoFocus:he(t.onCloseAutoFocus,l=>{var c;a.current||(c=r.triggerRef.current)==null||c.focus(),a.current=!1,l.preventDefault()}),onInteractOutside:he(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!r.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qU.displayName=$U;var fhe="DropdownMenuGroup",mhe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(Zde,{...r,...s,ref:e})});mhe.displayName=fhe;var phe="DropdownMenuLabel",HU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(ehe,{...r,...s,ref:e})});HU.displayName=phe;var ghe="DropdownMenuItem",GU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(the,{...r,...s,ref:e})});GU.displayName=ghe;var yhe="DropdownMenuCheckboxItem",KU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(nhe,{...r,...s,ref:e})});KU.displayName=yhe;var vhe="DropdownMenuRadioGroup",xhe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(she,{...r,...s,ref:e})});xhe.displayName=vhe;var bhe="DropdownMenuRadioItem",WU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(rhe,{...r,...s,ref:e})});WU.displayName=bhe;var whe="DropdownMenuItemIndicator",YU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(ihe,{...r,...s,ref:e})});YU.displayName=whe;var _he="DropdownMenuSeparator",QU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(ahe,{...r,...s,ref:e})});QU.displayName=_he;var The="DropdownMenuArrow",Ehe=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(ohe,{...r,...s,ref:e})});Ehe.displayName=The;var She="DropdownMenuSubTrigger",XU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(lhe,{...r,...s,ref:e})});XU.displayName=She;var Nhe="DropdownMenuSubContent",JU=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...s}=t,r=es(n);return o.jsx(che,{...r,...s,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JU.displayName=Nhe;var Ahe=UU,Ihe=BU,Che=zU,ZU=qU,e8=HU,t8=GU,n8=KU,s8=WU,r8=YU,i8=QU,a8=XU,o8=JU;const sl=Ahe,rl=Ihe,jhe=g.forwardRef(({className:t,inset:e,children:n,...s},r)=>o.jsxs(a8,{ref:r,className:pe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...s,children:[n,o.jsx(kG,{className:"ml-auto h-4 w-4"})]}));jhe.displayName=a8.displayName;const Rhe=g.forwardRef(({className:t,...e},n)=>o.jsx(o8,{ref:n,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Rhe.displayName=o8.displayName;const Ba=g.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsx(Che,{children:o.jsx(ZU,{ref:s,sideOffset:e,className:pe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Ba.displayName=ZU.displayName;const Ft=g.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(t8,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ft.displayName=t8.displayName;const Phe=g.forwardRef(({className:t,children:e,checked:n,...s},r)=>o.jsxs(n8,{ref:r,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(r8,{children:o.jsx(sd,{className:"h-4 w-4"})})}),e]}));Phe.displayName=n8.displayName;const khe=g.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(s8,{ref:s,className:pe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(r8,{children:o.jsx(MG,{className:"h-2 w-2 fill-current"})})}),e]}));khe.displayName=s8.displayName;const Yh=g.forwardRef(({className:t,inset:e,...n},s)=>o.jsx(e8,{ref:s,className:pe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Yh.displayName=e8.displayName;const Mc=g.forwardRef(({className:t,...e},n)=>o.jsx(i8,{ref:n,className:pe("-mx-1 my-1 h-px bg-muted",t),...e}));Mc.displayName=i8.displayName;const Dhe=um("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-teal-500 text-white shadow hover:bg-teal-600",warning:"border-transparent bg-yellow-500 text-white shadow hover:bg-yellow-600"}},defaultVariants:{variant:"default"}});function xn({className:t,variant:e,...n}){return o.jsx("div",{className:pe(Dhe({variant:e}),t),...n})}const Mhe=()=>{const[t,e]=g.useState(!0),[n,s]=g.useState(!0),r=Ot();g.useEffect(()=>{const d=Bi(Dt,h=>{h?h.email.toLowerCase()!=="alkaptin7878@mail.ru"?r("/"):s(!1):r("/admin/login")});return()=>d()},[r]);const[i,a]=g.useState([{id:1,text:"New store 'TechHub' awaiting approval",time:"5m ago",unread:!0},{id:2,text:"High server load detected",time:"1h ago",unread:!0},{id:3,text:"Daily backup completed",time:"4h ago",unread:!1}]),l=[{icon:mO,label:"Dashboard",path:"/admin"},{icon:WT,label:"Users",path:"/admin/users"},{icon:Kc,label:"Stores",path:"/admin/stores"},{icon:HT,label:"Templates",path:"/admin/templates"},{icon:vu,label:"Pricing Plans",path:"/admin/pricing"},{icon:Fy,label:"Settings",path:"/admin/settings"},{icon:i1,label:"Logs",path:"/admin/logs"}],c=async()=>{await iE(Dt),r("/admin/login")},u=i.filter(d=>d.unread).length;return n?o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsxs("div",{className:"min-h-screen bg-slate-50 flex font-sans",children:[o.jsxs(ae.aside,{initial:!1,animate:{width:t?280:0,opacity:t?1:0},className:"bg-slate-900 text-white fixed md:static inset-y-0 left-0 z-40 overflow-hidden flex flex-col transition-all duration-300 shadow-xl",children:[o.jsx("div",{className:"p-6 flex items-center justify-between min-w-[280px]",children:o.jsx(md,{showText:!0})}),o.jsx("nav",{className:"flex-1 px-4 py-4 min-w-[280px]",children:o.jsx("div",{className:"space-y-1",children:l.map(d=>{const h=d.icon;return o.jsxs(D4,{to:d.path,end:d.path==="/admin",className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?"bg-teal-500/10 text-teal-400 border border-teal-500/20":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[o.jsx(h,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:d.label})]},d.path)})})}),o.jsx("div",{className:"p-4 border-t border-slate-800 min-w-[280px]",children:o.jsxs(q,{onClick:c,variant:"ghost",className:"w-full justify-start text-slate-400 hover:text-red-400 hover:bg-red-500/10 gap-3",children:[o.jsx(zT,{className:"w-5 h-5"}),o.jsx("span",{children:"Logout"})]})})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white border-b border-slate-200 flex items-center justify-between px-6 shadow-sm z-30",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-500 hover:bg-slate-100",children:t?o.jsx(Ni,{className:"w-5 h-5"}):o.jsx($T,{className:"w-5 h-5"})}),o.jsxs("div",{className:"hidden md:flex items-center relative",children:[o.jsx(Xo,{className:"w-4 h-4 absolute left-3 text-slate-400"}),o.jsx(ue,{placeholder:"Global search...",className:"pl-9 w-64 bg-slate-50 border-slate-200 focus:bg-white transition-all"})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsxs(q,{variant:"ghost",size:"icon",className:"relative text-slate-500 hover:bg-slate-100",children:[o.jsx(IG,{className:"w-5 h-5"}),u>0&&o.jsx("span",{className:"absolute top-2 right-2 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white"})]})}),o.jsxs(Ba,{align:"end",className:"w-80",children:[o.jsx(Yh,{children:"Notifications"}),o.jsx(Mc,{}),o.jsx("div",{className:"max-h-[300px] overflow-y-auto",children:i.map(d=>o.jsxs(Ft,{className:"flex flex-col items-start p-3 cursor-pointer",children:[o.jsxs("div",{className:"flex justify-between w-full",children:[o.jsx("span",{className:`text-sm ${d.unread?"font-semibold text-slate-900":"text-slate-600"}`,children:d.text}),d.unread&&o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1"})]}),o.jsx("span",{className:"text-xs text-slate-400 mt-1",children:d.time})]},d.id))})]})]}),o.jsx("div",{className:"h-8 w-[1px] bg-slate-200 mx-2"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right hidden md:block",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900",children:"Admin User"}),o.jsx("p",{className:"text-xs text-slate-500",children:"Super Admin"})]}),o.jsx("div",{className:"w-9 h-9 bg-teal-100 rounded-full flex items-center justify-center border-2 border-teal-50 text-teal-700 font-bold text-sm shadow-sm",children:"AD"})]})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 p-6 md:p-8",children:o.jsx("div",{className:"max-w-7xl mx-auto space-y-8",children:o.jsx(kT,{})})})]})]})},Qe=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Qe.displayName="Card";const Tt=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pe("flex flex-col space-y-1.5 p-6",t),...e}));Tt.displayName="CardHeader";const Et=g.forwardRef(({className:t,...e},n)=>o.jsx("h3",{ref:n,className:pe("font-semibold leading-none tracking-tight",t),...e}));Et.displayName="CardTitle";const cn=g.forwardRef(({className:t,...e},n)=>o.jsx("p",{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));cn.displayName="CardDescription";const Xe=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pe("p-6 pt-0",t),...e}));Xe.displayName="CardContent";const pN=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{ref:n,className:pe("flex items-center p-6 pt-0",t),...e}));pN.displayName="CardFooter";const ek=({data:t,color:e})=>{const n=Math.max(...t),s=t.map((r,i)=>{const a=i/(t.length-1)*100,l=100-r/n*100;return`${a},${l}`}).join(" ");return o.jsx("div",{className:"relative h-full w-full overflow-hidden",children:o.jsxs("svg",{viewBox:"0 0 100 100",preserveAspectRatio:"none",className:"h-full w-full",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${e}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.2"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx(ae.path,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},d:`M0,100 ${s.split(" ").map(r=>"L"+r).join(" ")} L100,100 Z`,fill:`url(#gradient-${e})`}),o.jsx(ae.polyline,{initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},transition:{duration:1.5,ease:"easeInOut"},points:s,fill:"none",stroke:e,strokeWidth:"2",vectorEffect:"non-scaling-stroke"})]})})},Ohe=()=>{const t=[30,45,35,50,40,60,55,70,65,80,75,90],e=[{title:"Total Sales",value:"$124,592.00",change:"+12.5%",trend:"up",icon:hO,color:"text-emerald-600",bg:"bg-emerald-100",chartColor:"#10b981"},{title:"Active Stores",value:"1,204",change:"+56 this week",trend:"up",icon:By,color:"text-blue-600",bg:"bg-blue-100",chartColor:"#2563eb"},{title:"Active Users",value:"3,450",change:"-1.2%",trend:"down",icon:WT,color:"text-purple-600",bg:"bg-purple-100",chartColor:"#9333ea"},{title:"Server Load",value:"42%",change:"Optimal",trend:"stable",icon:SG,color:"text-orange-600",bg:"bg-orange-100",chartColor:"#f97316"}];return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Dashboard Overview"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Real-time platform performance and metrics."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{variant:"outline",children:"Download Report"}),o.jsx(q,{className:"bg-teal-600 hover:bg-teal-700",children:"View Live Analytics"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((n,s)=>{const r=n.icon;return o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:s*.1},children:o.jsxs(Qe,{className:"hover:shadow-lg transition-all duration-300 border-slate-200",children:[o.jsxs(Tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Et,{className:"text-sm font-medium text-slate-600",children:n.title}),o.jsx("div",{className:`p-2 rounded-lg ${n.bg}`,children:o.jsx(r,{className:`w-4 h-4 ${n.color}`})})]}),o.jsxs(Xe,{children:[o.jsxs("div",{className:"flex items-baseline justify-between mb-2",children:[o.jsx("div",{className:"text-2xl font-bold text-slate-900",children:n.value}),o.jsxs("div",{className:`flex items-center text-xs font-medium ${n.trend==="up"?"text-emerald-600":n.trend==="down"?"text-red-600":"text-slate-500"}`,children:[n.trend==="up"?o.jsx(dO,{className:"w-3 h-3 mr-1"}):n.trend==="down"?o.jsx(NG,{className:"w-3 h-3 mr-1"}):null,n.change]})]}),o.jsx("div",{className:"h-10 w-full",children:o.jsx(ek,{data:[40,30,45,50,60,45,65],color:n.chartColor})})]})]})},s)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(Qe,{className:"h-full border-slate-200",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx(Et,{children:"Revenue Analytics"}),o.jsx(cn,{children:"Monthly revenue growth compared to previous year"})]}),o.jsxs("select",{className:"text-sm border rounded-md px-2 py-1 bg-slate-50 text-slate-600 outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:"This Year"}),o.jsx("option",{children:"Last Year"})]})]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"h-[300px] w-full pt-4",children:o.jsx(ek,{data:t,color:"#10b981"})}),o.jsxs("div",{className:"flex justify-between mt-4 text-xs text-slate-400 uppercase tracking-wide",children:[o.jsx("span",{children:"Jan"}),o.jsx("span",{children:"Feb"}),o.jsx("span",{children:"Mar"}),o.jsx("span",{children:"Apr"}),o.jsx("span",{children:"May"}),o.jsx("span",{children:"Jun"}),o.jsx("span",{children:"Jul"}),o.jsx("span",{children:"Aug"}),o.jsx("span",{children:"Sep"}),o.jsx("span",{children:"Oct"}),o.jsx("span",{children:"Nov"}),o.jsx("span",{children:"Dec"})]})]})]})}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(Qe,{className:"h-full border-slate-200",children:[o.jsxs(Tt,{children:[o.jsx(Et,{children:"Traffic Sources"}),o.jsx(cn,{children:"Where your users are coming from"})]}),o.jsx(Xe,{children:o.jsx("div",{className:"space-y-6",children:[{source:"Direct",value:"45%",color:"bg-blue-500"},{source:"Social Media",value:"32%",color:"bg-purple-500"},{source:"Organic Search",value:"15%",color:"bg-emerald-500"},{source:"Referral",value:"8%",color:"bg-orange-500"}].map((n,s)=>o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"font-medium text-slate-700",children:n.source}),o.jsx("span",{className:"text-slate-500",children:n.value})]}),o.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:o.jsx(ae.div,{initial:{width:0},animate:{width:n.value},transition:{duration:1,delay:.5+s*.1},className:`h-full ${n.color} rounded-full`})})]},s))})})]})})]})]})};function l8(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var zv="Checkbox",[Vhe,ipe]=Kr(zv),[Lhe,gN]=Vhe(zv);function Uhe(t){const{__scopeCheckbox:e,checked:n,children:s,defaultChecked:r,disabled:i,form:a,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[m,p]=kl({prop:n,defaultProp:r??!1,onChange:c,caller:zv}),[y,x]=g.useState(null),[_,v]=g.useState(null),b=g.useRef(!1),E=y?!!a||!!y.closest("form"):!0,I={checked:m,disabled:i,setChecked:p,control:y,setControl:x,name:l,form:a,value:d,hasConsumerStoppedPropagationRef:b,required:u,defaultChecked:za(r)?!1:r,isFormControl:E,bubbleInput:_,setBubbleInput:v};return o.jsx(Lhe,{scope:e,...I,children:Fhe(h)?h(I):s})}var c8="CheckboxTrigger",u8=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...s},r)=>{const{control:i,value:a,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:y}=gN(c8,t),x=gt(r,d),_=g.useRef(c);return g.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const b=()=>h(_.current);return v.addEventListener("reset",b),()=>v.removeEventListener("reset",b)}},[i,h]),o.jsx(Le.button,{type:"button",role:"checkbox","aria-checked":za(c)?"mixed":c,"aria-required":u,"data-state":p8(c),"data-disabled":l?"":void 0,disabled:l,value:a,...s,ref:x,onKeyDown:he(e,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:he(n,v=>{h(b=>za(b)?!0:!b),y&&p&&(m.current=v.isPropagationStopped(),m.current||v.stopPropagation())})})});u8.displayName=c8;var yN=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:i,required:a,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return o.jsx(Uhe,{__scopeCheckbox:n,checked:r,defaultChecked:i,disabled:l,required:a,onCheckedChange:u,name:s,form:d,value:c,internal_do_not_use_render:({isFormControl:m})=>o.jsxs(o.Fragment,{children:[o.jsx(u8,{...h,ref:e,__scopeCheckbox:n}),m&&o.jsx(m8,{__scopeCheckbox:n})]})})});yN.displayName=zv;var d8="CheckboxIndicator",h8=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:s,...r}=t,i=gN(d8,n);return o.jsx(vr,{present:s||za(i.checked)||i.checked===!0,children:o.jsx(Le.span,{"data-state":p8(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e,style:{pointerEvents:"none",...t.style}})})});h8.displayName=d8;var f8="CheckboxBubbleInput",m8=g.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:a,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:m,setBubbleInput:p}=gN(f8,t),y=gt(n,p),x=l8(i),_=iN(s);g.useEffect(()=>{const b=m;if(!b)return;const E=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(E,"checked").set,R=!r.current;if(x!==i&&A){const S=new Event("click",{bubbles:R});b.indeterminate=za(i),A.call(b,za(i)?!1:i),b.dispatchEvent(S)}},[m,x,i,r]);const v=g.useRef(za(i)?!1:i);return o.jsx(Le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??v.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});m8.displayName=f8;function Fhe(t){return typeof t=="function"}function za(t){return t==="indeterminate"}function p8(t){return za(t)?"indeterminate":t?"checked":"unchecked"}const Tl=g.forwardRef(({className:t,...e},n)=>o.jsx(yN,{ref:n,className:pe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:o.jsx(h8,{className:pe("flex items-center justify-center text-current"),children:o.jsx(sd,{className:"h-4 w-4"})})}));Tl.displayName=yN.displayName;function Bhe(t){const e=zhe(t),n=g.forwardRef((s,r)=>{const{children:i,...a}=s,l=g.Children.toArray(i),c=l.find(qhe);if(c){const u=c.props.children,d=l.map(h=>h===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:h);return o.jsx(e,{...a,ref:r,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return o.jsx(e,{...a,ref:r,children:i})});return n.displayName=`${t}.Slot`,n}function zhe(t){const e=g.forwardRef((n,s)=>{const{children:r,...i}=n;if(g.isValidElement(r)){const a=Ghe(r),l=Hhe(i,r.props);return r.type!==g.Fragment&&(l.ref=s?fo(s,a):a),g.cloneElement(r,l)}return g.Children.count(r)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $he=Symbol("radix.slottable");function qhe(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$he}function Hhe(t,e){const n={...e};for(const s in e){const r=t[s],i=e[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...l)=>{const c=i(...l);return r(...l),c}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...t,...n}}function Ghe(t){var s,r;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $v="Dialog",[g8,ape]=Kr($v),[Khe,br]=g8($v),y8=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:r,onOpenChange:i,modal:a=!0}=t,l=g.useRef(null),c=g.useRef(null),[u,d]=kl({prop:s,defaultProp:r??!1,onChange:i,caller:$v});return o.jsx(Khe,{scope:e,triggerRef:l,contentRef:c,contentId:nl(),titleId:nl(),descriptionId:nl(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};y8.displayName=$v;var v8="DialogTrigger",x8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(v8,n),i=gt(e,r.triggerRef);return o.jsx(Le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":bN(r.open),...s,ref:i,onClick:he(t.onClick,r.onOpenToggle)})});x8.displayName=v8;var vN="DialogPortal",[Whe,b8]=g8(vN,{forceMount:void 0}),w8=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:r}=t,i=br(vN,e);return o.jsx(Whe,{scope:e,forceMount:n,children:g.Children.map(s,a=>o.jsx(vr,{present:n||i.open,children:o.jsx(Ly,{asChild:!0,container:r,children:a})}))})};w8.displayName=vN;var dy="DialogOverlay",_8=g.forwardRef((t,e)=>{const n=b8(dy,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=br(dy,t.__scopeDialog);return i.modal?o.jsx(vr,{present:s||i.open,children:o.jsx(Qhe,{...r,ref:e})}):null});_8.displayName=dy;var Yhe=Bhe("DialogOverlay.RemoveScroll"),Qhe=g.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(dy,n);return o.jsx(mU,{as:Yhe,allowPinchZoom:!0,shards:[r.contentRef],children:o.jsx(Le.div,{"data-state":bN(r.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),El="DialogContent",T8=g.forwardRef((t,e)=>{const n=b8(El,t.__scopeDialog),{forceMount:s=n.forceMount,...r}=t,i=br(El,t.__scopeDialog);return o.jsx(vr,{present:s||i.open,children:i.modal?o.jsx(Xhe,{...r,ref:e}):o.jsx(Jhe,{...r,ref:e})})});T8.displayName=El;var Xhe=g.forwardRef((t,e)=>{const n=br(El,t.__scopeDialog),s=g.useRef(null),r=gt(e,n.contentRef,s);return g.useEffect(()=>{const i=s.current;if(i)return iU(i)},[]),o.jsx(E8,{...t,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(t.onCloseAutoFocus,i=>{var a;i.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:he(t.onPointerDownOutside,i=>{const a=i.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&i.preventDefault()}),onFocusOutside:he(t.onFocusOutside,i=>i.preventDefault())})}),Jhe=g.forwardRef((t,e)=>{const n=br(El,t.__scopeDialog),s=g.useRef(!1),r=g.useRef(!1);return o.jsx(E8,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const a=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(a))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),E8=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,...a}=t,l=br(El,n),c=g.useRef(null),u=gt(e,c);return A9(),o.jsxs(o.Fragment,{children:[o.jsx(JS,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:i,children:o.jsx(Vy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":bN(l.open),...a,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(Zhe,{titleId:l.titleId}),o.jsx(tfe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),xN="DialogTitle",S8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(xN,n);return o.jsx(Le.h2,{id:r.titleId,...s,ref:e})});S8.displayName=xN;var N8="DialogDescription",A8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(N8,n);return o.jsx(Le.p,{id:r.descriptionId,...s,ref:e})});A8.displayName=N8;var I8="DialogClose",C8=g.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,r=br(I8,n);return o.jsx(Le.button,{type:"button",...s,ref:e,onClick:he(t.onClick,()=>r.onOpenChange(!1))})});C8.displayName=I8;function bN(t){return t?"open":"closed"}var j8="DialogTitleWarning",[ope,R8]=NH(j8,{contentName:El,titleName:xN,docsSlug:"dialog"}),Zhe=({titleId:t})=>{const e=R8(j8),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},efe="DialogDescriptionWarning",tfe=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${R8(efe).contentName}}.`;return g.useEffect(()=>{var i;const r=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&r&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},P8=y8,nfe=x8,qv=w8,Hv=_8,Gv=T8,Kv=S8,Wv=A8,k8=C8;const Sl=P8,D8=({className:t,...e})=>o.jsx(qv,{className:pe(t),...e});D8.displayName=qv.displayName;const M8=g.forwardRef(({className:t,...e},n)=>o.jsx(Hv,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));M8.displayName=Hv.displayName;const ao=g.forwardRef(({className:t,children:e,...n},s)=>o.jsxs(D8,{children:[o.jsx(M8,{}),o.jsxs(Gv,{ref:s,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxs(k8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(Ni,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ao.displayName=Gv.displayName;const oo=({className:t,...e})=>o.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});oo.displayName="DialogHeader";const Nl=({className:t,...e})=>o.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Nl.displayName="DialogFooter";const lo=g.forwardRef(({className:t,...e},n)=>o.jsx(Kv,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",t),...e}));lo.displayName=Kv.displayName;const Gu=g.forwardRef(({className:t,...e},n)=>o.jsx(Wv,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));Gu.displayName=Wv.displayName;const Bm=g.createContext({}),sfe=({children:t,value:e,onValueChange:n,disabled:s})=>{const[r,i]=g.useState(!1),[a,l]=g.useState({}),c=(u,d)=>{l(h=>({...h,[u]:d}))};return o.jsx(Bm.Provider,{value:{value:e,onValueChange:n,open:r,setOpen:i,disabled:s,labels:a,registerLabel:c},children:o.jsx("div",{className:"relative",children:t})})},rfe=({className:t,children:e,...n})=>{const{open:s,setOpen:r,disabled:i}=g.useContext(Bm);return o.jsxs("button",{type:"button",className:pe("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),onClick:()=>!i&&r(!s),...n,children:[e,o.jsx(PG,{className:"h-4 w-4 opacity-50"})]})},ife=({placeholder:t,className:e})=>{const{value:n,labels:s}=g.useContext(Bm);return o.jsx("span",{className:pe("block truncate",e),children:s[n]||n||t})},afe=({className:t,children:e,...n})=>{const{open:s,setOpen:r}=g.useContext(Bm);return s?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-50",onClick:()=>r(!1)}),o.jsx("div",{className:pe("absolute top-[calc(100%+4px)] z-50 min-w-[8rem] w-full overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md animate-in fade-in-80",t),...n,children:o.jsx("div",{className:"p-1",children:e})})]}):null},Up=({className:t,children:e,value:n,...s})=>{const{value:r,onValueChange:i,setOpen:a,registerLabel:l}=g.useContext(Bm),c=r===n;return g.useEffect(()=>{e&&l(n,e)},[n,e,l]),o.jsxs("div",{className:pe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none hover:bg-slate-100 focus:bg-slate-100 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",c&&"font-semibold",t),onClick:u=>{u.stopPropagation(),i(n),a(!1)},...s,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c&&o.jsx(sd,{className:"h-4 w-4"})}),e]})},zl=g.forwardRef(({className:t,...e},n)=>o.jsx("div",{className:"relative w-full overflow-auto",children:o.jsx("table",{ref:n,className:pe("w-full caption-bottom text-sm",t),...e})}));zl.displayName="Table";const $l=g.forwardRef(({className:t,...e},n)=>o.jsx("thead",{ref:n,className:pe("[&_tr]:border-b",t),...e}));$l.displayName="TableHeader";const ql=g.forwardRef(({className:t,...e},n)=>o.jsx("tbody",{ref:n,className:pe("[&_tr:last-child]:border-0",t),...e}));ql.displayName="TableBody";const ofe=g.forwardRef(({className:t,...e},n)=>o.jsx("tfoot",{ref:n,className:pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));ofe.displayName="TableFooter";const Jn=g.forwardRef(({className:t,...e},n)=>o.jsx("tr",{ref:n,className:pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Jn.displayName="TableRow";const Be=g.forwardRef(({className:t,...e},n)=>o.jsx("th",{ref:n,className:pe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Be.displayName="TableHead";const Oe=g.forwardRef(({className:t,...e},n)=>o.jsx("td",{ref:n,className:pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Oe.displayName="TableCell";const lfe=g.forwardRef(({className:t,...e},n)=>o.jsx("caption",{ref:n,className:pe("mt-4 text-sm text-muted-foreground",t),...e}));lfe.displayName="TableCaption";const cfe=()=>{const{toast:t}=qt(),[e,n]=g.useState([]),[s,r]=g.useState(""),[i,a]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(null),[h,m]=g.useState("monthly"),[p,y]=g.useState(!1);g.useEffect(()=>{(async()=>{try{const T=(await jm(it(de,"users"))).docs.map(C=>({id:C.id,...C.data(),joined:C.data().createdAt?new Date(C.data().createdAt.seconds*1e3).toLocaleDateString():"N/A"}));a(T)}catch(S){console.error("Error fetching users:",S);let T="Failed to fetch users";S.code==="permission-denied"?T="Access denied: You do not have permission to view users.":S.message&&(T=S.message),t({title:"Error",description:T,variant:"destructive"})}finally{c(!1)}})()},[]);const x=async()=>{if(!u)return;const R=new Date;let S=new Date;switch(h){case"monthly":S.setDate(R.getDate()+30);break;case"quarterly":S.setMonth(R.getMonth()+3);break;case"yearly":S.setFullYear(R.getFullYear()+1);break;case"lifetime":S=null;break;default:S.setDate(R.getDate()+30)}try{console.log("Updating user subscription:",u.id),await Ll(Ye(de,"users",u.id),{status:"active",subscription:{plan:h,startDate:kt.fromDate(R),endDate:S?kt.fromDate(S):null,isActive:!0}},{merge:!0});const T=await sr(Ye(de,"users",u.id));if(console.log("Verification Read:",T.data()),!T.exists()||!T.data().subscription)throw new Error("Verification failed: Data was not saved correctly.");a(i.map(C=>C.id===u.id?{...C,status:"active",subscription:{plan:h,startDate:{seconds:R.getTime()/1e3},endDate:S?{seconds:S.getTime()/1e3}:null,isActive:!0}}:C)),t({title:"   ",description:`   ${h} `,variant:"success"}),y(!1),d(null)}catch(T){console.error("Error activating subscription:",T),t({title:"",description:"    : "+T.message,variant:"destructive"})}},_=async(R,S)=>{const T=[...i];a(i.map(C=>C.id===R?{...C,status:S}:C));try{await eo(Ye(de,"users",R),{status:S}),t({title:"Status Updated",description:`User status set to ${S}`,variant:"success"})}catch{a(T),t({title:"Error",description:"Failed to update status",variant:"destructive"})}},v=R=>{n(R?i.map(S=>S.id):[])},b=(R,S)=>{n(S?[...e,R]:e.filter(T=>T!==R))},E=()=>{confirm(`Are you sure you want to delete ${e.length} users?`)&&(a(i.filter(R=>!e.includes(R.id))),n([]),t({title:"Users deleted",description:"Selected users have been removed successfully.",variant:"success"}))},I=()=>{const S=[["ID","Name","Email","Role","Status","Joined Date"].join(","),...i.map(P=>[P.id,P.name,P.email,P.role,P.status,P.joined].join(","))].join(`
`),T=new Blob([S],{type:"text/csv;charset=utf-8;"}),C=URL.createObjectURL(T),j=document.createElement("a");j.setAttribute("href",C),j.setAttribute("download","users_export.csv"),document.body.appendChild(j),j.click(),document.body.removeChild(j),t({title:"Export Started",description:"Your CSV file is downloading.",variant:"success"})},A=i.filter(R=>R.name.toLowerCase().includes(s.toLowerCase())||R.email.toLowerCase().includes(s.toLowerCase()));return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"User Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage accounts, permissions, and user status."})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(q,{variant:"outline",onClick:I,className:"gap-2",children:[o.jsx(Hc,{className:"w-4 h-4"})," Export"]}),o.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(xu,{className:"w-4 h-4"})," Add Admin"]})]})]}),e.length>0&&o.jsxs(ae.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-teal-50 border border-teal-100 p-3 rounded-lg flex items-center justify-between text-sm text-teal-900",children:[o.jsxs("span",{className:"font-medium",children:[e.length," users selected"]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(q,{size:"sm",variant:"outline",className:"border-teal-200 hover:bg-teal-100",children:"Change Role"}),o.jsx(q,{size:"sm",variant:"destructive",onClick:E,children:"Delete Selected"})]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xo,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ue,{placeholder:"Search by name or email...",className:"pl-10 bg-slate-50 border-slate-200 focus:bg-white",value:s,onChange:R=>r(R.target.value)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsxs(q,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Role"]})}),o.jsxs(Ba,{children:[o.jsx(Yh,{children:"Filter by Role"}),o.jsx(Mc,{}),o.jsx(Ft,{children:"Admin"}),o.jsx(Ft,{children:"Store Owner"}),o.jsx(Ft,{children:"Support"})]})]}),o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsxs(q,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Status"]})}),o.jsxs(Ba,{children:[o.jsx(Yh,{children:"Filter by Status"}),o.jsx(Mc,{}),o.jsx(Ft,{children:"Active"}),o.jsx(Ft,{children:"Pending"}),o.jsx(Ft,{children:"Inactive"})]})]})]})]}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"bg-slate-50/50",children:[o.jsx(Be,{className:"w-12",children:o.jsx(Tl,{checked:e.length===i.length&&i.length>0,onCheckedChange:v})}),o.jsx(Be,{children:"User Details"}),o.jsx(Be,{children:"Role"}),o.jsx(Be,{children:"Status"}),o.jsx(Be,{children:"Joined Date"}),o.jsx(Be,{className:"text-right",children:"Actions"})]})}),o.jsx(ql,{children:A.map(R=>o.jsxs(Jn,{className:"hover:bg-slate-50/50 transition-colors",children:[o.jsx(Oe,{children:o.jsx(Tl,{checked:e.includes(R.id),onCheckedChange:S=>b(R.id,S)})}),o.jsx(Oe,{children:o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"font-medium text-slate-900",children:R.name}),o.jsx("span",{className:"text-xs text-slate-500",children:R.email}),o.jsxs("span",{className:"text-[10px] text-slate-400 font-mono mt-0.5",children:["ID: ",R.id.substring(0,8),"..."]})]})}),o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[R.role==="Admin"?o.jsx(xu,{className:"w-3 h-3 text-indigo-500"}):null,o.jsx("span",{className:"text-sm",children:R.role})]})}),o.jsx(Oe,{children:o.jsx(xn,{variant:(R.status||"").toLowerCase()==="active"?"success":(R.status||"").toLowerCase()==="pending"?"warning":"secondary",children:R.status})}),o.jsx(Oe,{className:"text-slate-500 text-sm",children:R.joined}),o.jsx(Oe,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsxs(q,{size:"sm",variant:"outline",className:"gap-2 border-indigo-200 text-indigo-700 hover:bg-indigo-50",onClick:()=>{d(R),y(!0)},children:[o.jsx(qT,{className:"w-4 h-4"})," "]}),(R.status||"").toLowerCase()==="pending"&&o.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white h-8",onClick:()=>_(R.id,"active"),children:[o.jsx(Ka,{className:"w-4 h-4 mr-2"})," Activate"]}),o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsxs(q,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-slate-100",children:[o.jsx("span",{className:"sr-only",children:"Open menu"}),o.jsx(fO,{className:"h-4 w-4 text-slate-500"})]})}),o.jsxs(Ba,{align:"end",children:[o.jsx(Yh,{children:"Actions"}),o.jsxs(Ft,{className:"gap-2",onClick:()=>_(R.id,"active"),children:[o.jsx(Ka,{className:"w-4 h-4 text-green-500"})," Activate"]}),o.jsxs(Ft,{className:"gap-2",onClick:()=>_(R.id,"inactive"),children:[o.jsx(r1,{className:"w-4 h-4 text-red-500"})," Deactivate"]}),o.jsx(Mc,{}),o.jsxs(Ft,{className:"gap-2",children:[o.jsx(f0,{className:"w-4 h-4"})," Send Email"]}),o.jsx(Mc,{}),o.jsxs(Ft,{className:"text-red-600 gap-2",children:[o.jsx(rd,{className:"w-4 h-4"})," Delete User"]})]})]})]})})]},R.id))})]})}),o.jsx(Sl,{open:p,onOpenChange:y,children:o.jsxs(ao,{children:[o.jsxs(oo,{children:[o.jsx(lo,{children:"  "}),o.jsx(Gu,{children:"   .       ."})]}),o.jsx("div",{className:"py-4",children:o.jsxs(sfe,{value:h,onValueChange:m,children:[o.jsx(rfe,{children:o.jsx(ife,{placeholder:" "})}),o.jsxs(afe,{children:[o.jsx(Up,{value:"monthly",children:"  (30 )"}),o.jsx(Up,{value:"quarterly",children:"   (3 )"}),o.jsx(Up,{value:"yearly",children:"  ( )"}),o.jsx(Up,{value:"lifetime",children:"  "})]})]})}),o.jsxs(Nl,{children:[o.jsx(q,{variant:"outline",onClick:()=>y(!1),children:""}),o.jsx(q,{onClick:x,className:"bg-teal-600 hover:bg-teal-700 text-white",children:" "})]})]})})]})},ufe=()=>{const{toast:t}=qt();g.useState([]);const[e,n]=g.useState([{id:1,name:"Urban Trends",owner:"John Doe",plan:"Professional",status:"Active",revenue:"$45,200"},{id:2,name:"Eco Life",owner:"Sarah Smith",plan:"Starter",status:"Pending Approval",revenue:"$0"},{id:3,name:"Tech Haven",owner:"Mike Johnson",plan:"Enterprise",status:"Active",revenue:"$120,500"},{id:4,name:"Style Boutique",owner:"Emma Wilson",plan:"Professional",status:"Suspended",revenue:"$12,300"},{id:5,name:"Cairo Crafts",owner:"Ahmed Hassan",plan:"Starter",status:"Active",revenue:"$3,400"}]),s=()=>{const i=[["ID","Store Name","Owner","Plan","Status","Revenue"].join(","),...e.map(u=>[u.id,u.name,u.owner,u.plan,u.status,u.revenue.replace("$","")].join(","))].join(`
`),a=new Blob([i],{type:"text/csv;charset=utf-8;"}),l=URL.createObjectURL(a),c=document.createElement("a");c.setAttribute("href",l),c.setAttribute("download","stores_export.csv"),document.body.appendChild(c),c.click(),document.body.removeChild(c),t({title:"Export Success",description:"Store data exported to CSV.",variant:"success"})};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Store Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Monitor performance and manage store approvals."})]}),o.jsxs(q,{variant:"outline",onClick:s,className:"gap-2",children:[o.jsx(Hc,{className:"w-4 h-4"})," Export Data"]})]}),o.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white p-4 rounded-lg border shadow-sm",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(By,{className:"absolute left-3 top-2.5 h-4 w-4 text-slate-400"}),o.jsx(ue,{placeholder:"Search stores...",className:"pl-10 bg-slate-50"})]}),o.jsxs(q,{variant:"outline",className:"gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," Filter Status"]})]}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"bg-slate-50/50",children:[o.jsx(Be,{className:"w-12",children:o.jsx(Tl,{})}),o.jsx(Be,{children:"Store Name"}),o.jsx(Be,{children:"Owner"}),o.jsx(Be,{children:"Plan"}),o.jsx(Be,{children:"Status"}),o.jsx(Be,{children:"Total Revenue"}),o.jsx(Be,{className:"text-right",children:"Actions"})]})}),o.jsx(ql,{children:e.map(r=>o.jsxs(Jn,{className:"hover:bg-slate-50/50",children:[o.jsx(Oe,{children:o.jsx(Tl,{})}),o.jsx(Oe,{className:"font-medium",children:o.jsxs("div",{className:"flex items-center gap-2",children:[r.name,o.jsx("a",{href:"#",className:"text-slate-400 hover:text-teal-500",children:o.jsx(d0,{className:"w-3 h-3"})})]})}),o.jsx(Oe,{children:r.owner}),o.jsx(Oe,{children:o.jsx(xn,{variant:"outline",className:"bg-slate-50 border-slate-200",children:r.plan})}),o.jsx(Oe,{children:o.jsx(xn,{variant:r.status==="Active"?"success":r.status==="Pending Approval"?"warning":"destructive",children:r.status})}),o.jsx(Oe,{className:"font-mono text-slate-600",children:r.revenue}),o.jsx(Oe,{className:"text-right",children:r.status==="Pending Approval"?o.jsxs("div",{className:"flex justify-end gap-2",children:[o.jsx(q,{size:"sm",className:"bg-green-500 hover:bg-green-600 text-white h-8 w-8 p-0",children:o.jsx(sd,{className:"w-4 h-4"})}),o.jsx(q,{size:"sm",variant:"destructive",className:"h-8 w-8 p-0",children:o.jsx(Ni,{className:"w-4 h-4"})})]}):o.jsx(q,{variant:"ghost",size:"sm",children:"Manage"})})]},r.id))})]})})]})},dfe=()=>{const t=[{name:"Starter",price:29,period:"/month",description:"Perfect for small businesses",features:["Up to 100 products","Basic analytics","5GB storage","Email support"],active:!0},{name:"Professional",price:79,period:"/month",description:"Best for growing businesses",features:["Unlimited products","Advanced analytics","50GB storage","Priority support","Custom domain"],active:!0,popular:!0},{name:"Enterprise",price:199,period:"/month",description:"For large-scale operations",features:["Unlimited storage","Dedicated account manager","API access","White-label options"],active:!0}];return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Pricing Plans"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Configure subscription plans and features."})]}),o.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," Add Plan"]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map((e,n)=>o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:o.jsxs(Qe,{className:"relative h-full flex flex-col",children:[e.popular&&o.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:o.jsx(xn,{variant:"success",children:"Most Popular"})}),o.jsxs(Tt,{children:[o.jsxs(Et,{className:"flex justify-between items-center",children:[e.name,o.jsx(xn,{variant:e.active?"outline":"secondary",children:e.active?"Active":"Draft"})]}),o.jsx(cn,{children:e.description})]}),o.jsxs(Xe,{className:"flex-1",children:[o.jsxs("div",{className:"mb-4",children:[o.jsx("span",{className:"text-3xl font-bold text-slate-900",children:ot(e.price)}),o.jsx("span",{className:"text-slate-500",children:e.period})]}),o.jsx("ul",{className:"space-y-2",children:e.features.map((s,r)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm text-slate-600",children:[o.jsx(Ka,{className:"w-4 h-4 text-teal-500"}),s]},r))})]}),o.jsxs(pN,{className:"flex gap-2 border-t pt-4 bg-slate-50/50",children:[o.jsxs(q,{variant:"outline",className:"flex-1 gap-2",children:[o.jsx(KT,{className:"w-4 h-4"})," Edit"]}),o.jsx(q,{variant:"outline",className:"flex-none text-red-600 hover:text-red-700 hover:bg-red-50",children:o.jsx(rd,{className:"w-4 h-4"})})]})]})},n))})]})};var hfe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ffe=hfe.reduce((t,e)=>{const n=E9(`Primitive.${e}`),s=g.forwardRef((r,i)=>{const{asChild:a,...l}=r,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(c,{...l,ref:i})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{}),mfe="Label",O8=g.forwardRef((t,e)=>o.jsx(ffe.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));O8.displayName=mfe;var V8=O8;const pfe=um("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=g.forwardRef(({className:t,...e},n)=>o.jsx(V8,{ref:n,className:pe(pfe(),t),...e}));se.displayName=V8.displayName;const gfe=()=>{const{toast:t}=qt(),[e,n]=g.useState("connected"),[s,r]=g.useState("error"),[i,a]=g.useState(!1),[l,c]=g.useState("");g.useEffect(()=>{(async()=>{try{const m=Ye(de,"settings","platform"),p=await sr(m);if(p.exists()){const y=p.data();y.whatsappNumber&&c(y.whatsappNumber)}}catch(m){console.error("Error fetching settings:",m)}})()},[]);const u=async()=>{a(!0);try{await Ll(Ye(de,"settings","platform"),{whatsappNumber:l},{merge:!0}),t({title:"Settings Saved",description:"Your configuration has been updated successfully.",variant:"success"})}catch{t({title:"Error Saving Settings",description:"There was an error saving your changes.",variant:"destructive"})}finally{a(!1)}},d=({status:h})=>h==="connected"?o.jsxs(xn,{variant:"success",className:"flex items-center gap-1 bg-emerald-500 hover:bg-emerald-600",children:[o.jsx(Ka,{className:"w-3 h-3"})," Connected"]}):h==="error"?o.jsxs(xn,{variant:"destructive",className:"flex items-center gap-1",children:[o.jsx(r1,{className:"w-3 h-3"})," Connection Failed"]}):o.jsx(xn,{variant:"secondary",className:"flex items-center gap-1",children:"Not Configured"});return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Settings"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage third-party integrations and API keys."})]}),o.jsxs(Qe,{className:"border-l-4 border-l-green-500",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:o.jsx(GT,{className:"w-5 h-5 text-green-600"})}),o.jsxs("div",{children:[o.jsx(Et,{children:"Account Activation"}),o.jsx(cn,{children:"Configure contact method for account activation"})]})]})}),o.jsx(Xe,{className:"space-y-4",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Activation WhatsApp Number"}),o.jsx(ue,{type:"text",placeholder:"+201xxxxxxxxx",value:l,onChange:h=>c(h.target.value)}),o.jsx("p",{className:"text-xs text-slate-500",children:"This number will be used for users to request account activation."})]})})]}),o.jsxs(Qe,{className:"border-l-4 border-l-blue-500",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:o.jsx(vu,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx(Et,{children:"Payment Gateways"}),o.jsx(cn,{children:"Configure Paymob & Stripe keys"})]})]}),o.jsx(d,{status:e})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Paymob API Key"}),o.jsx(ue,{type:"password",placeholder:"Enter your Paymob API Key",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Paymob Secret"}),o.jsx(ue,{type:"password",placeholder:"Enter your Paymob Secret",defaultValue:"************************"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Paymob Integration ID"}),o.jsx(ue,{type:"text",placeholder:"e.g. 123456",defaultValue:"847291"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"HMAC Secret"}),o.jsx(ue,{type:"password",defaultValue:"****************"})]})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(q,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>n("connected"),children:[o.jsx(Gc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsxs(Qe,{className:"border-l-4 border-l-orange-500",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:o.jsx(Ya,{className:"w-5 h-5 text-orange-600"})}),o.jsxs("div",{children:[o.jsx(Et,{children:"Shipping Providers"}),o.jsx(cn,{children:"Configure Bosta & Shipping Rules"})]})]}),o.jsx(d,{status:s})]})}),o.jsxs(Xe,{className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:"Bosta API Key"}),o.jsx(ue,{type:"password",placeholder:"Enter your Bosta API Key",className:"border-red-300 focus-visible:ring-red-200"}),o.jsxs("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[o.jsx(r1,{className:"w-3 h-3"})," Invalid API Key provided"]})]}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("input",{type:"checkbox",id:"bosta-sandbox",className:"rounded border-slate-300 text-teal-600 focus:ring-teal-500"}),o.jsx(se,{htmlFor:"bosta-sandbox",className:"font-normal cursor-pointer",children:"Enable Sandbox Mode for testing"})]}),o.jsx("div",{className:"pt-2 flex justify-end",children:o.jsxs(q,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>r("connected"),children:[o.jsx(Gc,{className:"w-3 h-3"})," Test Connection"]})})]})]}),o.jsx("div",{className:"flex justify-end sticky bottom-4 bg-white/80 backdrop-blur-sm p-4 rounded-lg border shadow-lg",children:o.jsxs(q,{onClick:u,disabled:i,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[i?o.jsx(Gc,{className:"w-4 h-4 mr-2 animate-spin"}):o.jsx(o1,{className:"w-4 h-4 mr-2"}),i?"Saving...":"Save All Changes"]})})]})},yfe=()=>{const[t,e]=g.useState(null),[n,s]=g.useState(!1),r=[{id:1,type:"Error",message:"Payment gateway timeout: Paymob API responded with 504",timestamp:"2025-11-30 10:23:45",user:"System",stackTrace:`Error: Gateway Timeout
    at PaymobService.processPayment (src/services/paymob.js:45:12)
    at async OrderController.create (src/controllers/order.js:120:20)
    at async handleRequest (node_modules/express/lib/router/layer.js:95:5)`},{id:2,type:"Info",message:'New store "Cairo Crafts" created successfully',timestamp:"2025-11-30 09:15:22",user:"ahmed@store.eg",details:`Store ID: 582
Plan: Starter
Template: Modern Minimal`},{id:3,type:"Audit",message:"Admin updated Pricing Plan: Professional",timestamp:"2025-11-29 14:30:11",user:"Admin User",details:`Old Price: $69
New Price: $79
Modified By: admin@storebuilder.com`},{id:4,type:"Error",message:"Failed login attempt (3x)",timestamp:"2025-11-29 03:12:05",user:"IP: 192.168.1.45",stackTrace:`SecurityAlert: Multiple failed login attempts detected from IP 192.168.1.45.
Account locked for 30 minutes.`},{id:5,type:"Info",message:"Daily Database Backup completed successfully",timestamp:"2025-11-29 00:00:00",user:"System",details:`Size: 4.2GB
Duration: 4m 20s
Location: s3://backups/daily-2025-11-29.sql.gz`}],i=a=>{e(a),s(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"System Logs & Audit"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Track system health, errors, and administrative actions."})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-red-50 border border-red-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(sb,{className:"text-red-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-red-700",children:"3"}),o.jsx("p",{className:"text-sm text-red-600",children:"Critical Errors (24h)"})]})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(v2,{className:"text-blue-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-blue-700",children:"145"}),o.jsx("p",{className:"text-sm text-blue-600",children:"Info Events"})]})]}),o.jsxs("div",{className:"bg-slate-50 border border-slate-200 p-4 rounded-lg flex items-center gap-3",children:[o.jsx(S2,{className:"text-slate-500 w-8 h-8"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-2xl font-bold text-slate-700",children:"99.9%"}),o.jsx("p",{className:"text-sm text-slate-600",children:"System Uptime"})]})]})]}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg border shadow-sm overflow-hidden",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"bg-slate-50/50",children:[o.jsx(Be,{children:"Type"}),o.jsx(Be,{children:"Message"}),o.jsx(Be,{children:"User/Source"}),o.jsx(Be,{children:"Timestamp"}),o.jsx(Be,{className:"text-right",children:"Action"})]})}),o.jsx(ql,{children:r.map(a=>o.jsxs(Jn,{className:"hover:bg-slate-50/50",children:[o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[a.type==="Error"&&o.jsx(sb,{className:"w-4 h-4 text-red-500"}),a.type==="Info"&&o.jsx(Ka,{className:"w-4 h-4 text-blue-500"}),a.type==="Audit"&&o.jsx(S2,{className:"w-4 h-4 text-purple-500"}),o.jsx(xn,{variant:a.type==="Error"?"destructive":a.type==="Audit"?"secondary":"outline",children:a.type})]})}),o.jsx(Oe,{className:"font-medium max-w-md truncate",children:a.message}),o.jsx(Oe,{className:"text-slate-500 text-sm",children:a.user}),o.jsx(Oe,{className:"text-slate-500 font-mono text-xs",children:a.timestamp}),o.jsx(Oe,{className:"text-right",children:o.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(a),children:"View Details"})})]},a.id))})]})}),o.jsx(Sl,{open:n,onOpenChange:s,children:o.jsxs(ao,{className:"max-w-2xl",children:[o.jsxs(oo,{children:[o.jsxs(lo,{className:"flex items-center gap-2",children:[(t==null?void 0:t.type)==="Error"?o.jsx(sb,{className:"text-red-500"}):o.jsx(v2,{className:"text-blue-500"}),"Log Details #",t==null?void 0:t.id]}),o.jsxs(Gu,{children:["Recorded on ",t==null?void 0:t.timestamp," by ",t==null?void 0:t.user]})]}),o.jsxs("div",{className:"space-y-4 mt-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Message"}),o.jsx("p",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded border border-slate-200",children:t==null?void 0:t.message})]}),(t==null?void 0:t.stackTrace)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Stack Trace / Error Details"}),o.jsx("pre",{className:"text-xs bg-slate-900 text-red-400 p-4 rounded overflow-x-auto font-mono",children:t.stackTrace})]}),(t==null?void 0:t.details)&&o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-slate-900 mb-1",children:"Additional Context"}),o.jsx("pre",{className:"text-xs bg-slate-50 text-slate-700 p-4 rounded border border-slate-200 font-mono whitespace-pre-wrap",children:t.details})]})]})]})})]})},vfe=()=>{const{toast:t}=qt(),[e,n]=g.useState([]),[s,r]=g.useState(!0),[i,a]=g.useState({name:"",image:""}),[l,c]=g.useState(!1),u=[{name:"Modern Minimal",image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=300"},{name:"Fashion Bold",image:"https://images.unsplash.com/photo-1445205170230-053b83016050?auto=format&fit=crop&q=80&w=300"},{name:"Tech Hub",image:"https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=300"},{name:"Restaurant & Cafe",image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=300"},{name:"Digital Products",image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=300"},{name:"Mobile World",image:"https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?auto=format&fit=crop&q=80&w=300"},{name:"Luxury Fashion",image:"https://images.unsplash.com/photo-1483985988355-763728e1935b?auto=format&fit=crop&q=80&w=300"},{name:"Cards & Digital",image:"https://images.unsplash.com/photo-1614680376573-df3480f0c6ff?auto=format&fit=crop&q=80&w=300"}],d=async()=>{try{r(!0);const x=(await jm(it(de,"templates"))).docs.map(_=>({id:_.id,..._.data()}));n(x)}catch(y){console.error("Error fetching templates:",y),t({title:"Error",description:"Failed to fetch templates",variant:"destructive"})}finally{r(!1)}};g.useEffect(()=>{d()},[]);const h=async()=>{try{r(!0);const y=u.map(x=>Lu(it(de,"templates"),{...x,createdAt:Df()}));await Promise.all(y),t({title:"Success",description:"Default templates added successfully",variant:"success"}),d()}catch(y){console.error("Error seeding templates:",y),t({title:"Error",description:"Failed to seed templates",variant:"destructive"}),r(!1)}},m=async y=>{if(y.preventDefault(),!(!i.name||!i.image))try{c(!0),await Lu(it(de,"templates"),{name:i.name,image:i.image,createdAt:Df()}),t({title:"Success",description:"Template added successfully",variant:"success"}),a({name:"",image:""}),d()}catch(x){console.error("Error adding template:",x),t({title:"Error",description:"Failed to add template",variant:"destructive"})}finally{c(!1)}},p=async y=>{if(confirm("Are you sure you want to delete this template?"))try{await vv(Ye(de,"templates",y)),n(e.filter(x=>x.id!==y)),t({title:"Deleted",description:"Template removed successfully",variant:"success"})}catch(x){console.error("Error deleting template:",x),t({title:"Error",description:"Failed to delete template",variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Templates Management"}),o.jsx("p",{className:"text-slate-500 mt-2",children:"Manage the store templates available to users."})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs(Qe,{className:"md:col-span-1 h-fit",children:[o.jsxs(Tt,{children:[o.jsx(Et,{children:"Add New Template"}),o.jsx(cn,{children:"Add a new template to the collection."})]}),o.jsx(Xe,{children:o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"name",children:"Template Name"}),o.jsx(ue,{id:"name",placeholder:"e.g. Modern Dark",value:i.name,onChange:y=>a({...i,name:y.target.value}),required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{htmlFor:"image",children:"Preview Image URL"}),o.jsx(ue,{id:"image",placeholder:"https://...",value:i.image,onChange:y=>a({...i,image:y.target.value}),required:!0}),i.image&&o.jsx("div",{className:"mt-2 h-32 rounded-lg overflow-hidden border bg-slate-100",children:o.jsx("img",{src:i.image,alt:"Preview",className:"w-full h-full object-cover",onError:y=>y.target.style.display="none"})})]}),o.jsx(q,{type:"submit",className:"w-full bg-teal-600 hover:bg-teal-700",disabled:l,children:l?"Adding...":"Add Template"})]})})]}),o.jsx("div",{className:"md:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-4",children:s?o.jsx("div",{className:"col-span-full py-12 text-center text-slate-500",children:"Loading templates..."}):e.length===0?o.jsxs("div",{className:"col-span-full py-12 text-center bg-white rounded-lg border border-dashed border-slate-300",children:[o.jsx(HT,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-medium text-slate-900",children:"No Templates Found"}),o.jsx("p",{className:"text-slate-500 mb-4",children:"The template collection is empty."}),o.jsxs(q,{onClick:h,variant:"outline",className:"gap-2",children:[o.jsx(Ka,{className:"w-4 h-4"})," Add Default Templates"]})]}):e.map(y=>o.jsx(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},layout:!0,children:o.jsxs(Qe,{className:"overflow-hidden group hover:shadow-md transition-shadow",children:[o.jsxs("div",{className:"relative h-40 bg-slate-100",children:[o.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2",children:o.jsx(q,{size:"sm",variant:"destructive",onClick:()=>p(y.id),className:"h-8 w-8 p-0 rounded-full",children:o.jsx(rd,{className:"w-4 h-4"})})})]}),o.jsxs(Xe,{className:"p-4",children:[o.jsx("h3",{className:"font-semibold text-slate-900",children:y.name}),o.jsxs("p",{className:"text-xs text-slate-500 mt-1 truncate",children:["ID: ",y.id]})]})]})},y.id))})]})]})},L8=g.createContext(),xfe=({children:t,user:e,selectedStore:n,myStoreIds:s})=>{const[r,i]=g.useState([]),[a,l]=g.useState([]),[c,u]=g.useState(!1),[d,h]=g.useState(!1);return g.useEffect(()=>{if(!n){i([]);return}u(!0);const m=it(de,"stores",n,"products"),p=Gt(m,y=>{const x=y.docs.map(_=>{const v=_.data();return v.image&&v.image.includes("supabase")&&(v.image=""),{id:_.id,...v}});i(x),u(!1)},y=>{console.error("Products Snapshot Error:",y),u(!1)});return()=>p()},[n]),g.useEffect(()=>{if(!e||s.length===0){l([]);return}h(!0);const m=n?[n]:s,p=new Map,y=[],x=()=>{const v=Array.from(p.values());v.sort((b,E)=>(E._createdAtRaw||0)-(b._createdAtRaw||0)),l(v),h(!1)},_=(v,b)=>{var A;const E=v.data(),I=typeof E.createdAt=="number"?Number(E.createdAt):(A=E.createdAt)!=null&&A.toDate?E.createdAt.toDate().getTime():0;return{id:v.id,rootOrderId:E.rootOrderId,displayId:I?String(I):String(v.id).replace(/\D/g,"")||"0",customer:(E.customerName??"").toString().trim()||"",phone:(E.phone??E.altPhone??"").toString().trim()||"",address:(E.address??"").toString().trim()||"",date:I?new Date(I).toLocaleDateString():"",total:ot(Number(E.total??0)),status:E.status||"Pending",items:Array.isArray(E.items)?E.items:[],_createdAtRaw:I,_storeId:b}};return m.forEach(v=>{const b=ls(it(de,"stores",v,"orders"));y.push(Gt(b,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;p.set(C,T)}),x()}));const E=ls(it(de,"orders"),ws("storeSubdomain","==",v));y.push(Gt(E,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;p.set(C,T)}),x()}));const I=ls(it(de,"orders"),ws("storeId","==",v));y.push(Gt(I,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;p.set(C,T)}),x()}));const A=ls(it(de,"orders"),ws("store","==",v));y.push(Gt(A,R=>{R.docs.forEach(S=>{const T=_(S,v),C=T.rootOrderId||T.id;p.set(C,T)}),x()}))}),()=>{y.forEach(v=>v()),l([])}},[n,s,e]),o.jsx(L8.Provider,{value:{products:r,orders:a,loadingProducts:c,loadingOrders:d,setProducts:i,setOrders:l},children:t})},wN=()=>g.useContext(L8),bfe=()=>{const[t,e]=g.useState(typeof window<"u"?window.innerWidth>=768:!0),[n,s]=g.useState(typeof window<"u"?window.innerWidth<768:!1),[r,i]=g.useState(null),a=Ot(),l=Fn();g.useEffect(()=>{const j=()=>{const P=window.innerWidth<768;s(P),!P&&!t&&e(!0)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[t]),g.useEffect(()=>{n&&e(!1)},[l.pathname,n]);const c=new URLSearchParams(l.search),[u,d]=g.useState([]),[h,m]=g.useState(c.get("store")||""),[p,y]=g.useState(()=>{try{return localStorage.getItem("lang")==="en"?"en":"ar"}catch{return"ar"}}),[x,_]=g.useState(()=>{try{if(typeof window<"u"){const j=localStorage.getItem("theme");return j?j==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}return!1}catch{return!1}});g.useEffect(()=>{const j=window.document.documentElement;x?(j.classList.add("dark"),localStorage.setItem("theme","dark")):(j.classList.remove("dark"),localStorage.setItem("theme","light"))},[x]);const v=()=>_(!x),b={en:{title:"Dashboard",brand:"Nawe Shop",tagline:"Dashboard",viewStore:"View Store",selectStore:"Select Store",logout:"Logout",createNewStore:"Create New Store",menu:{Dashboard:"Dashboard","My Stores":"My Stores",Categories:"Categories",Products:"Products",Orders:"Orders",Banners:"Banners","Product Tools":"Product Tools",Settings:"Settings",Subscription:"Subscription"}},ar:{title:" ",brand:"Nawe Shop",tagline:" ",viewStore:" ",selectStore:" ",logout:" ",createNewStore:"  ",menu:{Dashboard:" ","My Stores":"",Categories:"",Products:"",Orders:"",Banners:"","Product Tools":" ",Settings:"",Subscription:""}}};typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const E=[{icon:mO,label:"Dashboard",path:"/dashboard"},{icon:By,label:"My Stores",path:"/dashboard/stores"},{icon:VG,label:"Categories",path:"/dashboard/categories"},{icon:qT,label:"Products",path:"/dashboard/products"},{icon:bu,label:"Orders",path:"/dashboard/orders"},{icon:WG,label:"Product Tools",path:"/dashboard/tools"},{icon:a1,label:"Banners",path:"/dashboard/banners"},{icon:vu,label:"Subscription",path:"/dashboard/subscription"},{icon:Fy,label:"Settings",path:"/dashboard/settings"}],[I,A]=g.useState(!0);if(g.useEffect(()=>{let j,P;const M=Bi(Dt,k=>{if(j&&(j(),j=void 0),P&&(P(),P=void 0),!k)d([]),i(null),A(!1),a("/login");else{i(k),P=Gt(Ye(de,"users",k.uid),X=>{if(X.exists()){const U=X.data();if(U.subscription&&U.subscription.isActive&&U.subscription.plan!=="lifetime"&&U.subscription.endDate){const H=U.subscription.endDate.seconds?new Date(U.subscription.endDate.seconds*1e3):U.subscription.endDate.toDate();if(new Date>H){a("/activation-pending");return}}U.status&&U.status!=="active"&&(U.status==="pending"?a("/activation-pending"):a("/login"))}});const F=ls(it(de,"stores"),ws("ownerUid","==",k.uid));j=Gt(F,X=>{const U=X.docs.map(H=>{var $;return{id:H.id,name:(($=H.data())==null?void 0:$.name)||H.id}});d(U)}),A(!1)}});return()=>{M(),j&&j(),P&&P()}},[a]),I)return o.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Loading..."});const R=()=>{a("/")},S=j=>j.startsWith("/dashboard")&&j!=="/dashboard/stores"&&h?`${j}?store=${h}`:j,T=j=>{const P=j.target.value;m(P);const M=l.pathname,k=P?`?store=${P}`:"";a(`${M}${k}`)},C=()=>{y(j=>{const P=j==="en"?"ar":"en";try{localStorage.setItem("lang",P)}catch{}return P})};return o.jsxs("div",{className:`min-h-screen bg-slate-50 dark:bg-slate-950 flex ${p==="ar"?"font-cairo":"font-sans"}`,dir:p==="ar"?"rtl":"ltr",children:[t&&o.jsx("div",{className:"fixed inset-0 bg-black/50 z-30 md:hidden",onClick:()=>e(!1)}),o.jsxs(ae.aside,{initial:!1,animate:t?"open":"closed",variants:n?{open:{x:0,width:280,opacity:1,transition:{type:"spring",damping:25,stiffness:200}},closed:{x:"100%",width:280,opacity:1,transition:{type:"spring",damping:25,stiffness:200}}}:{open:{width:280,x:0,opacity:1,transition:{duration:.3,ease:"easeInOut"}},closed:{width:0,x:0,opacity:0,transition:{duration:.3,ease:"easeInOut"}}},className:"bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 fixed md:static inset-y-0 right-0 z-40 overflow-hidden flex flex-col shadow-2xl shadow-slate-200/50 dark:shadow-slate-900/50 border-l border-slate-100 dark:border-slate-800",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 min-w-[280px]",children:[o.jsx(md,{size:"small",textColor:"text-slate-900 dark:text-white"}),o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"md:hidden text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-slate-100",children:o.jsx(Ni,{className:"w-5 h-5"})})]}),o.jsxs("nav",{className:"flex-1 px-4 py-6 min-w-[280px] space-y-1",children:[E.map(j=>{const P=j.icon;return o.jsxs(D4,{to:S(j.path),end:j.path==="/dashboard",className:({isActive:M})=>`flex items-center gap-3 px-4 py-3.5 rounded-xl transition-all duration-200 group ${M?"bg-teal-50 dark:bg-teal-900/20 text-teal-700 dark:text-teal-400 font-bold shadow-sm border border-teal-100 dark:border-teal-800/50":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200"}`,children:[o.jsx(P,{className:`w-5 h-5 transition-transform group-hover:scale-110 ${window.location.pathname===j.path||j.path!=="/dashboard"&&window.location.pathname.startsWith(j.path)?"text-teal-600 dark:text-teal-400":"text-slate-400 dark:text-slate-500 group-hover:text-slate-600 dark:group-hover:text-slate-300"}`}),o.jsx("span",{className:"text-sm",children:b[p].menu[j.label]||j.label})]},j.path)}),o.jsx("div",{className:"pt-6 px-2",children:o.jsxs(q,{onClick:()=>a("/dashboard/stores/new"),className:"w-full bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl",children:[o.jsx(DG,{className:"w-5 h-5 mr-2"}),b[p].createNewStore]})})]}),o.jsxs("div",{className:"p-4 border-t border-slate-100 dark:border-slate-800 min-w-[280px] bg-slate-50/50 dark:bg-slate-900/50",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-4 px-2",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-tr from-indigo-500 to-purple-500 flex items-center justify-center text-white font-bold shadow-sm",children:"AH"}),o.jsxs("div",{className:"overflow-hidden",children:[o.jsx("p",{className:"text-sm font-medium text-slate-900 dark:text-white truncate",children:"Ahmed Hassan"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 truncate",children:"ahmed@store.eg"})]})]}),o.jsxs(q,{onClick:R,variant:"ghost",className:"w-full justify-start text-slate-500 dark:text-slate-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 gap-3 rounded-xl h-11",children:[o.jsx(zT,{className:"w-5 h-5"}),o.jsx("span",{children:b[p].logout})]})]})]}),o.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[o.jsxs("header",{className:"h-16 bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-6 shadow-sm z-30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:t?o.jsx(Ni,{className:"w-5 h-5"}):o.jsx($T,{className:"w-5 h-5"})}),o.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-white",children:b[p].title})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx(q,{variant:"ghost",size:"icon",onClick:v,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:x?o.jsx(qG,{className:"w-5 h-5"}):o.jsx(zG,{className:"w-5 h-5"})}),o.jsx(q,{variant:"ghost",size:"icon",onClick:C,className:"text-slate-600 dark:text-slate-400 hover:bg-slate-100 dark:hover:bg-slate-800",children:o.jsx(xf,{className:"w-5 h-5"})}),o.jsxs("select",{value:h||"",onChange:T,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:b[p].selectStore}),u.map(j=>o.jsx("option",{value:j.id,children:j.name},j.id))]}),o.jsx(q,{variant:"outline",size:"sm",className:"hidden md:flex border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:bg-slate-100 dark:hover:bg-slate-800",onClick:()=>{if(!h)return;const j=window.location.protocol,P=window.location.hostname,M=window.location.port?`:${window.location.port}`:"",k={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):P.includes("localhost")?`localhost${M}`:P.replace(/^www\./,""),F=`${j}//${h}.${k}`;window.location.href=F},children:b[p].viewStore})]})]}),o.jsx("main",{className:"flex-1 overflow-auto bg-slate-50 dark:bg-slate-950 p-6 transition-colors",children:o.jsx("div",{className:"max-w-6xl mx-auto",children:o.jsx(xfe,{user:r,selectedStore:h,myStoreIds:u.map(j=>j.id),children:o.jsx(kT,{context:{language:p,storesOptions:u,currentUser:r}})})})})]})]})},wfe=()=>{const{language:t="en",storesOptions:e=[]}=rr()||{},{orders:n}=wN(),s={en:{overview:"Overview",track:"Track your store's performance.",filters:{last7:"Last 7 Days",last30:"Last 30 Days",year:"This Year"},stats:{revenue:"Total Revenue",orders:"Orders",visits:"Store Visits",conversion:"Conversion Rate",delivered:"Delivered Orders",rejected:"Rejected Orders"},revAnalytics:"Revenue Analytics",months:["Jan","Mar","May","Jul","Sep","Nov"],recentOrders:"Recent Orders",viewAll:"View All Orders",status:{Completed:"Completed",Processing:"Processing",Pending:"Pending"},changeSuffix:"from last period",storesSummary:"Stores Summary",noStoresData:"No stores data available",revenue:"Revenue"},ar:{overview:" ",track:"  .",filters:{last7:" 7 ",last30:" 30 ",year:" "},stats:{revenue:" ",orders:"",visits:" ",conversion:" ",delivered:" ",rejected:" "},revAnalytics:" ",months:["","","","","",""],recentOrders:" ",viewAll:"  ",status:{Completed:"",Processing:" ",Pending:" "},changeSuffix:"  ",storesSummary:" ",noStoresData:"   ",revenue:""}},r=Fn(),i=Ot(),l=g.useMemo(()=>new URLSearchParams(r.search),[r.search]).get("store")||"",[c,u]=g.useState(0),[d,h]=g.useState("last7"),m=A=>{const R=typeof A=="number"?A:parseFloat(String(A).replace(/[^0-9.-]/g,""));return Number.isFinite(R)?R:0},p=g.useMemo(()=>{const A=Date.now();if(d==="last30")return A-30*24*60*60*1e3;if(d==="year"){const R=new Date;return new Date(R.getFullYear(),0,1).getTime()}return A-7*24*60*60*1e3},[d]),{ordersData:y,storeBreakdown:x}=g.useMemo(()=>{const A=n.filter(T=>(typeof T._createdAtRaw=="number"?T._createdAtRaw:0)>=p),R=new Map;A.forEach(T=>{const C=T._storeId||"unknown";R.has(C)||R.set(C,{id:C,name:C,orders:0,revenue:0});const j=R.get(C);j.orders+=1,(T.status==="Delivered"||T.status==="Completed")&&(j.revenue+=m(T.total))});const S=Array.from(R.values()).map(T=>{const C=e.find(j=>j.id===T.id);return{...T,name:C?C.name:T.name}});return{ordersData:A,storeBreakdown:S}},[n,p,e]);g.useEffect(()=>{let A;const R=async S=>{if(!S){u(0);return}try{const T=l?[l]:e.map(j=>j.id);if(T.length===0){u(0);return}let C=0;for(const j of T)try{const M=(await T3(b3(f3(gS,"store_visits"),w3("storeId","==",j)))).docs.reduce((k,F)=>{const X=F.data(),U=Number((X==null?void 0:X.createdAt)||0);return k+(U>=p?1:0)},0);C+=M}catch{}u(C)}catch{u(0)}};return A=Bi(Dt,S=>R((S==null?void 0:S.uid)||"")),()=>A&&A()},[l,p,e]);const _=y.filter(A=>A.status==="Delivered"||A.status==="Completed").reduce((A,R)=>A+m(R.total),0),v=y.length,b=y.filter(A=>A.status==="Delivered").length,E=y.filter(A=>A.status==="Rejected").length,I=[{title:s[t].stats.revenue,value:ot(_,t==="ar"?"ar-EG":"en-EG"),change:"+12.5%",icon:hO,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{title:s[t].stats.orders,value:String(v),change:"+4.3%",icon:Kc,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-50 dark:bg-blue-900/20"}];return I.push({title:s[t].stats.delivered,value:String(b),change:"+8.2%",icon:qT,color:"text-indigo-600 dark:text-indigo-400",bg:"bg-indigo-50 dark:bg-indigo-900/20"},{title:s[t].stats.rejected,value:String(E),change:"-2.1%",icon:WT,color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-50 dark:bg-rose-900/20"}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:s[t].overview}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2 text-lg",children:s[t].track})]}),o.jsx("div",{className:"flex gap-2",children:o.jsxs("select",{value:d,onChange:A=>h(A.target.value),className:"bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-xl px-4 py-2.5 shadow-sm focus:outline-none focus:ring-2 focus:ring-teal-500 font-medium cursor-pointer hover:border-teal-500 transition-colors",children:[o.jsx("option",{value:"last7",children:s[t].filters.last7}),o.jsx("option",{value:"last30",children:s[t].filters.last30}),o.jsx("option",{value:"year",children:s[t].filters.year})]})})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:I.map((A,R)=>{const S=A.icon;return o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:R*.1},children:o.jsx(Qe,{className:"hover:shadow-lg transition-all duration-300 border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl overflow-hidden group",children:o.jsxs(Xe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("div",{className:`p-3 rounded-2xl ${A.bg} group-hover:scale-110 transition-transform duration-300`,children:o.jsx(S,{className:`w-6 h-6 ${A.color}`})}),o.jsxs("div",{className:`flex items-center text-xs font-bold px-2 py-1 rounded-full ${A.change.startsWith("+")?"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-600 dark:bg-red-900/20 dark:text-red-400"}`,children:[A.change.startsWith("+")?o.jsx(dO,{className:"w-3 h-3 mr-1"}):o.jsx(pO,{className:"w-3 h-3 mr-1 rotate-180"}),A.change]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-sm font-medium text-slate-500 dark:text-slate-400 mb-1",children:A.title}),o.jsx("div",{className:"text-2xl font-bold text-slate-900 dark:text-white tracking-tight",children:A.value})]})]})})},R)})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4},className:"lg:col-span-2",children:o.jsxs(Qe,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm rounded-2xl",children:[o.jsx(Tt,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(Et,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].revAnalytics})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"h-[300px] flex items-end justify-between gap-3 pt-8",children:(()=>{const A=new Date,R=Array.from({length:12},(P,M)=>new Date(A.getFullYear(),M,1)),C=[0,1,2,3,4,5,6,7,8,9,10,11].map(P=>{const M=R[P].getTime(),k=new Date(R[P].getFullYear(),R[P].getMonth()+1,1).getTime();return y.filter(X=>X.status==="Delivered"||X.status==="Completed").filter(X=>{const U=typeof X._createdAtRaw=="number"?X._createdAtRaw:0;return U>=M&&U<k}).reduce((X,U)=>X+m(U.total),0)}).map(P=>Number.isFinite(P)?P:0),j=Math.max(1,...C);return C.map(P=>Math.round(P/j*100))})().map((A,R)=>o.jsx("div",{className:"w-full flex flex-col justify-end group h-full gap-2",children:o.jsx("div",{className:"w-full bg-slate-50 dark:bg-slate-800 rounded-t-lg relative overflow-hidden flex-1",children:o.jsx(ae.div,{initial:{height:0},animate:{height:`${A}%`},transition:{duration:.8,delay:.5+R*.05},className:"absolute bottom-0 w-full bg-gradient-to-t from-teal-500 to-teal-400 group-hover:from-teal-600 group-hover:to-teal-500 transition-all rounded-t-lg"})})},R))}),o.jsx("div",{className:"flex justify-between mt-4 text-xs font-medium text-slate-400 px-1",children:s[t].months.map((A,R)=>R%2===0?o.jsx("span",{children:A},A):null)})]})]})}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},children:o.jsxs(Qe,{className:"h-full border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-xl shadow-slate-200/60 dark:shadow-black/20 rounded-2xl",children:[o.jsx(Tt,{className:"border-b border-slate-50 dark:border-slate-800 pb-4",children:o.jsx(Et,{className:"text-slate-900 dark:text-white text-lg font-bold",children:s[t].storesSummary})}),o.jsxs(Xe,{className:"pt-6",children:[o.jsx("div",{className:"space-y-6",children:x.length===0?o.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:s[t].noStoresData}):x.map((A,R)=>o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-600 dark:text-slate-400 font-bold text-sm group-hover:bg-teal-50 dark:group-hover:bg-teal-900/20 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:A.name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-bold text-slate-900 dark:text-white",children:A.name}),o.jsx("p",{className:"text-xs text-slate-400",children:A.id})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("p",{className:"text-xs text-slate-400 font-medium mb-0.5",children:s[t].revenue}),o.jsx("span",{className:"font-bold text-slate-900 dark:text-white text-sm",children:ot(A.revenue,t==="ar"?"ar-EG":"en-EG")})]})]},R))}),o.jsx(q,{className:"w-full mt-8 bg-gradient-to-r from-teal-500 to-emerald-500 hover:from-teal-600 hover:to-emerald-600 text-white shadow-lg shadow-teal-500/20 border-0 h-11 rounded-xl font-medium",onClick:()=>{var R;const A=l||((R=x[0])==null?void 0:R.id)||"";i(A?`/dashboard/orders?store=${A}`:"/dashboard/orders")},children:s[t].viewAll})]})]})})]})]})},_fe=()=>{const t=Ot(),{toast:e}=qt(),[n,s]=g.useState([]),[r,i]=g.useState(!0),[a,l]=g.useState({}),[c,u]=g.useState(null),[d,h]=g.useState(!1),[m,p]=g.useState(!1);typeof window<"u"&&(window.location.hostname.includes("localhost")||window.location.hostname.endsWith(".localhost"));const{language:y="en"}=rr()||{},x={en:{title:"My Stores",subtitle:"Manage your online stores.",create:"Create New Store",statusActive:"Active",planStarter:"Starter",orders:"Orders",revenue:"Revenue",settings:"Settings",viewStore:"View Store",addProducts:"Add Products",dashboard:"Dashboard",emptyTitle:"Add New Store",emptySubtitle:"Launch your next business idea",deleteTitle:"Delete Store",deleteDesc:"Are you sure you want to delete this store? This action cannot be undone.",deleteConfirm:"Delete",cancel:"Cancel",deleteSuccess:"Store deleted successfully",deleteError:"Failed to delete store"},ar:{title:"",subtitle:"  .",create:"  ",statusActive:"",planStarter:"",orders:"",revenue:"",settings:"",viewStore:" ",addProducts:" ",dashboard:" ",emptyTitle:"  ",emptySubtitle:"  ",deleteTitle:" ",deleteDesc:"            .",deleteConfirm:"",cancel:"",deleteSuccess:"   ",deleteError:"  "}},_=async()=>{if(c){p(!0);try{await vv(Ye(de,"stores",c)),e({title:x[y].deleteSuccess,variant:"success"}),h(!1)}catch(v){console.error(v),e({title:x[y].deleteError,description:v.message,variant:"destructive"})}finally{p(!1),u(null)}}};return g.useEffect(()=>{let v;const b=Bi(Dt,E=>{if(!E){s([]),i(!1);return}const I=ls(it(de,"stores"),ws("ownerUid","==",E.uid));v=Gt(I,A=>{const R=A.docs.map(S=>{const T=S.data();return T.logo&&T.logo.includes("supabase")&&(T.logo=""),T.image&&T.image.includes("supabase")&&(T.image=""),{id:S.id,...T}});s(R),i(!1),(async()=>{try{const S=await Promise.all(R.map(async T=>{try{const C=b3(f3(gS,"orders"),w3("storeSubdomain","==",T.id)),j=await T3(C);let P=0,M=0;return j.docs.forEach(k=>{const F=k.data();P+=1,M+=Number((F==null?void 0:F.total)??0)}),[T.id,{orders:P,revenue:M}]}catch{return[T.id,{orders:Number(T.orders||0),revenue:Number(T.revenue||0)}]}}));l(Object.fromEntries(S))}catch{}})()},()=>{i(!1)})});return()=>{b(),v&&v()}},[]),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:x[y].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:x[y].subtitle})]}),o.jsxs(q,{onClick:()=>t("/dashboard/stores/new"),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," ",x[y].create]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.map((v,b)=>{var E,I;return o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:b*.1},children:o.jsxs(Qe,{className:"overflow-hidden hover:shadow-lg transition-shadow border-slate-200 dark:border-slate-800 bg-white dark:bg-slate-900 group",children:[o.jsxs("div",{className:"h-32 bg-slate-100 dark:bg-slate-800 relative",children:[o.jsx("img",{src:v.logo||v.image||"https://placehold.co/600x400?text=Store",alt:v.name,className:"w-full h-full object-cover opacity-90",onError:A=>{A.target.onerror=null,A.target.src="https://placehold.co/600x400?text=Store"}}),o.jsx(q,{variant:"destructive",size:"icon",className:"absolute top-4 left-4 w-8 h-8 rounded-full shadow-sm opacity-0 group-hover:opacity-100 transition-opacity z-10",onClick:A=>{A.stopPropagation(),u(v.id),h(!0)},children:o.jsx(rd,{className:"w-4 h-4"})}),o.jsx("div",{className:"absolute top-4 right-4",children:o.jsx(xn,{variant:(v.status||"Active")==="Active"?"success":"warning",className:"shadow-sm",children:y==="ar"?v.status==="Active"?x.ar.statusActive:v.status:v.status||"Active"})})]}),o.jsx(Tt,{children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx(Et,{className:"text-xl mb-1 dark:text-white",children:v.name}),o.jsxs(cn,{className:"flex items-center gap-1 text-teal-600 dark:text-teal-400 cursor-pointer",onClick:()=>{if(!v.subdomain)return;const A=window.location.protocol,R=window.location.hostname,S=window.location.port?`:${window.location.port}`:"",T={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):R.includes("localhost")?`localhost${S}`:R.replace(/^www\./,""),C=`${A}//${v.subdomain}.${T}`;window.location.href=C},children:[v.subdomain?(()=>{const A=window.location.hostname,R=window.location.port?`:${window.location.port}`:"",S={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):A.includes("localhost")?`localhost${R}`:A.replace(/^www\./,"");return`${v.subdomain}.${S}`})():""," ",o.jsx(d0,{className:"w-3 h-3"})]})]}),o.jsx(xn,{variant:"outline",className:"dark:text-slate-300 dark:border-slate-700",children:y==="ar"?v.plan==="Starter"?x.ar.planStarter:v.plan:v.plan||"Starter"})]})}),o.jsx(Xe,{children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 py-2",children:[o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:x[y].orders}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:((E=a[v.id])==null?void 0:E.orders)??v.orders??0})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-3 rounded-lg border border-slate-100 dark:border-slate-700",children:[o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400 uppercase font-bold",children:x[y].revenue}),o.jsx("p",{className:"text-lg font-bold text-slate-900 dark:text-white",children:ot((((I=a[v.id])==null?void 0:I.revenue)??Number(String(v.revenue).replace(/[^0-9.]/g,"")||0))||0)})]})]})}),o.jsxs(pN,{className:"grid grid-cols-2 gap-2 bg-slate-50/50 dark:bg-slate-800/50 border-t border-slate-100 dark:border-slate-800 p-4",children:[o.jsxs(q,{variant:"outline",className:"w-full gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>v.subdomain&&t(`/dashboard/settings?store=${v.subdomain}`),children:[o.jsx(Fy,{className:"w-4 h-4"})," ",x[y].settings]}),o.jsxs(q,{variant:"outline",className:"w-full gap-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300 dark:hover:bg-slate-700",onClick:()=>{if(!v.subdomain)return;const A=window.location.protocol,R=window.location.hostname,S=window.location.port?`:${window.location.port}`:"",T={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):R.includes("localhost")?`localhost${S}`:R.replace(/^www\./,""),C=`${A}//${v.subdomain}.${T}`;window.location.href=C},children:[o.jsx(d0,{className:"w-4 h-4"})," ",x[y].viewStore]}),o.jsxs(q,{variant:"default",className:"w-full gap-2 bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>v.subdomain&&t(`/dashboard/products?store=${v.subdomain}&add=1`),children:[o.jsx(Oa,{className:"w-4 h-4"})," ",x[y].addProducts]}),o.jsxs(q,{className:"w-full gap-2 bg-slate-900 dark:bg-slate-700 text-white hover:bg-slate-800 dark:hover:bg-slate-600",onClick:()=>v.subdomain&&t(`/dashboard?store=${v.subdomain}`),children:[o.jsx(RG,{className:"w-4 h-4"})," ",x[y].dashboard]})]})]})},v.id)}),!r&&n.length===0&&o.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},className:"flex flex-col items-center justify-center h-full min-h-[300px] border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl bg-slate-50/50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800 hover:border-teal-400 dark:hover:border-teal-400 transition-all cursor-pointer group",onClick:()=>t("/dashboard/stores/new"),children:[o.jsx("div",{className:"w-16 h-16 bg-white dark:bg-slate-700 rounded-full flex items-center justify-center shadow-sm mb-4 group-hover:scale-110 transition-transform",children:o.jsx(Oa,{className:"w-8 h-8 text-teal-500"})}),o.jsx("h3",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:x[y].emptyTitle}),o.jsx("p",{className:"text-slate-400 dark:text-slate-500 text-sm",children:x[y].emptySubtitle})]})]}),o.jsx(Sl,{open:d,onOpenChange:h,children:o.jsxs(ao,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsxs(oo,{children:[o.jsx(lo,{className:"dark:text-white",children:x[y].deleteTitle}),o.jsx(Gu,{children:x[y].deleteDesc})]}),o.jsxs(Nl,{children:[o.jsx(q,{variant:"outline",onClick:()=>h(!1),disabled:m,className:"dark:bg-slate-800 dark:text-white dark:hover:bg-slate-700",children:x[y].cancel}),o.jsx(q,{variant:"destructive",onClick:_,disabled:m,children:m?"...":x[y].deleteConfirm})]})]})})]})},Tfe=()=>{var M;const{toast:t}=qt(),e=Ot(),{language:n="en"}=rr()||{},s={en:{title:"Create Your Store",subtitle:"Follow the steps to launch your new online business.",storeName:"Store Name",storeNamePlaceholder:"e.g. My Awesome Shop",subdomain:"Subdomain Name",subdomainPlaceholder:"e.g. ahmed",check:"Check",available:"Available",activityType:"Activity Type",types:{Retail:"Retail",Digital:"Digital Products",Services:"Services",Food:"Food & Beverage"},uploadLogo:"Upload Logo",clickToUpload:"Click to upload or drag and drop",sizeLimit:"SVG, PNG, JPG (max 2MB)",selectTemplate:"Select Template",ready:"Ready to Launch!",readyDesc:"You are about to create",accessibleAt:"Your store will be accessible at",type:"Type:",template:"Template:",back:"Back",cancel:"Cancel",next:"Next Step",create:"Create Store",creating:"Creating...",templateNames:{default:"Modern Minimal",mobile:"Mobile & Electronics",restaurant:"Restaurant & Cafe",digital:"Digital Products",spare_parts:"Spare Parts",mobile_pro:"Mobile World",fashion_luxury:"Luxury Fashion",cards_digital:"Cards & Digital"},toasts:{invalidSub:"Invalid subdomain",invalidSubDesc:"Use letters and numbers only.",notAvailable:"Not available",taken:"is already taken.",avail:"Domain Available!",loginReq:"Login required",loginReqDesc:"Please log in to create a store.",success:"Success!",successDesc:"Store created successfully.",error:"Error",errorDesc:"Failed to create store.",fileLarge:"File too large",fileLargeDesc:"Max size is 5MB.",logoUp:"Logo uploaded",logoUpDesc:"Logo processed successfully.",upFail:"Upload failed",setSubFirst:"Set a valid subdomain first."}},ar:{title:" ",subtitle:"     .",storeName:" ",storeNamePlaceholder:":  ",subdomain:"  ",subdomainPlaceholder:": ahmed",check:"",available:"",activityType:" ",types:{Retail:" ",Digital:" ",Services:"",Food:" "},uploadLogo:" ",clickToUpload:"    ",sizeLimit:"SVG, PNG, JPG (  2 )",selectTemplate:" ",ready:" !",readyDesc:"   ",accessibleAt:"   ",type:":",template:":",back:"",cancel:"",next:" ",create:" ",creating:" ...",templateNames:{default:" ",mobile:"  ",restaurant:" ",digital:"  ",spare_parts:"  ",mobile_pro:"  ",fashion_luxury:"  ",cards_digital:"   "},toasts:{invalidSub:"   ",invalidSubDesc:"   .",notAvailable:" ",taken:" .",avail:" !",loginReq:"  ",loginReqDesc:"    .",success:" !",successDesc:"   .",error:"",errorDesc:"  .",fileLarge:"  ",fileLargeDesc:"  5 .",logoUp:"  ",logoUpDesc:"   .",upFail:" ",setSubFirst:"    ."}}},r=s[n]||s.en,[i,a]=g.useState(!1),[l,c]=g.useState(null),[u,d]=g.useState(1),[h,m]=g.useState(!1),[p,y]=g.useState(""),[x,_]=g.useState(0),[v,b]=g.useState(!1),E=g.useRef(null);g.useRef(null);const[I,A]=g.useState([]),[R,S]=g.useState({name:"",subdomain:"",type:"Retail",template:""});typeof window<"u"&&window.location.host.replace(/^www\./,"");const T=[{id:"default",name:r.templateNames.default,image:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=600"},{id:"mobile",name:r.templateNames.mobile,image:"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&q=80&w=600"},{id:"mobile_pro",name:r.templateNames.mobile_pro,image:"https://images.unsplash.com/photo-1556656793-02715d8dd660?auto=format&fit=crop&q=80&w=600"},{id:"fashion_luxury",name:r.templateNames.fashion_luxury,image:"https://images.unsplash.com/photo-1483985988355-763728e1935b?auto=format&fit=crop&q=80&w=600"},{id:"restaurant",name:r.templateNames.restaurant,image:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=600"},{id:"digital",name:r.templateNames.digital,image:"https://images.unsplash.com/photo-1550751827-4bd374c3f58b?auto=format&fit=crop&q=80&w=600"},{id:"cards_digital",name:r.templateNames.cards_digital,image:"https://images.unsplash.com/photo-1614680376593-902f74cf0d41?auto=format&fit=crop&q=80&w=600"},{id:"spare_parts",name:r.templateNames.spare_parts,image:"https://images.unsplash.com/photo-1486262715619-01b8c2297615?auto=format&fit=crop&q=80&w=600"}];g.useEffect(()=>{(async()=>{try{const F=await jm(it(de,"templates"));if(F.empty)A(T);else{const X=F.docs.map(H=>({id:H.id,...H.data()})),U=T.map(H=>{const $=X.find(K=>K.id===H.id);return $?{...H,...$,image:$.image||H.image}:H});A(U)}}catch(F){console.error("Error fetching templates:",F),A(T)}})()},[n]),g.useEffect(()=>{const k=Bi(Dt,F=>{F||e("/login")});return()=>k()},[e]);const C=async()=>{if(!R.subdomain)return;const k=R.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(k)){c(!1),t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}a(!0),c(null);try{const F=Ye(de,"stores",k);if((await sr(F)).exists())c(!1),t({title:r.toasts.notAvailable,description:`${k} ${r.toasts.taken}`,variant:"destructive"});else{c(!0);const U=window.location.hostname,H=window.location.port?`:${window.location.port}`:"",$={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):U.includes("localhost")?`localhost${H}`:U.replace(/^www\./,"");t({title:r.toasts.avail,description:`${k}.${$}`,variant:"success"})}}finally{a(!1)}},j=async k=>{var U;const F=(U=k.target.files)==null?void 0:U[0];if(!F)return;const X=R.subdomain.trim().toLowerCase();if(!X||!/^[a-z0-9]+$/.test(X)){t({title:r.toasts.invalidSub,description:r.toasts.setSubFirst,variant:"destructive"});return}if(F.size>5*1024*1024){t({title:r.toasts.fileLarge,description:r.toasts.fileLargeDesc,variant:"destructive"});return}m(!0),_(0);try{console.log("Starting logo conversion...");const H=await yf(F);console.log("Logo conversion successful"),y(H),t({title:r.toasts.logoUp,description:r.toasts.logoUpDesc,variant:"success"})}catch(H){console.error("Logo Upload Error:",H),t({title:r.toasts.upFail,description:`Error: ${(H==null?void 0:H.message)||String(H)}`,variant:"destructive"})}finally{m(!1),k.target.value=""}},P=async()=>{if(!R.name||!R.subdomain)return;const k=R.subdomain.trim().toLowerCase();if(!/^[a-z0-9]+$/.test(k)){t({title:r.toasts.invalidSub,description:r.toasts.invalidSubDesc,variant:"destructive"});return}b(!0);try{const F=Ye(de,"stores",k);if((await sr(F)).exists()){t({title:r.toasts.notAvailable,description:`${k} ${r.toasts.taken}`,variant:"destructive"}),b(!1);return}const U=Dt.currentUser;if(!U){t({title:r.toasts.loginReq,description:r.toasts.loginReqDesc,variant:"destructive"}),b(!1);return}const H={name:R.name,subdomain:k,logo:p||"",category:R.type,theme:"default",ownerUid:U.uid,orders:0,revenue:0,createdAt:Df()};await Ll(F,H),t({title:r.toasts.success,description:r.toasts.successDesc,variant:"success"}),e(`/dashboard/stores?store=${k}`)}catch{t({title:r.toasts.error,description:r.toasts.errorDesc,variant:"destructive"})}finally{b(!1)}};return o.jsxs("div",{className:"max-w-3xl mx-auto py-8",children:[o.jsxs("div",{className:"mb-8 text-center",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r.title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r.subtitle})]}),o.jsxs("div",{className:"flex items-center justify-center mb-10",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=1?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"1"}),o.jsx("div",{className:`w-16 h-1 ${u>=2?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=2?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"2"}),o.jsx("div",{className:`w-16 h-1 ${u>=3?"bg-teal-600":"bg-slate-200 dark:bg-slate-700"}`}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${u>=3?"bg-teal-600 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"} font-bold transition-colors`,children:"3"})]}),o.jsx(ae.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:o.jsx(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-8",children:[u===1&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r.storeName}),o.jsxs("div",{className:"relative",children:[o.jsx(By,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ue,{placeholder:r.storeNamePlaceholder,className:"pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white",value:R.name,onChange:k=>S({...R,name:k.target.value})})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r.subdomain}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(xf,{className:"absolute left-3 top-3 h-4 w-4 text-slate-400"}),o.jsx(ue,{placeholder:r.subdomainPlaceholder,className:`pl-10 dark:bg-slate-800 dark:border-slate-700 dark:text-white ${l===!0?"border-green-500 focus-visible:ring-green-500":""}`,value:R.subdomain,onChange:k=>{S({...R,subdomain:k.target.value}),c(null)}})]}),o.jsx(q,{variant:"outline",onClick:C,disabled:i||!R.subdomain,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:i?o.jsx(nb,{className:"w-4 h-4 animate-spin"}):r.check})]}),l&&o.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400 flex items-center",children:[o.jsx(sd,{className:"w-3 h-3 mr-1"})," ",r.available]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r.activityType}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:R.type,onChange:k=>S({...R,type:k.target.value}),children:[o.jsx("option",{value:"Retail",children:r.types.Retail}),o.jsx("option",{value:"Digital",children:r.types.Digital}),o.jsx("option",{value:"Services",children:r.types.Services}),o.jsx("option",{value:"Food",children:r.types.Food})]})]})]}),u===2&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r.uploadLogo}),o.jsxs("div",{className:"border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl p-8 text-center hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors cursor-pointer",onClick:()=>{var k;return(k=E.current)==null?void 0:k.click()},children:[h?o.jsxs("div",{className:"mx-auto mb-2",children:[o.jsx(nb,{className:"w-10 h-10 text-slate-400 animate-spin mx-auto"}),o.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400 mt-2",children:[x,"%"]})]}):o.jsx(HG,{className:"w-10 h-10 text-slate-400 dark:text-slate-500 mx-auto mb-4"}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 font-medium",children:r.clickToUpload}),o.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500 mt-1",children:r.sizeLimit}),p&&!p.includes("supabase")&&o.jsx("div",{className:"mt-4 flex justify-center",children:o.jsx("img",{src:p,alt:"Logo",className:"h-16 w-16 object-contain"})}),o.jsx("input",{ref:E,type:"file",accept:"image/*",className:"hidden",onChange:j})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx(se,{className:"dark:text-slate-200",children:r.selectTemplate}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:I.map(k=>o.jsxs("div",{className:`border rounded-lg overflow-hidden cursor-pointer transition-all ${R.template===k.id?"ring-2 ring-teal-500 border-teal-500":"border-slate-200 dark:border-slate-700 hover:border-teal-300 dark:hover:border-teal-400"}`,onClick:()=>S({...R,template:k.id}),children:[o.jsxs("div",{className:"relative h-32 bg-slate-100 dark:bg-slate-800 group",children:[o.jsx("img",{src:k.image,alt:k.name,className:"w-full h-full object-cover opacity-90"}),o.jsxs("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[o.jsx(q,{variant:"secondary",size:"sm",className:"h-8 text-xs bg-white/90 hover:bg-white text-slate-900",onClick:F=>{F.stopPropagation(),S({...R,template:k.id})},children:n==="ar"?"":"Select"}),o.jsxs(q,{variant:"secondary",size:"sm",className:"h-8 text-xs bg-white/90 hover:bg-white text-slate-900",onClick:F=>{F.stopPropagation(),window.open(`/template-preview/${k.id}?lang=${n}`,"_blank")},children:[o.jsx(h0,{className:"w-4 h-4 mr-1"})," ",n==="ar"?"":"Preview"]})]})]}),o.jsx("div",{className:"p-3 text-center dark:bg-slate-800",children:o.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:k.name})})]},k.id))})]})]}),u===3&&o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-teal-100 dark:bg-teal-900/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(HT,{className:"w-10 h-10 text-teal-600 dark:text-teal-400"})}),o.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:r.ready}),o.jsxs("p",{className:"text-slate-500 dark:text-slate-400 max-w-md mx-auto mb-8",children:[r.readyDesc," ",o.jsx("strong",{className:"text-slate-900 dark:text-white",children:R.name}),". ",r.accessibleAt," ",o.jsx("strong",{className:"text-slate-900 dark:text-white",children:(()=>{const k=window.location.hostname,F=window.location.port?`:${window.location.port}`:"",X={VITE_SUPABASE_URL:"https://rvjuxhjjscpiughvgdrt.supabase.co",VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2anV4aGpqc2NwaXVnaHZnZHJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ1NDc5OTAsImV4cCI6MjA4MDEyMzk5MH0.l4o5wREoPv3QRusybNtFEZqLOCDZUT-hxX9wauqHdAg",VITE_SUPABASE_BUCKET:"stores",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}.VITE_MAIN_DOMAIN&&String({}.VITE_MAIN_DOMAIN).trim()?String({}.VITE_MAIN_DOMAIN).replace(/^www\./,""):k.includes("localhost")?`localhost${F}`:k.replace(/^www\./,"");return`${R.subdomain}.${X}`})()}),"."]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-lg max-w-sm mx-auto text-left text-sm space-y-2 mb-6 border border-slate-100 dark:border-slate-700",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.type}),o.jsx("span",{className:"font-medium dark:text-white",children:R.type})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:r.template}),o.jsx("span",{className:"font-medium dark:text-white",children:((M=I.find(k=>k.id===R.template))==null?void 0:M.name)||"Default"})]})]})]}),o.jsxs("div",{className:"flex justify-between mt-8 pt-6 border-t border-slate-100 dark:border-slate-800",children:[u>1?o.jsx(q,{variant:"outline",onClick:()=>d(u-1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:r.back}):o.jsx(q,{variant:"ghost",onClick:()=>e("/dashboard/stores"),className:"dark:text-slate-400 dark:hover:text-white dark:hover:bg-slate-800",children:r.cancel}),u<3?o.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 text-white",onClick:()=>d(u+1),disabled:u===1&&(!R.name||!R.subdomain),children:[r.next," ",o.jsx(FT,{className:"w-4 h-4 ml-2"})]}):o.jsxs(q,{className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[140px]",onClick:P,disabled:v||!Dt.currentUser,children:[v?o.jsx(nb,{className:"w-4 h-4 animate-spin mr-2"}):null,v?r.creating:r.create]})]})]})})},u)]})},Efe=()=>{const{toast:t}=qt(),e=Fn(),n=Ot(),{language:s="en"}=rr()||{},r={en:{title:"Products",subtitle:"Manage your store's inventory.",selectStore:"Select Store",addProduct:"Add Product",searchPlaceholder:"Search products...",allCategories:"All Categories",categories:["Electronics","Apparel","Home","Accessories","Sports"],table:{name:"Product Name",category:"Category",price:"Price",stock:"Stock",status:"Status",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No products found",addModal:{title:"Add New Product",desc:"Enter product details below.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Product"},editModal:{title:"Edit Product",desc:"Update product details.",name:"Product Name",price:"Price",stock:"Stock",discount:"Discount (%)",image:"Product Image",imageSizeHint:"Recommended: 800x800px. Max: 5MB.",uploading:"Uploading...",color:"Product Color (optional)",size:"Product Size (optional)",category:"Category",status:"Status",save:"Save Changes"},status:{in:"In Stock",low:"Low Stock",out:"Out of Stock"},change:"Change",toast:{productDeleted:"Product Deleted",productDeletedDesc:"Product has been removed successfully.",deleteFailed:"Delete Failed",deleteFailedDesc:"Could not delete product.",saved:"Saved",statusUpdated:"Status updated",updateFailed:"Update Failed",statusUpdateFailed:"Could not update status",productUpdated:"Product updated successfully.",productUpdateFailed:"Could not update product.",success:"Success",productAdded:"Product added successfully.",addFailed:"Add Failed",productAddFailed:"Could not add product.",selectStore:"Select Store",selectStoreDesc:"Please choose a store first.",fileTooLarge:"File too large",fileTooLargeDesc:"Max size is 5MB.",imageUploaded:"Image uploaded",imageSaved:"Product image saved.",imageUpdated:"Product image updated.",uploadFailed:"Upload failed"}},ar:{title:"",subtitle:"  .",selectStore:" ",addProduct:" ",searchPlaceholder:"  ...",allCategories:" ",categories:["","","","",""],table:{name:" ",category:"",price:"",stock:"",status:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",desc:"   .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},editModal:{title:" ",desc:"  .",name:" ",price:"",stock:"",discount:" (%)",image:" ",imageSizeHint:": 800x800 .  : 5 .",uploading:" ...",color:"  ()",size:"  ()",category:"",status:"",save:" "},status:{in:"",low:" ",out:" "},change:"",toast:{productDeleted:"  ",productDeletedDesc:"   .",deleteFailed:" ",deleteFailedDesc:"  .",saved:" ",statusUpdated:"  ",updateFailed:" ",statusUpdateFailed:"  ",productUpdated:"   .",productUpdateFailed:"  .",success:"",productAdded:"   .",addFailed:" ",productAddFailed:"  .",selectStore:" ",selectStoreDesc:"   .",fileTooLarge:"  ",fileTooLargeDesc:"   5 .",imageUploaded:"  ",imageSaved:"   .",imageUpdated:"   .",uploadFailed:" "}}},i=new URLSearchParams(e.search),a=i.get("store"),l=i.get("add")==="1",[c,u]=g.useState([]),[d,h]=g.useState(!1),[m,p]=g.useState(""),{products:y,loadingProducts:x}=wN(),[_,v]=g.useState(!1),[b,E]=g.useState(null),[I,A]=g.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[R,S]=g.useState({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),[T,C]=g.useState(!1),[j,P]=g.useState(!1),[M,k]=g.useState([]),F=["S","M","L","XL","XXL","XXXL"],X=["20/21","22/23","24/25","26/27","28/29","30/31","32/33","34/35","36/37","38/39","40/41","42/43","44/45"];g.useEffect(()=>{if(!a)return;const O=it(de,"stores",a,"categories"),Y=Gt(O,_e=>{const Q=_e.docs.map(fe=>fe.data().name);k(Q.length>0?Q:["General"])});return()=>Y()},[a]),g.useEffect(()=>{let O;const Y=Bi(Dt,async _e=>{if(_e)try{const Q=ls(it(de,"stores"),ws("ownerUid","==",_e.uid));return O=Gt(Q,fe=>{const oe=fe.docs[0],ve=fe.docs.map(qe=>{var et;return{id:qe.id,name:((et=qe.data())==null?void 0:et.name)||qe.id}});u(ve),oe!=null&&oe.id&&!a&&n(`/dashboard/products?store=${oe.id}`,{replace:!0})}),()=>O()}catch(Q){console.error("Failed to load stores:",Q)}});return()=>{Y&&Y()}},[t,a]),g.useEffect(()=>{l&&h(!0)},[l]);const U=O=>{const Y=O.target.value;n(`/dashboard/products?store=${Y}${l?"&add=1":""}`)},H=async O=>{try{const Y=Dt.currentUser;if(!Y)throw new Error("Not authenticated");const _e=ls(it(de,"stores"),ws("ownerUid","==",Y.uid));let Q;if(await new Promise((fe,oe)=>{const ve=Gt(_e,qe=>{var et;Q=(et=qe.docs[0])==null?void 0:et.id,ve(),fe()},oe)}),Q=a||Q,!Q)throw new Error("No store");await vv(Ye(de,"stores",Q,"products",String(O))),t({title:"Product Deleted",description:"Product has been removed successfully.",variant:"destructive"})}catch{t({title:"Delete Failed",description:"Could not delete product.",variant:"destructive"})}},$=async(O,Y)=>{try{const _e=Dt.currentUser;if(!_e)throw new Error("Not authenticated");const Q=ls(it(de,"stores"),ws("ownerUid","==",_e.uid));let fe;if(await new Promise((oe,ve)=>{const qe=Gt(Q,et=>{var B;fe=(B=et.docs[0])==null?void 0:B.id,qe(),oe()},ve)}),fe=a||fe,!fe)throw new Error("No store");await eo(Ye(de,"stores",fe,"products",String(O)),{status:Y}),setProducts(oe=>oe.map(ve=>String(ve.id)===String(O)?{...ve,status:Y}:ve)),t({title:s==="ar"?" ":"Saved",description:s==="ar"?"  ":"Status updated",variant:"success"})}catch{t({title:s==="ar"?" ":"Update Failed",description:s==="ar"?"  ":"Could not update status",variant:"destructive"})}},K=O=>{E(O.id);let Y=[];O.sizes&&Array.isArray(O.sizes)?Y=O.sizes:O.size&&(Y=[O.size]),A({name:O.name||"",price:O.price||"",stock:O.stock??0,category:O.category||"Electronics",status:O.status||"In Stock",image:O.image&&!O.image.includes("supabase")?O.image:"",color:O.color||"",sizes:Y,discount:Number(O.discount??0)}),v(!0)},ee=async O=>{if(O.preventDefault(),!!b)try{const Y=Dt.currentUser;if(!Y)throw new Error("Not authenticated");const _e=ls(it(de,"stores"),ws("ownerUid","==",Y.uid));let Q;if(await new Promise((oe,ve)=>{const qe=Gt(_e,et=>{var B;Q=(B=et.docs[0])==null?void 0:B.id,qe(),oe()},ve)}),Q=a||Q,!Q)throw new Error("No store");const fe=Ye(de,"stores",Q,"products",String(b));await eo(fe,{...I}),v(!1),t({title:"Saved",description:"Product updated successfully.",variant:"success"})}catch{t({title:"Update Failed",description:"Could not update product.",variant:"destructive"})}},re=async O=>{O.preventDefault();try{const Y=Dt.currentUser;if(!Y)throw new Error("Not authenticated");const _e=ls(it(de,"stores"),ws("ownerUid","==",Y.uid));let Q;if(await new Promise((fe,oe)=>{const ve=Gt(_e,qe=>{var et;Q=(et=qe.docs[0])==null?void 0:et.id,ve(),fe()},oe)}),Q=a||Q,!Q)throw new Error("No store");await Lu(it(de,"stores",Q,"products"),{...R,storeSubdomain:Q}),h(!1),S({name:"",price:"",stock:0,category:"Electronics",status:"In Stock",image:"",color:"",sizes:[],discount:0}),t({title:"Success",description:"Product added successfully.",variant:"success"})}catch{t({title:"Add Failed",description:"Could not add product.",variant:"destructive"})}},ge=async O=>{var Q,fe;const Y=(Q=O.target.files)==null?void 0:Q[0];if(!Y)return;if(!(a||((fe=c[0])==null?void 0:fe.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),O.target.value="";return}if(Y.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),O.target.value="";return}C(!0);try{console.log("Starting image conversion...");const oe=await yf(Y);console.log("Image conversion successful"),S(ve=>({...ve,image:oe})),t({title:"Image uploaded",description:"Product image saved.",variant:"success"})}catch(oe){console.error("Image Upload Error:",oe),t({title:"Upload failed",description:`Error: ${(oe==null?void 0:oe.message)||String(oe)}`,variant:"destructive"})}finally{C(!1),O.target.value=""}},nt=async O=>{var Q,fe;const Y=(Q=O.target.files)==null?void 0:Q[0];if(!Y)return;if(!(a||((fe=c[0])==null?void 0:fe.id))){t({title:"Select Store",description:"Please choose a store first.",variant:"destructive"}),O.target.value="";return}if(Y.size>5*1024*1024){t({title:"File too large",description:"Max size is 5MB.",variant:"destructive"}),O.target.value="";return}P(!0);try{console.log("Starting edit image conversion...");const oe=await yf(Y);console.log("Edit image conversion successful"),A(ve=>({...ve,image:oe})),t({title:"Image uploaded",description:"Product image updated.",variant:"success"})}catch(oe){console.error("Edit Image Upload Error:",oe),t({title:"Upload failed",description:`Error: ${(oe==null?void 0:oe.message)||String(oe)}`,variant:"destructive"})}finally{P(!1),O.target.value=""}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:r[s].subtitle})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("select",{value:a||"",onChange:U,className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-md px-3 py-2 text-sm text-slate-900 dark:text-white focus:ring-teal-500 focus:border-teal-500",children:[o.jsx("option",{value:"",disabled:!0,children:r[s].selectStore}),c.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]}),o.jsxs(q,{onClick:()=>h(!0),className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"})," ",r[s].addProduct]})]})]}),o.jsxs("div",{className:"flex items-center gap-4 bg-white dark:bg-slate-900 p-4 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm",children:[o.jsxs("div",{className:"relative flex-1 max-w-sm",children:[o.jsx(Xo,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-slate-500 dark:text-slate-400"}),o.jsx(ue,{placeholder:r[s].searchPlaceholder,className:"pl-9 bg-slate-50 dark:bg-slate-800 dark:text-white border-slate-200 dark:border-slate-700",value:m,onChange:O=>p(O.target.value)})]}),o.jsx("div",{className:"ml-auto flex gap-2",children:o.jsxs("select",{className:"bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-700 text-slate-700 dark:text-slate-200 text-sm rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-teal-500",children:[o.jsx("option",{children:r[s].allCategories}),r[s].categories.slice(0,3).map(O=>o.jsx("option",{children:O},O))]})})]}),o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"bg-slate-50 dark:bg-slate-800/50 hover:bg-slate-50 dark:hover:bg-slate-800/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.category}),o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.price}),o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.stock}),o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.status}),o.jsx(Be,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsxs(ql,{children:[(x?[]:y.filter(O=>{var Y;return(Y=O.name)==null?void 0:Y.toLowerCase().includes(m.toLowerCase())})).map(O=>o.jsxs(Jn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(Oe,{className:"font-medium text-slate-900 dark:text-slate-100",children:O.name}),o.jsx(Oe,{className:"text-slate-600 dark:text-slate-400",children:O.category}),o.jsx(Oe,{className:"text-slate-600 dark:text-slate-400",children:O.price}),o.jsx(Oe,{className:"text-slate-600 dark:text-slate-400",children:O.stock}),o.jsx(Oe,{children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(xn,{variant:O.status==="In Stock"?"success":O.status==="Low Stock"?"warning":"destructive",children:s==="ar"?O.status==="In Stock"?r.ar.status.in:O.status==="Low Stock"?r.ar.status.low:O.status==="Out of Stock"?r.ar.status.out:O.status:O.status}),o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsx(q,{variant:"outline",size:"sm",className:"h-7 px-2 dark:bg-slate-800 dark:border-slate-700 dark:text-slate-300",children:s==="ar"?"":"Change"})}),o.jsxs(Ba,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>$(O.id,"In Stock"),children:s==="ar"?r.ar.status.in:r.en.status.in}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>$(O.id,"Low Stock"),children:s==="ar"?r.ar.status.low:r.en.status.low}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>$(O.id,"Out of Stock"),children:s==="ar"?r.ar.status.out:r.en.status.out})]})]})]})}),o.jsx(Oe,{className:"text-right",children:o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsx(q,{variant:"ghost",className:"h-8 w-8 p-0 text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(fO,{className:"h-4 w-4"})})}),o.jsxs(Ba,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs(Ft,{className:"cursor-pointer gap-2 dark:focus:bg-slate-700 dark:text-slate-200",onClick:()=>K(O),children:[o.jsx(KT,{className:"w-4 h-4"})," ",r[s].actions.edit]}),o.jsxs(Ft,{className:"cursor-pointer text-red-600 dark:text-red-400 gap-2 dark:focus:bg-slate-700",onClick:()=>H(O.id),children:[o.jsx(rd,{className:"w-4 h-4"})," ",r[s].actions.delete]})]})]})})]},O.id)),!x&&y.filter(O=>{var Y;return(Y=O.name)==null?void 0:Y.toLowerCase().includes(m.toLowerCase())}).length===0&&o.jsx(Jn,{children:o.jsx(Oe,{colSpan:6,className:"text-center text-slate-500 dark:text-slate-400",children:r[s].empty})})]})]})}),o.jsx(Sl,{open:d,onOpenChange:h,children:o.jsxs(ao,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:O=>{T&&O.preventDefault()},onEscapeKeyDown:O=>{T&&O.preventDefault()},children:[o.jsxs(oo,{children:[o.jsx(lo,{className:"dark:text-white",children:r[s].addModal.title}),o.jsx(Gu,{children:r[s].addModal.desc})]}),o.jsxs("form",{onSubmit:re,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"name",children:r[s].addModal.name}),o.jsx(ue,{id:"name",placeholder:s==="ar"?":   ":"e.g. Blue Denim Jeans",value:R.name,onChange:O=>S(Y=>({...Y,name:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"price",children:"Price"}),o.jsx(ue,{id:"price",placeholder:"EGP 0.00",value:R.price,onChange:O=>S(Y=>({...Y,price:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"stock",children:r[s].addModal.stock}),o.jsx(ue,{id:"stock",type:"number",placeholder:"0",value:R.stock,onChange:O=>S(Y=>({...Y,stock:Number(O.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"discount",children:r[s].addModal.discount}),o.jsx(ue,{id:"discount",type:"number",min:"0",max:"100",placeholder:"0",value:R.discount,onChange:O=>S(Y=>({...Y,discount:Number(O.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"image",children:r[s].addModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"image",type:"file",accept:"image/*",onChange:ge,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].addModal.imageSizeHint}),T?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].addModal.uploading}):null,R.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:R.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover"}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:"Image selected (Base64)"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"color",children:r[s].addModal.color}),o.jsx(ue,{id:"color",placeholder:": ",value:R.color,onChange:O=>S(Y=>({...Y,color:O.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"size",children:r[s].addModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(O=>o.jsx("div",{onClick:()=>{S(Y=>{const _e=Y.sizes.includes(O)?Y.sizes.filter(Q=>Q!==O):[...Y.sizes,O];return{...Y,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${R.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:X.map(O=>o.jsx("div",{onClick:()=>{S(Y=>{const _e=Y.sizes.includes(O)?Y.sizes.filter(Q=>Q!==O):[...Y.sizes,O];return{...Y,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${R.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"category",children:r[s].addModal.category}),o.jsx("select",{id:"category",value:R.category,onChange:O=>S(Y=>({...Y,category:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:(s==="ar"?r.ar.categories:r.en.categories).map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"status",children:r[s].addModal.status}),o.jsx("select",{id:"status",value:R.status,onChange:O=>S(Y=>({...Y,status:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Nl,{children:o.jsx(q,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})})]})]})}),o.jsx(Sl,{open:_,onOpenChange:v,children:o.jsxs(ao,{className:"dark:bg-slate-900 dark:border-slate-800 max-h-[90vh] overflow-y-auto",onInteractOutside:O=>{j&&O.preventDefault()},onEscapeKeyDown:O=>{j&&O.preventDefault()},children:[o.jsxs(oo,{children:[o.jsx(lo,{children:r[s].editModal.title}),o.jsx(Gu,{children:r[s].editModal.desc})]}),o.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-name",children:r[s].editModal.name}),o.jsx(ue,{id:"edit-name",value:I.name,onChange:O=>A(Y=>({...Y,name:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-price",children:"Price"}),o.jsx(ue,{id:"edit-price",placeholder:"EGP 0.00",value:I.price,onChange:O=>A(Y=>({...Y,price:O.target.value})),required:!0})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-stock",children:r[s].editModal.stock}),o.jsx(ue,{id:"edit-stock",type:"number",value:I.stock,onChange:O=>A(Y=>({...Y,stock:Number(O.target.value)})),required:!0})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-discount",children:r[s].editModal.discount}),o.jsx(ue,{id:"edit-discount",type:"number",min:"0",max:"100",value:I.discount,onChange:O=>A(Y=>({...Y,discount:Number(O.target.value)}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-image",children:r[s].editModal.image}),o.jsx("div",{className:"flex items-center gap-3",children:o.jsx("input",{id:"edit-image",type:"file",accept:"image/*",onChange:nt,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm"})}),o.jsx("p",{className:"text-[11px] text-slate-500 dark:text-slate-400",children:r[s].editModal.imageSizeHint}),j?o.jsx("p",{className:"text-xs text-slate-500",children:r[s].editModal.uploading}):null,I.image?o.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[o.jsx("img",{src:I.image,alt:"Preview",className:"h-20 w-20 rounded-md border object-cover",onError:O=>{O.target.src="https://placehold.co/100x100?text=Broken+Image"}}),o.jsx("p",{className:"text-xs text-teal-600 break-all flex-1",children:I.image.startsWith("data:")?"New Image (Base64)":"Existing Image"})]}):null]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-color",children:r[s].editModal.color}),o.jsx(ue,{id:"edit-color",value:I.color,onChange:O=>A(Y=>({...Y,color:O.target.value}))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-size",children:r[s].editModal.size}),o.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(O=>o.jsx("div",{onClick:()=>{A(Y=>{const _e=Y.sizes.includes(O)?Y.sizes.filter(Q=>Q!==O):[...Y.sizes,O];return{...Y,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${I.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))}),o.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:X.map(O=>o.jsx("div",{onClick:()=>{A(Y=>{const _e=Y.sizes.includes(O)?Y.sizes.filter(Q=>Q!==O):[...Y.sizes,O];return{...Y,sizes:_e}})},className:`cursor-pointer px-3 py-2 border rounded-md text-sm font-medium transition-colors ${I.sizes.includes(O)?"bg-teal-600 text-white border-teal-600":"bg-white dark:bg-slate-800 text-slate-700 dark:text-slate-300 border-slate-300 dark:border-slate-600 hover:border-teal-500"}`,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-category",children:r[s].editModal.category}),o.jsx("select",{id:"edit-category",value:I.category,onChange:O=>A(Y=>({...Y,category:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:M.map(O=>o.jsx("option",{value:O,children:O},O))})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{htmlFor:"edit-status",children:r[s].editModal.status}),o.jsx("select",{id:"edit-status",value:I.status,onChange:O=>A(Y=>({...Y,status:O.target.value})),className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-teal-500",children:s==="ar"?o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.ar.status.in}),o.jsx("option",{value:"Low Stock",children:r.ar.status.low}),o.jsx("option",{value:"Out of Stock",children:r.ar.status.out})]}):o.jsxs(o.Fragment,{children:[o.jsx("option",{value:"In Stock",children:r.en.status.in}),o.jsx("option",{value:"Low Stock",children:r.en.status.low}),o.jsx("option",{value:"Out of Stock",children:r.en.status.out})]})})]}),o.jsx(Nl,{children:o.jsx(q,{type:"submit",className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})})]})]})})]})},Sfe="modulepreload",Nfe=function(t){return"/"+t},tk={},S_=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Nfe(i),i in tk)return;tk[i]=!0;const a=i.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!s)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===i&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":Sfe,a||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),a)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i})},Afe=()=>{const{toast:t}=qt(),{orders:e,loadingOrders:n,setOrders:s}=wN(),[r,i]=g.useState(!1),[a,l]=g.useState([]),c=Fn(),d=new URLSearchParams(c.search).get("store")||"",{language:h="en"}=rr()||{},m={en:{title:"Orders",subtitle:"Track and manage customer orders.",filter:"Filter",table:{id:"Order ID",customer:"Customer",date:"Date",phone:"Phone",address:"Address",status:"Status",items:"Items",total:"Total",actions:"Actions"},status:{delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected",pending:"Pending",processing:"Processing",shipped:"Shipped"},changeStatus:"Change Status",actions:{processing:"Processing",shipped:"Shipped",delivered:"Delivered",cancelled:"Cancelled",rejected:"Rejected"},modal:{title:"Selected Items",close:"Close",empty:"No items in this order",noImage:"No Image",quantity:"Qty:"},toast:{success:"Success",statusUpdated:"Status updated",failed:"Failed",updateFailed:"Could not update status",error:"Error",saveError:"An error occurred while saving"}},ar:{title:"",subtitle:"   .",filter:"",table:{id:" ",customer:"",date:"",phone:"",address:"",status:"",items:"",total:"",actions:""},status:{delivered:" ",cancelled:"",rejected:"",pending:" ",processing:" ",shipped:" "},changeStatus:" ",actions:{processing:" ",shipped:" ",delivered:" ",cancelled:"",rejected:""},modal:{title:" ",close:"",empty:"     ",noImage:" ",quantity:":"},toast:{success:"",statusUpdated:"  ",failed:"",updateFailed:"  ",error:"",saveError:"   "}}},p=async(y,x)=>{let _=!1;try{const{db:v}=await S_(()=>Promise.resolve().then(()=>$se),void 0),b=new Set([y.id]);y.rootOrderId&&b.add(y.rootOrderId);const E=[];b.forEach(A=>{E.push(eo(Ye(v,"orders",A),{status:x}).then(()=>{_=!0}).catch(()=>{}))}),new Set([d,y._storeId,y.storeSubdomain,y.storeId,y.store].map(A=>String(A||"").trim()).filter(Boolean)).forEach(A=>{b.forEach(R=>{E.push(eo(Ye(v,"stores",A,"orders",R),{status:x}).then(()=>{_=!0}).catch(()=>{}))})}),await Promise.all(E),_?(s(A=>A.map(R=>R.id===y.id||R.rootOrderId&&R.rootOrderId===y.id||y.rootOrderId&&R.id===y.rootOrderId?{...R,status:x}:R)),t({title:m[h].toast.success,description:m[h].toast.statusUpdated,variant:"success"})):t({title:m[h].toast.failed,description:m[h].toast.updateFailed,variant:"destructive"})}catch(v){console.error(v),t({title:m[h].toast.error,description:m[h].toast.saveError,variant:"destructive"})}};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:m[h].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:m[h].subtitle})]}),o.jsxs(q,{variant:"outline",className:"gap-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:[o.jsx(vf,{className:"w-4 h-4"})," ",m[h].filter]})]}),o.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-slate-900 rounded-lg border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden transition-colors",children:[o.jsx("div",{className:"overflow-x-auto",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"bg-slate-50 dark:bg-slate-900/50 hover:bg-slate-50 dark:hover:bg-slate-900/50 border-b border-slate-200 dark:border-slate-800",children:[o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.id}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.customer}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.date}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.phone}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.address}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.status}),o.jsx(Be,{className:"whitespace-nowrap dark:text-slate-400",children:m[h].table.items}),o.jsx(Be,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.total}),o.jsx(Be,{className:"whitespace-nowrap text-right dark:text-slate-400",children:m[h].table.actions})]})}),o.jsx(ql,{children:e.map(y=>{var x;return o.jsxs(Jn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[o.jsx(Oe,{className:"font-bold text-teal-600 dark:text-teal-400 whitespace-nowrap",children:y.displayId||y.id.replace(/\D/g,"")||y.id}),o.jsx(Oe,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:y.customer}),o.jsx(Oe,{className:"text-slate-500 dark:text-slate-400 whitespace-nowrap",children:y.date}),o.jsx(Oe,{className:"text-red-600 dark:text-red-400 whitespace-nowrap",children:y.phone}),o.jsx(Oe,{className:"max-w-[220px] truncate text-red-600 dark:text-red-400",children:y.address}),o.jsx(Oe,{className:"whitespace-nowrap",children:o.jsx(xn,{variant:y.status==="Delivered"?"success":y.status==="Cancelled"||y.status==="Rejected"?"destructive":y.status==="Pending"||y.status==="Processing"?"warning":(y.status==="Shipped","secondary"),children:m[h].status[(x=y.status)==null?void 0:x.toLowerCase()]||y.status})}),o.jsx(Oe,{className:"max-w-[260px] truncate whitespace-nowrap",children:o.jsx(q,{variant:"ghost",size:"sm",className:"h-8 px-2 dark:text-slate-300 dark:hover:text-white dark:hover:bg-slate-800",onClick:()=>{l(y.items||[]),i(!0)},children:o.jsx(h0,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})})}),o.jsx(Oe,{className:"text-right font-medium text-red-600 dark:text-red-400 whitespace-nowrap",children:y.total}),o.jsx(Oe,{className:"text-right whitespace-nowrap",children:o.jsxs(sl,{children:[o.jsx(rl,{asChild:!0,children:o.jsx(q,{variant:"outline",size:"sm",className:"h-8 px-2 dark:border-slate-700 dark:text-slate-200 dark:hover:bg-slate-800",children:m[h].changeStatus})}),o.jsxs(Ba,{align:"end",className:"dark:bg-slate-800 dark:border-slate-700",children:[o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await p(y,"Processing")},children:m[h].actions.processing}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await p(y,"Shipped")},children:m[h].actions.shipped}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await p(y,"Delivered")},children:m[h].actions.delivered}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await p(y,"Cancelled")},children:m[h].actions.cancelled}),o.jsx(Ft,{className:"dark:focus:bg-slate-700 dark:text-slate-200",onClick:async()=>{await p(y,"Rejected")},children:m[h].actions.rejected})]})]})})]},y.id)})})]})}),r&&o.jsxs("div",{className:"fixed inset-0 z-50",children:[o.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:()=>i(!1)}),o.jsxs("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-[92vw] max-w-3xl bg-white dark:bg-slate-900 rounded-2xl shadow-xl border dark:border-slate-800 overflow-hidden",children:[o.jsxs("div",{className:"p-6 border-b dark:border-slate-800 flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-bold dark:text-white",children:m[h].modal.title}),o.jsx(q,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"dark:text-slate-400 dark:hover:text-white",children:m[h].modal.close})]}),o.jsx("div",{className:"p-6 max-h-[65vh] overflow-y-auto space-y-4",children:a.length===0?o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:m[h].modal.empty}):a.map((y,x)=>o.jsxs("div",{className:"flex items-center gap-6 border dark:border-slate-800 rounded-xl p-4 dark:bg-slate-900/50",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden border dark:border-slate-700",children:y.image?o.jsx("img",{src:y.image,alt:y.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-sm",children:m[h].modal.noImage})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-base font-semibold dark:text-white",children:y.name||""}),o.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-400",children:[m[h].modal.quantity," ",y.quantity??1]})]}),o.jsx("div",{className:"text-base font-medium dark:text-white",children:y.price||""})]},x))})]})]})]})]})};var Yv="Tabs",[Ife,lpe]=Kr(Yv,[Vv]),U8=Vv(),[Cfe,_N]=Ife(Yv),F8=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:i,orientation:a="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Pv(l),[h,m]=kl({prop:s,onChange:r,defaultProp:i??"",caller:Yv});return o.jsx(Cfe,{scope:n,baseId:nl(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:c,children:o.jsx(Le.div,{dir:d,"data-orientation":a,...u,ref:e})})});F8.displayName=Yv;var B8="TabsList",z8=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:s=!0,...r}=t,i=_N(B8,n),a=U8(n);return o.jsx(nU,{asChild:!0,...a,orientation:i.orientation,dir:i.dir,loop:s,children:o.jsx(Le.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:e})})});z8.displayName=B8;var $8="TabsTrigger",q8=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...i}=t,a=_N($8,n),l=U8(n),c=K8(a.baseId,s),u=W8(a.baseId,s),d=s===a.value;return o.jsx(sU,{asChild:!0,...l,focusable:!r,active:d,children:o.jsx(Le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:c,...i,ref:e,onMouseDown:he(t.onMouseDown,h=>{!r&&h.button===0&&h.ctrlKey===!1?a.onValueChange(s):h.preventDefault()}),onKeyDown:he(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(s)}),onFocus:he(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!r&&h&&a.onValueChange(s)})})})});q8.displayName=$8;var H8="TabsContent",G8=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:s,forceMount:r,children:i,...a}=t,l=_N(H8,n),c=K8(l.baseId,s),u=W8(l.baseId,s),d=s===l.value,h=g.useRef(d);return g.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),o.jsx(vr,{present:r||d,children:({present:m})=>o.jsx(Le.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&i})})});G8.displayName=H8;function K8(t,e){return`${t}-trigger-${e}`}function W8(t,e){return`${t}-content-${e}`}var jfe=F8,Y8=z8,Q8=q8,X8=G8;const TN=jfe,Qv=g.forwardRef(({className:t,...e},n)=>o.jsx(Y8,{ref:n,className:pe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Qv.displayName=Y8.displayName;const cr=g.forwardRef(({className:t,...e},n)=>o.jsx(Q8,{ref:n,className:pe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));cr.displayName=Q8.displayName;const ur=g.forwardRef(({className:t,...e},n)=>o.jsx(X8,{ref:n,className:pe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ur.displayName=X8.displayName;const Rfe=()=>{const{toast:t}=qt(),{language:e="en",currentUser:n}=rr()||{},s=Fn(),i=new URLSearchParams(s.search).get("store"),[a,l]=g.useState(""),[c,u]=g.useState("en"),[d,h]=g.useState(""),[m,p]=g.useState("default"),[y,x]=g.useState(""),[_,v]=g.useState(!1);g.useEffect(()=>{i&&sr(Ye(de,"stores",i)).then(A=>{if(A.exists()){const R=A.data();l(R.whatsappNumber||""),u(R.storeLanguage||"en"),h(R.name||""),p(R.template||"default"),x(R.customDomain||"")}})},[i]);const b={en:{title:"Store Settings",subtitle:"Configure your store's payment and shipping methods.",tabs:{general:"General",payment:"Payment Methods",shipping:"Shipping Options",contact:"Contact Info",domain:"Domain"},general:{title:"General Settings",desc:"Basic configuration for your store.",email:"Email Address",language:"Store Language",name:"Store Name",template:"Store Template",templates:{default:"Default Standard",mobile:"Mobile Services & Digital",spare_parts:"Spare Parts & Hardware",restaurant:"Restaurant & Cafe",digital:"Digital Products",mobile_pro:"Mobile World",fashion_luxury:"Luxury Fashion",cards_digital:"Cards & Digital"},ar:"Arabic",en:"English"},domain:{title:"Custom Domain",desc:"Connect your own domain to your store.",label:"Domain Name",placeholder:"e.g. example.com",instructions:"Instructions",dnsStep:"Add a CNAME record in your DNS settings:",host:"Host",value:"Value",save:"Save Domain"},acceptPayments:{title:"Accept Payments",desc:"Setup how you want to receive money from customers."},paymob:{title:"Paymob Integration",desc:"Credit cards, wallets, and installments.",connect:"Connect"},stripe:{title:"Stripe",desc:"Accept international payments securely.",connect:"Connect"},cod:{title:"Cash on Delivery (COD)",desc:"Allow customers to pay when they receive the order.",fee:"Additional Fee (Optional)"},shippingMethods:{title:"Shipping Methods",desc:"Define how you deliver products."},flatRate:{label:"Flat Rate Shipping",hint:"Standard fee for all orders."},freeThreshold:{label:"Free Shipping Threshold",hint:"Free shipping for orders above this amount."},integrations:{title:"Integrations",bosta:{title:"Bosta Shipping",desc:"Automated shipping and tracking.",configure:"Configure"}},contact:{title:"Contact Information",desc:"Manage how customers can reach you.",whatsapp:"WhatsApp Number"},save:"Save Changes",toastSaved:{title:"Settings Saved",desc:"Your store settings have been updated."}},ar:{title:" ",subtitle:"    .",tabs:{payment:" ",shipping:" ",contact:" ",general:"",domain:""},general:{title:" ",desc:"  .",email:" ",language:" ",name:" ",template:" ",templates:{default:" ",mobile:"  ",mobile_pro:"  ",spare_parts:"  ",restaurant:" ",digital:"  ",fashion_luxury:"  ",cards_digital:"  "},ar:"",en:""},domain:{title:" ",desc:"   .",label:" ",placeholder:": example.com",instructions:" ",dnsStep:"  CNAME   DNS  :",host:" (Host)",value:" (Value)",save:" "},acceptPayments:{title:" ",desc:"     ."},paymob:{title:" Paymob",desc:"   .",connect:""},stripe:{title:"Stripe",desc:"   .",connect:""},cod:{title:"  ",desc:"     .",fee:"  ()"},shippingMethods:{title:" ",desc:"   ."},flatRate:{label:"  ",hint:"   ."},freeThreshold:{label:"  ",hint:"     ."},integrations:{title:"",bosta:{title:"Bosta ",desc:"  .",configure:""}},contact:{title:" ",desc:"     .",whatsapp:" "},save:" ",toastSaved:{title:"  ",desc:"   ."}}},E=async()=>{if(i){v(!0);try{await eo(Ye(de,"stores",i),{whatsappNumber:a,storeLanguage:c,name:d,template:m,customDomain:y.trim().toLowerCase()}),t({title:b[e].toastSaved.title,description:b[e].toastSaved.desc,variant:"success"})}catch(A){console.error("Error saving settings:",A),t({title:"Error",description:"Failed to save settings.",variant:"destructive"})}finally{v(!1)}}},I={}.VITE_MAIN_DOMAIN||"naweshop.com";return o.jsxs("div",{className:"space-y-6 max-w-4xl",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:b[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:b[e].subtitle})]}),o.jsxs(TN,{defaultValue:"general",className:"w-full",children:[o.jsxs(Qv,{className:"grid w-full grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 h-auto gap-2 max-w-[900px] mb-8 dark:bg-slate-800 p-1",children:[o.jsx(cr,{value:"general",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:b[e].tabs.general}),o.jsx(cr,{value:"domain",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:b[e].tabs.domain}),o.jsx(cr,{value:"payment",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:b[e].tabs.payment}),o.jsx(cr,{value:"shipping",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:b[e].tabs.shipping}),o.jsx(cr,{value:"contact",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:b[e].tabs.contact})]}),o.jsx(ur,{value:"general",className:"space-y-6",children:o.jsxs(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-slate-100 dark:bg-slate-800 rounded-lg",children:o.jsx(o1,{className:"w-5 h-5 text-slate-600 dark:text-slate-400"})}),o.jsxs("div",{children:[o.jsx(Et,{className:"dark:text-white",children:b[e].general.title}),o.jsx(cn,{className:"dark:text-slate-400",children:b[e].general.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].general.email}),o.jsx(ue,{value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-slate-100 dark:bg-slate-900 dark:border-slate-700 dark:text-slate-400 cursor-not-allowed"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].general.name}),o.jsx(ue,{value:d,onChange:A=>h(A.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].general.template}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:m,onChange:A=>p(A.target.value),children:[o.jsx("option",{value:"default",children:b[e].general.templates.default}),o.jsx("option",{value:"mobile",children:b[e].general.templates.mobile}),o.jsx("option",{value:"mobile_pro",children:b[e].general.templates.mobile_pro}),o.jsx("option",{value:"spare_parts",children:b[e].general.templates.spare_parts}),o.jsx("option",{value:"restaurant",children:b[e].general.templates.restaurant}),o.jsx("option",{value:"digital",children:b[e].general.templates.digital}),o.jsx("option",{value:"fashion_luxury",children:b[e].general.templates.fashion_luxury}),o.jsx("option",{value:"cards_digital",children:b[e].general.templates.cards_digital})]})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].general.language}),o.jsxs("select",{className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background dark:bg-slate-800 dark:border-slate-700 px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:text-white",value:c,onChange:A=>u(A.target.value),children:[o.jsx("option",{value:"en",children:b[e].general.en}),o.jsx("option",{value:"ar",children:b[e].general.ar})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(q,{onClick:E,disabled:_,className:"bg-teal-600 hover:bg-teal-700 text-white",children:_?"Saving...":b[e].general.title===" "?" ":"Save Changes"})})]})]})}),o.jsx(ur,{value:"domain",className:"space-y-6",children:o.jsxs(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-indigo-100 dark:bg-indigo-900/20 rounded-lg",children:o.jsx(Ya,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),o.jsxs("div",{children:[o.jsx(Et,{className:"dark:text-white",children:b[e].domain.title}),o.jsx(cn,{className:"dark:text-slate-400",children:b[e].domain.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].domain.label}),o.jsx(ue,{value:y,onChange:A=>x(A.target.value),placeholder:b[e].domain.placeholder,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e==="ar"?"   http://  https://":"Enter domain without http:// or https://"})]}),o.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[o.jsx("h4",{className:"font-semibold text-slate-900 dark:text-white mb-2",children:b[e].domain.instructions}),o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-3",children:b[e].domain.dnsStep}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{className:"p-2 bg-white dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"block text-xs text-slate-500",children:b[e].domain.host}),o.jsx("code",{className:"font-mono text-slate-800 dark:text-slate-200",children:"@"})]}),o.jsxs("div",{className:"p-2 bg-white dark:bg-slate-900 rounded border border-slate-200 dark:border-slate-700",children:[o.jsx("span",{className:"block text-xs text-slate-500",children:b[e].domain.value}),o.jsx("code",{className:"font-mono text-slate-800 dark:text-slate-200",children:I})]})]})]}),o.jsx("div",{className:"flex justify-end pt-4",children:o.jsx(q,{onClick:E,disabled:_,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:_?"Saving...":b[e].domain.save})})]})]})}),o.jsx(ur,{value:"contact",className:"space-y-6",children:o.jsxs(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900/20 rounded-lg",children:o.jsx(GT,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),o.jsxs("div",{children:[o.jsx(Et,{className:"dark:text-white",children:b[e].contact.title}),o.jsx(cn,{className:"dark:text-slate-400",children:b[e].contact.desc})]})]})}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].contact.whatsapp}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsx(ue,{placeholder:"e.g. +201xxxxxxxxx",value:a,onChange:A=>l(A.target.value),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:e==="ar"?"      (: +20...)":"Enter full number with country code (e.g. +20...)"})]})})]})}),o.jsx(ur,{value:"payment",className:"space-y-6",children:o.jsxs(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-teal-100 dark:bg-teal-900/20 rounded-lg",children:o.jsx(KG,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})}),o.jsxs("div",{children:[o.jsx(Et,{className:"dark:text-white",children:b[e].acceptPayments.title}),o.jsx(cn,{className:"dark:text-slate-400",children:b[e].acceptPayments.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-slate-100 dark:bg-slate-800 rounded flex items-center justify-center font-bold text-slate-600 dark:text-slate-400",children:"Pay"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:b[e].paymob.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:b[e].paymob.desc})]})]}),o.jsx(q,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:b[e].paymob.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-50 dark:bg-blue-900/20 rounded flex items-center justify-center font-bold text-blue-600 dark:text-blue-400",children:"S"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:b[e].stripe.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:b[e].stripe.desc})]})]}),o.jsx(q,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:b[e].stripe.connect})]}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-green-50 dark:bg-green-900/20 rounded flex items-center justify-center font-bold text-green-600 dark:text-green-400",children:"$"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:b[e].cod.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:b[e].cod.desc})]})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",className:"w-4 h-4 text-teal-600 rounded border-gray-300 dark:border-slate-600 focus:ring-teal-500 dark:bg-slate-700",defaultChecked:!0})})]}),o.jsxs("div",{className:"pl-14",children:[o.jsx(se,{className:"text-xs dark:text-slate-400",children:b[e].cod.fee}),o.jsx(ue,{className:"max-w-[150px] mt-1 dark:bg-slate-800 dark:border-slate-700 dark:text-white",placeholder:"e.g. 10 EGP"})]})]})]})]})}),o.jsx(ur,{value:"shipping",className:"space-y-6",children:o.jsxs(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(Tt,{children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:o.jsx(Ya,{className:"w-5 h-5 text-orange-600 dark:text-orange-400"})}),o.jsxs("div",{children:[o.jsx(Et,{className:"dark:text-white",children:b[e].shippingMethods.title}),o.jsx(cn,{className:"dark:text-slate-400",children:b[e].shippingMethods.desc})]})]})}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid gap-4",children:[o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].flatRate.label}),o.jsx(ue,{placeholder:"e.g. 50.00",defaultValue:"50.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:b[e].flatRate.hint})]}),o.jsxs("div",{className:"grid gap-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:b[e].freeThreshold.label}),o.jsx(ue,{placeholder:"e.g. 1000.00",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:b[e].freeThreshold.hint})]})]}),o.jsxs("div",{className:"border-t dark:border-slate-800 pt-6",children:[o.jsx("h4",{className:"font-medium mb-4 dark:text-white",children:b[e].integrations.title}),o.jsxs("div",{className:"border dark:border-slate-700 rounded-lg p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 bg-red-50 dark:bg-red-900/20 rounded flex items-center justify-center font-bold text-red-600 dark:text-red-400",children:"B"}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium dark:text-white",children:b[e].integrations.bosta.title}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:b[e].integrations.bosta.desc})]})]}),o.jsx(q,{variant:"outline",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:b[e].integrations.bosta.configure})]})]})]})]})})]}),o.jsx("div",{className:"flex justify-end",children:o.jsxs(q,{onClick:E,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[150px]",children:[o.jsx(o1,{className:"w-4 h-4 mr-2"})," ",b[e].save]})})]})},Pfe=()=>{const{toast:t}=qt(),{language:e="en"}=rr()||{},n={en:{title:"Banners",subtitle:"Edit the storefront banners and popups.",tabs:{hero:"Hero Banner",popup:"Welcome Popup"},form:{title:"Title",subtitle:"Subtitle",cta:"CTA Text",bgUrl:"Banner Images",uploadBtn:"Add Image",uploading:"Uploading...",save:"Save Changes",saving:"Saving...",sizeHint:"Recommended size: 1920720 (10MB)",popupEnabled:"Enable Welcome Popup",popupTitle:"Popup Title",popupText:"Popup Message",popupImage:"Popup Image",popupSizeHint:"Recommended size: 800x600 (10MB)",popupDesc:"Show a popup to visitors when they first visit your store",popupTitlePh:"e.g. Welcome to our Store!",popupTextPh:"e.g. Sign up for our newsletter to get 10% off."},toast:{saveOk:"Settings saved successfully",saveErr:"Failed to save settings",uploadOk:"Image uploaded successfully",uploadErr:"Image upload failed. Check Storage config.",sizeWarn:"Image resolution is low. Use ~1920720 for best quality.",noStore:"No store selected. Please create a store first."},preview:{title:"Preview Title",subtitle:"Preview subtitle",cta:"CTA",welcome:"Welcome!",previewMsg:"This is a preview of your popup message.",gotIt:"Got it",disabled:"Popup is disabled",enableToSee:"Enable it to see a preview",noImg:"No Img"}},ar:{title:"",subtitle:"     .",tabs:{hero:" ",popup:" "},form:{title:"",subtitle:"",cta:"  ",bgUrl:" ",uploadBtn:" ",uploading:" ...",save:" ",saving:" ...",sizeHint:"  : 1920720 (10MB)",popupEnabled:"  ",popupTitle:" ",popupText:" ",popupImage:" ",popupSizeHint:"  : 800x600 (10MB)",popupDesc:"       ",popupTitlePh:":    !",popupTextPh:":        10%."},toast:{saveOk:"   ",saveErr:"  ",uploadOk:"   ",uploadErr:"  .    .",sizeWarn:"  .   1920720  .",noStore:"   .    ."},preview:{title:" ",subtitle:" ",cta:"",welcome:"!",previewMsg:"   .",gotIt:"",disabled:" ",enableToSee:"  ",noImg:" "}}},[s,r]=g.useState(""),[i,a]=g.useState(""),[l,c]=g.useState(""),[u,d]=g.useState([]),[h,m]=g.useState({x:50,y:50}),[p,y]=g.useState(0);g.useEffect(()=>{if(u.length<=1)return;const Q=setInterval(()=>{y(fe=>(fe+1)%u.length)},1e3);return()=>clearInterval(Q)},[u]);const[x,_]=g.useState(!1),[v,b]=g.useState(""),[E,I]=g.useState(""),[A,R]=g.useState(""),[S,T]=g.useState(!1),[C,j]=g.useState(!1),P=g.useRef(null),M=g.useRef(null),k=Fn(),F=g.useMemo(()=>new URLSearchParams(k.search),[k.search]),[X,U]=g.useState(F.get("store")||"");g.useEffect(()=>{let Q;const fe=async oe=>{try{let ve=X;if(!ve&&oe){const B=ls(it(de,"stores"),ws("ownerUid","==",oe)),le=await jm(B);le.empty||(ve=le.docs[0].id,U(ve))}if(!ve)return;const qe=Ye(de,"stores",ve,"banners","default"),et=await sr(qe);if(et.exists()){const B=et.data();r(B.title||""),a(B.subtitle||""),c(B.ctaText||"");let le=B.bannerImages||[];if(le.length===0&&B.backgroundImageUrl){const De=B.backgroundImageUrl;De.includes("supabase")||(le=[De])}d(le),m(B.bannerPos||{x:50,y:50}),_(B.popupEnabled||!1),b(B.popupTitle||""),I(B.popupText||"");const Ie=B.popupImage||"";R(Ie.includes("supabase")?"":Ie)}else ve==="car"||(r("Summer Collection 2025"),a("Discover the latest trends in fashion and accessories. Quality that speaks for itself."),c("Shop Now"))}catch(ve){console.error("Load error:",ve)}};return Q=Bi(Dt,oe=>{oe&&fe(oe.uid)}),()=>Q()},[X]);const H=async()=>{if(!X){t({title:n[e].toast.saveErr,description:n[e].toast.noStore});return}T(!0);try{const Q=Ye(de,"stores",X,"banners","default"),fe={title:s||"",subtitle:i||"",ctaText:l||"",bannerImages:u,backgroundImageUrl:u[0]||"",bannerPos:h,popupEnabled:x||!1,popupTitle:v||"",popupText:E||"",popupImage:A||"",updatedAt:Date.now()};await Ll(Q,fe,{merge:!0}),t({title:n[e].toast.saveOk})}catch(Q){console.error("Error saving banner:",Q);let fe=Q.message;Q.code==="permission-denied"&&(fe=e==="ar"?"     .":"You do not have permission to edit this store."),t({title:n[e].toast.saveErr,description:fe})}finally{T(!1)}},$=async(Q,fe)=>{var ve;const oe=(ve=Q.target.files)==null?void 0:ve[0];if(oe){if(oe.size>10*1024*1024){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .      10 .":"Image too large. Must be under 10MB."});return}if(!X){t({title:n[e].toast.uploadErr,description:e==="ar"?"   .":"No store selected."});return}j(!0);try{const qe=await yf(oe);fe===d?d(et=>[...et,qe]):fe(qe),t({title:n[e].toast.uploadOk})}catch(qe){console.error("Conversion error:",qe),t({title:n[e].toast.uploadErr,description:qe.message})}finally{j(!1),Q.target.value=""}}},[K,ee]=g.useState(!1),re=g.useRef({x:0,y:0}),ge=g.useRef({x:50,y:50}),nt=g.useRef(null),O=Q=>{Q.preventDefault(),ee(!0),re.current={x:Q.clientX,y:Q.clientY},ge.current={...h}},Y=Q=>{if(!K)return;const fe=nt.current;if(!fe)return;const oe=Q.clientX-re.current.x,ve=Q.clientY-re.current.y,qe=oe/fe.offsetWidth*100,et=ve/fe.offsetHeight*100;let B=ge.current.x-qe,le=ge.current.y-et;B=Math.max(0,Math.min(100,B)),le=Math.max(0,Math.min(100,le)),m({x:B,y:le})},_e=()=>{ee(!1)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white",children:n[e].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400 mt-2",children:n[e].subtitle})]}),o.jsx(q,{onClick:H,disabled:S,className:"bg-teal-600 hover:bg-teal-700 text-white min-w-[120px]",children:S?n[e].form.saving:n[e].form.save})]}),o.jsxs(TN,{defaultValue:"hero",className:"w-full",children:[o.jsxs(Qv,{className:"grid w-full grid-cols-2 max-w-[400px] dark:bg-slate-800",children:[o.jsx(cr,{value:"hero",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.hero}),o.jsx(cr,{value:"popup",className:"dark:data-[state=active]:bg-slate-700 dark:text-slate-300",children:n[e].tabs.popup})]}),o.jsx(ur,{value:"hero",className:"space-y-6 mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-6 space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.title}),o.jsx(ue,{value:s,onChange:Q=>r(Q.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.subtitle}),o.jsx(ue,{value:i,onChange:Q=>a(Q.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.cta}),o.jsx(ue,{value:l,onChange:Q=>c(Q.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700"})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.bgUrl}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 mt-2",children:[u.map((Q,fe)=>o.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-slate-200 dark:border-slate-700 group",children:[o.jsx("img",{src:Q,alt:`Banner ${fe}`,className:"w-full h-full object-cover"}),o.jsxs(q,{variant:"destructive",size:"icon",className:"absolute top-2 right-2 w-8 h-8 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>d(oe=>oe.filter((ve,qe)=>qe!==fe)),children:[o.jsx("span",{className:"sr-only",children:"Delete"}),o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[o.jsx("path",{d:"M3 6h18"}),o.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),o.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]})]})]},fe)),o.jsxs("div",{className:"flex flex-col items-center justify-center border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-lg aspect-video cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-800 transition-colors",onClick:()=>{var Q;return(Q=P.current)==null?void 0:Q.click()},children:[o.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-slate-400 dark:text-slate-500 mb-2",children:[o.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),o.jsx("polyline",{points:"17 8 12 3 7 8"}),o.jsx("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]}),o.jsx("span",{className:"text-sm text-slate-500 dark:text-slate-400 font-medium",children:C?n[e].form.uploading:n[e].form.uploadBtn})]})]}),o.jsx("div",{className:"hidden",children:o.jsx("input",{ref:P,type:"file",accept:"image/*",onChange:Q=>$(Q,d)})}),o.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:n[e].form.sizeHint})]})]})}),o.jsxs(ae.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[o.jsx("div",{className:"rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700",children:o.jsxs("div",{ref:nt,onMouseDown:O,onMouseMove:Y,onMouseUp:_e,onMouseLeave:_e,className:"relative p-8 md:p-12 text-white transition-all duration-1000 ease-in-out",style:{backgroundImage:u.length>0?`url(${u[p]})`:"linear-gradient(to left, rgba(13,148,136,0.2), transparent)",backgroundSize:"cover",backgroundPosition:`${h.x}% ${h.y}%`,minHeight:220,cursor:K?"grabbing":"grab"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg pointer-events-none",children:[o.jsx("h2",{className:"text-3xl md:text-5xl font-extrabold mb-4 drop-shadow-md",children:s||n[e].preview.title}),o.jsx("p",{className:"text-slate-100 mb-6 text-lg font-medium drop-shadow-sm",children:i||n[e].preview.subtitle}),o.jsx(q,{className:"bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-400 hover:to-emerald-500 text-white px-6 py-2 h-auto rounded-full shadow-lg border border-white/20",children:l||n[e].preview.cta})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-slate-900/70 to-transparent pointer-events-none"})]})}),o.jsx("p",{className:"text-xs text-center text-slate-400 dark:text-slate-500 mt-2",children:e==="ar"?"    ":"Drag image to adjust position"})]})]})}),o.jsx(ur,{value:"popup",className:"mt-6",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Qe,{className:"dark:bg-slate-900 dark:border-slate-800",children:o.jsxs(Xe,{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-slate-50 dark:bg-slate-800 dark:border-slate-700",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-base font-medium dark:text-slate-200",children:n[e].form.popupEnabled}),o.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:n[e].form.popupDesc})]}),o.jsx("div",{className:"flex items-center h-6",children:o.jsx("input",{type:"checkbox",checked:x,onChange:Q=>_(Q.target.checked),className:"w-5 h-5 text-teal-600 rounded focus:ring-teal-500 border-gray-300 dark:border-slate-600 dark:bg-slate-700"})})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.popupTitle}),o.jsx(ue,{value:v,onChange:Q=>b(Q.target.value),className:"bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white dark:border-slate-700",placeholder:n[e].form.popupTitlePh})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.popupText}),o.jsx("textarea",{value:E,onChange:Q=>I(Q.target.value),className:"flex min-h-[80px] w-full rounded-md border border-input bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-white px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-700",placeholder:n[e].form.popupTextPh})]}),o.jsxs("div",{children:[o.jsx(se,{className:"dark:text-slate-200",children:n[e].form.popupImage}),o.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-100 dark:bg-slate-800 rounded-md overflow-hidden border dark:border-slate-700",children:A?o.jsx("img",{src:A,alt:"Popup",className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-xs text-slate-400 dark:text-slate-500",children:n[e].preview.noImg})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("input",{ref:M,type:"file",accept:"image/*",onChange:Q=>$(Q,R),className:"hidden"}),o.jsx(q,{disabled:C,variant:"outline",size:"sm",onClick:()=>{var Q;return(Q=M.current)==null?void 0:Q.click()},className:"w-full dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:C?n[e].form.uploading:n[e].form.uploadBtn}),o.jsx("p",{className:"text-[10px] text-slate-500 dark:text-slate-400 mt-1",children:n[e].form.popupSizeHint})]})]})]})]})}),o.jsx("div",{className:"flex items-center justify-center bg-slate-100/50 rounded-xl border border-dashed border-slate-300 p-6 min-h-[400px]",children:x?o.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-2xl overflow-hidden max-w-sm w-full",children:[A&&o.jsx("div",{className:"h-40 w-full bg-slate-100 relative",children:o.jsx("img",{src:A,alt:"Popup",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 text-center",children:[o.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:v||n[e].preview.welcome}),o.jsx("p",{className:"text-slate-600 text-sm mb-6",children:E||n[e].preview.previewMsg}),o.jsx(q,{className:"w-full bg-teal-600 text-white",children:n[e].preview.gotIt})]})]}):o.jsxs("div",{className:"text-center text-slate-400",children:[o.jsx("p",{children:n[e].preview.disabled}),o.jsx("p",{className:"text-sm",children:n[e].preview.enableToSee})]})})]})})]})]})},kfe=()=>{const{toast:t}=qt(),e=Fn(),n=Ot(),{language:s="en"}=rr()||{},r={en:{title:"Categories",subtitle:"Manage your store's product categories.",addCategory:"Add Category",table:{name:"Name",image:"Image",actions:"Actions"},actions:{edit:"Edit",delete:"Delete"},empty:"No categories found",addModal:{title:"Add New Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Category"},editModal:{title:"Edit Category",name:"Category Name",image:"Category Image (optional)",uploading:"Uploading...",save:"Save Changes"}},ar:{title:"",subtitle:"   .",addCategory:" ",table:{name:"",image:"",actions:""},actions:{edit:"",delete:""},empty:"  ",addModal:{title:"  ",name:" ",image:"  ()",uploading:" ...",save:" "},editModal:{title:" ",name:" ",image:"  ()",uploading:" ...",save:" "}}},a=new URLSearchParams(e.search).get("store"),[l,c]=g.useState([]),[u,d]=g.useState(!0),[h,m]=g.useState(!1),[p,y]=g.useState(!1),[x,_]=g.useState(null),[v,b]=g.useState({name:"",image:""}),[E,I]=g.useState(!1);g.useEffect(()=>{let j;return Bi(Dt,async P=>{if(!P)return;const M=ls(it(de,"stores"),ws("ownerUid","==",P.uid));Gt(M,k=>{const F=k.docs[0];if(F!=null&&F.id&&!a){n(`/dashboard/categories?store=${F.id}`,{replace:!0});return}if(a){const X=it(de,"stores",a,"categories");j=Gt(X,U=>{const H=U.docs.map($=>({id:$.id,...$.data()}));c(H),d(!1)})}})}),()=>{j&&j()}},[a,n]);const A=async j=>{const P=j.target.files[0];if(P){if(P.size>2*1024*1024){t({title:"Error",description:"Image too large (max 2MB)",variant:"destructive"});return}I(!0);try{const M=await yf(P);b(k=>({...k,image:M}))}catch{t({title:"Error",description:"Failed to upload image",variant:"destructive"})}finally{I(!1)}}},R=async()=>{var j;if(!(!((j=v.name)!=null&&j.trim())||!a))try{await Lu(it(de,"stores",a,"categories"),{name:v.name.trim(),image:v.image,createdAt:Date.now()}),m(!1),b({name:"",image:""}),t({title:r[s].addModal.save,description:"Success"})}catch(P){t({title:"Error",description:P.message,variant:"destructive"})}},S=async()=>{if(!(!x||!a))try{await eo(Ye(de,"stores",a,"categories",x),{name:v.name.trim(),image:v.image}),y(!1),_(null),b({name:"",image:""}),t({title:r[s].editModal.save,description:"Success"})}catch(j){t({title:"Error",description:j.message,variant:"destructive"})}},T=async j=>{if(a&&window.confirm("Are you sure?"))try{await vv(Ye(de,"stores",a,"categories",j)),t({title:"Deleted",description:"Category removed"})}catch(P){t({title:"Error",description:P.message,variant:"destructive"})}},C=j=>{_(j.id),b({name:j.name,image:j.image||""}),y(!0)};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-slate-900 dark:text-white",children:r[s].title}),o.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:r[s].subtitle})]}),o.jsxs(q,{onClick:()=>{b({name:"",image:""}),m(!0)},className:"bg-teal-600 hover:bg-teal-700 text-white gap-2",children:[o.jsx(Oa,{className:"w-4 h-4"}),r[s].addCategory]})]}),o.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl shadow-sm border border-slate-200 dark:border-slate-800 overflow-hidden",children:o.jsxs(zl,{children:[o.jsx($l,{children:o.jsxs(Jn,{className:"border-b border-slate-200 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.image}),o.jsx(Be,{className:"dark:text-slate-400",children:r[s].table.name}),o.jsx(Be,{className:"text-right dark:text-slate-400",children:r[s].table.actions})]})}),o.jsx(ql,{children:l.length===0?o.jsx(Jn,{children:o.jsx(Oe,{colSpan:3,className:"text-center py-12 text-slate-500 dark:text-slate-400",children:r[s].empty})}):l.map(j=>o.jsxs(Jn,{className:"border-b border-slate-100 dark:border-slate-800 hover:bg-slate-50 dark:hover:bg-slate-800/50",children:[o.jsx(Oe,{children:o.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-100 dark:bg-slate-800 overflow-hidden",children:j.image?o.jsx("img",{src:j.image,alt:j.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs",children:"IMG"})})}),o.jsx(Oe,{className:"font-medium text-slate-900 dark:text-slate-100",children:j.name||o.jsx("span",{className:"text-red-500 italic",children:"No Name"})}),o.jsx(Oe,{className:"text-right",children:o.jsxs("div",{className:"flex items-center justify-end gap-2",children:[o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>C(j),className:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:o.jsx(KT,{className:"w-4 h-4"})}),o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>T(j.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:o.jsx(rd,{className:"w-4 h-4"})})]})})]},j.id))})]})}),o.jsx(Sl,{open:h,onOpenChange:m,children:o.jsxs(ao,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(oo,{children:o.jsx(lo,{className:"dark:text-white",children:r[s].addModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r[s].addModal.name}),o.jsx(ue,{value:v.name,onChange:j=>b(P=>({...P,name:j.target.value})),placeholder:"e.g. Electronics",className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r[s].addModal.image}),o.jsx(ue,{type:"file",accept:"image/*",onChange:A,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),E&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].addModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Nl,{children:[o.jsx(q,{variant:"outline",onClick:()=>m(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(q,{onClick:R,disabled:!v.name||E,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].addModal.save})]})]})}),o.jsx(Sl,{open:p,onOpenChange:y,children:o.jsxs(ao,{className:"dark:bg-slate-900 dark:border-slate-800",children:[o.jsx(oo,{children:o.jsx(lo,{className:"dark:text-white",children:r[s].editModal.title})}),o.jsxs("div",{className:"space-y-4 py-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r[s].editModal.name}),o.jsx(ue,{value:v.name,onChange:j=>b(P=>({...P,name:j.target.value})),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"dark:text-slate-200",children:r[s].editModal.image}),o.jsx(ue,{type:"file",accept:"image/*",onChange:A,className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white"}),E&&o.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:r[s].editModal.uploading}),v.image&&o.jsx("div",{className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-lg overflow-hidden mt-2",children:o.jsx("img",{src:v.image,alt:"Preview",className:"w-full h-full object-cover"})})]})]}),o.jsxs(Nl,{children:[o.jsx(q,{variant:"outline",onClick:()=>y(!1),className:"dark:bg-slate-800 dark:border-slate-700 dark:text-white dark:hover:bg-slate-700",children:"Cancel"}),o.jsx(q,{onClick:S,disabled:!v.name||E,className:"bg-teal-600 hover:bg-teal-700 text-white",children:r[s].editModal.save})]})]})})]})},Dfe=()=>{const[t,e]=g.useState(null),[n,s]=g.useState(null),[r,i]=g.useState(!0);if(g.useEffect(()=>{const u=Dt.onAuthStateChanged(d=>{if(d){console.log("Current User ID:",d.uid);const h=Gt(Ye(de,"users",d.uid),m=>{m.exists()?(console.log("Full user data:",m.data()),s(m.data()),e(m.data().subscription)):(console.log("User document does not exist! Creating default..."),Ll(Ye(de,"users",d.uid),{uid:d.uid,email:d.email,name:d.displayName||"User",role:"user",status:"pending",createdAt:Df(),subscription:{plan:"free",isActive:!1,startDate:null,endDate:null}},{merge:!0}).then(()=>console.log("Default user document created")).catch(p=>console.error("Error creating default doc:",p)),s(null)),i(!1)});return()=>h()}else i(!1)});return()=>u()},[]),r)return o.jsx("div",{className:"p-8",children:"Loading..."});if(!t||!t.isActive)return o.jsx("div",{className:"p-8",children:o.jsx(Qe,{className:"max-w-md mx-auto",children:o.jsxs(Tt,{children:[o.jsx(Et,{className:"text-red-600",children:"   "}),o.jsx(cn,{children:"     ."})]})})});const a={monthly:" ",quarterly:"  ",yearly:" ",lifetime:"  "},l=u=>u?(u.seconds?new Date(u.seconds*1e3):new Date(u)).toLocaleDateString("ar-EG"):" ",c=()=>{if(t.plan==="lifetime")return" ";if(!t.endDate)return" ";const u=t.endDate.seconds?new Date(t.endDate.seconds*1e3):new Date(t.endDate),d=new Date,h=u-d,m=Math.ceil(h/(1e3*60*60*24));return d>u?"":`${m} `};return o.jsxs("div",{className:"p-6 space-y-6",dir:"rtl",children:[o.jsx("h1",{className:"text-3xl font-bold text-slate-900 mb-8",children:" "}),o.jsxs("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[o.jsxs(Qe,{className:"bg-gradient-to-br from-indigo-500 to-purple-600 text-white border-none shadow-lg",children:[o.jsx(Tt,{children:o.jsxs(Et,{className:"flex items-center gap-2",children:[o.jsx(vu,{className:"w-6 h-6"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold",children:a[t.plan]||t.plan}),o.jsx("div",{className:"mt-2 opacity-90",children:" : "})]})]}),o.jsxs(Qe,{children:[o.jsx(Tt,{children:o.jsxs(Et,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(BT,{className:"w-5 h-5"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:c()}),o.jsxs("div",{className:"mt-2 text-slate-500",children:[" : ",l(t.endDate)]})]})]}),o.jsxs(Qe,{children:[o.jsx(Tt,{children:o.jsxs(Et,{className:"flex items-center gap-2 text-slate-700",children:[o.jsx(jG,{className:"w-5 h-5"})," "]})}),o.jsxs(Xe,{children:[o.jsx("div",{className:"text-3xl font-bold text-slate-900",children:l(t.startDate)}),o.jsx("div",{className:"mt-2 text-slate-500",children:"  "})]})]})]})]})};function J8(t,[e,n]){return Math.min(n,Math.max(e,t))}var Z8=["PageUp","PageDown"],eF=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],tF={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},yd="Slider",[N_,Mfe,Ofe]=Oy(yd),[nF,cpe]=Kr(yd,[Ofe]),[Vfe,Xv]=nF(yd),sF=g.forwardRef((t,e)=>{const{name:n,min:s=0,max:r=100,step:i=1,orientation:a="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:p=!1,form:y,...x}=t,_=g.useRef(new Set),v=g.useRef(0),E=a==="horizontal"?Lfe:Ufe,[I=[],A]=kl({prop:d,defaultProp:u,onChange:P=>{var k;(k=[..._.current][v.current])==null||k.focus(),h(P)}}),R=g.useRef(I);function S(P){const M=qfe(I,P);j(P,M)}function T(P){j(P,v.current)}function C(){const P=R.current[v.current];I[v.current]!==P&&m(I)}function j(P,M,{commit:k}={commit:!1}){const F=Wfe(i),X=Yfe(Math.round((P-s)/i)*i+s,F),U=J8(X,[s,r]);A((H=[])=>{const $=zfe(H,U,M);if(Kfe($,c*i)){v.current=$.indexOf(U);const K=String($)!==String(H);return K&&k&&m($),K?$:H}else return H})}return o.jsx(Vfe,{scope:t.__scopeSlider,name:n,disabled:l,min:s,max:r,valueIndexToChangeRef:v,thumbs:_.current,values:I,orientation:a,form:y,children:o.jsx(N_.Provider,{scope:t.__scopeSlider,children:o.jsx(N_.Slot,{scope:t.__scopeSlider,children:o.jsx(E,{"aria-disabled":l,"data-disabled":l?"":void 0,...x,ref:e,onPointerDown:he(x.onPointerDown,()=>{l||(R.current=I)}),min:s,max:r,inverted:p,onSlideStart:l?void 0:S,onSlideMove:l?void 0:T,onSlideEnd:l?void 0:C,onHomeKeyDown:()=>!l&&j(s,0,{commit:!0}),onEndKeyDown:()=>!l&&j(r,I.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!l){const X=Z8.includes(P.key)||P.shiftKey&&eF.includes(P.key)?10:1,U=v.current,H=I[U],$=i*X*M;j(H+$,U,{commit:!0})}}})})})})});sF.displayName=yd;var[rF,iF]=nF(yd,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Lfe=g.forwardRef((t,e)=>{const{min:n,max:s,dir:r,inverted:i,onSlideStart:a,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...d}=t,[h,m]=g.useState(null),p=gt(e,E=>m(E)),y=g.useRef(void 0),x=Pv(r),_=x==="ltr",v=_&&!i||!_&&i;function b(E){const I=y.current||h.getBoundingClientRect(),A=[0,I.width],S=EN(A,v?[n,s]:[s,n]);return y.current=I,S(E-I.left)}return o.jsx(rF,{scope:t.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:o.jsx(aF,{dir:x,"data-orientation":"horizontal",...d,ref:p,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:E=>{const I=b(E.clientX);a==null||a(I)},onSlideMove:E=>{const I=b(E.clientX);l==null||l(I)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:E=>{const A=tF[v?"from-left":"from-right"].includes(E.key);u==null||u({event:E,direction:A?-1:1})}})})}),Ufe=g.forwardRef((t,e)=>{const{min:n,max:s,inverted:r,onSlideStart:i,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...u}=t,d=g.useRef(null),h=gt(e,d),m=g.useRef(void 0),p=!r;function y(x){const _=m.current||d.current.getBoundingClientRect(),v=[0,_.height],E=EN(v,p?[s,n]:[n,s]);return m.current=_,E(x-_.top)}return o.jsx(rF,{scope:t.__scopeSlider,startEdge:p?"bottom":"top",endEdge:p?"top":"bottom",size:"height",direction:p?1:-1,children:o.jsx(aF,{"data-orientation":"vertical",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const _=y(x.clientY);i==null||i(_)},onSlideMove:x=>{const _=y(x.clientY);a==null||a(_)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:x=>{const v=tF[p?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:v?-1:1})}})})}),aF=g.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:a,onEndKeyDown:l,onStepKeyDown:c,...u}=t,d=Xv(yd,n);return o.jsx(Le.span,{...u,ref:e,onKeyDown:he(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(l(h),h.preventDefault()):Z8.concat(eF).includes(h.key)&&(c(h),h.preventDefault())}),onPointerDown:he(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():s(h)}),onPointerMove:he(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&r(h)}),onPointerUp:he(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),i(h))})})}),oF="SliderTrack",lF=g.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Xv(oF,n);return o.jsx(Le.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...s,ref:e})});lF.displayName=oF;var A_="SliderRange",cF=g.forwardRef((t,e)=>{const{__scopeSlider:n,...s}=t,r=Xv(A_,n),i=iF(A_,n),a=g.useRef(null),l=gt(e,a),c=r.values.length,u=r.values.map(m=>hF(m,r.min,r.max)),d=c>1?Math.min(...u):0,h=100-Math.max(...u);return o.jsx(Le.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:d+"%",[i.endEdge]:h+"%"}})});cF.displayName=A_;var I_="SliderThumb",uF=g.forwardRef((t,e)=>{const n=Mfe(t.__scopeSlider),[s,r]=g.useState(null),i=gt(e,l=>r(l)),a=g.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return o.jsx(Ffe,{...t,ref:i,index:a})}),Ffe=g.forwardRef((t,e)=>{const{__scopeSlider:n,index:s,name:r,...i}=t,a=Xv(I_,n),l=iF(I_,n),[c,u]=g.useState(null),d=gt(e,b=>u(b)),h=c?a.form||!!c.closest("form"):!0,m=iN(c),p=a.values[s],y=p===void 0?0:hF(p,a.min,a.max),x=$fe(s,a.values.length),_=m==null?void 0:m[l.size],v=_?Hfe(_,y,l.direction):0;return g.useEffect(()=>{if(c)return a.thumbs.add(c),()=>{a.thumbs.delete(c)}},[c,a.thumbs]),o.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${v}px)`},children:[o.jsx(N_.ItemSlot,{scope:t.__scopeSlider,children:o.jsx(Le.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":a.min,"aria-valuenow":p,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...i,ref:d,style:p===void 0?{display:"none"}:t.style,onFocus:he(t.onFocus,()=>{a.valueIndexToChangeRef.current=s})})}),h&&o.jsx(dF,{name:r??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:p},s)]})});uF.displayName=I_;var Bfe="RadioBubbleInput",dF=g.forwardRef(({__scopeSlider:t,value:e,...n},s)=>{const r=g.useRef(null),i=gt(r,s),a=l8(e);return g.useEffect(()=>{const l=r.current;if(!l)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[a,e]),o.jsx(Le.input,{style:{display:"none"},...n,ref:i,defaultValue:e})});dF.displayName=Bfe;function zfe(t=[],e,n){const s=[...t];return s[n]=e,s.sort((r,i)=>r-i)}function hF(t,e,n){const i=100/(n-e)*(t-e);return J8(i,[0,100])}function $fe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function qfe(t,e){if(t.length===1)return 0;const n=t.map(r=>Math.abs(r-e)),s=Math.min(...n);return n.indexOf(s)}function Hfe(t,e,n){const s=t/2,i=EN([0,50],[0,s]);return(s-i(e)*n)*n}function Gfe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Kfe(t,e){if(e>0){const n=Gfe(t);return Math.min(...n)>=e}return!0}function EN(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(n-t[0])}}function Wfe(t){return(String(t).split(".")[1]||"").length}function Yfe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var fF=sF,Qfe=lF,Xfe=cF,Jfe=uF;const mF=g.forwardRef(({className:t,...e},n)=>o.jsxs(fF,{ref:n,className:pe("relative flex w-full touch-none select-none items-center",t),...e,children:[o.jsx(Qfe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:o.jsx(Xfe,{className:"absolute h-full bg-primary"})}),o.jsx(Jfe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));mF.displayName=fF.displayName;const Zfe=()=>{const{toast:t}=qt(),{language:e}=rr()||{language:"en"},n={en:{title:"Product Tools",subtitle:"Optimize your product images easily",tabs:{resize:"Image Resizer",bgRemove:"Background Tool",upscale:"Image Enhancer"},resize:{title:"Resize Image",desc:"Upload an image and set custom dimensions.",upload:"Upload Image",width:"Width (px)",height:"Height (px)",action:"Create / Resize",download:"Download",success:"Image resized successfully!"},bg:{title:"Background Tool (AI Powered)",desc:"Automatically remove background using AI and add custom background.",upload:"Upload Image",transparent:"Transparent Background",color:"Background Color",process:"Process Image",processing:"Processing...",download:"Download Result",success:"Background removed using AI model!",error:"Failed to remove background."},upscale:{title:"Image Enhancer (AI Powered)",desc:"Upscale and enhance low-resolution images using AI.",upload:"Upload Image",info:"This tool uses AI to upscale your image by 2x while reducing noise and enhancing details. It runs entirely in your browser.",action:"Enhance Image",enhancing:"Enhancing...",download:"Download Enhanced Image",success:"Image enhanced and upscaled (2x) successfully!",fallback:"Completed (Fallback)",fallbackDesc:"Image upscaled using high-quality algorithm (AI unavailable).",error:"Failed to upscale image."}},ar:{title:" ",subtitle:"   ",tabs:{resize:"  ",bgRemove:" ",upscale:" "},resize:{title:"  ",desc:"    .",upload:" ",width:" (px)",height:" (px)",action:" /  ",download:"",success:"    !"},bg:{title:"  ( )",desc:"        .",upload:" ",transparent:" ",color:" ",process:" ",processing:" ...",download:" ",success:"   !",error:"  ."},upscale:{title:"  ( )",desc:"       .",upload:" ",info:"        2x     .    .",action:" ",enhancing:" ...",download:"  ",success:"    (2x) !",fallback:" ()",fallbackDesc:"       (   ).",error:"  ."}}},s=n[e]||n.en,[r,i]=g.useState(null),[a,l]=g.useState(null),[c,u]=g.useState(0),[d,h]=g.useState(0),[m,p]=g.useState(1),y=g.useRef(null),[x,_]=g.useState(null),[v,b]=g.useState(null),[E,I]=g.useState(null),[A,R]=g.useState(null),[S,T]=g.useState("#ffffff"),[C,j]=g.useState(!0),[P,M]=g.useState(!1),k=g.useRef(null),[F,X]=g.useState(null),[U,H]=g.useState(null),[$,K]=g.useState(null),[ee,re]=g.useState(null),[ge,nt]=g.useState(!1),O=B=>{const le=B.target.files[0];if(le){const Ie=new FileReader;Ie.onload=De=>{const Pe=new Image;Pe.onload=()=>{i(Pe),u(Pe.width),h(Pe.height),p(Pe.width/Pe.height),l(Pe.src)},Pe.src=De.target.result},Ie.readAsDataURL(le)}},Y=()=>{if(!r||!y.current)return;const B=y.current;B.width=c,B.height=d,B.getContext("2d").drawImage(r,0,0,c,d),l(B.toDataURL("image/png")),t({title:"Success",description:s.resize.success,variant:"default"})},_e=()=>{if(!y.current)return;const B=document.createElement("a");B.download="resized-image.png",B.href=y.current.toDataURL("image/png"),B.click()},Q=B=>{const le=B.target.files[0];if(le){b(le);const Ie=new FileReader;Ie.onload=De=>{const Pe=new Image;Pe.onload=()=>{_(Pe),I(Pe.src),R(null)},Pe.src=De.target.result},Ie.readAsDataURL(le)}},fe=async()=>{if(v){M(!0);try{console.log("Starting BG removal for:",v.name);const le=await(()=>new Promise((st,It)=>{if(window.imglyRemoveBackground||window.removeBackground){st(window.imglyRemoveBackground||window.removeBackground);return}const tt="https://cdn.jsdelivr.net/npm/@imgly/background-removal@1.7.0/dist/imgly-background-removal.min.js",rn=document.querySelector(`script[src="${tt}"]`);if(rn){if(window.imglyRemoveBackground||window.removeBackground){st(window.imglyRemoveBackground||window.removeBackground);return}rn.addEventListener("load",()=>{st(window.imglyRemoveBackground||window.removeBackground)}),rn.addEventListener("error",()=>It(new Error("Failed to load script")));return}const wr=document.createElement("script");wr.src=tt,wr.crossOrigin="anonymous",wr.onload=()=>{const zm=window.imglyRemoveBackground||window.removeBackground;zm?st(zm):It(new Error("Library loaded but global object not found"))},wr.onerror=()=>It(new Error("Failed to load background removal script from CDN")),document.head.appendChild(wr)}))(),Ie=typeof le=="function"?le:le.default||le.removeBackground;if(typeof Ie!="function")throw new Error("Invalid library format: removeBackground is not a function");const De=await Ie(v,{progress:(st,It,tt)=>{console.log(`Downloading ${st}: ${It} of ${tt}`)},publicPath:"https://staticimgly.com/@imgly/background-removal-data/1.7.0/dist/",debug:!0,model:"isnet"}),Pe=URL.createObjectURL(De);if(C)R(Pe),M(!1);else{const st=new Image;st.onload=()=>{const It=document.createElement("canvas");It.width=st.width,It.height=st.height;const tt=It.getContext("2d");tt.fillStyle=S,tt.fillRect(0,0,It.width,It.height),tt.drawImage(st,0,0),R(It.toDataURL("image/png")),M(!1)},st.src=Pe}t({title:"Success",description:s.bg.success,variant:"default"})}catch(B){console.error("BG Removal Error:",B),t({title:"Error",description:s.bg.error+" "+B.message,variant:"destructive"}),M(!1)}finally{}}},oe=()=>{if(!A)return;const B=document.createElement("a");B.download="processed-image.png",B.href=A,B.click()},ve=B=>{const le=B.target.files[0];if(le){H(le);const Ie=new FileReader;Ie.onload=De=>{const Pe=new Image;Pe.onload=()=>{X(Pe),K(Pe.src),re(null)},Pe.src=De.target.result},Ie.readAsDataURL(le)}},qe=async()=>{if(U){nt(!0);try{await S_(()=>import("https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"),[]);const{default:B}=await S_(()=>import("https://cdn.jsdelivr.net/npm/upscaler@latest/dist/browser/esm/upscaler.min.js"),[]),Ie=await new B({model:{path:"https://unpkg.com/@upscalerjs/default-model@latest/models/model.json",scale:2}}).upscale($,{patchSize:64,padding:2,progress:De=>{console.log(`Upscaling: ${Math.round(De*100)}%`)}});re(Ie),nt(!1),t({title:"Success",description:s.upscale.success,variant:"default"})}catch(B){console.error("Upscaling Error:",B);try{console.log("Falling back to canvas sharpening...");const le=new Image;le.onload=()=>{const Ie=document.createElement("canvas");Ie.width=le.width*2,Ie.height=le.height*2;const De=Ie.getContext("2d");De.imageSmoothingEnabled=!0,De.imageSmoothingQuality="high",De.drawImage(le,0,0,Ie.width,Ie.height),re(Ie.toDataURL("image/png")),nt(!1),t({title:s.upscale.fallback,description:s.upscale.fallbackDesc})},le.src=$}catch{t({title:"Error",description:s.upscale.error,variant:"destructive"}),nt(!1)}}}},et=()=>{if(!ee)return;const B=document.createElement("a");B.download="enhanced-image.png",B.href=ee,B.click()};return o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900 dark:text-slate-100",children:s.title}),o.jsx("p",{className:"text-sm text-slate-500",children:s.subtitle})]}),o.jsxs(TN,{defaultValue:"resize",className:"w-full",children:[o.jsxs(Qv,{className:"grid w-full grid-cols-3 lg:w-[600px]",children:[o.jsxs(cr,{value:"resize",className:"gap-2",children:[o.jsx(a1,{className:"h-4 w-4"})," ",s.tabs.resize]}),o.jsxs(cr,{value:"bg-remove",className:"gap-2",children:[o.jsx(x2,{className:"h-4 w-4"})," ",s.tabs.bgRemove]}),o.jsxs(cr,{value:"upscale",className:"gap-2",children:[o.jsx(E2,{className:"h-4 w-4"})," ",s.tabs.upscale]})]}),o.jsx(ur,{value:"resize",children:o.jsxs(Qe,{children:[o.jsxs(Tt,{children:[o.jsx(Et,{children:s.resize.title}),o.jsx(cn,{children:s.resize.desc})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center",children:a?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:a,alt:"Preview",className:"max-h-[300px] object-contain"}),o.jsx(q,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{i(null),l(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(a1,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(se,{htmlFor:"resize-upload",className:"cursor-pointer bg-slate-900 text-white px-4 py-2 rounded hover:bg-slate-800 transition",children:s.resize.upload}),o.jsx(ue,{id:"resize-upload",type:"file",className:"hidden",accept:"image/*",onChange:O})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s.resize.width}),o.jsx(ue,{type:"number",value:c,onChange:B=>u(Number(B.target.value))})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s.resize.height}),o.jsx(ue,{type:"number",value:d,onChange:B=>h(Number(B.target.value))})]})]}),o.jsx(q,{onClick:Y,disabled:!r,className:"w-full",children:s.resize.action}),a&&o.jsxs(q,{variant:"outline",onClick:_e,className:"w-full",children:[o.jsx(Hc,{className:"mr-2 h-4 w-4"})," ",s.resize.download]})]})]}),o.jsx("canvas",{ref:y,className:"hidden"})]})]})}),o.jsx(ur,{value:"bg-remove",children:o.jsxs(Qe,{children:[o.jsxs(Tt,{children:[o.jsx(Et,{children:s.bg.title}),o.jsx(cn,{children:s.bg.desc})]}),o.jsxs(Xe,{className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]",children:E?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:A||E,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(q,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{_(null),b(null),I(null),R(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(x2,{className:"h-10 w-10 text-slate-400 mb-2"}),o.jsx(se,{htmlFor:"bg-upload",className:"cursor-pointer bg-teal-600 text-white px-4 py-2 rounded hover:bg-teal-700 transition",children:s.bg.upload}),o.jsx(ue,{id:"bg-upload",type:"file",className:"hidden",accept:"image/*",onChange:Q})]})})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"space-y-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"transparent",checked:C,onChange:B=>j(B.target.checked),className:"h-4 w-4 rounded border-gray-300 text-teal-600 focus:ring-teal-500"}),o.jsx(se,{htmlFor:"transparent",children:s.bg.transparent})]})}),!C&&o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{children:s.bg.color}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ue,{type:"color",value:S,onChange:B=>T(B.target.value),className:"h-10 w-20 p-1 cursor-pointer"}),o.jsx("span",{className:"text-sm font-mono",children:S})]})]}),o.jsx(q,{onClick:fe,disabled:!x||P,className:"w-full bg-teal-600 hover:bg-teal-700",children:P?s.bg.processing:s.bg.process}),A&&o.jsxs(q,{variant:"outline",onClick:oe,className:"w-full border-teal-200 text-teal-700 hover:bg-teal-50",children:[o.jsx(Hc,{className:"mr-2 h-4 w-4"})," ",s.bg.download]})]})]}),o.jsx("canvas",{ref:k,className:"hidden"})]})]})}),o.jsx(ur,{value:"upscale",children:o.jsxs(Qe,{children:[o.jsxs(Tt,{children:[o.jsx(Et,{children:s.upscale.title}),o.jsx(cn,{children:s.upscale.desc})]}),o.jsx(Xe,{className:"space-y-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx("div",{className:"space-y-4",children:o.jsx("div",{className:"border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-lg p-6 flex flex-col items-center justify-center min-h-[200px] text-center bg-slate-50 dark:bg-slate-900",children:$?o.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[o.jsx("img",{src:ee||$,alt:"Preview",className:"max-h-[300px] object-contain border border-slate-200 shadow-sm"}),o.jsx(q,{variant:"secondary",size:"sm",className:"absolute top-0 right-0 m-2",onClick:()=>{X(null),H(null),K(null),re(null)},children:o.jsx(Gc,{className:"h-4 w-4"})})]}):o.jsxs(o.Fragment,{children:[o.jsx(E2,{className:"h-10 w-10 text-purple-400 mb-2"}),o.jsx(se,{htmlFor:"upscale-upload",className:"cursor-pointer bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 transition",children:s.upscale.upload}),o.jsx(ue,{id:"upscale-upload",type:"file",className:"hidden",accept:"image/*",onChange:ve})]})})}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"p-4 border rounded-lg bg-slate-50 dark:bg-slate-800",children:o.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:s.upscale.info})}),o.jsx(q,{onClick:qe,disabled:!$||ge,className:"w-full h-12 text-lg bg-purple-600 hover:bg-purple-700",children:ge?o.jsx(o.Fragment,{children:s.upscale.enhancing}):o.jsx(o.Fragment,{children:s.upscale.action})}),ee&&o.jsxs(q,{onClick:et,variant:"outline",className:"w-full gap-2 border-purple-200 text-purple-700 hover:bg-purple-50 dark:hover:bg-purple-900/20",children:[o.jsx(Hc,{className:"h-4 w-4"})," ",s.upscale.download]})]})]})})]})})]})]})},Ig=P8,Cg=nfe,pF=({className:t,...e})=>o.jsx(qv,{className:pe(t),...e});pF.displayName=qv.displayName;const gF=g.forwardRef(({className:t,...e},n)=>o.jsx(Hv,{className:pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));gF.displayName=Hv.displayName;const eme=um("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Qh=g.forwardRef(({side:t="right",className:e,children:n,...s},r)=>o.jsxs(pF,{children:[o.jsx(gF,{}),o.jsxs(Gv,{ref:r,className:pe(eme({side:t}),e),...s,children:[o.jsxs(k8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[o.jsx(Ni,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));Qh.displayName=Gv.displayName;const Xh=({className:t,...e})=>o.jsx("div",{className:pe("flex flex-col space-y-2 text-center sm:text-left",t),...e});Xh.displayName="SheetHeader";const yF=({className:t,...e})=>o.jsx("div",{className:pe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});yF.displayName="SheetFooter";const Jh=g.forwardRef(({className:t,...e},n)=>o.jsx(Kv,{ref:n,className:pe("text-lg font-semibold text-foreground",t),...e}));Jh.displayName=Kv.displayName;const tme=g.forwardRef(({className:t,...e},n)=>o.jsx(Wv,{ref:n,className:pe("text-sm text-muted-foreground",t),...e}));tme.displayName=Wv.displayName;const vF=g.createContext(),nme=g.createContext(),sme=()=>g.useContext(vF),nk={default:{gradient:"from-teal-500 to-emerald-500",text:"text-teal-600",hoverText:"hover:text-teal-600",bg:"bg-teal-600",border:"focus:border-teal-500",ring:"focus:ring-teal-500/10",buttonGradient:"from-teal-600 to-emerald-600",buttonHover:"hover:from-teal-700 hover:to-emerald-700",shadow:"shadow-teal-500/20",shadowColor:"shadow-teal-600/20"},mobile_pro:{gradient:"from-blue-600 to-indigo-600",text:"text-blue-600",hoverText:"hover:text-blue-600",bg:"bg-blue-600",border:"focus:border-blue-500",ring:"focus:ring-blue-500/10",buttonGradient:"from-blue-600 to-indigo-600",buttonHover:"hover:from-blue-700 hover:to-indigo-700",shadow:"shadow-blue-500/20",shadowColor:"shadow-blue-600/20"},fashion_luxury:{gradient:"from-rose-400 to-pink-500",text:"text-rose-600",hoverText:"hover:text-rose-600",bg:"bg-rose-600",border:"focus:border-rose-500",ring:"focus:ring-rose-500/10",buttonGradient:"from-rose-500 to-pink-500",buttonHover:"hover:from-rose-600 hover:to-pink-600",shadow:"shadow-rose-500/20",shadowColor:"shadow-rose-600/20"},cards_digital:{gradient:"from-violet-600 to-fuchsia-600",text:"text-violet-600",hoverText:"hover:text-violet-600",bg:"bg-violet-600",border:"focus:border-violet-500",ring:"focus:ring-violet-500/10",buttonGradient:"from-violet-600 to-fuchsia-600",buttonHover:"hover:from-violet-700 hover:to-fuchsia-700",shadow:"shadow-violet-500/20",shadowColor:"shadow-violet-600/20"}},C_=({resolvedStoreId:t,previewMode:e=!1,previewData:n=null,children:s})=>{var et;const r=Fn(),i=new URLSearchParams(r.search);let a=t||i.get("store")||null;const l=typeof window<"u"?window.location.hostname:"";if(!a&&l&&!e)if(l.includes("localhost")){const B=l.split(".");B.length>=2&&B[0]!=="www"&&(a=B[0])}else{const B=l.split(".");if(B.length>2){const le=B[0];le!=="www"&&(a=le)}}const[c,u]=g.useState(e?n==null?void 0:n.store:null),[d,h]=g.useState(e?!1:!!a),[m,p]=g.useState(e?{name:(et=n==null?void 0:n.store)==null?void 0:et.name,logo:null}:{name:"Storefront",logo:null}),[y,x]=g.useState(e?n==null?void 0:n.banner:null),[_,v]=g.useState(e?n==null?void 0:n.categories:[]),[b,E]=g.useState(!1);g.useEffect(()=>{var B;if(e){u(n==null?void 0:n.store),p({name:(B=n==null?void 0:n.store)==null?void 0:B.name,logo:null}),x(n==null?void 0:n.banner),v((n==null?void 0:n.categories)||[]);return}if(a){const le=it(de,"stores",a,"categories"),Ie=Gt(le,De=>{v(De.docs.map(Pe=>({id:Pe.id,...Pe.data()})))});return()=>Ie()}},[a,e,n]),g.useEffect(()=>{if(e)return;let B=!1;return(async()=>{if(h(!0),!a){u(null),p({name:"Storefront",logo:null}),h(!1);return}try{const Ie=Ye(de,"stores",a),De=await sr(Ie);if(!B)if(De.exists()){const Pe=De.data();Pe.logo&&Pe.logo.includes("supabase")&&(Pe.logo=null),u({id:a,...Pe}),p({name:Pe.name||a,logo:Pe.logo||null});try{const st=Ye(de,"stores",a,"banners","default"),It=await sr(st);if(It.exists()){const tt=It.data();tt.backgroundImageUrl&&tt.backgroundImageUrl.includes("supabase")&&(tt.backgroundImageUrl=""),x(tt)}else x(null)}catch{x(null)}}else u(null),p({name:a,logo:null}),x(null)}catch{B||(u(null),p({name:a,logo:null}),x(null))}finally{B||h(!1)}})(),()=>{B=!0}},[a,e]);const[I,A]=g.useState(!1),[R,S]=g.useState([]),[T,C]=g.useState(()=>{if(typeof window<"u"){const B=localStorage.getItem("wishlistItems");return B?JSON.parse(B):[]}return[]}),[j,P]=g.useState(!1),[M,k]=g.useState(!1),[F,X]=g.useState(""),[U,H]=g.useState(!1),[$,K]=g.useState(!1),ee=nk[c==null?void 0:c.template]||nk.default,re=(c==null?void 0:c.storeLanguage)||i.get("lang")||"en",ge={en:{searchPlaceholder:"Search products...",home:"Home",newArrivals:"New Arrivals",collections:"Collections",sale:"Sale",menu:"Menu",categories:"Categories",allCategories:"All Categories",shoppingCart:"Shopping Cart",emptyCart:"Your cart is empty",startShopping:"Start Shopping",wishlist:"Wishlist",emptyWishlist:"Your wishlist is empty",continueShopping:"Continue Shopping",addToCart:"Add to Cart",remove:"Remove",total:"Total",checkoutNow:"Checkout Now",footer:{storefront:"Storefront",storefrontDesc:"Premium products curated just for you. Quality and satisfaction guaranteed.",shop:"Shop",allProducts:"All Products",featured:"Featured",newArrivals:"New Arrivals",support:"Support",contactUs:"Contact Us",faqs:"FAQs",shippingReturns:"Shipping & Returns",newsletter:"Newsletter",subscribe:"Subscribe to get special offers, free giveaways, and unique deals.",emailPlaceholder:"Email address",join:"Join"}},ar:{searchPlaceholder:"  ...",home:"",newArrivals:" ",collections:"",sale:"",menu:"",categories:"",allCategories:" ",shoppingCart:" ",emptyCart:"  ",startShopping:" ",wishlist:"",emptyWishlist:"  ",continueShopping:" ",addToCart:" ",remove:"",total:"",checkoutNow:" ",footer:{storefront:"",storefrontDesc:"     .   .",shop:"",allProducts:" ",featured:"",newArrivals:" ",support:"",contactUs:" ",faqs:" ",shippingReturns:" ",newsletter:" ",subscribe:"        .",emailPlaceholder:"  ",join:""}}},[nt,O]=g.useState(!1);g.useEffect(()=>{if(y!=null&&y.popupEnabled&&a&&!sessionStorage.getItem(`popupShown_${a}`)){const le=setTimeout(()=>O(!0),2e3);return()=>clearTimeout(le)}},[y,a]);const Y=()=>{O(!1),sessionStorage.setItem(`popupShown_${a}`,"true")};g.useEffect(()=>{const B=()=>{P(window.scrollY>20)};return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]);const _e=(B,le=!0)=>{S(Ie=>{const De=B.selectedSize?`${B.id}-${B.selectedSize}`:String(B.id);return Ie.find(st=>(st.cartItemId||String(st.id))===De)?Ie.map(st=>(st.cartItemId||String(st.id))===De?{...st,quantity:st.quantity+(B.quantity||1)}:st):[...Ie,{...B,cartItemId:De,quantity:B.quantity||1}]}),le&&A(!0)},Q=B=>{S(le=>le.filter(Ie=>(Ie.cartItemId||String(Ie.id))!==B))},fe=(B,le)=>{S(Ie=>Ie.map(De=>{if((De.cartItemId||String(De.id))===B){const Pe=Math.max(1,De.quantity+le);return{...De,quantity:Pe}}return De}))},oe=R.reduce((B,le)=>B+Mn(le.price)*le.quantity,0);g.useEffect(()=>{localStorage.setItem("wishlistItems",JSON.stringify(T))},[T]);const ve=B=>{C(le=>le.find(De=>De.id===B.id)?le.filter(De=>De.id!==B.id):[...le,B])},qe=B=>T.some(le=>le.id===B);return!d&&!c&&a?o.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-50 p-4",children:o.jsxs("div",{className:"text-center space-y-4 max-w-md",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-200 rounded-full flex items-center justify-center mx-auto",children:o.jsx(Kc,{className:"w-10 h-10 text-slate-400"})}),o.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Store Not Found"}),o.jsxs("p",{className:"text-slate-500",children:["The store you are looking for (",a,") does not exist."]}),o.jsx(q,{onClick:()=>window.location.href="/",variant:"outline",children:"Go to Home"})]})}):o.jsx(vF.Provider,{value:{cartItems:R,addToCart:_e,removeFromCart:Q,updateQuantity:fe,cartTotal:oe,setCartOpen:A},children:o.jsx(nme.Provider,{value:{wishlistItems:T,toggleWishlist:ve,isInWishlist:qe},children:o.jsxs("div",{className:`min-h-screen bg-white font-sans text-slate-900 overflow-x-hidden ${re==="ar"?"font-cairo":""}`,dir:re==="ar"?"rtl":"ltr",children:[o.jsx("header",{className:`fixed top-0 w-full z-40 transition-all duration-300 ${j?"bg-white/90 backdrop-blur-md shadow-lg shadow-slate-200/40 py-2":"bg-white/50 backdrop-blur-sm py-2 md:py-5"}`,children:o.jsx("div",{className:"container mx-auto px-4 flex items-center justify-between h-14 md:h-auto",children:U?o.jsxs("div",{className:"flex items-center w-full gap-2 animate-in fade-in slide-in-from-top-2 duration-200",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xo,{className:"w-5 h-5 absolute left-3 top-2.5 text-slate-400"}),o.jsx(ue,{type:"text",placeholder:ge[re].searchPlaceholder,value:F,onChange:B=>X(B.target.value),className:`pl-10 bg-white border-slate-200 ${ee.border} focus:ring-4 ${ee.ring} transition-all rounded-2xl h-11 w-full text-base shadow-sm`,autoFocus:!0})]}),o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>{H(!1),X("")},className:"shrink-0 w-11 h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Ni,{className:"w-6 h-6 text-slate-600"})})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex items-center gap-2 md:gap-4 max-w-[60%] md:max-w-none",children:[o.jsxs(ct,{to:"/store",className:"text-lg md:text-2xl font-bold tracking-tighter flex items-center gap-3 truncate group",children:[o.jsx("div",{className:`w-9 h-9 md:w-10 md:h-10 bg-gradient-to-tr ${ee.gradient} rounded-xl flex items-center justify-center text-white overflow-hidden shrink-0 shadow-lg ${ee.shadow} group-hover:scale-105 transition-transform duration-300`,children:m.logo?o.jsx("img",{src:m.logo,alt:"logo",className:"w-full h-full object-contain"}):o.jsx("span",{className:"font-bold text-lg",children:"S"})}),o.jsx("span",{className:"truncate text-xl md:text-2xl text-slate-900",children:m.name})]}),o.jsxs("nav",{className:"hidden md:flex items-center gap-8 ml-10 text-sm font-semibold text-slate-500",children:[o.jsx(ct,{to:"/store",className:`${ee.hoverText} transition-colors`,children:ge[re].home}),o.jsx(ct,{to:"/store",className:`${ee.hoverText} transition-colors`,children:ge[re].newArrivals}),o.jsx(ct,{to:"/store",className:`${ee.hoverText} transition-colors`,children:ge[re].collections}),o.jsx(ct,{to:"/store",className:`${ee.hoverText} transition-colors`,children:ge[re].sale})]})]}),o.jsxs("div",{className:"flex items-center gap-2 md:gap-4",children:[o.jsxs("div",{className:"relative hidden md:block w-72",children:[o.jsx(ue,{type:"text",placeholder:ge[re].searchPlaceholder,value:F,onChange:B=>X(B.target.value),className:`pl-10 bg-slate-50 border-slate-200 focus:bg-white ${ee.border} focus:ring-4 ${ee.ring} transition-all rounded-2xl h-10 shadow-sm`}),o.jsx(Xo,{className:"w-4 h-4 absolute left-3.5 top-3 text-slate-400"})]}),o.jsx(q,{variant:"ghost",size:"icon",onClick:()=>H(!0),className:"md:hidden w-10 h-10 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx(Xo,{className:"w-6 h-6 text-slate-600"})}),o.jsxs(Ig,{open:b,onOpenChange:E,children:[o.jsx(Cg,{asChild:!0,children:o.jsx(q,{variant:"ghost",size:"icon",className:"w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:o.jsx($T,{className:"w-6 h-6 text-slate-600"})})}),o.jsxs(Qh,{side:"left",className:"w-[300px] sm:w-[400px]",children:[o.jsx(Xh,{children:o.jsx(Jh,{className:`text-left font-bold text-xl ${re==="ar"?"text-right":""}`,children:ge[re].menu})}),o.jsxs("div",{className:"flex flex-col gap-6 py-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-lg text-slate-900",children:ge[re].categories}),o.jsxs("div",{className:"flex flex-col gap-3 pl-2",children:[o.jsx(ct,{to:"/store",onClick:()=>E(!1),className:`text-slate-600 ${ee.hoverText} font-medium transition-colors`,children:ge[re].allCategories}),_.map(B=>o.jsx(ct,{to:`/store?category=${encodeURIComponent(B.name)}`,onClick:()=>E(!1),className:`text-slate-600 ${ee.hoverText} font-medium transition-colors`,children:B.name},B.id))]})]}),o.jsx("div",{className:"border-t pt-6",children:o.jsx("nav",{className:"flex flex-col gap-4",children:o.jsx(ct,{to:"/store",onClick:()=>E(!1),className:`font-bold ${ee.hoverText}`,children:ge[re].home})})})]})]})]}),o.jsxs(Ig,{open:$,onOpenChange:K,children:[o.jsx(Cg,{asChild:!0,children:o.jsxs(q,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(Wa,{className:"w-6 h-6 text-slate-600"}),T.length>0&&o.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 ${ee.bg} text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm`,children:T.length})]})}),o.jsxs(Qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Xh,{children:o.jsxs(Jh,{className:"font-bold text-xl",children:[ge[re].wishlist," (",T.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:T.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(Wa,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:ge[re].emptyWishlist}),o.jsx(q,{onClick:()=>K(!1),className:`bg-gradient-to-r ${ee.buttonGradient} ${ee.buttonHover} text-white rounded-xl px-8 font-bold shadow-lg ${ee.shadowColor}`,children:ge[re].continueShopping})]}):o.jsx("div",{className:"space-y-6",children:T.map(B=>o.jsxs(ae.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:B.image,alt:B.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:B.name}),o.jsx("p",{className:"text-sm font-bold text-teal-600",children:ot(Mn(B.price))})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsx(q,{size:"sm",className:"h-8 text-xs bg-teal-600 hover:bg-teal-700 text-white rounded-lg shadow-sm shadow-teal-600/20",onClick:()=>{_e(B),ve(B)},children:ge[re].addToCart}),o.jsx("button",{onClick:()=>ve(B),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:ge[re].remove})]})]})]},B.id))})})]})]}),o.jsxs(Ig,{open:I,onOpenChange:A,children:[o.jsx(Cg,{asChild:!0,children:o.jsxs(q,{variant:"ghost",size:"icon",className:"relative w-10 h-10 md:w-11 md:h-11 rounded-xl hover:bg-slate-100 hover:text-slate-900",children:[o.jsx(Kc,{className:"w-6 h-6 text-slate-600"}),R.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-teal-600 text-white text-[11px] font-bold flex items-center justify-center rounded-full border-2 border-white shadow-sm",children:R.length})]})}),o.jsxs(Qh,{className:"w-full sm:max-w-md flex flex-col",children:[o.jsx(Xh,{children:o.jsxs(Jh,{className:"font-bold text-xl",children:[ge[re].shoppingCart," (",R.length,")"]})}),o.jsx("div",{className:"flex-1 overflow-y-auto py-6",children:R.length===0?o.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-500 space-y-4",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-100 rounded-full flex items-center justify-center mb-2",children:o.jsx(Kc,{className:"w-10 h-10 text-slate-400"})}),o.jsx("p",{className:"font-medium text-lg",children:ge[re].emptyCart}),o.jsx(q,{onClick:()=>A(!1),className:"bg-slate-900 text-white rounded-xl px-8",children:ge[re].startShopping})]}):o.jsx("div",{className:"space-y-6",children:R.map(B=>o.jsxs(ae.div,{layout:!0,className:"flex gap-4 bg-slate-50 p-3 rounded-2xl",children:[o.jsx("div",{className:"w-20 h-20 bg-white rounded-xl overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:B.image,alt:B.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 flex flex-col justify-between py-1",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm line-clamp-1 text-slate-900",children:B.name}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("p",{className:"text-sm font-bold text-teal-600",children:ot(Mn(B.price))}),B.selectedSize&&o.jsx(xn,{variant:"outline",className:"text-xs h-5 px-1.5 bg-white border-slate-200 text-slate-600",children:B.selectedSize})]})]}),o.jsxs("div",{className:"flex items-center justify-between mt-2",children:[o.jsxs("div",{className:"flex items-center gap-1 border bg-white rounded-lg p-0.5 shadow-sm",children:[o.jsx("button",{onClick:()=>fe(B.cartItemId,-1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"-"}),o.jsx("span",{className:"text-xs w-6 text-center font-bold text-slate-900",children:B.quantity}),o.jsx("button",{onClick:()=>fe(B.cartItemId,1),className:"w-7 h-7 flex items-center justify-center hover:bg-slate-100 rounded-md transition-colors text-slate-600",children:"+"})]}),o.jsx("button",{onClick:()=>Q(B.cartItemId),className:"text-xs text-rose-500 hover:text-rose-600 font-medium px-2 py-1 rounded hover:bg-rose-50 transition-colors",children:ge[re].remove})]})]})]},B.cartItemId||B.id))})}),R.length>0&&o.jsxs(yF,{className:"flex-col sm:flex-col space-y-4 border-t pt-4",children:[o.jsxs("div",{className:"flex items-center justify-between font-medium text-lg",children:[o.jsx("span",{children:"Total"}),o.jsx("span",{children:ot(oe)})]}),o.jsx(ct,{to:"/store/checkout",onClick:()=>A(!1),className:"w-full",children:o.jsx(q,{className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-12 text-base",children:"Checkout Now"})})]})]})]})]})]})})}),o.jsx("main",{className:"pt-20 pb-16 min-h-[80vh]",children:s?typeof s=="function"?s({addToCart:_e,filtersOpen:M,setFiltersOpen:k,storeSubdomain:a,store:c,banner:y,searchQuery:F,categories:_,wishlistItems:T,toggleWishlist:ve,isInWishlist:qe,lang:re}):Bt.cloneElement(s,{addToCart:_e,filtersOpen:M,setFiltersOpen:k,storeSubdomain:a,store:c,banner:y,searchQuery:F,categories:_,wishlistItems:T,toggleWishlist:ve,isInWishlist:qe,lang:re}):o.jsx(kT,{context:{addToCart:_e,filtersOpen:M,setFiltersOpen:k,storeSubdomain:a,store:c,banner:y,searchQuery:F,categories:_,wishlistItems:T,toggleWishlist:ve,isInWishlist:qe,lang:re}})}),o.jsx("footer",{className:"bg-slate-900 text-slate-300 py-12 border-t border-slate-800",children:o.jsxs("div",{className:"container mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8 text-sm",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-white font-bold mb-4 text-lg",children:"Storefront"}),o.jsx("p",{className:"mb-4 max-w-xs",children:"Premium products curated just for you. Quality and satisfaction guaranteed."}),o.jsx("div",{className:"flex gap-4"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Shop"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"All Products"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Featured"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"New Arrivals"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Support"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Contact Us"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"FAQs"})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-teal-400",children:"Shipping & Returns"})})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white font-bold mb-4",children:"Newsletter"}),o.jsx("p",{className:"mb-4",children:"Subscribe to get special offers, free giveaways, and unique deals."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(ue,{placeholder:"Email address",className:"bg-slate-800 border-slate-700"}),o.jsx(q,{className:"bg-teal-600 hover:bg-teal-700",children:"Join"})]})]})]})}),o.jsx(rre,{children:nt&&o.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",onClick:Y,children:o.jsxs(ae.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full relative",onClick:B=>B.stopPropagation(),children:[o.jsx("button",{onClick:Y,className:"absolute top-3 right-3 p-1.5 bg-black/10 hover:bg-black/20 rounded-full transition-colors z-10",children:o.jsx(Ni,{className:"w-5 h-5 text-slate-700"})}),(y==null?void 0:y.popupImage)&&o.jsx("div",{className:"h-48 w-full bg-slate-100 relative",children:o.jsx("img",{src:y.popupImage,alt:"Welcome",className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"p-6 md:p-8 text-center",children:[(y==null?void 0:y.popupTitle)&&o.jsx("h3",{className:"text-2xl font-bold text-slate-900 mb-3",children:y.popupTitle}),(y==null?void 0:y.popupText)&&o.jsx("p",{className:"text-slate-600 mb-8 leading-relaxed text-sm md:text-base",children:y.popupText}),o.jsx(q,{onClick:Y,className:"w-full bg-teal-600 hover:bg-teal-700 text-white h-11 text-base rounded-xl shadow-lg shadow-teal-600/20",children:"Start Shopping"})]})]})})}),(c==null?void 0:c.whatsappNumber)&&o.jsx("a",{href:`https://wa.me/${c.whatsappNumber.replace(/[^0-9]/g,"")}`,target:"_blank",rel:"noopener noreferrer",className:"fixed bottom-6 right-6 z-50 w-14 h-14 bg-[#25D366] hover:bg-[#20bd5a] text-white rounded-full shadow-lg flex items-center justify-center transition-transform hover:scale-110","aria-label":"Chat on WhatsApp",children:o.jsx("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-current",xmlns:"http://www.w3.org/2000/svg",children:o.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})})]})})})},sk=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l,theme:c})=>{Ot();const u=l(t.price),d=Number(t.discount)||0,h=d>0,m=a(u*(1-d/100)),p=c||{bg:"bg-blue-600",text:"text-blue-600",hoverText:"hover:text-blue-600",shadow:"shadow-blue-600/20",lightBg:"bg-blue-50",buttonBg:"bg-blue-600",buttonHover:"hover:bg-blue-700",badgeText:"text-blue-400",badgeBg:"bg-blue-600/20",badgeBorder:"border-blue-500/30"};return o.jsxs(ae.div,{whileHover:{y:-5},className:`bg-white dark:bg-slate-900 rounded-2xl md:rounded-3xl overflow-hidden border border-slate-100 dark:border-slate-800 shadow-lg ${p.shadow.replace("shadow-","shadow-slate-900/5 ")} group relative`,children:[o.jsxs("div",{className:"relative aspect-square overflow-hidden bg-slate-50 dark:bg-slate-800",children:[h&&o.jsxs("div",{className:`absolute top-2 right-2 md:top-3 md:right-3 z-10 ${p.bg} text-white text-[10px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1 rounded-full shadow-lg ${p.shadow}`,children:[d,"% OFF"]}),o.jsx("button",{onClick:y=>{y.stopPropagation(),n(t)},className:`absolute top-2 left-2 md:top-3 md:left-3 z-10 p-1.5 md:p-2 rounded-full backdrop-blur-md transition-colors ${s?"bg-rose-500/10 text-rose-500":"bg-white/30 text-slate-600 hover:bg-white/50"}`,children:o.jsx(Wa,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"fill-current":""}`})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-x-0 bottom-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 bg-gradient-to-t from-slate-900/80 to-transparent flex gap-2 justify-center",children:o.jsxs(q,{onClick:()=>e({...t,price:h?m:a(u)}),size:"sm",className:`bg-white text-slate-900 ${p.lightBg.replace("bg-","hover:bg-")} ${p.hoverText} rounded-full font-bold shadow-lg`,children:[o.jsx(bu,{className:"w-4 h-4 mr-2"})," ",r[i].addToCart]})})]}),o.jsxs("div",{className:"p-3 md:p-5",children:[o.jsxs("div",{className:"mb-1 md:mb-2 flex items-center gap-1",children:[o.jsx(fa,{className:"w-3 h-3 text-yellow-400 fill-current"}),o.jsx("span",{className:"text-xs text-slate-500 font-medium",children:"4.8"})]}),o.jsx(ct,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:`font-bold text-sm md:text-base text-slate-900 dark:text-white mb-1 md:mb-2 line-clamp-2 ${p.hoverText} transition-colors`,children:t.name})}),o.jsxs("div",{className:"flex flex-col md:flex-row md:items-baseline gap-1 md:gap-2",children:[o.jsx("span",{className:`text-base md:text-xl font-extrabold ${p.text}`,children:h?m:a(u)}),h&&o.jsx("span",{className:"text-xs md:text-sm text-slate-400 line-through",children:a(u)})]})]})]})},j_=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u,theme:d})=>{var _,v,b,E,I;const[h,m]=g.useState(null),p=d||{bg:"bg-blue-600",text:"text-blue-600",hoverText:"hover:text-blue-600",shadow:"shadow-blue-600/20",lightBg:"bg-blue-50",buttonBg:"bg-blue-600",buttonHover:"hover:bg-blue-700",badgeText:"text-blue-400",badgeBg:"bg-blue-600/20",badgeBorder:"border-blue-500/30"},y=h?t.filter(A=>A.category===h):t,x=t.filter(A=>Number(A.discount)>0).slice(0,4);return o.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 font-sans",children:[o.jsxs("div",{className:"relative overflow-hidden bg-slate-900 text-white min-h-[500px] flex items-center",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[n.backgroundImageUrl||(_=n.bannerImages)!=null&&_[0]?o.jsx("img",{src:n.backgroundImageUrl||((v=n.bannerImages)==null?void 0:v[0]),alt:"Hero",className:"w-full h-full object-cover opacity-40"}):o.jsx("div",{className:`w-full h-full bg-gradient-to-br ${p.gradient||"from-blue-900 via-indigo-900"} to-slate-900`}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-transparent to-transparent"})]}),o.jsxs("div",{className:"container mx-auto px-4 relative z-10 grid md:grid-cols-2 gap-12 items-center",children:[o.jsxs(ae.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},children:[o.jsxs(xn,{className:`mb-4 ${((b=p.lightBg)==null?void 0:b.replace("bg-","bg-"))||"bg-blue-600/20"} ${((E=p.text)==null?void 0:E.replace("text-","text-"))||"text-blue-400"} border-opacity-30 px-3 py-1 text-sm`,children:[o.jsx(bf,{className:"w-3 h-3 mr-1"})," New Collection"]}),o.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight tracking-tight",children:n.title||(r==="ar"?"   ":"Next Gen Tech is Here")}),o.jsx("p",{className:"text-lg text-slate-300 mb-8 max-w-lg leading-relaxed",children:n.subtitle||(r==="ar"?"        .":"Discover our premium collection of smartphones and accessories at the best prices.")}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx(q,{className:`${p.bg} ${p.buttonHover||"hover:bg-blue-700"} text-white rounded-full px-8 h-12 text-lg shadow-lg ${p.shadow}`,children:n.ctaText||s[r].shopNow}),o.jsx(q,{variant:"outline",className:"border-slate-700 text-white hover:bg-slate-800 rounded-full px-8 h-12 text-lg",children:r==="ar"?" ":"View Offers"})]})]}),o.jsx(ae.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"hidden md:block relative",children:o.jsx("div",{className:"relative z-10 bg-gradient-to-tr from-slate-800 to-slate-700 rounded-[2.5rem] p-4 shadow-2xl border border-slate-600 rotate-[-6deg] w-[300px] mx-auto",children:o.jsxs("div",{className:"bg-slate-900 rounded-[2rem] h-[550px] overflow-hidden relative",children:[o.jsx("div",{className:"absolute inset-0 bg-slate-800 flex items-center justify-center text-slate-600",children:o.jsx(l1,{className:"w-16 h-16 opacity-20"})}),x[0]&&o.jsx("img",{src:x[0].image,className:"w-full h-full object-cover",alt:""})]})})})]})]}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-12",children:[o.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:r==="ar"?"  ":"Browse by Category"}),o.jsx("div",{className:`w-20 h-1 ${p.bg} mx-auto rounded-full`})]}),o.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[o.jsx("button",{onClick:()=>m(null),className:`px-6 py-3 rounded-2xl transition-all ${h?"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700":`${p.bg} text-white shadow-lg ${p.shadow} scale-105`}`,children:s[r].allCategories}),e.map(A=>{const R=typeof A=="object"?A.name||A.id||JSON.stringify(A):A;return o.jsx("button",{onClick:()=>m(R),className:`px-6 py-3 rounded-2xl transition-all ${h===R?`${p.bg} text-white shadow-lg ${p.shadow} scale-105`:"bg-white dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-700"}`,children:R},R)})]})]}),x.length>0&&!h&&o.jsx("div",{className:"py-12 bg-slate-900 text-white overflow-hidden",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[o.jsx(bf,{className:"text-yellow-400"}),r==="ar"?" ":"Special Offers"]}),o.jsxs(ct,{to:"/store",className:`text-sm ${((I=p.text)==null?void 0:I.replace("text-","text-"))||"text-blue-400"} hover:opacity-80 flex items-center gap-1`,children:[r==="ar"?" ":"View All"," ",o.jsx(FT,{className:"w-4 h-4"})]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-6",children:x.map(A=>o.jsx(sk,{product:A,onAdd:i,onToggleWishlist:a,isWishlisted:l(A.id),t:s,lang:r,formatCurrency:c,parsePrice:u,theme:p},A.id))})]})}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-8",children:h||(r==="ar"?" ":"All Products")}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:y.map(A=>o.jsx(sk,{product:A,onAdd:i,onToggleWishlist:a,isWishlisted:l(A.id),t:s,lang:r,formatCurrency:c,parsePrice:u,theme:p},A.id))}),y.length===0&&o.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-3xl border border-dashed border-slate-300 dark:border-slate-700",children:o.jsx("p",{className:"text-slate-500",children:s[r].noProducts.default})})]})]})},rme=({product:t,viewMode:e,onAdd:n,onToggleWishlist:s,isWishlisted:r,t:i,lang:a,formatCurrency:l,parsePrice:c})=>{const u=c(t.price),d=Number(t.discount)||0,h=d>0,m=l(u*(1-d/100));return e==="list"?o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg p-4 flex items-center gap-4 transition-all hover:shadow-md",children:[o.jsx("div",{className:"w-24 h-24 shrink-0 bg-slate-100 rounded-md overflow-hidden relative",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(xn,{variant:"outline",className:"rounded-sm text-[10px] uppercase tracking-wider text-slate-500",children:t.category||"Part"}),t.stock>0?o.jsxs("span",{className:"text-[10px] text-green-600 font-medium flex items-center gap-1",children:[o.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"})," In Stock"]}):o.jsx("span",{className:"text-[10px] text-red-600 font-medium",children:"Out of Stock"})]}),o.jsx(ct,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 text-lg hover:text-orange-600 truncate",children:t.name})}),o.jsxs("p",{className:"text-sm text-slate-500 line-clamp-1 mt-1",children:["Part No: ",t.id.substring(0,8).toUpperCase()]})]}),o.jsxs("div",{className:"text-right shrink-0",children:[o.jsx("div",{className:"text-xl font-bold text-slate-900 mb-2",children:h?m:l(u)}),o.jsx(q,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",className:"bg-slate-900 hover:bg-orange-600 text-white w-full",children:i[a].addToCart})]})]}):o.jsxs("div",{className:"group bg-white border border-slate-200 hover:border-orange-500 rounded-lg overflow-hidden transition-all hover:shadow-lg",children:[o.jsxs("div",{className:"aspect-[4/3] bg-slate-100 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-2 right-2 z-10",children:o.jsx("button",{onClick:p=>{p.stopPropagation(),s(t)},className:`p-1.5 rounded-md ${r?"bg-rose-50 text-rose-500":"bg-white/80 text-slate-400 hover:text-rose-500"}`,children:o.jsx(Wa,{className:`w-4 h-4 ${r?"fill-current":""}`})})}),o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1581092921461-eab62e97a782?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}),h&&o.jsxs("div",{className:"absolute bottom-0 left-0 bg-orange-600 text-white text-xs font-bold px-2 py-1",children:["SAVE ",d,"%"]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("div",{className:"mb-2",children:o.jsx(xn,{variant:"secondary",className:"rounded-sm text-[10px] bg-slate-100 text-slate-600",children:t.category||"General"})}),o.jsx(ct,{to:`/store/product/${t.id}`,children:o.jsx("h3",{className:"font-bold text-slate-900 mb-2 line-clamp-2 hover:text-orange-600 h-10 leading-tight",children:t.name})}),o.jsxs("div",{className:"flex items-center justify-between mt-4",children:[o.jsx("span",{className:"font-bold text-lg text-slate-900",children:h?m:l(u)}),o.jsx(q,{onClick:()=>n({...t,price:h?m:l(u)}),size:"sm",variant:"ghost",className:"text-orange-600 hover:text-orange-700 hover:bg-orange-50 p-0 h-auto font-bold",children:i[a].addToCart})]})]})]})},xF=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{const[d,h]=g.useState(null),[m,p]=g.useState("grid"),[y,x]=g.useState(""),_=t.filter(v=>{const b=d?v.category===d:!0,E=y?v.name.toLowerCase().includes(y.toLowerCase()):!0;return b&&E});return o.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans",children:[o.jsx("div",{className:"bg-slate-900 text-white py-12 border-b-4 border-orange-500",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[o.jsxs("div",{className:"max-w-2xl",children:[o.jsxs("div",{className:"flex items-center gap-2 text-orange-500 font-bold tracking-widest text-sm mb-2",children:[o.jsx(Fy,{className:"w-4 h-4 animate-spin-slow"}),r==="ar"?"  ":"GENUINE SPARE PARTS"]}),o.jsx("h1",{className:"text-3xl md:text-5xl font-black mb-4 uppercase",children:n.title||(r==="ar"?"  ":"Parts Center")}),o.jsx("p",{className:"text-slate-400 max-w-lg",children:n.subtitle||(r==="ar"?"     .":"Find the exact part you need for your device repair.")})]}),o.jsxs("div",{className:"w-full md:w-auto bg-white p-4 rounded-lg shadow-xl md:min-w-[400px]",children:[o.jsx("label",{className:"text-slate-900 text-sm font-bold mb-2 block",children:r==="ar"?" ":"Quick Part Search"}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Xo,{className:"absolute left-3 top-2.5 w-4 h-4 text-slate-400"}),o.jsx(ue,{placeholder:r==="ar"?"   ...":"Part Name or Model...",className:"pl-9 bg-slate-50 border-slate-200 text-slate-900",value:y,onChange:v=>x(v.target.value)})]}),o.jsx(q,{className:"bg-orange-600 hover:bg-orange-700 text-white",children:r==="ar"?"":"Search"})]})]})]})})}),o.jsxs("div",{className:"container mx-auto px-4 py-8 flex flex-col md:flex-row gap-8",children:[o.jsx("aside",{className:"w-full md:w-64 shrink-0",children:o.jsxs("div",{className:"bg-white border border-slate-200 rounded-lg overflow-hidden sticky top-24",children:[o.jsxs("div",{className:"bg-slate-50 p-4 border-b border-slate-200 font-bold text-slate-800 flex items-center gap-2",children:[o.jsx(vf,{className:"w-4 h-4"})," ",s[r].categories]}),o.jsxs("div",{className:"divide-y divide-slate-100",children:[o.jsx("button",{onClick:()=>h(null),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d?"text-slate-600":"font-bold text-orange-700 bg-orange-50"}`,children:s[r].allCategories}),e.map(v=>o.jsxs("button",{onClick:()=>h(v),className:`w-full text-left px-4 py-3 text-sm hover:bg-orange-50 hover:text-orange-700 transition-colors flex justify-between items-center ${d===v?"font-bold text-orange-700 bg-orange-50":"text-slate-600"}`,children:[v,o.jsx("span",{className:"bg-slate-100 text-slate-500 text-[10px] px-1.5 py-0.5 rounded-full",children:t.filter(b=>b.category===v).length})]},v))]})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6 bg-white p-3 rounded-lg border border-slate-200",children:[o.jsxs("div",{className:"text-sm text-slate-500 font-medium",children:["Showing ",o.jsx("span",{className:"text-slate-900 font-bold",children:_.length})," parts"]}),o.jsxs("div",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-md",children:[o.jsx("button",{onClick:()=>p("grid"),className:`p-1.5 rounded ${m==="grid"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(OG,{className:"w-4 h-4"})}),o.jsx("button",{onClick:()=>p("list"),className:`p-1.5 rounded ${m==="list"?"bg-white shadow-sm text-slate-900":"text-slate-400 hover:text-slate-600"}`,children:o.jsx(LG,{className:"w-4 h-4"})})]})]}),o.jsx("div",{className:m==="grid"?"grid grid-cols-2 lg:grid-cols-3 gap-4":"space-y-4",children:_.map(v=>o.jsx(rme,{product:v,viewMode:m,onAdd:i,onToggleWishlist:a,isWishlisted:l(v.id),t:s,lang:r,formatCurrency:c,parsePrice:u},v.id))}),_.length===0&&o.jsxs("div",{className:"text-center py-20 border-2 border-dashed border-slate-200 rounded-lg",children:[o.jsx(YG,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"No parts found"}),o.jsx("p",{className:"text-slate-500",children:"Try adjusting your search or category."})]})]})]})]})},ime=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l})=>{Ot();const c=l(t.price),u=Number(t.discount)||0,d=u>0,h=a(c*(1-u/100));return o.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group bg-white dark:bg-zinc-900 rounded-3xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 border border-zinc-100 dark:border-zinc-800",children:[o.jsxs("div",{className:"relative h-36 md:h-48 overflow-hidden",children:[d&&o.jsxs("div",{className:"absolute top-2 left-2 md:top-3 md:left-3 z-10 bg-red-500 text-white text-[10px] md:text-xs font-bold px-2 py-0.5 md:px-3 md:py-1 rounded-full shadow-lg",children:[u,"% OFF"]}),o.jsx("button",{onClick:m=>{m.stopPropagation(),n(t)},className:`absolute top-2 right-2 md:top-3 md:right-3 z-10 p-1.5 md:p-2 rounded-full backdrop-blur-md transition-colors ${s?"bg-red-50 text-red-500":"bg-black/20 text-white hover:bg-white hover:text-red-500"}`,children:o.jsx(Wa,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"fill-current":""}`})}),o.jsx(ct,{to:`/store/product/${t.id}`,className:"block h-full",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"})})]}),o.jsxs("div",{className:"p-3 md:p-5",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 gap-2",children:[o.jsx(ct,{to:`/store/product/${t.id}`,className:"block flex-1",children:o.jsx("h3",{className:"font-bold text-sm md:text-lg text-zinc-900 dark:text-white line-clamp-1 group-hover:text-orange-600 transition-colors",children:t.name})}),o.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 text-[10px] md:text-sm font-medium bg-yellow-50 dark:bg-yellow-900/20 px-1.5 py-0.5 md:px-2 rounded-lg shrink-0",children:[o.jsx(fa,{className:"w-3 h-3 md:w-3.5 md:h-3.5 fill-current"}),o.jsx("span",{children:"4.9"})]})]}),o.jsx("p",{className:"text-zinc-500 text-xs md:text-sm mb-3 md:mb-4 line-clamp-2 min-h-[32px] md:min-h-[40px]",children:t.description||(i==="ar"?"   ...":"A delicious meal description...")}),o.jsxs("div",{className:"flex items-center justify-between mt-auto gap-2",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-base md:text-xl font-black text-zinc-900 dark:text-white",children:d?h:a(c)}),d&&o.jsx("span",{className:"text-[10px] md:text-xs text-zinc-400 line-through",children:a(c)})]}),o.jsxs(q,{onClick:()=>e({...t,price:d?h:a(c)}),size:"sm",className:"bg-orange-600 hover:bg-orange-700 text-white rounded-xl px-3 md:px-4 h-8 md:h-9 text-xs md:text-sm font-bold shadow-lg shadow-orange-600/20 transition-transform active:scale-95 shrink-0",children:[o.jsx(Oa,{className:"w-4 h-4 md:w-5 md:h-5 md:mr-1"}),o.jsx("span",{className:"hidden md:inline",children:i==="ar"?"":"Order"}),o.jsx("span",{className:"md:hidden",children:i==="ar"?"":"Add"})]})]})]})]})},bF=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u})=>{var p;const[d,h]=g.useState(null),m=d?t.filter(y=>y.category===d):t;return o.jsxs("div",{className:"min-h-screen bg-orange-50/30 dark:bg-zinc-950 font-sans",children:[o.jsxs("div",{className:"relative h-[60vh] min-h-[500px] overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:n.backgroundImageUrl||((p=n.bannerImages)==null?void 0:p[0])||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&q=80&w=1200",alt:"Hero",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/30"})]}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center p-4",children:o.jsxs(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"max-w-3xl",children:[o.jsxs("div",{className:"inline-flex items-center gap-2 bg-orange-500/20 backdrop-blur-sm border border-orange-500/30 text-orange-100 px-4 py-1.5 rounded-full mb-6",children:[o.jsx(g2,{className:"w-5 h-5"}),o.jsx("span",{className:"font-medium",children:r==="ar"?" ":"Premium Quality Food"})]}),o.jsx("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 drop-shadow-lg leading-tight",children:n.title||(r==="ar"?"  ":"Taste the Authentic")}),o.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-10 font-medium",children:n.subtitle||(r==="ar"?"   ":"Fresh ingredients delivered daily")}),o.jsx(q,{className:"bg-orange-600 hover:bg-orange-700 text-white rounded-full px-10 py-6 text-xl font-bold shadow-xl shadow-orange-600/30 border-2 border-orange-400/20",children:n.ctaText||(r==="ar"?" ":"Order Now")})]})})]}),o.jsx("div",{className:"sticky top-0 z-30 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-800 py-4 shadow-sm",children:o.jsx("div",{className:"container mx-auto px-4 overflow-x-auto no-scrollbar",children:o.jsxs("div",{className:"flex items-center gap-3 min-w-max pb-2 md:pb-0 justify-center",children:[o.jsxs("button",{onClick:()=>h(null),className:`flex items-center gap-2 px-6 py-2.5 rounded-full font-bold transition-all ${d?"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700":"bg-zinc-900 text-white dark:bg-white dark:text-zinc-900 shadow-lg scale-105"}`,children:[o.jsx(GG,{className:"w-4 h-4"}),s[r].allCategories]}),e.map(y=>o.jsx("button",{onClick:()=>h(y),className:`px-6 py-2.5 rounded-full font-bold transition-all ${d===y?"bg-orange-600 text-white shadow-lg shadow-orange-600/25 scale-105":"bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700 border border-zinc-200 dark:border-zinc-700"}`,children:y},y))]})})}),o.jsxs("div",{className:"py-16 container mx-auto px-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-10",children:[o.jsxs("h2",{className:"text-3xl font-black text-zinc-900 dark:text-white flex items-center gap-3",children:[o.jsx("span",{className:"w-2 h-10 bg-orange-600 rounded-full d-block"}),d||(r==="ar"?" ":"Our Menu")]}),o.jsxs("div",{className:"flex items-center gap-2 text-zinc-500 text-sm",children:[o.jsx(BT,{className:"w-4 h-4"}),o.jsx("span",{children:r==="ar"?" : 20-30 ":"Prep time: 20-30 mins"})]})]}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:m.map(y=>o.jsx(ime,{product:y,onAdd:i,onToggleWishlist:a,isWishlisted:l(y.id),t:s,lang:r,formatCurrency:c,parsePrice:u},y.id))}),m.length===0&&o.jsxs("div",{className:"text-center py-24 bg-white dark:bg-zinc-900 rounded-3xl border border-dashed border-zinc-300 dark:border-zinc-800",children:[o.jsx(g2,{className:"w-16 h-16 text-zinc-300 mx-auto mb-4"}),o.jsx("p",{className:"text-zinc-500 font-medium text-lg",children:s[r].noProducts.default})]})]})]})},ame=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l,theme:c})=>{Ot();const u=l(t.price),d=Number(t.discount)||0,h=d>0,m=a(u*(1-d/100)),p=c||{bg:"bg-indigo-600",text:"text-indigo-400",hoverText:"hover:text-indigo-400",shadow:"shadow-indigo-600/20",border:"border-indigo-500/50",buttonBg:"bg-indigo-600",buttonHover:"hover:bg-indigo-700"};return o.jsxs(ae.div,{whileHover:{y:-8},className:`group bg-slate-900 rounded-2xl overflow-hidden border border-slate-800 ${p.border.replace("border-","hover:border-")} transition-all duration-300 relative`,children:[o.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${p.gradient||"from-indigo-500/5 to-purple-500/5"} opacity-0 group-hover:opacity-100 transition-opacity`}),o.jsx("div",{className:"p-1",children:o.jsxs("div",{className:"relative aspect-[16/10] overflow-hidden rounded-xl bg-slate-950",children:[h&&o.jsxs("div",{className:`absolute top-2 right-2 z-10 ${p.bg} text-white text-[10px] md:text-xs font-bold px-1.5 py-0.5 md:px-2 md:py-0.5 rounded border border-white/10`,children:[d,"% OFF"]}),o.jsx("button",{onClick:y=>{y.stopPropagation(),n(t)},className:`absolute top-2 left-2 z-10 p-1.5 md:p-2 rounded-lg backdrop-blur-md transition-colors ${s?"bg-rose-500/10 text-rose-500":"bg-slate-900/50 text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:o.jsx(Wa,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${s?"fill-current":""}`})}),o.jsx(ct,{to:`/store/product/${t.id}`,className:"block h-full",children:o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1618005182384-a83a8bd57fbe?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity"})})]})}),o.jsxs("div",{className:"p-3 md:p-5 relative",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2 md:mb-3",children:[o.jsx(xn,{variant:"outline",className:"border-slate-700 text-slate-400 text-[9px] md:text-[10px] uppercase tracking-wider px-1 py-0 h-5",children:t.category||"Digital"}),o.jsxs("div",{className:`flex items-center gap-1 ${p.text} text-[10px] md:text-xs font-medium`,children:[o.jsx(fa,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-current"}),o.jsx("span",{children:"5.0"})]})]}),o.jsx(ct,{to:`/store/product/${t.id}`,className:"block mb-1 md:mb-2",children:o.jsx("h3",{className:`font-bold text-sm md:text-lg text-white ${p.hoverText} transition-colors line-clamp-1`,children:t.name})}),o.jsx("p",{className:"text-slate-400 text-xs md:text-sm mb-3 md:mb-6 line-clamp-2 min-h-[32px] md:min-h-[40px]",children:t.description||(i==="ar"?"     ...":"High quality digital asset ready for download...")}),o.jsxs("div",{className:"flex items-center justify-between border-t border-slate-800 pt-3 md:pt-4 gap-2",children:[o.jsx("div",{className:"flex flex-col",children:o.jsx("span",{className:"text-base md:text-xl font-bold text-white",children:h?m:a(u)})}),o.jsxs(q,{onClick:()=>e({...t,price:h?m:a(u)}),size:"sm",className:`${p.bg} ${p.buttonHover||"hover:bg-indigo-700"} text-white rounded-lg px-3 md:px-4 h-8 md:h-9 text-xs md:text-sm font-medium shadow-lg ${p.shadow} shrink-0`,children:[o.jsx(Hc,{className:"w-3.5 h-3.5 md:w-4 md:h-4 md:mr-2"}),o.jsx("span",{className:"hidden md:inline",children:i==="ar"?"":"Get It"}),o.jsx("span",{className:"md:hidden",children:i==="ar"?"":"Get"})]})]})]})]})},wF=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u,theme:d})=>{const[h,m]=g.useState(null),p=d||{bg:"bg-indigo-600",text:"text-indigo-400",hoverText:"hover:text-indigo-400",shadow:"shadow-indigo-600/20",border:"border-indigo-500/50",buttonBg:"bg-indigo-600",buttonHover:"hover:bg-indigo-700",gradient:"from-indigo-600 to-violet-600"},y=h?t.filter(x=>x.category===h):t;return o.jsxs("div",{className:"min-h-screen bg-slate-950 font-sans text-slate-200",children:[o.jsxs("div",{className:"relative py-24 lg:py-32 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20"}),o.jsx("div",{className:`absolute top-[-20%] right-[-10%] w-[600px] h-[600px] ${p.bg}/20 rounded-full blur-[120px]`}),o.jsx("div",{className:`absolute bottom-[-20%] left-[-10%] w-[500px] h-[500px] ${p.bg}/10 rounded-full blur-[100px]`}),o.jsx("div",{className:"container mx-auto px-4 relative z-10",children:o.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[o.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`inline-flex items-center gap-2 border border-slate-700 bg-slate-900/50 backdrop-blur-md px-4 py-1.5 rounded-full mb-8 ${p.text} text-sm font-medium`,children:[o.jsx(bf,{className:"w-4 h-4"}),o.jsx("span",{children:r==="ar"?"  ":"Premium Digital Assets"})]}),o.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6 tracking-tight leading-tight",children:n.title||(r==="ar"?"  ":"Elevate Your Next Project")}),o.jsx("p",{className:"text-xl text-slate-400 mb-10 max-w-2xl mx-auto",children:n.subtitle||(r==="ar"?"       .":"Curated library of high-quality digital tools and templates.")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsx(q,{className:`${p.buttonBg} ${p.buttonHover} text-white px-8 h-12 text-lg rounded-xl`,children:n.ctaText||(r==="ar"?" ":"Browse Library")}),o.jsx(q,{variant:"outline",className:"border-slate-700 text-slate-300 hover:bg-slate-800 hover:text-white px-8 h-12 text-lg rounded-xl",children:r==="ar"?" ":"How it works?"})]})]})})]}),o.jsx("div",{className:"border-y border-slate-800/50 bg-slate-900/30 backdrop-blur-sm sticky top-0 z-30",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex items-center gap-8 overflow-x-auto no-scrollbar py-4 justify-center min-w-max",children:[o.jsxs("button",{onClick:()=>m(null),className:`text-sm font-medium transition-colors relative ${h?"text-slate-500 hover:text-slate-300":"text-white"}`,children:[s[r].allCategories,!h&&o.jsx(ae.div,{layoutId:"activeTab",className:`absolute -bottom-[17px] left-0 right-0 h-0.5 ${p.bg}`})]}),e.map(x=>o.jsxs("button",{onClick:()=>m(x),className:`text-sm font-medium transition-colors relative ${h===x?"text-white":"text-slate-500 hover:text-slate-300"}`,children:[x,h===x&&o.jsx(ae.div,{layoutId:"activeTab",className:`absolute -bottom-[17px] left-0 right-0 h-0.5 ${p.bg}`})]},x))]})})}),o.jsxs("div",{className:"py-20 container mx-auto px-4",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-6",children:y.map(x=>o.jsx(ame,{product:x,onAdd:i,onToggleWishlist:a,isWishlisted:l(x.id),t:s,lang:r,formatCurrency:c,parsePrice:u,theme:p},x.id))}),y.length===0&&o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-900 rounded-2xl flex items-center justify-center mb-6 border border-slate-800",children:o.jsx(CG,{className:"w-10 h-10 text-slate-600"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:s[r].noProducts.default}),o.jsx("p",{className:"text-slate-500 max-w-sm",children:"Try selecting a different category or check back later for new releases."})]})]})]})},rk=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,formatCurrency:a,parsePrice:l,theme:c})=>{const u=Ot(),d=l(t.price),h=Number(t.discount)||0,m=h>0,p=a(d*(1-h/100)),y=c||{text:"text-stone-800",hoverText:"hover:text-stone-600",price:"text-stone-800",buttonBg:"bg-stone-900",buttonText:"text-white",buttonHover:"hover:bg-stone-800"};return o.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group cursor-pointer",onClick:()=>u(`/store/product/${t.id}`),children:[o.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden mb-4 bg-stone-100",children:[o.jsx("img",{src:t.image||"https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?auto=format&fit=crop&q=80&w=600",alt:t.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),m&&o.jsxs("div",{className:`absolute top-0 ${i==="ar"?"right-0":"left-0"} bg-red-600 text-white text-xs font-medium px-3 py-1.5 uppercase tracking-wider`,children:["-",h,"%"]}),o.jsx("button",{onClick:x=>{x.stopPropagation(),n(t)},className:`absolute top-3 ${i==="ar"?"left-3":"right-3"} p-2 rounded-full bg-white/80 backdrop-blur-sm transition-all duration-300 opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0 ${s?"text-red-500":"text-stone-800 hover:bg-white"}`,children:o.jsx(Wa,{className:`w-5 h-5 ${s?"fill-current":""}`})}),o.jsx("div",{className:"absolute inset-x-4 bottom-4 translate-y-full group-hover:translate-y-0 transition-transform duration-500 ease-out",children:o.jsx(q,{onClick:x=>{x.stopPropagation(),e({...t,price:m?p:a(d)})},className:`w-full ${y.buttonBg} ${y.buttonHover} ${y.buttonText} h-11 uppercase tracking-wide text-xs font-medium rounded-none shadow-xl`,children:r[i].addToCart})})]}),o.jsxs("div",{className:"text-center space-y-1",children:[o.jsx("h3",{className:`font-medium text-stone-900 ${y.hoverText} transition-colors line-clamp-1 text-lg`,children:t.name}),o.jsx("p",{className:"text-sm text-stone-500 capitalize",children:t.category}),o.jsxs("div",{className:"flex items-center justify-center gap-2 pt-1",children:[o.jsx("span",{className:`text-base font-semibold ${y.price}`,children:m?p:a(d)}),m&&o.jsx("span",{className:"text-sm text-stone-400 line-through decoration-1",children:a(d)})]})]})]})},_F=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:c,parsePrice:u,theme:d})=>{var _,v;const[h,m]=g.useState(null),p=d||{text:"text-rose-900",hoverText:"hover:text-rose-700",price:"text-rose-600",buttonBg:"bg-rose-900",buttonText:"text-white",buttonHover:"hover:bg-rose-800",accent:"border-rose-900"},y=h?t.filter(b=>b.category===h):t,x=t.filter(b=>Number(b.discount)>0).slice(0,3);return o.jsxs("div",{className:"min-h-screen bg-white font-sans text-stone-900",children:[o.jsxs("div",{className:"relative min-h-[80vh] grid md:grid-cols-12 overflow-hidden",children:[o.jsx("div",{className:"md:col-span-5 lg:col-span-4 relative flex items-center justify-center p-8 md:p-16 bg-stone-50 z-10",children:o.jsx("div",{className:"max-w-md w-full relative",children:o.jsxs(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[o.jsx("span",{className:`inline-block py-1 border-b-2 ${p.accent} text-stone-500 text-xs font-bold uppercase tracking-[0.2em] mb-6`,children:r==="ar"?" ":"New Collection"}),o.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-medium leading-[1.1] mb-6 text-stone-900",children:n.title||(r==="ar"?"  ":"Timeless Elegance")}),o.jsx("p",{className:"text-stone-600 mb-10 leading-relaxed font-light text-lg",children:n.subtitle||(r==="ar"?"    .":"Discover the latest trends in luxury fashion.")}),o.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[o.jsx(q,{className:`${p.buttonBg} ${p.buttonHover} text-white px-8 h-12 rounded-none uppercase tracking-widest text-xs`,children:n.ctaText||s[r].shopNow}),o.jsx(q,{variant:"outline",className:"border-stone-900 text-stone-900 hover:bg-stone-900 hover:text-white px-8 h-12 rounded-none uppercase tracking-widest text-xs",children:r==="ar"?" ":"View Lookbook"})]})]})})}),o.jsx("div",{className:"md:col-span-7 lg:col-span-8 relative h-[50vh] md:h-auto overflow-hidden",children:n.backgroundImageUrl||(_=n.bannerImages)!=null&&_[0]?o.jsx("img",{src:n.backgroundImageUrl||((v=n.bannerImages)==null?void 0:v[0]),alt:"Hero",className:"absolute inset-0 w-full h-full object-cover"}):o.jsxs("div",{className:"grid grid-cols-2 h-full",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1490481651871-ab68de25d43d?auto=format&fit=crop&q=80&w=800",className:"w-full h-full object-cover",alt:""}),o.jsx("img",{src:"https://images.unsplash.com/photo-1483985988355-763728e1935b?auto=format&fit=crop&q=80&w=800",className:"w-full h-full object-cover hidden lg:block",alt:""})]})})]}),o.jsx("div",{className:"border-y border-stone-100 py-6 overflow-hidden bg-white",children:o.jsxs("div",{className:"flex justify-center gap-12 md:gap-24 opacity-40 grayscale",children:[o.jsx("span",{className:"text-2xl font-serif italic",children:"Vogue"}),o.jsx("span",{className:"text-2xl font-serif italic",children:"Elle"}),o.jsx("span",{className:"text-2xl font-serif italic",children:"Bazaar"}),o.jsx("span",{className:"text-2xl font-serif italic",children:"Grazia"})]})}),x.length>0&&!h&&o.jsxs("div",{className:"py-20 container mx-auto px-4",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-3xl md:text-4xl font-serif mb-4",children:r==="ar"?" ":"Best Sellers"}),o.jsx("div",{className:"w-24 h-px bg-stone-300 mx-auto"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 md:gap-12",children:x.map((b,E)=>o.jsx("div",{className:`${E===1?"md:-mt-12":""}`,children:o.jsx(rk,{product:b,onAdd:i,onToggleWishlist:a,isWishlisted:l(b.id),t:s,lang:r,formatCurrency:c,parsePrice:u,theme:p})},b.id))})]}),o.jsx("div",{className:"sticky top-0 z-30 bg-white/95 backdrop-blur-md border-b border-stone-100 py-4",children:o.jsx("div",{className:"container mx-auto px-4 overflow-x-auto no-scrollbar",children:o.jsxs("div",{className:"flex justify-center min-w-max gap-8",children:[o.jsx("button",{onClick:()=>m(null),className:`uppercase tracking-widest text-xs font-medium py-2 border-b-2 transition-colors ${h?"border-transparent text-stone-400 hover:text-stone-600":"border-stone-900 text-stone-900"}`,children:s[r].allCategories}),e.map(b=>o.jsx("button",{onClick:()=>m(b),className:`uppercase tracking-widest text-xs font-medium py-2 border-b-2 transition-colors ${h===b?"border-stone-900 text-stone-900":"border-transparent text-stone-400 hover:text-stone-600"}`,children:b},b))]})})}),o.jsxs("div",{className:"py-20 container mx-auto px-4 bg-white",children:[o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-12",children:y.map(b=>o.jsx(rk,{product:b,onAdd:i,onToggleWishlist:a,isWishlisted:l(b.id),t:s,lang:r,formatCurrency:c,parsePrice:u,theme:p},b.id))}),y.length===0&&o.jsx("div",{className:"text-center py-32",children:o.jsx("p",{className:"text-stone-400 font-serif italic text-xl",children:s[r].noProducts.default})})]}),o.jsx("div",{className:"bg-stone-100 py-24 text-center",children:o.jsxs("div",{className:"container mx-auto px-4 max-w-xl",children:[o.jsx("h2",{className:"text-3xl font-serif mb-6",children:r==="ar"?"  ":"Join Our Newsletter"}),o.jsx("p",{className:"text-stone-500 mb-8",children:r==="ar"?"   10%      .":"Get 10% off your first order and stay updated with the latest fashion news."}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"email",placeholder:r==="ar"?" ":"Your email address",className:"flex-1 bg-white border-none h-12 px-4 outline-none ring-0"}),o.jsx(q,{className:`${p.buttonBg} ${p.buttonHover} text-white h-12 px-8 rounded-none uppercase tracking-widest text-xs`,children:r==="ar"?"":"Subscribe"})]})]})})]})},ome=({product:t,onAdd:e,onToggleWishlist:n,isWishlisted:s,t:r,lang:i,theme:a})=>{const l=Ot(),c=Mn(t.price),u=Number(t.discount)||0,d=u>0,h=ot(c*(1-u/100)),m=y=>{y.preventDefault(),y.stopPropagation(),e({...t,price:d?h:ot(c)},!1),l("/store/checkout")},p=y=>{y.preventDefault(),y.stopPropagation(),e({...t,price:d?h:ot(c)})};return o.jsxs(ae.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"group flex flex-col h-full bg-white rounded-2xl overflow-hidden shadow-xl shadow-slate-200/60 border border-slate-100 hover:-translate-y-1 transition-all duration-300",children:[o.jsxs("div",{className:"relative aspect-[4/5] mb-0 overflow-hidden bg-slate-100",children:[d&&o.jsxs("div",{className:`absolute top-3 ${i==="ar"?"right-3":"left-3"} z-10 bg-gradient-to-r ${a.gradient} text-white text-xs font-bold px-3 py-1.5 rounded-xl shadow-lg ${a.shadow}`,children:["-",u,"%"]}),o.jsx("button",{onClick:y=>{y.preventDefault(),y.stopPropagation(),n&&n(t)},className:`absolute top-3 ${i==="ar"?"left-3":"right-3"} z-20 w-9 h-9 flex items-center justify-center rounded-xl shadow-lg transition-all duration-300 ${s?"bg-rose-50 text-rose-500":`bg-white/90 backdrop-blur-sm text-slate-400 hover:bg-white ${a.hoverText} hover:scale-110`}`,children:o.jsx(Wa,{className:`w-5 h-5 ${s?"fill-current":""}`})}),o.jsx(ct,{to:`/store/product/${t.id}`,className:"block h-full w-full",children:o.jsx("img",{src:t.image,alt:t.name,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-110",loading:"lazy"})}),o.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 translate-y-full group-hover:translate-y-0 transition-transform duration-300 hidden md:flex gap-3 z-10 items-center",children:[o.jsx(q,{onClick:p,className:`w-11 h-11 shrink-0 bg-white/95 backdrop-blur-sm text-slate-900 hover:bg-slate-50 ${a.hoverText} shadow-xl shadow-slate-900/10 rounded-full flex items-center justify-center transition-all hover:scale-110`,children:o.jsx(bu,{className:"w-5 h-5"})}),o.jsx(q,{onClick:m,className:"flex-1 bg-slate-900/95 backdrop-blur-sm text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 text-sm h-11 rounded-xl font-bold transition-all hover:scale-105",children:r[i].buyNow})]})]}),o.jsxs("div",{className:"flex flex-col flex-1 p-3",children:[o.jsx(ct,{to:`/store/product/${t.id}`,className:"block mb-1",children:o.jsx("h3",{className:`text-sm font-bold text-slate-900 line-clamp-2 leading-tight ${a.hoverText} transition-colors`,children:t.name})}),o.jsxs("div",{className:"mt-auto",children:[d?o.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-0 mb-1",children:[o.jsx("span",{className:`text-lg font-extrabold ${a.text}`,children:h}),o.jsx("span",{className:"text-xs text-slate-400 line-through decoration-slate-400/50 font-medium",children:ot(c)})]}):o.jsx("p",{className:"text-lg font-extrabold text-slate-900 mb-1",children:ot(c)}),o.jsxs("div",{className:"flex items-center gap-3 mt-1 md:hidden",children:[o.jsx("button",{onClick:p,className:`text-slate-400 ${a.hoverText} transition-colors p-1`,children:o.jsx(bu,{className:"w-6 h-6"})}),o.jsx(q,{onClick:m,className:`flex-1 bg-gradient-to-r ${a.buttonGradient} text-white ${a.buttonHover} text-xs h-8 font-bold rounded-lg gap-1 shadow-lg ${a.shadow} active:scale-95 transition-all p-0`,children:r[i].buyNow})]})]})]})]})},TF=({products:t,categories:e,banner:n,t:s,lang:r,addToCart:i,toggleWishlist:a,isInWishlist:l,theme:c,filtersOpen:u,searchQuery:d,categoryParam:h})=>{var R,S;const m=Ot(),p=Fn(),[y,x]=g.useState([0,1e5]),[_,v]=g.useState("featured"),[b,E]=g.useState(0);Bt.useEffect(()=>{if(E(0),n.bannerImages&&n.bannerImages.length>1){const T=setInterval(()=>{E(C=>(C+1)%n.bannerImages.length)},1e3);return()=>clearInterval(T)}},[n.bannerImages]);const I=t.filter(T=>{if(d&&!T.name.toLowerCase().includes(d.toLowerCase())||h&&T.category!==h)return!1;const C=Mn(T.price);return!(C<y[0]||C>y[1])}).sort((T,C)=>_==="lowHigh"?Mn(T.price)-Mn(C.price):_==="highLow"?Mn(C.price)-Mn(T.price):0),A=()=>o.jsxs("div",{className:"space-y-8 bg-white p-6 rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:s[r].categories}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tl,{id:"all",checked:!h,onCheckedChange:()=>m(p.pathname),className:`border-slate-300 data-[state=checked]:${c.bg} data-[state=checked]:border-transparent`}),o.jsx(se,{htmlFor:"all",className:`text-sm cursor-pointer transition-colors ${h?"text-slate-600 hover:text-slate-900":`font-bold ${c.text}`}`,onClick:()=>m(p.pathname),children:s[r].allCategories})]}),e.map(T=>o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Tl,{id:T,checked:h===T,onCheckedChange:()=>m(`${p.pathname}?category=${encodeURIComponent(T)}`),className:`border-slate-300 data-[state=checked]:${c.bg} data-[state=checked]:border-transparent`}),o.jsx(se,{htmlFor:T,className:`text-sm cursor-pointer transition-colors ${h===T?`font-bold ${c.text}`:"text-slate-600 hover:text-slate-900"}`,onClick:()=>m(`${p.pathname}?category=${encodeURIComponent(T)}`),children:T})]},T))]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-4 text-slate-900",children:s[r].priceRange}),o.jsx(mF,{defaultValue:[0,1e5],max:1e5,step:50,value:y,onValueChange:x,className:"mb-6"}),o.jsxs("div",{className:"flex items-center justify-between text-sm font-medium text-slate-600",children:[o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:ot(y[0])}),o.jsx("span",{className:"bg-slate-100 px-3 py-1 rounded-lg",children:ot(y[1])})]})]})]});return o.jsx("div",{className:"container mx-auto px-4",children:o.jsxs("div",{className:"flex flex-col md:flex-row gap-8 pt-4 md:pt-8",children:[o.jsx("aside",{className:`hidden ${u?"md:block":"md:hidden"} w-64 shrink-0`,children:o.jsxs("div",{className:"sticky top-24",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[o.jsx(T2,{className:"w-5 h-5"}),o.jsx("span",{className:"font-bold text-lg",children:s[r].filters})]}),o.jsx(A,{})]})}),o.jsxs("div",{className:"flex-1",children:[o.jsxs(ae.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"rounded-2xl text-white p-8 md:p-12 mb-8 relative overflow-hidden min-h-[250px] md:min-h-[400px] flex flex-col justify-center w-full transition-all duration-1000 ease-in-out",style:{backgroundImage:n.bannerImages&&n.bannerImages.length>0?`url(${n.bannerImages[b]})`:n.backgroundImageUrl?`url(${n.backgroundImageUrl})`:void 0,backgroundSize:"cover",backgroundPosition:`${((R=n.bannerPos)==null?void 0:R.x)??50}% ${((S=n.bannerPos)==null?void 0:S.y)??50}%`,backgroundColor:n.bannerImages&&n.bannerImages.length>0||n.backgroundImageUrl?void 0:"#0f172a"},children:[o.jsxs("div",{className:"relative z-10 max-w-lg w-full mx-auto md:mx-0 text-center md:text-left",children:[o.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold mb-4 md:mb-6 leading-tight break-words drop-shadow-md",children:n.title||s[r].welcome}),o.jsx("p",{className:"text-slate-100 mb-8 md:mb-10 text-lg md:text-xl font-medium line-clamp-3 break-words drop-shadow-sm",children:n.subtitle||s[r].subtitle}),o.jsx(q,{className:`bg-gradient-to-r ${c.buttonGradient} ${c.buttonHover} text-white px-6 py-2 text-base font-bold h-auto w-full md:w-auto rounded-full shadow-lg ${c.shadow} hover:scale-105 transition-all duration-300 border border-white/20`,children:n.ctaText||s[r].shopNow})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t md:bg-gradient-to-r from-slate-900/90 via-slate-900/50 to-transparent"})]}),o.jsx("div",{className:"flex justify-end mb-6 md:hidden",children:o.jsxs(Ig,{children:[o.jsx(Cg,{asChild:!0,children:o.jsx(q,{variant:"outline",size:"icon",className:"w-10 h-10 rounded-full bg-white border-slate-200 shadow-sm text-slate-700 hover:bg-slate-50",children:o.jsx(T2,{className:"w-5 h-5"})})}),o.jsxs(Qh,{side:r==="ar"?"right":"left",className:"overflow-y-auto",children:[o.jsx(Xh,{className:"mb-6 text-left rtl:text-right",children:o.jsx(Jh,{children:s[r].filters})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold mb-3 text-slate-900",children:s[r].sortBy}),o.jsx("div",{className:"space-y-2",children:[{id:"featured",label:s[r].sort.featured},{id:"lowHigh",label:s[r].sort.lowHigh},{id:"highLow",label:s[r].sort.highLow}].map(T=>o.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg cursor-pointer transition-colors ${_===T.id?`${c.lightBg} ${c.lightBorder}`:"bg-slate-50 border border-transparent hover:bg-slate-100"}`,onClick:()=>v(T.id),children:[o.jsx("span",{className:`text-sm ${_===T.id?`font-bold ${c.lightText}`:"text-slate-700"}`,children:T.label}),_===T.id&&o.jsx("div",{className:`w-2 h-2 rounded-full ${c.bg}`})]},T.id))})]}),o.jsx("div",{className:"border-t border-slate-100 pt-6",children:o.jsx(A,{})})]})]})]})}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2 md:gap-6",children:I.length===0?o.jsx("div",{className:"col-span-2 md:col-span-3 lg:col-span-4 text-center py-12 text-slate-500 bg-slate-50 rounded-lg",children:o.jsx("p",{children:d?`${s[r].noProducts.search} "${d}"`:h?`${s[r].noProducts.category} "${h}"`:s[r].noProducts.default})}):I.map(T=>o.jsx(ome,{product:{id:T.id,name:T.name||"Product",price:T.price||"EGP 0.00",image:T.image||"https://images.unsplash.com/photo-1491553895911-0055eca6402d?auto=format&fit=crop&q=80&w=600",discount:typeof T.discount=="number"?T.discount:0},onAdd:i,onToggleWishlist:a,isWishlisted:l(T.id),t:s,lang:r,theme:c},T.id))})]})]})})},hy={default:{gradient:"from-teal-500 to-emerald-500",text:"text-teal-600",hoverText:"hover:text-teal-600",bg:"bg-teal-600",border:"focus:border-teal-500",ring:"focus:ring-teal-500/10",buttonGradient:"from-teal-600 to-emerald-600",buttonHover:"hover:from-teal-700 hover:to-emerald-700",shadow:"shadow-teal-500/20",shadowColor:"shadow-teal-600/20",lightBg:"bg-teal-50",lightBorder:"border-teal-200",lightText:"text-teal-700",price:"text-teal-700",badgeBg:"bg-teal-100",badgeText:"text-teal-800",badgeBorder:"border-teal-500/30",buttonBg:"bg-teal-600"},mobile:{gradient:"from-blue-600 to-indigo-600",text:"text-blue-600",hoverText:"hover:text-blue-600",bg:"bg-blue-600",border:"focus:border-blue-500",ring:"focus:ring-blue-500/10",buttonGradient:"from-blue-600 to-indigo-600",buttonHover:"hover:from-blue-700 hover:to-indigo-700",shadow:"shadow-blue-500/20",shadowColor:"shadow-blue-600/20",lightBg:"bg-blue-50",lightBorder:"border-blue-200",lightText:"text-blue-700",price:"text-blue-700",badgeBg:"bg-blue-100",badgeText:"text-blue-800",badgeBorder:"border-blue-500/30",buttonBg:"bg-blue-600"},mobile_pro:{gradient:"from-slate-800 to-slate-900",text:"text-slate-900",hoverText:"hover:text-blue-600",bg:"bg-slate-900",border:"focus:border-slate-800",ring:"focus:ring-slate-500/10",buttonGradient:"from-slate-800 to-slate-900",buttonHover:"hover:from-slate-900 hover:to-black",shadow:"shadow-slate-500/20",shadowColor:"shadow-slate-600/20",lightBg:"bg-slate-50",lightBorder:"border-slate-200",lightText:"text-slate-700",price:"text-slate-900",badgeBg:"bg-slate-100",badgeText:"text-slate-900",badgeBorder:"border-slate-500/30",buttonBg:"bg-slate-900"},fashion_luxury:{gradient:"from-stone-800 to-stone-900",text:"text-stone-800",hoverText:"hover:text-stone-600",bg:"bg-stone-900",border:"focus:border-stone-500",ring:"focus:ring-stone-500/10",buttonGradient:"from-stone-800 to-stone-900",buttonHover:"hover:from-stone-900 hover:to-black",shadow:"shadow-stone-500/20",shadowColor:"shadow-stone-600/20",lightBg:"bg-stone-50",lightBorder:"border-stone-200",lightText:"text-stone-600",price:"text-stone-800",badgeBg:"bg-stone-100",badgeText:"text-stone-800",badgeBorder:"border-stone-500/30",buttonBg:"bg-stone-900",buttonText:"text-white",accent:"border-stone-900"},digital:{gradient:"from-indigo-600 to-violet-600",text:"text-indigo-600",hoverText:"hover:text-indigo-600",bg:"bg-indigo-600",border:"focus:border-indigo-500",ring:"focus:ring-indigo-500/10",buttonGradient:"from-indigo-600 to-violet-600",buttonHover:"hover:from-indigo-700 hover:to-violet-700",shadow:"shadow-indigo-500/20",shadowColor:"shadow-indigo-600/20",lightBg:"bg-indigo-50",lightBorder:"border-indigo-200",lightText:"text-indigo-700",price:"text-indigo-700",badgeBg:"bg-indigo-100",badgeText:"text-indigo-800",badgeBorder:"border-indigo-500/30",buttonBg:"bg-indigo-600"},cards_digital:{gradient:"from-violet-600 to-fuchsia-600",text:"text-violet-500",hoverText:"hover:text-violet-400",bg:"bg-violet-600",border:"focus:border-violet-500",ring:"focus:ring-violet-500/10",buttonGradient:"from-violet-600 to-fuchsia-600",buttonHover:"hover:from-violet-700 hover:to-fuchsia-700",shadow:"shadow-violet-500/20",shadowColor:"shadow-violet-600/20",lightBg:"bg-violet-950",lightBorder:"border-violet-800",lightText:"text-violet-300",price:"text-fuchsia-400",badgeBg:"bg-violet-900",badgeText:"text-violet-200",badgeBorder:"border-violet-500/30",buttonBg:"bg-violet-600"}},ik=()=>{const{addToCart:t,filtersOpen:e,store:n,banner:s,searchQuery:r,categories:i,toggleWishlist:a,isInWishlist:l,lang:c}=rr(),u=c||"en",d=hy[n==null?void 0:n.template]||hy.default,h={en:{filters:"Filters",categories:"Categories",allCategories:"All Categories",priceRange:"Price Range",sortBy:"Sort By",sort:{featured:"Sort: Featured",lowHigh:"Price: Low to High",highLow:"Price: High to Low"},addToCart:"Add to Cart",noProducts:{search:"No products found matching",category:"No products found in",default:"No products available yet."},welcome:"Welcome",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",shopNow:"Shop Now",buyNow:"Buy Now"},ar:{filters:"",categories:"",allCategories:" ",priceRange:" ",sortBy:" ",sort:{featured:": ",lowHigh:":   ",highLow:":   "},addToCart:" ",noProducts:{search:"   ",category:"    ",default:"    ."},welcome:" ",subtitle:"    .    .",shopNow:" ",buyNow:" "}},m=Fn();Ot();const y=new URLSearchParams(m.search).get("category"),[x,_]=g.useState({title:"Summer Collection 2025",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",ctaText:"Shop Now",bannerImages:[],backgroundImageUrl:"",bannerPos:{x:50,y:50}});g.useEffect(()=>{s&&_(A=>({...A,...s,bannerImages:s.bannerImages||A.bannerImages,backgroundImageUrl:s.backgroundImageUrl&&!s.backgroundImageUrl.includes("supabase")?s.backgroundImageUrl:A.backgroundImageUrl,bannerPos:s.bannerPos||A.bannerPos}))},[s]),g.useEffect(()=>{if(s)return;(async()=>{try{const R=Ye(de,"banners","default"),S=await sr(R);if(S.exists()){const T=S.data();_(C=>({...C,title:T.title??C.title,subtitle:T.subtitle??C.subtitle,ctaText:T.ctaText??C.ctaText,bannerImages:T.bannerImages||C.bannerImages,backgroundImageUrl:T.backgroundImageUrl&&!T.backgroundImageUrl.includes("supabase")?T.backgroundImageUrl:C.backgroundImageUrl,bannerPos:T.bannerPos||C.bannerPos}))}}catch{}})()},[s]);const[v,b]=g.useState([]);g.useEffect(()=>{if(!(n!=null&&n.id))return;const A=it(de,"stores",n.id,"categories"),R=Gt(A,S=>{b(S.docs.map(T=>T.data().name))});return()=>R()},[n==null?void 0:n.id]);const[E,I]=g.useState([]);return g.useEffect(()=>{if(!(n!=null&&n.id)){I([]);return}(async()=>{try{await Lu(it(de,"store_visits"),{storeId:n.id,createdAt:Date.now()})}catch{}})();const A=it(de,"stores",n.id,"products"),R=Gt(A,S=>{const T=S.docs.map(C=>{const j=C.data();return j.image&&j.image.includes("supabase")&&(j.image=""),{id:C.id,...j}});I(T)});return()=>R()},[n==null?void 0:n.id]),(n==null?void 0:n.template)==="mobile"||(n==null?void 0:n.template)==="mobile_pro"?o.jsx(j_,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn,theme:d}):(n==null?void 0:n.template)==="spare_parts"?o.jsx(xF,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn}):(n==null?void 0:n.template)==="restaurant"?o.jsx(bF,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn}):(n==null?void 0:n.template)==="fashion_luxury"?o.jsx(_F,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn,theme:d}):(n==null?void 0:n.template)==="digital"||(n==null?void 0:n.template)==="cards_digital"?o.jsx(wF,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn,theme:d}):o.jsx(TF,{products:E,categories:v,banner:x,t:h,lang:u,addToCart:t,toggleWishlist:a,isInWishlist:l,theme:d,filtersOpen:e,searchQuery:r,categoryParam:y})},lme=[{id:"1",name:"Classic White Sneaker",price:"1200",category:"fashion",image:"https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&q=80&w=600",description:"Comfortable and stylish sneakers for everyday wear."},{id:"2",name:"Smart Watch Series 7",price:"8500",category:"electronics",image:"https://images.unsplash.com/photo-1546868871-7041f2a55e12?auto=format&fit=crop&q=80&w=600",description:"Latest smartwatch with health tracking features."},{id:"3",name:"Wireless Headphones",price:"3500",category:"electronics",image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?auto=format&fit=crop&q=80&w=600",description:"High quality sound with noise cancellation."},{id:"4",name:"Denim Jacket",price:"950",category:"fashion",image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?auto=format&fit=crop&q=80&w=600",description:"Classic denim jacket that never goes out of style."},{id:"5",name:"Leather Handbag",price:"2400",category:"fashion",image:"https://images.unsplash.com/photo-1584917865442-de89df76afd3?auto=format&fit=crop&q=80&w=600",description:"Elegant leather handbag for any occasion."},{id:"6",name:"Sunglasses",price:"650",category:"fashion",image:"https://images.unsplash.com/photo-1572635196237-14b3f281503f?auto=format&fit=crop&q=80&w=600",description:"Stylish sunglasses to protect your eyes."}],ak=["Fashion","Electronics"],ok={title:"Summer Collection 2025",subtitle:"Discover the latest trends in fashion and accessories.",ctaText:"Shop Now",backgroundImageUrl:"https://images.unsplash.com/photo-1441986300917-64674bd600d8?auto=format&fit=crop&q=80&w=1200",bannerPos:{x:50,y:50}},cme=({templateId:t,products:e,categories:n,banner:s,...r})=>{const{addToCart:i,toggleWishlist:a,isInWishlist:l,lang:c}=r,u=c||"en",d=hy[t]||hy.default,m={products:e,categories:n,banner:s,t:{en:{filters:"Filters",categories:"Categories",allCategories:"All Categories",priceRange:"Price Range",sortBy:"Sort By",sort:{featured:"Sort: Featured",lowHigh:"Price: Low to High",highLow:"Price: High to Low"},addToCart:"Add to Cart",noProducts:{search:"No products found matching",category:"No products found in",default:"No products available yet."},welcome:"Welcome",subtitle:"Discover the latest trends in fashion and accessories. Quality that speaks for itself.",shopNow:"Shop Now",buyNow:"Buy Now"},ar:{filters:"",categories:"",allCategories:" ",priceRange:" ",sortBy:" ",sort:{featured:": ",lowHigh:":   ",highLow:":   "},addToCart:" ",noProducts:{search:"   ",category:"    ",default:"    ."},welcome:" ",subtitle:"    .    .",shopNow:" ",buyNow:" "}},lang:u,addToCart:i,toggleWishlist:a,isInWishlist:l,formatCurrency:ot,parsePrice:Mn,theme:d};return t==="mobile"?o.jsx(j_,{...m}):t==="mobile_pro"?o.jsx(j_,{...m}):t==="spare_parts"?o.jsx(xF,{...m}):t==="restaurant"?o.jsx(bF,{...m}):t==="fashion_luxury"?o.jsx(_F,{...m}):t==="digital"||t==="cards_digital"?o.jsx(wF,{...m}):o.jsx(TF,{...m,filtersOpen:r.filtersOpen,searchQuery:r.searchQuery,categoryParam:null})},ume=()=>{const{templateId:t}=j4(),[e]=Gq(),n=e.get("lang")||"en",s={store:{name:"Preview Store",template:t,storeLanguage:n},banner:ok,categories:ak};return o.jsx(C_,{previewMode:!0,previewData:s,children:r=>o.jsx(cme,{templateId:t,...r,products:lme,categories:ak,banner:ok})})},lk=()=>{const{id:t}=j4(),{addToCart:e,lang:n,storeSubdomain:s}=rr(),{toast:r}=qt(),[i,a]=g.useState(1),[l,c]=g.useState(0),[u,d]=g.useState(null),[h,m]=g.useState(null),[p,y]=g.useState(!0);g.useEffect(()=>{(async()=>{if(t)if(s){y(!0);try{const R=Ye(de,"stores",s,"products",t),S=await sr(R);if(S.exists()){const T=S.data();m({id:S.id,...T,images:T.images||(T.image?[T.image]:[]),sizes:Array.isArray(T.sizes)?T.sizes:T.size?[T.size]:[]})}}catch(R){console.error("Error fetching product:",R)}finally{y(!1)}}else m({id:parseInt(t)||1,name:"Classic White Sneakers",price:89,discount:0,description:"Experience ultimate comfort and style with these premium classic white sneakers.",images:["https://images.unsplash.com/photo-1549298916-b41d501d3772?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1560769629-975ec94e6a86?auto=format&fit=crop&q=80&w=800","https://images.unsplash.com/photo-1600185365483-26d7a4cc7519?auto=format&fit=crop&q=80&w=800"],sizes:["US 7","US 8","US 9","US 10","US 11"],reviews:124,rating:4.8}),y(!1)})()},[t,s]);const x={en:{backToShop:"Back to Shop",reviews:"reviews",save:"Save",addToCart:"Add to Cart",addedToCart:"Added to Cart",addedToCartDesc:"has been added to your cart.",freeShipping:"Free Shipping",freeShippingDesc:"On orders over 1000 EGP",securePayment:"Secure Payment",securePaymentDesc:"100% protected payments",sizeSelection:"Select Size",selectSizeError:"Please select a size"},ar:{backToShop:" ",reviews:"",save:"",addToCart:" ",addedToCart:"  ",addedToCartDesc:"    .",freeShipping:" ",freeShippingDesc:"   1000 ",securePayment:" ",securePaymentDesc:"  100%",sizeSelection:" ",selectSizeError:"  "}};if(p||!h)return o.jsx("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-[50vh]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})});const _=Number(h.price)||0,v=Number(h.discount)||0,b=v>0,E=ot(_*(1-v/100)),I=()=>{if(h.sizes&&h.sizes.length>0&&!u){r({title:x[n].selectSizeError,description:x[n].selectSizeError,variant:"destructive"});return}e({...h,image:h.images[0],price:b?E:ot(_),selectedSize:u,quantity:i}),r({title:x[n].addedToCart,description:`${h.name} ${x[n].addedToCartDesc}`,variant:"success"})};return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs(ct,{to:"/store",className:"inline-flex items-center text-sm text-slate-500 hover:text-teal-600 mb-8 transition-colors",children:[o.jsx(AG,{className:"w-4 h-4 mr-2"})," Back to Shop"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsx(ae.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"aspect-square bg-slate-100 rounded-2xl overflow-hidden relative",children:o.jsx("img",{src:h.images[l],alt:h.name,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-700"})},l),o.jsx("div",{className:"grid grid-cols-4 gap-4",children:h.images.map((A,R)=>o.jsx("button",{onClick:()=>c(R),className:`aspect-square rounded-lg overflow-hidden border-2 transition-all ${l===R?"border-teal-600 ring-2 ring-teal-600/20":"border-transparent hover:border-slate-300"}`,children:o.jsx("img",{src:A,alt:"",className:"w-full h-full object-cover"})},R))})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-yellow-400",children:[o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"}),o.jsx(fa,{className:"w-4 h-4 fill-current"})]}),o.jsxs("span",{className:"text-sm text-slate-500",children:["(",h.reviews," reviews)"]})]}),o.jsx("h1",{className:"text-3xl md:text-4xl font-extrabold text-slate-900 mb-4 tracking-tight",children:h.name}),b?o.jsxs("div",{className:"mb-6 flex items-baseline gap-3",children:[o.jsx("span",{className:"text-3xl font-extrabold text-teal-600",children:E}),o.jsx("span",{className:"text-lg text-slate-400 line-through decoration-slate-400/50",children:ot(_)}),o.jsxs("span",{className:"bg-rose-100 text-rose-600 text-xs font-bold px-2 py-1 rounded-lg",children:["Save ",v,"%"]})]}):o.jsx("div",{className:"mb-6",children:o.jsx("span",{className:"text-3xl font-extrabold text-slate-900",children:ot(_)})}),o.jsx("p",{className:"text-slate-600 leading-relaxed mb-8 text-lg",children:h.description}),o.jsxs("div",{className:"space-y-6 border-t border-slate-100 pt-8",children:[h.sizes&&h.sizes.length>0&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-bold text-lg text-slate-900",children:x[n].sizeSelection}),o.jsx("div",{className:"flex flex-wrap gap-3",children:h.sizes.map(A=>o.jsx("button",{onClick:()=>d(A),className:`px-4 py-2 border rounded-md text-sm font-medium transition-colors ${u===A?"bg-teal-600 text-white border-teal-600":"bg-white text-slate-700 border-slate-300 hover:border-teal-500"}`,children:A},A))}),!u&&o.jsx("p",{className:"text-rose-500 text-sm animate-pulse",children:x[n].selectSizeError})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center border border-slate-200 rounded-xl bg-white shadow-sm",children:[o.jsx("button",{onClick:()=>a(Math.max(1,i-1)),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-l-xl transition-colors",children:o.jsx(BG,{className:"w-4 h-4"})}),o.jsx("span",{className:"w-12 text-center font-bold text-lg",children:i}),o.jsx("button",{onClick:()=>a(i+1),className:"w-12 h-12 flex items-center justify-center text-slate-600 hover:text-teal-600 hover:bg-slate-50 rounded-r-xl transition-colors",children:o.jsx(Oa,{className:"w-4 h-4"})})]}),o.jsx(q,{onClick:I,className:"flex-1 h-12 bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white rounded-xl font-bold text-lg shadow-xl shadow-teal-600/20 transition-all hover:-translate-y-0.5 active:translate-y-0",children:x[n].addToCart})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx(Ya,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:x[n].freeShipping}),o.jsx("p",{className:"text-xs text-slate-500",children:x[n].freeShippingDesc})]})]}),o.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[o.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-sm text-teal-600",children:o.jsx($G,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-sm text-slate-900",children:x[n].securePayment}),o.jsx("p",{className:"text-xs text-slate-500",children:x[n].securePaymentDesc})]})]})]})]})]})]})]})},ck=()=>{const{storeSubdomain:t,store:e,lang:n}=rr()||{},{cartItems:s,cartTotal:r}=sme(),{toast:i}=qt(),a=Ot(),[l,c]=g.useState(1),[u,d]=g.useState(!1),[h,m]=g.useState(""),[p,y]=g.useState(""),[x,_]=g.useState(""),[v,b]=g.useState(""),[E,I]=g.useState(""),A={en:{checkoutTitle:"Checkout",orderSent:"Order Sent",orderSentDesc:"Sales department will contact you soon to confirm the order.",backToStore:"Back to Store",contactInfo:"Contact Information",fullName:"Full Name",fullNamePlaceholder:"Enter your name",phone:"Phone Number",phonePlaceholder:"05xxxxxxxx",altPhone:"Alternative Phone",altPhonePlaceholder:"Alternative contact number",address:"Address",addressPlaceholder:"Enter your address",notes:"Notes",notesPlaceholder:"Any additional details",orderSummary:"Order Summary",qty:"Qty",subtotal:"Subtotal",shipping:"Shipping",free:"Free",total:"Total",placeOrder:"Place Order",sending:"Sending...",secureCheckout:"Secure Checkout",emptyCart:"Your cart is empty",returnToShop:"Return to Shop",orderSuccessTitle:"Order Placed Successfully",errorTitle:"Error sending order",errorDesc:"Please try again later or contact support."},ar:{checkoutTitle:" ",orderSent:"  ",orderSentDesc:"      .",backToStore:" ",contactInfo:" ",fullName:" ",fullNamePlaceholder:" ",phone:" ",phonePlaceholder:"05xxxxxxxx",altPhone:" ",altPhonePlaceholder:"  ",address:"",addressPlaceholder:" ",notes:"",notesPlaceholder:"   ",orderSummary:" ",qty:"",subtotal:" ",shipping:"",free:"",total:"",placeOrder:" ",sending:" ...",secureCheckout:" ",emptyCart:"  ",returnToShop:" ",orderSuccessTitle:"  ",errorTitle:"   ",errorDesc:"        ."}},R=S=>{S.preventDefault(),d(!0),(async()=>{try{const T=s.map(P=>({id:P.id||"unknown",name:P.name||"Unknown Product",quantity:P.quantity||1,price:P.price||"0",image:P.image||"",selectedSize:P.selectedSize||null})),C={customerName:h,phone:p,altPhone:x,address:v,notes:E,items:T,total:r,status:"Pending",createdAt:Date.now(),storeSubdomain:t||null,storeId:(e==null?void 0:e.id)||t||null,store:t||null,storeName:(e==null?void 0:e.name)||t||null};let j=null;for(let P=0;P<3&&!j;P++)try{j=await Lu(it(de,"orders"),C)}catch(M){console.error("Order submission error:",M),await new Promise(k=>setTimeout(k,500*(P+1)))}if(j){if(t){try{await eo(Ye(de,"stores",t),{orders:Ej(1),revenue:Ej(r)})}catch{}try{await Ll(Ye(de,"stores",t,"orders",j.id),{...C,rootOrderId:j.id})}catch{}}c(3),i({title:A[n].orderSuccessTitle,description:A[n].orderSentDesc,variant:"success"})}else i({title:"Error sending order",description:"Please try again later or contact support.",variant:"destructive"})}catch(T){console.error("Final order submission error:",T),i({title:"Error sending order",description:T.message||"Unknown error occurred",variant:"destructive"})}finally{d(!1)}})()};return s.length===0&&l!==3?o.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-slate-100 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Ya,{className:"w-12 h-12 text-slate-400"})}),o.jsx("h1",{className:"text-3xl font-bold mb-4 text-slate-900",children:"Your cart is empty"}),o.jsx(ct,{to:"/store",children:o.jsx(q,{className:"bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white px-8 py-6 rounded-xl text-lg font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",children:"Return to Shop"})})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[l<3&&o.jsx("h1",{className:"text-3xl font-extrabold mb-8 text-center text-slate-900",children:"  "}),l===3?o.jsxs(ae.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-md mx-auto text-center py-12 bg-white rounded-2xl shadow-xl shadow-slate-200/60 border border-slate-100 p-8",children:[o.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-green-100",children:o.jsx(Ka,{className:"w-12 h-12 text-green-600"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2 text-slate-900",children:"  "}),o.jsx("p",{className:"text-slate-500 mb-8 text-lg",children:"       ."}),o.jsx(q,{onClick:()=>a("/store"),className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20",children:"  "})]}):o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsxs("div",{className:"flex items-center mb-8 justify-center lg:justify-start",children:[o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=1?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-200"} font-bold text-lg`,children:"1"}),o.jsx("div",{className:"h-1 w-16 bg-slate-200 mx-2 rounded-full"}),o.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${l>=2?"bg-gradient-to-tr from-teal-600 to-emerald-600 text-white shadow-lg shadow-teal-600/30":"bg-slate-100 text-slate-400"} font-bold text-lg border-2 border-slate-200`,children:"2"})]}),o.jsx("form",{id:"checkout-form",onSubmit:R,className:"space-y-6",children:o.jsxs(ae.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"bg-white p-8 rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/60",children:[o.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-3 text-slate-900",children:[o.jsx("div",{className:"p-2 bg-teal-50 rounded-lg text-teal-600",children:o.jsx(Ya,{className:"w-6 h-6"})})," "]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ue,{required:!0,placeholder:" ",value:h,onChange:S=>m(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ue,{required:!0,placeholder:"05xxxxxxxx",value:p,onChange:S=>y(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(se,{className:"text-sm font-bold text-slate-700",children:" "}),o.jsx(ue,{placeholder:"  ",value:x,onChange:S=>_(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(se,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ue,{required:!0,placeholder:" ",value:v,onChange:S=>b(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]}),o.jsxs("div",{className:"space-y-2 md:col-span-2",children:[o.jsx(se,{className:"text-sm font-bold text-slate-700",children:""}),o.jsx(ue,{placeholder:"   ",value:E,onChange:S=>I(S.target.value),className:"h-11 rounded-xl border-slate-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all bg-slate-50/50"})]})]})]})})]}),o.jsx("div",{className:"lg:col-span-1",children:o.jsx("div",{className:"sticky top-24",children:o.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border border-slate-100 shadow-inner",children:[o.jsx("h3",{className:"font-bold text-lg mb-6 text-slate-900",children:A[n].orderSummary}),o.jsx("div",{className:"space-y-4 mb-6 max-h-60 overflow-y-auto pr-2 custom-scrollbar",children:s.map(S=>o.jsxs("div",{className:"flex gap-3 bg-white p-3 rounded-xl border border-slate-100 shadow-sm",children:[o.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-lg overflow-hidden shrink-0 border border-slate-100",children:o.jsx("img",{src:S.image,alt:S.name,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"text-sm font-bold text-slate-900 line-clamp-1",children:S.name}),o.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[o.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:[A[n].qty,": ",S.quantity]}),S.selectedSize&&o.jsx("span",{className:"text-[10px] font-bold px-1.5 py-0.5 bg-slate-100 text-slate-600 rounded border border-slate-200",children:S.selectedSize})]})]}),o.jsx("div",{className:"text-sm font-bold text-teal-600",children:ot(Mn(S.price)*S.quantity)})]},S.cartItemId||S.id))}),o.jsxs("div",{className:"space-y-3 border-t border-slate-200 pt-6 mb-8",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:A[n].subtotal}),o.jsx("span",{className:"font-bold text-slate-900",children:ot(r)})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-slate-500 font-medium",children:A[n].shipping}),o.jsx("span",{className:"font-bold text-teal-600",children:A[n].free})]}),o.jsxs("div",{className:"flex justify-between text-xl font-extrabold pt-2 text-slate-900",children:[o.jsx("span",{children:A[n].total}),o.jsx("span",{children:ot(r)})]})]}),o.jsx(q,{type:"submit",form:"checkout-form",className:"w-full bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white h-12 rounded-xl font-bold shadow-lg shadow-teal-600/20 transition-all hover:-translate-y-0.5",disabled:u,children:u?A[n].sending:A[n].placeOrder}),o.jsxs("p",{className:"text-center text-xs text-slate-400 mt-4 flex items-center justify-center gap-1",children:[o.jsx(Ka,{className:"w-3 h-3"})," ",A[n].secureCheckout]})]})})})]})]})},uk=({language:t="ar"})=>{const[e,n]=g.useState(""),[s,r]=g.useState(""),[i,a]=g.useState(!1),l=Ot(),{toast:c}=qt(),u={ar:{title:" ",email:" ",password:" ",submit:""},en:{title:"Login",email:"Email",password:"Password",submit:"Sign in"}},d=async m=>{m.preventDefault(),a(!0);try{const y=(await uV(Dt,e,s)).user,x=await sr(Ye(de,"users",y.uid));if(x.exists()&&x.data().status==="pending"){await iE(Dt),l("/activation-pending");return}c({title:t==="ar"?"   ":"Logged in successfully"}),l("/dashboard")}catch(p){const y=(p==null?void 0:p.code)||"";let x=t==="ar"?"  ":"Login failed";y==="auth/user-not-found"?x=t==="ar"?"    ":"No user found for this email":y==="auth/wrong-password"?x=t==="ar"?"   ":"Incorrect password":y==="auth/too-many-requests"&&(x=t==="ar"?"    ":"Too many attempts, please try again later"),c({title:x})}finally{a(!1)}},h=u[t]||u.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Qe,{className:"bg-slate-800/50 backdrop-blur-xl border-slate-700/50 text-white shadow-2xl",children:o.jsxs(Xe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(md,{size:"large"}),o.jsx("h1",{className:"text-2xl font-bold mt-6 text-slate-100",children:h.title})]}),o.jsxs("form",{onSubmit:d,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-slate-300",children:h.email}),o.jsx(ue,{type:"email",value:e,onChange:m=>n(m.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(se,{className:"text-slate-300",children:h.password}),o.jsx(ue,{type:"password",value:s,onChange:m=>r(m.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(q,{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:i?"...":h.submit}),o.jsxs("div",{className:"relative my-4",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("span",{className:"w-full border-t border-slate-600"})}),o.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:o.jsx("span",{className:"bg-slate-800 px-2 text-slate-400",children:t==="ar"?"":"Or"})})]}),o.jsx(q,{type:"button",variant:"outline",onClick:()=>l("/signup"),className:"w-full border-slate-600 text-slate-200 hover:bg-slate-700 hover:text-white",children:t==="ar"?"  ":"Create New Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-slate-400 text-sm",children:[t==="ar"?"  ":"Don't have an account?",o.jsx(ct,{to:"/signup",className:"text-teal-400 hover:text-teal-300 mx-1 font-semibold transition-colors",children:t==="ar"?"  ":"Sign up"})]})})]})})})})},dme=({language:t="ar"})=>{const[e,n]=g.useState(""),[s,r]=g.useState(""),[i,a]=g.useState(""),[l,c]=g.useState(!1),u=Ot(),{toast:d}=qt(),h={ar:{title:" ",name:"",email:" ",password:" ",submit:""},en:{title:"Sign Up",name:"Name",email:"Email",password:"Password",submit:"Create account"}},m=async y=>{y.preventDefault(),c(!0);try{const x=await DY(Dt,s,i);e&&await OY(x.user,{displayName:e});const _={uid:x.user.uid,email:s,name:e||"",createdAt:Df(),role:"user",status:"pending"};let v=!1;for(let b=0;b<3&&!v;b++)try{await Ll(Ye(de,"users",x.user.uid),_),v=!0}catch{await new Promise(I=>setTimeout(I,400*(b+1)))}d(v?{title:t==="ar"?"   ":"Account created successfully"}:{title:t==="ar"?"       ":"Account created, but saving user data failed temporarily"}),u("/activation-pending")}catch(x){const _=(x==null?void 0:x.code)||"";let v=t==="ar"?"   ":"Sign up failed";_==="auth/email-already-in-use"?v=t==="ar"?"   ":"Email already in use":_==="auth/invalid-email"?v=t==="ar"?"   ":"Invalid email address":_==="auth/weak-password"?v=t==="ar"?"  ":"Weak password":_==="auth/operation-not-allowed"&&(v=t==="ar"?"   ":"Sign-up method not enabled"),d({title:v})}finally{c(!1)}},p=h[t]||h.ar;return o.jsx("div",{className:`min-h-screen bg-slate-900 flex items-center justify-center p-4 ${t==="ar"?"font-cairo":"font-sans"}`,dir:t==="ar"?"rtl":"ltr",children:o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Qe,{className:"bg-slate-800/50 backdrop-blur-xl border-slate-700/50 text-white shadow-2xl",children:o.jsxs(Xe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx(md,{size:"large"}),o.jsx("h1",{className:"text-2xl font-bold mt-6 text-slate-100",children:p.title})]}),o.jsxs("form",{onSubmit:m,className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx(se,{className:"text-slate-300",children:p.name}),o.jsx(ue,{value:e,onChange:y=>n(y.target.value),placeholder:p.name,className:"bg-slate-700 border-slate-600 text-white"})]}),o.jsxs("div",{children:[o.jsx(se,{className:"text-slate-300",children:p.email}),o.jsx(ue,{type:"email",value:s,onChange:y=>r(y.target.value),placeholder:"name@example.com",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsxs("div",{children:[o.jsx(se,{className:"text-slate-300",children:p.password}),o.jsx(ue,{type:"password",value:i,onChange:y=>a(y.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white",required:!0})]}),o.jsx(q,{type:"submit",disabled:l,className:"w-full bg-gradient-to-r from-teal-500 to-blue-600 hover:from-teal-600 hover:to-blue-700",children:l?"...":p.submit})]})]})})})})},hme=({language:t="ar"})=>{const e=Ot(),[n,s]=g.useState(""),[r,i]=g.useState(!0);g.useEffect(()=>{const h=Bi(Dt,m=>{if(m){const p=Gt(Ye(de,"users",m.uid),y=>{y.exists()&&y.data().status==="active"&&e("/dashboard")});return()=>p()}else e("/login")});return()=>h()},[e]),g.useEffect(()=>{(async()=>{try{const m=Ye(de,"settings","platform"),p=await sr(m);p.exists()&&s(p.data().whatsappNumber||"")}catch(m){console.error("Error fetching settings:",m)}finally{i(!1)}})()},[]);const a=async()=>{await iE(Dt),e("/login")},l=()=>{if(!n)return;const h=t==="ar"?"        .":"Hello, I just created a new account and I would like to activate it.",m=`https://wa.me/${n.replace("+","")}?text=${encodeURIComponent(h)}`;window.open(m,"_blank")},d={ar:{title:"  ",description:"        .",message:"           .",button:"   ",logout:" ",loading:" ..."},en:{title:"Account Pending Activation",description:"Your account has been created successfully but requires administrator approval.",message:"Please contact the administrator via WhatsApp to activate your account and start using the platform.",button:"Contact Admin to Activate",logout:"Logout",loading:"Loading..."}}["ar"];return o.jsx("div",{className:"min-h-screen bg-slate-50 flex items-center justify-center p-4",dir:"rtl",children:o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsxs(Qe,{className:"border-t-4 border-t-yellow-500 shadow-xl",children:[o.jsxs(Tt,{className:"text-center pb-2",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(BT,{className:"w-8 h-8 text-yellow-600"})}),o.jsx(Et,{className:"text-2xl font-bold text-slate-900",children:d.title}),o.jsx(cn,{className:"text-base mt-2",children:d.description})]}),o.jsxs(Xe,{className:"text-center space-y-6 pt-4",children:[o.jsx("p",{className:"text-slate-600",children:d.message}),r?o.jsx("p",{className:"text-sm text-slate-400",children:d.loading}):n?o.jsxs(q,{onClick:l,className:"w-full bg-green-500 hover:bg-green-600 text-white font-bold h-12 text-lg shadow-lg shadow-green-500/20",children:[o.jsx(FG,{className:"w-5 h-5 mr-2"}),d.button]}):o.jsx("p",{className:"text-sm text-red-400",children:"     ."}),o.jsxs(q,{variant:"ghost",onClick:a,className:"text-slate-500 hover:text-slate-700 hover:bg-slate-100",children:[o.jsx(zT,{className:"w-4 h-4 mr-2"}),d.logout]})]})]})})})},fme=()=>{const[t,e]=g.useState(""),[n,s]=g.useState(""),[r,i]=g.useState(!1),a=Ot(),{toast:l}=qt(),c=async u=>{if(u.preventDefault(),i(!0),t.toLowerCase()!=="alkaptin7878@mail.ru"){l({title:"Access Denied",description:"This account is not authorized for admin access.",variant:"destructive"}),i(!1);return}try{await uV(Dt,t,n),l({title:"Admin Login Successful",variant:"success"}),a("/admin")}catch(d){console.error(d),l({title:"Login Failed",description:"Invalid email or password",variant:"destructive"})}finally{i(!1)}};return o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4 font-sans",dir:"ltr",children:o.jsx(ae.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md",children:o.jsx(Qe,{className:"bg-slate-800 border-slate-700 text-white shadow-2xl",children:o.jsxs(Xe,{className:"p-8",children:[o.jsxs("div",{className:"flex flex-col items-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-4 border border-red-500/20",children:o.jsx(xu,{className:"w-8 h-8 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Portal"}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Restricted Access Only"})]}),o.jsxs("form",{onSubmit:c,className:"space-y-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"text-slate-300",children:"Admin Email"}),o.jsx(ue,{type:"email",value:t,onChange:u=>e(u.target.value),placeholder:"admin@example.com",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(se,{className:"text-slate-300",children:"Password"}),o.jsx(ue,{type:"password",value:n,onChange:u=>s(u.target.value),placeholder:"",className:"bg-slate-700 border-slate-600 text-white focus:border-red-500 focus:ring-red-500/20",required:!0})]}),o.jsx(q,{type:"submit",disabled:r,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-6",children:r?"Authenticating...":"Access Dashboard"})]})]})})})})};function mme(){const[t,e]=g.useState("ar"),[n,s]=g.useState(!1),[r,i]=g.useState(null),[a,l]=g.useState(!0);g.useEffect(()=>{Uf.isNativePlatform()&&(mR.hide().catch(u=>console.log("StatusBar hide error:",u)),mR.setOverlaysWebView({overlay:!1}).catch(()=>{}))},[]),g.useEffect(()=>{(async()=>{if(typeof window>"u")return;if(window.STORE_ID){s(!0),i(window.STORE_ID),l(!1);return}const d=window.location.hostname,h={}.VITE_MAIN_DOMAIN||"naweshop.com";if(d.includes("localhost")){const m=d.split(".");m.length>=2&&m[0]!=="www"&&(s(!0),i(m[0])),l(!1);return}if(d===h||d===`www.${h}`){s(!1),l(!1);return}if(d.endsWith(`.${h}`)){const m=d.replace(`.${h}`,"");m!=="www"&&(s(!0),i(m)),l(!1);return}try{const m=ls(it(de,"stores"),ws("customDomain","==",d)),p=await jm(m);if(p.empty)s(!1);else{const y=p.docs[0];s(!0),i(y.id)}}catch(m){console.error("Error resolving custom domain:",m),s(!1)}finally{l(!1)}})()},[]);const c=()=>{e(u=>u==="en"?"ar":"en")};return a?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):o.jsxs(Bq,{children:[o.jsxs(a0,{children:[o.jsx("title",{children:"StoreBuilder - Create Your Online Store in Minutes"}),o.jsx("meta",{name:"description",content:"Build your professional e-commerce store with ease. No coding required. Start selling online today with our powerful store builder platform."}),o.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),o.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),o.jsx("link",{href:"https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Cairo:wght@400;600;700&display=swap",rel:"stylesheet"})]}),o.jsxs(Pq,{children:[n?o.jsxs(ze,{path:"/",element:o.jsx(C_,{resolvedStoreId:r}),children:[o.jsx(ze,{index:!0,element:o.jsx(ik,{})}),o.jsx(ze,{path:"product/:id",element:o.jsx(lk,{})}),o.jsx(ze,{path:"checkout",element:o.jsx(ck,{})})]}):o.jsx(ze,{path:"/",element:Uf.isNativePlatform()?o.jsx(uk,{language:t}):o.jsx(jP,{language:t,toggleLanguage:c})}),o.jsx(ze,{path:"/landing",element:o.jsx(jP,{language:t,toggleLanguage:c})}),o.jsx(ze,{path:"/login",element:o.jsx(uk,{language:t})}),o.jsx(ze,{path:"/signup",element:o.jsx(dme,{language:t})}),o.jsx(ze,{path:"/activation-pending",element:o.jsx(hme,{language:t})}),o.jsx(ze,{path:"/privacy-policy",element:o.jsx(Ble,{language:t,toggleLanguage:c})}),o.jsx(ze,{path:"/template-preview/:templateId",element:o.jsx(ume,{})}),o.jsx(ze,{path:"/admin/login",element:o.jsx(fme,{})}),o.jsxs(ze,{path:"/admin",element:o.jsx(Mhe,{}),children:[o.jsx(ze,{index:!0,element:o.jsx(Ohe,{})}),o.jsx(ze,{path:"users",element:o.jsx(cfe,{})}),o.jsx(ze,{path:"stores",element:o.jsx(ufe,{})}),o.jsx(ze,{path:"pricing",element:o.jsx(dfe,{})}),o.jsx(ze,{path:"templates",element:o.jsx(vfe,{})}),o.jsx(ze,{path:"settings",element:o.jsx(gfe,{})}),o.jsx(ze,{path:"logs",element:o.jsx(yfe,{})})]}),o.jsxs(ze,{path:"/dashboard",element:o.jsx(bfe,{}),children:[o.jsx(ze,{index:!0,element:o.jsx(wfe,{})}),o.jsx(ze,{path:"stores",element:o.jsx(_fe,{})}),o.jsx(ze,{path:"stores/new",element:o.jsx(Tfe,{})}),o.jsx(ze,{path:"products",element:o.jsx(Efe,{})}),o.jsx(ze,{path:"orders",element:o.jsx(Afe,{})}),o.jsx(ze,{path:"settings",element:o.jsx(Rfe,{})}),o.jsx(ze,{path:"banners",element:o.jsx(Pfe,{})}),o.jsx(ze,{path:"categories",element:o.jsx(kfe,{})}),o.jsx(ze,{path:"tools",element:o.jsx(Zfe,{})}),o.jsx(ze,{path:"subscription",element:o.jsx(Dfe,{})})]}),o.jsxs(ze,{path:"/store",element:o.jsx(C_,{}),children:[o.jsx(ze,{index:!0,element:o.jsx(ik,{})}),o.jsx(ze,{path:"product/:id",element:o.jsx(lk,{})}),o.jsx(ze,{path:"checkout",element:o.jsx(ck,{})})]})]}),o.jsx(nK,{})]})}K7.createRoot(document.getElementById("root")).render(o.jsx(mme,{}));
