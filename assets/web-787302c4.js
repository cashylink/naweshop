import{W as n}from"./index-72ebcac2.js";class a extends n{constructor(){super(),this.restore()}async checkPermissions(){return{display:"granted"}}async requestPermissions(){return{display:"granted"}}async get(){const t=localStorage.getItem(a.STORAGE_KEY);return{count:t?parseInt(t,10):0}}async set(t){const e=t.count;e===0?await navigator.clearAppBadge():await navigator.setAppBadge(e);const s=e.toString();localStorage.setItem(a.STORAGE_KEY,s)}async increase(){const{count:t}=await this.get();await this.set({count:t+1})}async decrease(){const{count:t}=await this.get();t<1||await this.set({count:t-1})}async clear(){await this.set({count:0})}async isSupported(){return{isSupported:"setAppBadge"in navigator}}async restore(){const t=localStorage.getItem(a.STORAGE_KEY);if(!t)return;const e=parseInt(t,10);await navigator.setAppBadge(e)}}a.STORAGE_KEY="capacitor.badge";export{a as BadgeWeb};
